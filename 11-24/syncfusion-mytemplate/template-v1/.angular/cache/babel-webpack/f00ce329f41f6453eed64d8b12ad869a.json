{"ast":null,"code":"import _assertThisInitialized from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createForOfIteratorHelper from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Droppable, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass as _addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getElement as _getElement, getInstance, getRandomId, getUniqueID, getValue, isBlazor, isNullOrUndefined, isRippleEnabled, isUndefined, isVisible, matches, merge, remove, removeClass, rippleEffect, select as _select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup, calculatePosition, createSpinner, fit, getScrollableParent, getZindexPartial, hideSpinner as _hideSpinner, isCollide, showSpinner as _showSpinner } from '@syncfusion/ej2-popups';\nimport { Button, createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input } from '@syncfusion/ej2-inputs';\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar HScroll = /*#__PURE__*/function (_Component) {\n  _inherits(HScroll, _Component);\n\n  var _super = _createSuper(HScroll);\n\n  /**\n   * Initializes a new instance of the HScroll class.\n   *\n   * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n   */\n  function HScroll(options, element) {\n    _classCallCheck(this, HScroll);\n\n    return _super.call(this, options, element);\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  _createClass(HScroll, [{\n    key: \"preRender\",\n    value: function preRender() {\n      this.browser = Browser.info.name;\n      this.browserCheck = this.browser === 'mozilla';\n      this.isDevice = Browser.isDevice;\n      this.customStep = true;\n      var element = this.element;\n      this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n      this.initialize();\n\n      if (element.id === '') {\n        element.id = getUniqueID('hscroll');\n        this.uniqueId = true;\n      }\n\n      element.style.display = 'block';\n\n      if (this.enableRtl) {\n        element.classList.add(CLS_RTL);\n      }\n    }\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.touchModule = new Touch(this.element, {\n        scroll: this.touchHandler.bind(this),\n        swipe: this.swipeHandler.bind(this)\n      });\n      EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n\n      if (!this.isDevice) {\n        this.createNavIcon(this.element);\n      } else {\n        this.element.classList.add(CLS_DEVICE);\n        this.createOverlay(this.element);\n      }\n\n      this.setScrollState();\n    }\n  }, {\n    key: \"setScrollState\",\n    value: function setScrollState() {\n      if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n        this.scrollStep = this.scrollEle.offsetWidth;\n        this.customStep = false;\n      } else {\n        this.customStep = true;\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var scrollEle = this.createElement('div', {\n        className: CLS_HSCROLLCON\n      });\n      var scrollDiv = this.createElement('div', {\n        className: CLS_HSCROLLBAR\n      });\n      scrollDiv.setAttribute('tabindex', '-1');\n      var ele = this.element;\n      var innerEle = [].slice.call(ele.children);\n\n      var _iterator = _createForOfIteratorHelper(innerEle),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ele = _step.value;\n          scrollEle.appendChild(_ele);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      scrollDiv.appendChild(scrollEle);\n      ele.appendChild(scrollDiv);\n      scrollDiv.style.overflowX = 'hidden';\n      this.scrollEle = scrollDiv;\n      this.scrollItems = scrollEle;\n    }\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['scrollStep'];\n      return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'hScroll';\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var ele = this.element;\n      ele.style.display = '';\n      ele.classList.remove(CLS_ROOT);\n      ele.classList.remove(CLS_DEVICE);\n      var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n      var overlay = selectAll('.' + CLS_OVERLAY, ele);\n      [].slice.call(overlay).forEach(function (ele) {\n        detach(ele);\n      });\n\n      var _iterator2 = _createForOfIteratorHelper([].slice.call(this.scrollItems.children)),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var elem = _step2.value;\n          ele.appendChild(elem);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (this.uniqueId) {\n        this.element.removeAttribute('id');\n      }\n\n      detach(this.scrollEle);\n\n      if (nav.length > 0) {\n        detach(nav[0]);\n\n        if (!isNullOrUndefined(nav[1])) {\n          detach(nav[1]);\n        }\n      }\n\n      EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n      this.touchModule.destroy();\n      this.touchModule = null;\n\n      _get(_getPrototypeOf(HScroll.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable(value) {\n      var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n\n      if (value) {\n        this.element.classList.add(CLS_DISABLE);\n      } else {\n        this.element.classList.remove(CLS_DISABLE);\n      }\n\n      [].slice.call(navEles).forEach(function (el) {\n        el.setAttribute('tabindex', !value ? '0' : '-1');\n      });\n    }\n  }, {\n    key: \"createOverlay\",\n    value: function createOverlay(element) {\n      var id = element.id.concat('_nav');\n      var rightOverlayEle = this.createElement('div', {\n        className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY\n      });\n      var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n      var rightEle = this.createElement('div', {\n        id: id.concat('_right'),\n        className: clsRight\n      });\n      var navItem = this.createElement('div', {\n        className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n      });\n      rightEle.appendChild(navItem);\n      var leftEle = this.createElement('div', {\n        className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY\n      });\n\n      if (this.ieCheck) {\n        rightEle.classList.add('e-ie-align');\n      }\n\n      element.appendChild(rightOverlayEle);\n      element.appendChild(rightEle);\n      element.insertBefore(leftEle, element.firstChild);\n      this.eventBinding([rightEle]);\n    }\n  }, {\n    key: \"createNavIcon\",\n    value: function createNavIcon(element) {\n      var id = element.id.concat('_nav');\n      var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n      var nav = this.createElement('div', {\n        id: id.concat('_right'),\n        className: clsRight\n      });\n      nav.setAttribute('aria-disabled', 'false');\n      var navItem = this.createElement('div', {\n        className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n      });\n      var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n      var navEle = this.createElement('div', {\n        id: id.concat('_left'),\n        className: clsLeft + ' ' + CLS_DISABLE\n      });\n      navEle.setAttribute('aria-disabled', 'true');\n      var navLeftItem = this.createElement('div', {\n        className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n      });\n      navEle.appendChild(navLeftItem);\n      nav.appendChild(navItem);\n      element.appendChild(nav);\n      element.insertBefore(navEle, element.firstChild);\n\n      if (this.ieCheck) {\n        nav.classList.add('e-ie-align');\n        navEle.classList.add('e-ie-align');\n      }\n\n      this.eventBinding([nav, navEle]);\n    }\n  }, {\n    key: \"onKeyPress\",\n    value: function onKeyPress(e) {\n      var _this = this;\n\n      if (e.key === 'Enter') {\n        var timeoutFun = function timeoutFun() {\n          _this.keyTimeout = true;\n\n          _this.eleScrolling(10, e.target, true);\n        };\n\n        this.keyTimer = window.setTimeout(function () {\n          timeoutFun();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"onKeyUp\",\n    value: function onKeyUp(e) {\n      if (e.key !== 'Enter') {\n        return;\n      }\n\n      if (this.keyTimeout) {\n        this.keyTimeout = false;\n      } else {\n        e.target.click();\n      }\n\n      clearTimeout(this.keyTimer);\n    }\n  }, {\n    key: \"eventBinding\",\n    value: function eventBinding(ele) {\n      var _this2 = this;\n\n      [].slice.call(ele).forEach(function (el) {\n        new Touch(el, {\n          tapHold: _this2.tabHoldHandler.bind(_this2),\n          tapHoldThreshold: 500\n        });\n        el.addEventListener('keydown', _this2.onKeyPress.bind(_this2));\n        el.addEventListener('keyup', _this2.onKeyUp.bind(_this2));\n        el.addEventListener('mouseup', _this2.repeatScroll.bind(_this2));\n        el.addEventListener('touchend', _this2.repeatScroll.bind(_this2));\n        el.addEventListener('contextmenu', function (e) {\n          e.preventDefault();\n        });\n        EventHandler.add(el, 'click', _this2.clickEventHandler, _this2);\n      });\n    }\n  }, {\n    key: \"repeatScroll\",\n    value: function repeatScroll() {\n      clearInterval(this.timeout);\n    }\n  }, {\n    key: \"tabHoldHandler\",\n    value: function tabHoldHandler(e) {\n      var _this3 = this;\n\n      var trgt = e.originalEvent.target;\n      trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n      var scrollDis = 10;\n\n      var timeoutFun = function timeoutFun() {\n        _this3.eleScrolling(scrollDis, trgt, true);\n      };\n\n      this.timeout = window.setInterval(function () {\n        timeoutFun();\n      }, 50);\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(ele, className) {\n      return ele.classList.contains(className);\n    }\n  }, {\n    key: \"eleScrolling\",\n    value: function eleScrolling(scrollDis, trgt, isContinuous) {\n      var rootEle = this.element;\n      var classList$$1 = trgt.classList;\n\n      if (classList$$1.contains(CLS_HSCROLLNAV)) {\n        classList$$1 = trgt.querySelector('.' + CLS_NAVARROW).classList;\n      }\n\n      if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n        scrollDis = -scrollDis;\n      }\n\n      if (!this.contains(rootEle, CLS_RTL) || this.browserCheck || this.ieCheck) {\n        if (classList$$1.contains(CLS_NAVRIGHTARROW)) {\n          this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        } else {\n          this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n      } else {\n        if (classList$$1.contains(CLS_NAVLEFTARROW)) {\n          this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        } else {\n          this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n      }\n    }\n  }, {\n    key: \"clickEventHandler\",\n    value: function clickEventHandler(e) {\n      this.eleScrolling(this.scrollStep, e.target, false);\n    }\n  }, {\n    key: \"swipeHandler\",\n    value: function swipeHandler(e) {\n      var swipeEle = this.scrollEle;\n      var distance;\n\n      if (e.velocity <= 1) {\n        distance = e.distanceX / (e.velocity * 10);\n      } else {\n        distance = e.distanceX / e.velocity;\n      }\n\n      var start = 0.5;\n\n      var animate = function animate() {\n        var step = Math.sin(start);\n\n        if (step <= 0) {\n          window.cancelAnimationFrame(step);\n        } else {\n          if (e.swipeDirection === 'Left') {\n            swipeEle.scrollLeft += distance * step;\n          } else if (e.swipeDirection === 'Right') {\n            swipeEle.scrollLeft -= distance * step;\n          }\n\n          start -= 0.5;\n          window.requestAnimationFrame(animate);\n        }\n      };\n\n      animate();\n    }\n  }, {\n    key: \"scrollUpdating\",\n    value: function scrollUpdating(scrollVal, action) {\n      if (action === 'add') {\n        this.scrollEle.scrollLeft += scrollVal;\n      } else {\n        this.scrollEle.scrollLeft -= scrollVal;\n      }\n    }\n  }, {\n    key: \"frameScrollRequest\",\n    value: function frameScrollRequest(scrollVal, action, isContinuous) {\n      var _this4 = this;\n\n      var step = 10;\n\n      if (isContinuous) {\n        this.scrollUpdating(scrollVal, action);\n        return;\n      }\n\n      if (!this.customStep) {\n        [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n          scrollVal -= el.offsetWidth;\n        });\n      }\n\n      var animate = function animate() {\n        var scrollValue;\n        var scrollStep;\n\n        if (_this4.contains(_this4.element, CLS_RTL) && _this4.browserCheck) {\n          scrollValue = -scrollVal;\n          scrollStep = -step;\n        } else {\n          scrollValue = scrollVal;\n          scrollStep = step;\n        }\n\n        if (scrollValue < step) {\n          window.cancelAnimationFrame(scrollStep);\n        } else {\n          _this4.scrollUpdating(scrollStep, action);\n\n          scrollVal -= scrollStep;\n          window.requestAnimationFrame(animate);\n        }\n      };\n\n      animate();\n    }\n  }, {\n    key: \"touchHandler\",\n    value: function touchHandler(e) {\n      var ele = this.scrollEle;\n      var distance = e.distanceX;\n\n      if (this.ieCheck && this.contains(this.element, CLS_RTL)) {\n        distance = -distance;\n      }\n\n      if (e.scrollDirection === 'Left') {\n        ele.scrollLeft = ele.scrollLeft + distance;\n      } else if (e.scrollDirection === 'Right') {\n        ele.scrollLeft = ele.scrollLeft - distance;\n      }\n    }\n  }, {\n    key: \"arrowDisabling\",\n    value: function arrowDisabling(addDisable, removeDisable) {\n      if (this.isDevice) {\n        var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n        var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n\n        if (isNullOrUndefined(addDisable)) {\n          classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n        } else {\n          classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n        }\n      } else {\n        addDisable.classList.add(CLS_DISABLE);\n        addDisable.setAttribute('aria-disabled', 'true');\n        addDisable.removeAttribute('tabindex');\n        removeDisable.classList.remove(CLS_DISABLE);\n        removeDisable.setAttribute('aria-disabled', 'false');\n        removeDisable.setAttribute('tabindex', '0');\n      }\n\n      this.repeatScroll();\n    }\n  }, {\n    key: \"scrollHandler\",\n    value: function scrollHandler(e) {\n      var target = e.target;\n      var width = target.offsetWidth;\n      var rootEle = this.element;\n      var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n      var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n      var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n      var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n      var scrollLeft = target.scrollLeft;\n\n      if (scrollLeft <= 0) {\n        scrollLeft = -scrollLeft;\n      }\n\n      if (this.isDevice) {\n        if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n          leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n          rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        }\n\n        if (scrollLeft < OVERLAY_MAXWID) {\n          leftOverlay.style.width = scrollLeft + 'px';\n        } else {\n          leftOverlay.style.width = '40px';\n        }\n\n        if (target.scrollWidth - Math.ceil(width + scrollLeft) < OVERLAY_MAXWID) {\n          rightOverlay.style.width = target.scrollWidth - Math.ceil(width + scrollLeft) + 'px';\n        } else {\n          rightOverlay.style.width = '40px';\n        }\n      }\n\n      if (scrollLeft === 0) {\n        this.arrowDisabling(navLeftEle, navRightEle);\n      } else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n        this.arrowDisabling(navRightEle, navLeftEle);\n      } else {\n        var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n\n        if (disEle) {\n          disEle.classList.remove(CLS_DISABLE);\n          disEle.setAttribute('aria-disabled', 'false');\n          disEle.setAttribute('tabindex', '0');\n        }\n      }\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i = 0, _Object$keys = Object.keys(newProp); _i < _Object$keys.length; _i++) {\n        var prop = _Object$keys[_i];\n\n        switch (prop) {\n          case 'scrollStep':\n            this.setScrollState();\n            break;\n\n          case 'enableRtl':\n            newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n            break;\n        }\n      }\n    }\n  }]);\n\n  return HScroll;\n}(Component);\n\n__decorate([Property(null)], HScroll.prototype, \"scrollStep\", void 0);\n\nHScroll = __decorate([NotifyPropertyChanges], HScroll);\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ROOT$1 = 'e-vscroll';\nvar CLS_RTL$1 = 'e-rtl';\nvar CLS_DISABLE$1 = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW$1 = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE$1 = 'e-scroll-device';\nvar CLS_OVERLAY$1 = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID$1 = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar VScroll = /*#__PURE__*/function (_Component2) {\n  _inherits(VScroll, _Component2);\n\n  var _super2 = _createSuper(VScroll);\n\n  /**\n   * Initializes a new instance of the VScroll class.\n   *\n   * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n   */\n  function VScroll(options, element) {\n    _classCallCheck(this, VScroll);\n\n    return _super2.call(this, options, element);\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  _createClass(VScroll, [{\n    key: \"preRender\",\n    value: function preRender() {\n      this.browser = Browser.info.name;\n      this.browserCheck = this.browser === 'mozilla';\n      this.isDevice = Browser.isDevice;\n      this.customStep = true;\n      var ele = this.element;\n      this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n      this.initialize();\n\n      if (ele.id === '') {\n        ele.id = getUniqueID('vscroll');\n        this.uniqueId = true;\n      }\n\n      ele.style.display = 'block';\n\n      if (this.enableRtl) {\n        ele.classList.add(CLS_RTL$1);\n      }\n    }\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.touchModule = new Touch(this.element, {\n        scroll: this.touchHandler.bind(this),\n        swipe: this.swipeHandler.bind(this)\n      });\n      EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n\n      if (!this.isDevice) {\n        this.createNavIcon(this.element);\n      } else {\n        this.element.classList.add(CLS_DEVICE$1);\n        this.createOverlayElement(this.element);\n      }\n\n      this.setScrollState();\n      EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    }\n  }, {\n    key: \"setScrollState\",\n    value: function setScrollState() {\n      if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n        this.scrollStep = this.scrollEle.offsetHeight;\n        this.customStep = false;\n      } else {\n        this.customStep = true;\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var scrollCnt = createElement('div', {\n        className: CLS_VSCROLLCON\n      });\n      var scrollBar = createElement('div', {\n        className: CLS_VSCROLLBAR\n      });\n      scrollBar.setAttribute('tabindex', '-1');\n      var ele = this.element;\n      var innerEle = [].slice.call(ele.children);\n\n      var _iterator3 = _createForOfIteratorHelper(innerEle),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _ele2 = _step3.value;\n          scrollCnt.appendChild(_ele2);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      scrollBar.appendChild(scrollCnt);\n      ele.appendChild(scrollBar);\n      scrollBar.style.overflowY = 'hidden';\n      this.scrollEle = scrollBar;\n      this.scrollItems = scrollCnt;\n    }\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['scrollStep'];\n      return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'vScroll';\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var el = this.element;\n      el.style.display = '';\n      removeClass([this.element], [CLS_ROOT$1, CLS_DEVICE$1]);\n      var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n      var overlays = selectAll('.' + CLS_OVERLAY$1, el);\n      [].slice.call(overlays).forEach(function (ele) {\n        detach(ele);\n      });\n\n      var _iterator4 = _createForOfIteratorHelper([].slice.call(this.scrollItems.children)),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var elem = _step4.value;\n          el.appendChild(elem);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      if (this.uniqueId) {\n        this.element.removeAttribute('id');\n      }\n\n      detach(this.scrollEle);\n\n      if (navs.length > 0) {\n        detach(navs[0]);\n\n        if (!isNullOrUndefined(navs[1])) {\n          detach(navs[1]);\n        }\n      }\n\n      EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n      this.touchModule.destroy();\n      this.touchModule = null;\n\n      _get(_getPrototypeOf(VScroll.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable(value) {\n      var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE$1 + ')', this.element);\n\n      if (value) {\n        this.element.classList.add(CLS_DISABLE$1);\n      } else {\n        this.element.classList.remove(CLS_DISABLE$1);\n      }\n\n      [].slice.call(navEle).forEach(function (el) {\n        el.setAttribute('tabindex', !value ? '0' : '-1');\n      });\n    }\n  }, {\n    key: \"createOverlayElement\",\n    value: function createOverlayElement(element) {\n      var id = element.id.concat('_nav');\n      var downOverlayEle = createElement('div', {\n        className: CLS_OVERLAY$1 + ' ' + CLS_DOWNOVERLAY\n      });\n      var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n      var downEle = createElement('div', {\n        id: id.concat('down'),\n        className: clsDown\n      });\n      var navItem = createElement('div', {\n        className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n      });\n      downEle.appendChild(navItem);\n      var upEle = createElement('div', {\n        className: CLS_OVERLAY$1 + ' ' + CLS_UPOVERLAY\n      });\n\n      if (this.ieCheck) {\n        downEle.classList.add('e-ie-align');\n      }\n\n      element.appendChild(downOverlayEle);\n      element.appendChild(downEle);\n      element.insertBefore(upEle, element.firstChild);\n      this.eventBinding([downEle]);\n    }\n  }, {\n    key: \"createNavIcon\",\n    value: function createNavIcon(element) {\n      var id = element.id.concat('_nav');\n      var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n      var nav = createElement('div', {\n        id: id.concat('_down'),\n        className: clsDown\n      });\n      nav.setAttribute('aria-disabled', 'false');\n      var navItem = createElement('div', {\n        className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n      });\n      var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n      var navElement = createElement('div', {\n        id: id.concat('_up'),\n        className: clsUp + ' ' + CLS_DISABLE$1\n      });\n      navElement.setAttribute('aria-disabled', 'true');\n      var navUpItem = createElement('div', {\n        className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n      });\n      navElement.appendChild(navUpItem);\n      nav.appendChild(navItem);\n      nav.setAttribute('tabindex', '0');\n      element.appendChild(nav);\n      element.insertBefore(navElement, element.firstChild);\n\n      if (this.ieCheck) {\n        nav.classList.add('e-ie-align');\n        navElement.classList.add('e-ie-align');\n      }\n\n      this.eventBinding([nav, navElement]);\n    }\n  }, {\n    key: \"onKeyPress\",\n    value: function onKeyPress(ev) {\n      var _this5 = this;\n\n      if (ev.key === 'Enter') {\n        var timeoutFun = function timeoutFun() {\n          _this5.keyTimeout = true;\n\n          _this5.eleScrolling(10, ev.target, true);\n        };\n\n        this.keyTimer = window.setTimeout(function () {\n          timeoutFun();\n        }, 100);\n      }\n    }\n  }, {\n    key: \"onKeyUp\",\n    value: function onKeyUp(ev) {\n      if (ev.key !== 'Enter') {\n        return;\n      }\n\n      if (this.keyTimeout) {\n        this.keyTimeout = false;\n      } else {\n        ev.target.click();\n      }\n\n      clearTimeout(this.keyTimer);\n    }\n  }, {\n    key: \"eventBinding\",\n    value: function eventBinding(element) {\n      var _this6 = this;\n\n      [].slice.call(element).forEach(function (ele) {\n        new Touch(ele, {\n          tapHold: _this6.tabHoldHandler.bind(_this6),\n          tapHoldThreshold: 500\n        });\n        ele.addEventListener('keydown', _this6.onKeyPress.bind(_this6));\n        ele.addEventListener('keyup', _this6.onKeyUp.bind(_this6));\n        ele.addEventListener('mouseup', _this6.repeatScroll.bind(_this6));\n        ele.addEventListener('touchend', _this6.repeatScroll.bind(_this6));\n        ele.addEventListener('contextmenu', function (e) {\n          e.preventDefault();\n        });\n        EventHandler.add(ele, 'click', _this6.clickEventHandler, _this6);\n      });\n    }\n  }, {\n    key: \"repeatScroll\",\n    value: function repeatScroll() {\n      clearInterval(this.timeout);\n    }\n  }, {\n    key: \"tabHoldHandler\",\n    value: function tabHoldHandler(ev) {\n      var _this7 = this;\n\n      var trgt = ev.originalEvent.target;\n      trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n      var scrollDistance = 10;\n\n      var timeoutFun = function timeoutFun() {\n        _this7.eleScrolling(scrollDistance, trgt, true);\n      };\n\n      this.timeout = window.setInterval(function () {\n        timeoutFun();\n      }, 50);\n    }\n  }, {\n    key: \"contains\",\n    value: function contains(element, className) {\n      return element.classList.contains(className);\n    }\n  }, {\n    key: \"eleScrolling\",\n    value: function eleScrolling(scrollDis, trgt, isContinuous) {\n      var classList$$1 = trgt.classList;\n\n      if (classList$$1.contains(CLS_VSCROLLNAV)) {\n        classList$$1 = trgt.querySelector('.' + CLS_NAVARROW$1).classList;\n      }\n\n      if (classList$$1.contains(CLS_NAVDOWNARROW)) {\n        this.frameScrollRequest(scrollDis, 'add', isContinuous);\n      } else if (classList$$1.contains(CLS_NAVUPARROW)) {\n        this.frameScrollRequest(scrollDis, '', isContinuous);\n      }\n    }\n  }, {\n    key: \"clickEventHandler\",\n    value: function clickEventHandler(event) {\n      this.eleScrolling(this.scrollStep, event.target, false);\n    }\n  }, {\n    key: \"wheelEventHandler\",\n    value: function wheelEventHandler(e) {\n      e.preventDefault();\n      this.frameScrollRequest(this.scrollStep, e.deltaY > 0 ? 'add' : '', false);\n    }\n  }, {\n    key: \"swipeHandler\",\n    value: function swipeHandler(e) {\n      var swipeElement = this.scrollEle;\n      var distance;\n\n      if (e.velocity <= 1) {\n        distance = e.distanceY / (e.velocity * 10);\n      } else {\n        distance = e.distanceY / e.velocity;\n      }\n\n      var start = 0.5;\n\n      var animate = function animate() {\n        var step = Math.sin(start);\n\n        if (step <= 0) {\n          window.cancelAnimationFrame(step);\n        } else {\n          if (e.swipeDirection === 'Up') {\n            swipeElement.scrollTop += distance * step;\n          } else if (e.swipeDirection === 'Down') {\n            swipeElement.scrollTop -= distance * step;\n          }\n\n          start -= 0.02;\n          window.requestAnimationFrame(animate);\n        }\n      };\n\n      animate();\n    }\n  }, {\n    key: \"scrollUpdating\",\n    value: function scrollUpdating(scrollVal, action) {\n      if (action === 'add') {\n        this.scrollEle.scrollTop += scrollVal;\n      } else {\n        this.scrollEle.scrollTop -= scrollVal;\n      }\n    }\n  }, {\n    key: \"frameScrollRequest\",\n    value: function frameScrollRequest(scrollValue, action, isContinuous) {\n      var _this8 = this;\n\n      var step = 10;\n\n      if (isContinuous) {\n        this.scrollUpdating(scrollValue, action);\n        return;\n      }\n\n      if (!this.customStep) {\n        [].slice.call(selectAll('.' + CLS_OVERLAY$1, this.element)).forEach(function (el) {\n          scrollValue -= el.offsetHeight;\n        });\n      }\n\n      var animate = function animate() {\n        if (scrollValue < step) {\n          window.cancelAnimationFrame(step);\n        } else {\n          _this8.scrollUpdating(step, action);\n\n          scrollValue -= step;\n          window.requestAnimationFrame(animate);\n        }\n      };\n\n      animate();\n    }\n  }, {\n    key: \"touchHandler\",\n    value: function touchHandler(e) {\n      var el = this.scrollEle;\n      var distance = e.distanceY;\n\n      if (e.scrollDirection === 'Up') {\n        el.scrollTop = el.scrollTop + distance;\n      } else if (e.scrollDirection === 'Down') {\n        el.scrollTop = el.scrollTop - distance;\n      }\n    }\n  }, {\n    key: \"arrowDisabling\",\n    value: function arrowDisabling(addDisableCls, removeDisableCls) {\n      if (this.isDevice) {\n        var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n        var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW$1);\n\n        if (isNullOrUndefined(addDisableCls)) {\n          classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n        } else {\n          classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n        }\n      } else {\n        addDisableCls.classList.add(CLS_DISABLE$1);\n        addDisableCls.setAttribute('aria-disabled', 'true');\n        addDisableCls.removeAttribute('tabindex');\n        removeDisableCls.classList.remove(CLS_DISABLE$1);\n        removeDisableCls.setAttribute('aria-disabled', 'false');\n        removeDisableCls.setAttribute('tabindex', '0');\n      }\n\n      this.repeatScroll();\n    }\n  }, {\n    key: \"scrollEventHandler\",\n    value: function scrollEventHandler(e) {\n      var target = e.target;\n      var height = target.offsetHeight;\n      var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n      var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n      var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n      var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n      var scrollTop = target.scrollTop;\n\n      if (scrollTop <= 0) {\n        scrollTop = -scrollTop;\n      }\n\n      if (this.isDevice) {\n        if (scrollTop < OVERLAY_MAXWID$1) {\n          upOverlay.style.height = scrollTop + 'px';\n        } else {\n          upOverlay.style.height = '40px';\n        }\n\n        if (target.scrollHeight - Math.ceil(height + scrollTop) < OVERLAY_MAXWID$1) {\n          downOverlay.style.height = target.scrollHeight - Math.ceil(height + scrollTop) + 'px';\n        } else {\n          downOverlay.style.height = '40px';\n        }\n      }\n\n      if (scrollTop === 0) {\n        this.arrowDisabling(navUpEle, navDownEle);\n      } else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n        this.arrowDisabling(navDownEle, navUpEle);\n      } else {\n        var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE$1);\n\n        if (disEle) {\n          disEle.classList.remove(CLS_DISABLE$1);\n          disEle.setAttribute('aria-disabled', 'false');\n          disEle.setAttribute('tabindex', '0');\n        }\n      }\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i2 = 0, _Object$keys2 = Object.keys(newProp); _i2 < _Object$keys2.length; _i2++) {\n        var prop = _Object$keys2[_i2];\n\n        switch (prop) {\n          case 'scrollStep':\n            this.setScrollState();\n            break;\n\n          case 'enableRtl':\n            if (newProp.enableRtl) {\n              this.element.classList.add(CLS_RTL$1);\n            } else {\n              this.element.classList.remove(CLS_RTL$1);\n            }\n\n            break;\n        }\n      }\n    }\n  }]);\n\n  return VScroll;\n}(Component);\n\n__decorate$1([Property(null)], VScroll.prototype, \"scrollStep\", void 0);\n\nVScroll = __decorate$1([NotifyPropertyChanges], VScroll);\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\n\nfunction addScrolling(createElement$$1, container, content, scrollType, enableRtl, offset) {\n  var containerOffset;\n  var contentOffset;\n  var parentElem = container.parentElement;\n\n  if (scrollType === 'vscroll') {\n    containerOffset = offset || container.getBoundingClientRect().height;\n    contentOffset = content.getBoundingClientRect().height;\n  } else {\n    containerOffset = container.getBoundingClientRect().width;\n    contentOffset = content.getBoundingClientRect().width;\n  }\n\n  if (containerOffset < contentOffset) {\n    return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n  } else if (parentElem) {\n    var width = parentElem.getBoundingClientRect().width;\n\n    if (width < containerOffset && scrollType === 'hscroll') {\n      contentOffset = width;\n      container.style.maxWidth = width + 'px';\n      return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n    }\n\n    return content;\n  } else {\n    return content;\n  }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\n\n\nfunction createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset) {\n  var scrollEle = createElement$$1('div', {\n    className: 'e-menu-' + scrollType\n  });\n  container.appendChild(scrollEle);\n  scrollEle.appendChild(content);\n\n  if (offset) {\n    scrollEle.style.overflow = 'hidden';\n    scrollEle.style.height = offset + 'px';\n  } else {\n    scrollEle.style.maxHeight = container.style.maxHeight;\n    container.style.overflow = 'hidden';\n  }\n\n  var scrollObj;\n\n  if (scrollType === 'vscroll') {\n    scrollObj = new VScroll({\n      enableRtl: enableRtl\n    }, scrollEle);\n    scrollObj.scrollStep = _select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n  } else {\n    scrollObj = new HScroll({\n      enableRtl: enableRtl\n    }, scrollEle);\n    scrollObj.scrollStep = _select('.e-' + scrollType + '-bar', container).offsetWidth;\n  }\n\n  return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\n\n\nfunction destroyScroll(scrollObj, element, skipEle) {\n  if (scrollObj) {\n    var menu = _select('.e-menu-parent', element);\n\n    if (menu) {\n      if (!skipEle || skipEle === menu) {\n        scrollObj.destroy();\n        element.parentElement.appendChild(menu);\n        detach(element);\n      }\n    } else {\n      scrollObj.destroy();\n      detach(element);\n    }\n  }\n}\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\n\nvar FieldSettings = /*#__PURE__*/function (_ChildProperty) {\n  _inherits(FieldSettings, _ChildProperty);\n\n  var _super3 = _createSuper(FieldSettings);\n\n  function FieldSettings() {\n    _classCallCheck(this, FieldSettings);\n\n    return _super3.apply(this, arguments);\n  }\n\n  return FieldSettings;\n}(ChildProperty);\n\n__decorate$2([Property('id')], FieldSettings.prototype, \"itemId\", void 0);\n\n__decorate$2([Property('parentId')], FieldSettings.prototype, \"parentId\", void 0);\n\n__decorate$2([Property('text')], FieldSettings.prototype, \"text\", void 0);\n\n__decorate$2([Property('iconCss')], FieldSettings.prototype, \"iconCss\", void 0);\n\n__decorate$2([Property('url')], FieldSettings.prototype, \"url\", void 0);\n\n__decorate$2([Property('separator')], FieldSettings.prototype, \"separator\", void 0);\n\n__decorate$2([Property('items')], FieldSettings.prototype, \"children\", void 0);\n/**\n * Specifies menu items.\n */\n\n\nvar MenuItem = /*#__PURE__*/function (_ChildProperty2) {\n  _inherits(MenuItem, _ChildProperty2);\n\n  var _super4 = _createSuper(MenuItem);\n\n  function MenuItem() {\n    _classCallCheck(this, MenuItem);\n\n    return _super4.apply(this, arguments);\n  }\n\n  return MenuItem;\n}(ChildProperty);\n\n__decorate$2([Property(null)], MenuItem.prototype, \"iconCss\", void 0);\n\n__decorate$2([Property('')], MenuItem.prototype, \"id\", void 0);\n\n__decorate$2([Property(false)], MenuItem.prototype, \"separator\", void 0);\n\n__decorate$2([Collection([], MenuItem)], MenuItem.prototype, \"items\", void 0);\n\n__decorate$2([Property('')], MenuItem.prototype, \"text\", void 0);\n\n__decorate$2([Property('')], MenuItem.prototype, \"url\", void 0);\n/**\n * Animation configuration settings.\n */\n\n\nvar MenuAnimationSettings = /*#__PURE__*/function (_ChildProperty3) {\n  _inherits(MenuAnimationSettings, _ChildProperty3);\n\n  var _super5 = _createSuper(MenuAnimationSettings);\n\n  function MenuAnimationSettings() {\n    _classCallCheck(this, MenuAnimationSettings);\n\n    return _super5.apply(this, arguments);\n  }\n\n  return MenuAnimationSettings;\n}(ChildProperty);\n\n__decorate$2([Property('SlideDown')], MenuAnimationSettings.prototype, \"effect\", void 0);\n\n__decorate$2([Property(400)], MenuAnimationSettings.prototype, \"duration\", void 0);\n\n__decorate$2([Property('ease')], MenuAnimationSettings.prototype, \"easing\", void 0);\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\n\n\nvar MenuBase = /*#__PURE__*/function (_Component3) {\n  _inherits(MenuBase, _Component3);\n\n  var _super6 = _createSuper(MenuBase);\n\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {MenuBaseModel} options - Specifies the menu base model\n   * @param {string | HTMLUListElement} element - Specifies the element\n   */\n  function MenuBase(options, element) {\n    var _this9;\n\n    _classCallCheck(this, MenuBase);\n\n    _this9 = _super6.call(this, options, element);\n    _this9.navIdx = [];\n    _this9.animation = new Animation({});\n    _this9.isTapHold = false;\n    _this9.tempItem = [];\n    _this9.showSubMenuOn = 'Auto';\n    return _this9;\n  }\n  /**\n   * Initialized third party configuration settings.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  _createClass(MenuBase, [{\n    key: \"preRender\",\n    value: function preRender() {\n      if (!this.isMenu) {\n        var ul;\n\n        if (this.element.tagName === 'EJS-CONTEXTMENU') {\n          ul = this.createElement('ul', {\n            id: getUniqueID(this.getModuleName()),\n            className: 'e-control e-lib e-' + this.getModuleName()\n          });\n          var ejInst = getValue('ej2_instances', this.element);\n          removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n          this.clonedElement = this.element;\n          this.element = ul;\n          setValue('ej2_instances', ejInst, this.element);\n        } else {\n          ul = this.createElement('ul', {\n            id: getUniqueID(this.getModuleName())\n          });\n          append([].slice.call(this.element.cloneNode(true).children), ul);\n          var refEle = this.element.nextElementSibling;\n\n          if (refEle) {\n            this.element.parentElement.insertBefore(ul, refEle);\n          } else {\n            this.element.parentElement.appendChild(ul);\n          }\n\n          this.clonedElement = ul;\n        }\n\n        this.clonedElement.style.display = 'none';\n      }\n\n      if (this.element.tagName === 'EJS-MENU') {\n        var ele = this.element;\n        var ejInstance = getValue('ej2_instances', ele);\n\n        var _ul = this.createElement('ul');\n\n        var wrapper = this.createElement('EJS-MENU', {\n          className: 'e-' + this.getModuleName() + '-wrapper'\n        });\n\n        for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n          _ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n        }\n\n        ele.parentNode.insertBefore(wrapper, ele);\n        detach(ele);\n        ele = _ul;\n        wrapper.appendChild(ele);\n        setValue('ej2_instances', ejInstance, ele);\n        this.clonedElement = wrapper;\n        this.element = ele;\n\n        if (!this.element.id) {\n          this.element.id = getUniqueID(this.getModuleName());\n        }\n      }\n    }\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      this.initialize();\n      this.renderItems();\n      this.wireEvents();\n      this.renderComplete();\n      var wrapper = this.getWrapper();\n\n      if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n        requestAnimationFrame(function () {\n          addScrolling(_this10.createElement, wrapper, _this10.element, 'hscroll', _this10.enableRtl);\n        });\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var wrapper = this.getWrapper();\n\n      if (!wrapper) {\n        wrapper = this.createElement('div', {\n          className: 'e-' + this.getModuleName() + '-wrapper'\n        });\n\n        if (this.isMenu) {\n          this.element.parentElement.insertBefore(wrapper, this.element);\n        } else {\n          document.body.appendChild(wrapper);\n        }\n      }\n\n      if (this.cssClass) {\n        _addClass([wrapper], this.cssClass.split(' '));\n      }\n\n      if (this.enableRtl) {\n        wrapper.classList.add(RTL);\n      }\n\n      wrapper.appendChild(this.element);\n\n      if (this.isMenu && this.hamburgerMode) {\n        if (!this.target) {\n          this.createHeaderContainer(wrapper);\n        }\n      }\n\n      this.defaultOption = this.showItemOnClick;\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      if (!this.items.length) {\n        var items = ListBase.createJsonFromElement(this.element, {\n          fields: {\n            child: 'items'\n          }\n        });\n        this.setProperties({\n          items: items\n        }, true);\n\n        if (isBlazor() && !this.isMenu) {\n          this.element = this.removeChildElement(this.element);\n        } else {\n          this.element.innerHTML = '';\n        }\n      }\n\n      var ul = this.createItems(this.items);\n      append(Array.prototype.slice.call(ul.children), this.element);\n      this.element.classList.add('e-menu-parent');\n\n      if (this.isMenu) {\n        if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n          this.setBlankIconStyle(this.element);\n        }\n\n        if (this.enableScrolling) {\n          var wrapper = this.getWrapper();\n\n          if (this.element.classList.contains('e-vertical')) {\n            addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n          } else {\n            addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      var wrapper = this.getWrapper();\n\n      if (this.target) {\n        var target;\n        var targetElems = selectAll(this.target);\n\n        for (var i = 0, len = targetElems.length; i < len; i++) {\n          target = targetElems[i];\n\n          if (this.isMenu) {\n            EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n          } else {\n            if (Browser.isIos) {\n              new Touch(target, {\n                tapHold: this.touchHandler.bind(this)\n              });\n            } else {\n              EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n            }\n          }\n        }\n\n        this.targetElement = target;\n\n        if (!this.isMenu) {\n          EventHandler.add(this.targetElement, 'scroll', this.scrollHandler, this);\n\n          var _iterator5 = _createForOfIteratorHelper(getScrollableParent(this.targetElement)),\n              _step5;\n\n          try {\n            for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n              var parent = _step5.value;\n              EventHandler.add(parent, 'scroll', this.scrollHandler, this);\n            }\n          } catch (err) {\n            _iterator5.e(err);\n          } finally {\n            _iterator5.f();\n          }\n        }\n      }\n\n      if (!Browser.isDevice) {\n        this.delegateMoverHandler = this.moverHandler.bind(this);\n        this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n        EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n        EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n      }\n\n      this.delegateClickHandler = this.clickHandler.bind(this);\n      EventHandler.add(document, 'click', this.delegateClickHandler, this);\n      this.wireKeyboardEvent(wrapper);\n      this.rippleFn = rippleEffect(wrapper, {\n        selector: '.' + ITEM\n      });\n    }\n  }, {\n    key: \"wireKeyboardEvent\",\n    value: function wireKeyboardEvent(element) {\n      var keyConfigs = {\n        downarrow: DOWNARROW,\n        uparrow: UPARROW,\n        enter: ENTER,\n        leftarrow: LEFTARROW,\n        rightarrow: RIGHTARROW,\n        escape: ESCAPE\n      };\n\n      if (this.isMenu) {\n        keyConfigs.home = HOME;\n        keyConfigs.end = END;\n      }\n\n      new KeyboardEvents(element, {\n        keyAction: this.keyBoardHandler.bind(this),\n        keyConfigs: keyConfigs\n      });\n    }\n  }, {\n    key: \"mouseDownHandler\",\n    value: function mouseDownHandler(e) {\n      if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper() && !closest(e.target, '.e-' + this.getModuleName() + '-popup')) {\n        this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n      }\n    }\n  }, {\n    key: \"keyBoardHandler\",\n    value: function keyBoardHandler(e) {\n      var actionName = '';\n      var trgt = e.target;\n      var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical') && this.navIdx.length < 1;\n      e.preventDefault();\n\n      if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n        this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n      }\n\n      if (actionNeeded) {\n        switch (e.action) {\n          case RIGHTARROW:\n            actionName = RIGHTARROW;\n            e.action = DOWNARROW;\n            break;\n\n          case LEFTARROW:\n            actionName = LEFTARROW;\n            e.action = UPARROW;\n            break;\n\n          case DOWNARROW:\n            actionName = DOWNARROW;\n            e.action = RIGHTARROW;\n            break;\n\n          case UPARROW:\n            actionName = UPARROW;\n            e.action = '';\n            break;\n        }\n      } else if (this.enableRtl) {\n        switch (e.action) {\n          case LEFTARROW:\n            actionNeeded = true;\n            actionName = LEFTARROW;\n            e.action = RIGHTARROW;\n            break;\n\n          case RIGHTARROW:\n            actionNeeded = true;\n            actionName = RIGHTARROW;\n            e.action = LEFTARROW;\n            break;\n        }\n      }\n\n      switch (e.action) {\n        case DOWNARROW:\n        case UPARROW:\n        case END:\n        case HOME:\n          this.upDownKeyHandler(e);\n          break;\n\n        case RIGHTARROW:\n          this.rightEnterKeyHandler(e);\n          break;\n\n        case LEFTARROW:\n          this.leftEscKeyHandler(e);\n          break;\n\n        case ENTER:\n          if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n            this.menuHeaderClickHandler(e);\n          } else {\n            this.rightEnterKeyHandler(e);\n          }\n\n          break;\n\n        case ESCAPE:\n          this.leftEscKeyHandler(e);\n          break;\n      }\n\n      if (actionNeeded) {\n        e.action = actionName;\n      }\n    }\n  }, {\n    key: \"upDownKeyHandler\",\n    value: function upDownKeyHandler(e) {\n      var cul = this.getUlByNavIdx();\n      var defaultIdx = e.action === DOWNARROW || e.action === HOME ? 0 : cul.childElementCount - 1;\n      var fliIdx = defaultIdx;\n      var fli = this.getLIByClass(cul, FOCUSED);\n\n      if (fli) {\n        if (e.action !== END && e.action !== HOME) {\n          fliIdx = this.getIdx(cul, fli);\n        }\n\n        fli.classList.remove(FOCUSED);\n\n        if (e.action !== END && e.action !== HOME) {\n          if (e.action === DOWNARROW) {\n            fliIdx++;\n          } else {\n            fliIdx--;\n          }\n\n          if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n            fliIdx = defaultIdx;\n          }\n        }\n      }\n\n      var cli = cul.children[fliIdx];\n      fliIdx = this.isValidLI(cli, fliIdx, e.action);\n      cul.children[fliIdx].classList.add(FOCUSED);\n      cul.children[fliIdx].focus();\n    }\n  }, {\n    key: \"isValidLI\",\n    value: function isValidLI(cli, index, action) {\n      var cul = this.getUlByNavIdx();\n\n      if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n        if (action === DOWNARROW || action === RIGHTARROW) {\n          index++;\n        } else {\n          index--;\n        }\n      }\n\n      cli = cul.children[index];\n\n      if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n        index = this.isValidLI(cli, index, action);\n      }\n\n      return index;\n    }\n  }, {\n    key: \"getUlByNavIdx\",\n    value: function getUlByNavIdx() {\n      var navIdxLen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.navIdx.length;\n\n      if (this.isMenu) {\n        var popup = [this.getWrapper()].concat([].slice.call(selectAll('.' + POPUP)))[navIdxLen];\n        return isNullOrUndefined(popup) ? null : _select('.e-menu-parent', popup);\n      } else {\n        return this.getWrapper().children[navIdxLen];\n      }\n    }\n  }, {\n    key: \"rightEnterKeyHandler\",\n    value: function rightEnterKeyHandler(e) {\n      var eventArgs;\n      var cul = this.getUlByNavIdx();\n      var fli = this.getLIByClass(cul, FOCUSED);\n\n      if (fli) {\n        var fliIdx = this.getIdx(cul, fli);\n        var navIdx = this.navIdx.concat(fliIdx);\n        var item = this.getItem(navIdx);\n\n        if (item.items.length) {\n          this.navIdx.push(fliIdx);\n          this.keyType = 'right';\n          this.action = e.action;\n          this.openMenu(fli, item, -1, -1, e);\n        } else {\n          if (e.action === ENTER) {\n            if (this.isMenu && this.navIdx.length === 0) {\n              this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n            } else {\n              fli.classList.remove(FOCUSED);\n            }\n\n            fli.classList.add(SELECTED);\n            eventArgs = {\n              element: fli,\n              item: item,\n              event: e\n            };\n            this.trigger('select', eventArgs);\n            this.closeMenu(null, e);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"leftEscKeyHandler\",\n    value: function leftEscKeyHandler(e) {\n      if (this.navIdx.length) {\n        this.keyType = 'left';\n        this.closeMenu(this.navIdx.length, e);\n      } else {\n        if (e.action === ESCAPE) {\n          this.closeMenu(null, e);\n        }\n      }\n    }\n  }, {\n    key: \"scrollHandler\",\n    value: function scrollHandler(e) {\n      this.closeMenu(null, e);\n    }\n  }, {\n    key: \"touchHandler\",\n    value: function touchHandler(e) {\n      this.isTapHold = true;\n      this.cmenuHandler(e.originalEvent);\n    }\n  }, {\n    key: \"cmenuHandler\",\n    value: function cmenuHandler(e) {\n      e.preventDefault();\n      this.isCMenu = true;\n      this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n      this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n      this.closeMenu(null, e);\n\n      if (this.isCMenu) {\n        if (this.canOpen(e.target)) {\n          this.openMenu(null, null, this.pageY, this.pageX, e);\n        }\n\n        this.isCMenu = false;\n      }\n    } // eslint:disable-next-line:max-func-body-length\n\n  }, {\n    key: \"closeMenu\",\n    value: function closeMenu() {\n      var _this11 = this;\n\n      var ulIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var isIterated = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (this.isMenuVisible()) {\n        var sli;\n        var item;\n        var wrapper = this.getWrapper();\n        var beforeCloseArgs;\n        var items;\n        var popups = this.getPopups();\n        var isClose = false;\n        var cnt = this.isMenu ? popups.length + 1 : wrapper.childElementCount;\n        var ul = this.isMenu && cnt !== 1 ? _select('.e-ul', popups[cnt - 2]) : selectAll('.e-menu-parent', wrapper)[cnt - 1];\n\n        if (this.isMenu && ul.classList.contains('e-menu')) {\n          sli = this.getLIByClass(ul, SELECTED);\n\n          if (sli) {\n            sli.classList.remove(SELECTED);\n          }\n\n          isClose = true;\n        }\n\n        if (!isClose) {\n          var liElem = e && e.target && this.getLI(e.target);\n          item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n          items = item ? item.items : this.items;\n          beforeCloseArgs = {\n            element: ul,\n            parentItem: item,\n            items: items,\n            event: e,\n            cancel: false,\n            isFocused: true\n          };\n          this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n            var popupEle;\n            var closeArgs;\n            var popupId = '';\n            var popupObj;\n            var isOpen = !observedCloseArgs.cancel;\n\n            if (isOpen || _this11.isCMenu) {\n              if (_this11.isMenu) {\n                popupEle = closest(ul, '.' + POPUP);\n\n                if (_this11.hamburgerMode) {\n                  popupEle.parentElement.style.minHeight = '';\n                  closest(ul, '.e-menu-item').setAttribute('aria-expanded', 'false');\n                }\n\n                _this11.unWireKeyboardEvent(popupEle);\n\n                destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n                popupObj = getInstance(popupEle, Popup);\n                popupObj.hide();\n                popupId = popupEle.id;\n                popupObj.destroy();\n                detach(popupEle);\n              } else {\n                _this11.toggleAnimation(ul, false);\n              }\n\n              closeArgs = {\n                element: ul,\n                parentItem: item,\n                items: items\n              };\n\n              _this11.trigger('onClose', closeArgs);\n\n              _this11.navIdx.pop();\n            }\n\n            _this11.updateReactTemplate();\n\n            var trgtliId;\n            var closedLi;\n            var trgtLi;\n\n            var trgtpopUp = _this11.getWrapper() && _this11.getUlByNavIdx();\n\n            if (_this11.isCMenu) {\n              if (_this11.canOpen(e.target)) {\n                _this11.openMenu(null, null, _this11.pageY, _this11.pageX, e);\n              }\n\n              _this11.isCMenu = false;\n            }\n\n            if (_this11.isMenu && trgtpopUp && popupId.length) {\n              trgtliId = new RegExp('(.*)-ej2menu-' + _this11.element.id + '-popup').exec(popupId)[1];\n              closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n              trgtLi = liElem && trgtpopUp.querySelector('[id=\"' + liElem.id + '\"]');\n            }\n\n            var submenus = liElem && liElem.querySelectorAll('.e-menu-item');\n\n            if (isOpen && _this11.hamburgerMode && ulIndex && !submenus.length) {\n              _this11.afterCloseMenu(e);\n            } else if (isOpen && !_this11.hamburgerMode && _this11.navIdx.length && closedLi && !trgtLi) {\n              var ele = e && e.target.classList.contains('e-vscroll') ? closest(e.target, '.e-menu-wrapper') : null;\n\n              if (ele) {\n                ele = ele.querySelector('.e-menu-item');\n\n                if (_this11.showItemOnClick || ele && _this11.getIndex(ele.id, true).length <= _this11.navIdx.length) {\n                  _this11.closeMenu(_this11.navIdx[_this11.navIdx.length - 1], e, true);\n                }\n              } else {\n                _this11.closeMenu(_this11.navIdx[_this11.navIdx.length - 1], e);\n              }\n            } else if (isOpen && !isIterated && !ulIndex && (_this11.hamburgerMode && _this11.navIdx.length || _this11.navIdx.length === 1)) {\n              _this11.closeMenu(null, e);\n            } else if (isOpen && isNullOrUndefined(ulIndex) && _this11.navIdx.length) {\n              _this11.closeMenu(null, e);\n            } else if (isOpen && !_this11.isMenu && !ulIndex && _this11.navIdx.length === 0 && !_this11.isMenusClosed) {\n              _this11.isMenusClosed = true;\n\n              _this11.closeMenu(0, e);\n            } else if (isOpen && _this11.isMenu && e && e.target && _this11.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n              _this11.closeMenu(0, e);\n            } else {\n              if (isOpen && (_this11.keyType === 'right' || _this11.keyType === 'click')) {\n                _this11.afterCloseMenu(e);\n              } else {\n                var cul = _this11.getUlByNavIdx();\n\n                var _sli = _this11.getLIByClass(cul, SELECTED);\n\n                if (_sli) {\n                  _sli.setAttribute('aria-expanded', 'false');\n\n                  _sli.classList.remove(SELECTED);\n\n                  if (observedCloseArgs.isFocused && liElem) {\n                    _sli.classList.add(FOCUSED);\n\n                    _sli.focus();\n                  }\n                }\n\n                if (!isOpen && _this11.hamburgerMode && liElem && liElem.getAttribute('aria-expanded') === 'false' && liElem.getAttribute('aria-haspopup') === 'true') {\n                  if (closest(liElem, '.e-menu-parent.e-control')) {\n                    _this11.navIdx = [];\n                  } else {\n                    _this11.navIdx.pop();\n                  }\n\n                  _this11.navIdx.push(_this11.cliIdx);\n\n                  var _item = _this11.getItem(_this11.navIdx);\n\n                  liElem.setAttribute('aria-expanded', 'true');\n\n                  _this11.openMenu(liElem, _item, -1, -1, e);\n                }\n              }\n\n              if (_this11.navIdx.length < 1) {\n                if (_this11.showSubMenuOn === 'Hover' || _this11.showSubMenuOn === 'Click') {\n                  _this11.showItemOnClick = _this11.defaultOption;\n                  _this11.showSubMenuOn = 'Auto';\n                }\n              }\n            }\n\n            _this11.removeStateWrapper();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateReactTemplate\",\n    value: function updateReactTemplate() {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (this.isReact && this.template && this.navIdx.length === 0) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var portals = this.portals.splice(0, this.items.length);\n        this.clearTemplate(['template']); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        this.portals = portals;\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"getMenuItemModel\",\n    value: function getMenuItemModel(item, level) {\n      if (isNullOrUndefined(item)) {\n        return null;\n      }\n\n      if (isNullOrUndefined(level)) {\n        level = 0;\n      }\n\n      var fields = this.getFields(level);\n      return {\n        text: item[fields.text],\n        id: item[fields.id],\n        items: item[fields.child],\n        separator: item[fields.separator],\n        iconCss: item[fields.iconCss],\n        url: item[fields.url]\n      };\n    }\n  }, {\n    key: \"getPopups\",\n    value: function getPopups() {\n      var _this12 = this;\n\n      var popups = [];\n      [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n        if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this12.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n          popups.push(elem);\n        }\n      });\n      return popups;\n    }\n  }, {\n    key: \"isMenuVisible\",\n    value: function isMenuVisible() {\n      return this.navIdx.length > 0 || this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf();\n    }\n  }, {\n    key: \"canOpen\",\n    value: function canOpen(target) {\n      var canOpen = true;\n\n      if (this.filter) {\n        canOpen = false;\n        var filter = this.filter.split(' ');\n\n        for (var i = 0, len = filter.length; i < len; i++) {\n          if (closest(target, '.' + filter[i])) {\n            canOpen = true;\n            break;\n          }\n        }\n      }\n\n      return canOpen;\n    }\n  }, {\n    key: \"openMenu\",\n    value: function openMenu(li, item) {\n      var _this13 = this;\n\n      var top = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var left = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var e = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n      var target = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : this.targetElement;\n      var wrapper = this.getWrapper();\n      this.lItem = li;\n      var elemId = this.element.id !== '' ? this.element.id : 'menu';\n      this.isMenusClosed = false;\n\n      if (isNullOrUndefined(top)) {\n        top = -1;\n      }\n\n      if (isNullOrUndefined(left)) {\n        left = -1;\n      }\n\n      if (li) {\n        this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n\n        if (!this.isMenu && Browser.isDevice) {\n          wrapper.lastChild.style.display = 'none';\n          var data = {\n            text: item[this.getField('text')].toString(),\n            iconCss: ICONS + ' e-previous'\n          };\n          var hdata = new MenuItem(this.items[0], 'items', data, true);\n          var hli = this.createItems([hdata]).children[0];\n          hli.classList.add(HEADER);\n          this.uList.insertBefore(hli, this.uList.children[0]);\n        }\n\n        if (this.isMenu) {\n          this.popupWrapper = this.createElement('div', {\n            className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP,\n            id: li.id + '-ej2menu-' + elemId + '-popup'\n          });\n\n          if (this.hamburgerMode) {\n            top = li.offsetHeight;\n            li.appendChild(this.popupWrapper);\n          } else {\n            document.body.appendChild(this.popupWrapper);\n          }\n\n          this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n          this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n\n          if (this.template) {\n            this.renderReactTemplates();\n          }\n\n          if (this.hamburgerMode) {\n            this.calculateIndentSize(this.uList, li);\n          } else {\n            if (this.cssClass) {\n              _addClass([this.popupWrapper], this.cssClass.split(' '));\n            }\n\n            this.popupObj.hide();\n          }\n\n          if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n            window.clearInterval(this.timer);\n            this.timer = window.setTimeout(function () {\n              _this13.triggerBeforeOpen(li, _this13.uList, item, e, 0, 0, 'menu');\n            }, this.hoverDelay);\n          } else {\n            this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n          }\n        } else {\n          this.uList.style.zIndex = this.element.style.zIndex;\n          wrapper.appendChild(this.uList);\n\n          if (!this.showItemOnClick && this.hoverDelay) {\n            window.clearInterval(this.timer);\n            this.timer = window.setTimeout(function () {\n              _this13.triggerBeforeOpen(li, _this13.uList, item, e, top, left, 'none');\n            }, this.hoverDelay);\n          } else {\n            this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n          }\n        }\n      } else {\n        this.uList = this.element;\n        this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n        this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n      }\n    }\n  }, {\n    key: \"calculateIndentSize\",\n    value: function calculateIndentSize(ul, li) {\n      var liStyle = getComputedStyle(li);\n      var liIndent = parseInt(liStyle.textIndent, 10);\n\n      if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n        liIndent *= 2;\n      } else {\n        liIndent += liIndent / 4;\n      }\n\n      ul.style.textIndent = liIndent + 'px';\n      var blankIconElem = ul.querySelectorAll('.e-blankicon');\n\n      if (blankIconElem && blankIconElem.length) {\n        var menuIconElem = ul.querySelector('.e-menu-icon');\n        var menuIconElemStyle = getComputedStyle(menuIconElem);\n        var blankIconIndent = parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent;\n\n        for (var i = 0; i < blankIconElem.length; i++) {\n          blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n        }\n      }\n    }\n  }, {\n    key: \"generatePopup\",\n    value: function generatePopup(popupWrapper, ul, li, isNestedOrVertical) {\n      var _this14 = this;\n\n      var popupObj = new Popup(popupWrapper, {\n        actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n        relateTo: li,\n        collision: this.hamburgerMode ? {\n          X: 'none',\n          Y: 'none'\n        } : {\n          X: isNestedOrVertical || this.enableRtl ? 'none' : 'flip',\n          Y: 'fit'\n        },\n        position: isNestedOrVertical && !this.hamburgerMode ? {\n          X: 'right',\n          Y: 'top'\n        } : {\n          X: 'left',\n          Y: 'bottom'\n        },\n        targetType: 'relative',\n        enableRtl: this.enableRtl,\n        content: ul,\n        open: function open() {\n          var scrollEle = _select('.e-menu-vscroll', popupObj.element);\n\n          if (scrollEle) {\n            scrollEle.style.height = 'inherit';\n            scrollEle.style.maxHeight = '';\n          }\n\n          var ul = _select('.e-ul', popupObj.element);\n\n          popupObj.element.style.maxHeight = '';\n          ul.focus();\n\n          _this14.triggerOpen(ul);\n        }\n      });\n      return popupObj;\n    }\n  }, {\n    key: \"createHeaderContainer\",\n    value: function createHeaderContainer(wrapper) {\n      wrapper = wrapper || this.getWrapper();\n      var spanElem = this.createElement('span', {\n        className: 'e-' + this.getModuleName() + '-header'\n      });\n      var tempTitle = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n      var spanTitle = this.createElement('span', {\n        className: 'e-' + this.getModuleName() + '-title',\n        innerHTML: tempTitle\n      });\n      var spanIcon = this.createElement('span', {\n        className: 'e-icons e-' + this.getModuleName() + '-icon',\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      spanElem.appendChild(spanTitle);\n      spanElem.appendChild(spanIcon);\n      wrapper.insertBefore(spanElem, this.element);\n    }\n  }, {\n    key: \"openHamburgerMenu\",\n    value: function openHamburgerMenu(e) {\n      if (this.hamburgerMode) {\n        this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n      }\n    }\n  }, {\n    key: \"closeHamburgerMenu\",\n    value: function closeHamburgerMenu(e) {\n      var _this15 = this;\n\n      var beforeCloseArgs = {\n        element: this.element,\n        parentItem: null,\n        event: e,\n        items: this.items,\n        cancel: false\n      };\n      this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n        if (!observedHamburgerCloseArgs.cancel) {\n          _this15.closeMenu(null, e);\n\n          _this15.element.classList.add('e-hide-menu');\n\n          _this15.trigger('onClose', {\n            element: _this15.element,\n            parentItem: null,\n            items: _this15.items\n          });\n        }\n      });\n    }\n  }, {\n    key: \"callFit\",\n    value: function callFit(element, x, y, top, left) {\n      return fit(element, null, {\n        X: x,\n        Y: y\n      }, {\n        top: top,\n        left: left\n      });\n    }\n  }, {\n    key: \"triggerBeforeOpen\",\n    value: function triggerBeforeOpen(li, ul, item, e, top, left, type) {\n      var _this16 = this;\n\n      var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n      var eventArgs = {\n        element: ul,\n        items: items,\n        parentItem: item,\n        event: e,\n        cancel: false,\n        top: top,\n        left: left,\n        showSubMenuOn: 'Auto'\n      };\n      var menuType = type;\n      this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n        switch (menuType) {\n          case 'menu':\n            if (!_this16.hamburgerMode) {\n              if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n                _this16.showItemOnClick = !_this16.defaultOption;\n                _this16.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n              }\n\n              _this16.top = observedOpenArgs.top;\n              _this16.left = observedOpenArgs.left;\n            }\n\n            _this16.popupWrapper.style.display = 'block';\n\n            if (!_this16.hamburgerMode) {\n              _this16.popupWrapper.style.maxHeight = _this16.popupWrapper.getBoundingClientRect().height + 'px';\n\n              if (_this16.enableScrolling) {\n                addScrolling(_this16.createElement, _this16.popupWrapper, _this16.uList, 'vscroll', _this16.enableRtl);\n              }\n\n              _this16.checkScrollOffset(e);\n            }\n\n            if (!_this16.hamburgerMode && !_this16.left && !_this16.top) {\n              _this16.popupObj.refreshPosition(_this16.lItem, true);\n\n              _this16.left = parseInt(_this16.popupWrapper.style.left, 10);\n              _this16.top = parseInt(_this16.popupWrapper.style.top, 10);\n\n              if (_this16.enableRtl) {\n                _this16.left = _this16.isNestedOrVertical ? _this16.left - _this16.popupWrapper.offsetWidth - _this16.lItem.parentElement.offsetWidth + 2 : _this16.left - _this16.popupWrapper.offsetWidth + _this16.lItem.offsetWidth;\n              }\n\n              if (_this16.template && (_this16.isReact || _this16.isAngular)) {\n                requestAnimationFrame(function () {\n                  _this16.collision();\n\n                  _this16.popupWrapper.style.display = '';\n                });\n              } else {\n                _this16.collision();\n\n                _this16.popupWrapper.style.display = '';\n              }\n            } else {\n              _this16.popupObj.collision = {\n                X: 'none',\n                Y: 'none'\n              };\n              _this16.popupWrapper.style.display = '';\n            }\n\n            break;\n\n          case 'none':\n            _this16.top = observedOpenArgs.top;\n            _this16.left = observedOpenArgs.left;\n            break;\n\n          case 'hamburger':\n            if (!observedOpenArgs.cancel) {\n              _this16.element.classList.remove('e-hide-menu');\n\n              _this16.triggerOpen(_this16.element);\n            }\n\n            break;\n        }\n\n        if (menuType !== 'hamburger') {\n          if (observedOpenArgs.cancel) {\n            if (_this16.isMenu) {\n              _this16.popupObj.destroy();\n\n              detach(_this16.popupWrapper);\n            } else if (ul.className.indexOf('e-ul') > -1) {\n              detach(ul);\n            }\n\n            _this16.navIdx.pop();\n          } else {\n            if (_this16.isMenu) {\n              if (_this16.hamburgerMode) {\n                _this16.popupWrapper.style.top = _this16.top + 'px';\n                _this16.popupWrapper.style.left = 0 + 'px';\n\n                _this16.toggleAnimation(_this16.popupWrapper);\n              } else {\n                _this16.setBlankIconStyle(_this16.popupWrapper);\n\n                _this16.wireKeyboardEvent(_this16.popupWrapper);\n\n                rippleEffect(_this16.popupWrapper, {\n                  selector: '.' + ITEM\n                });\n                _this16.popupWrapper.style.left = _this16.left + pageXOffset + 'px';\n                _this16.popupWrapper.style.top = _this16.top + pageYOffset + 'px';\n                var animationOptions = _this16.animationSettings.effect !== 'None' ? {\n                  name: _this16.animationSettings.effect,\n                  duration: _this16.animationSettings.duration,\n                  timingFunction: _this16.animationSettings.easing\n                } : null;\n\n                _this16.popupObj.show(animationOptions, _this16.lItem);\n              }\n            } else {\n              _this16.setBlankIconStyle(_this16.uList);\n\n              _this16.setPosition(_this16.lItem, _this16.uList, _this16.top, _this16.left);\n\n              _this16.toggleAnimation(_this16.uList);\n            }\n          }\n        }\n\n        if (_this16.keyType === 'right') {\n          var cul = _this16.getUlByNavIdx();\n\n          li.classList.remove(FOCUSED);\n\n          if (_this16.isMenu && _this16.navIdx.length === 1) {\n            _this16.removeLIStateByClass([SELECTED], [_this16.getWrapper()]);\n          }\n\n          li.classList.add(SELECTED);\n\n          if (_this16.action === ENTER) {\n            var _eventArgs = {\n              element: li,\n              item: item,\n              event: e\n            };\n\n            _this16.trigger('select', _eventArgs);\n          }\n\n          li.focus();\n          cul = _this16.getUlByNavIdx();\n\n          var index = _this16.isValidLI(cul.children[0], 0, _this16.action);\n\n          cul.children[index].classList.add(FOCUSED);\n          cul.children[index].focus();\n        }\n      });\n    }\n  }, {\n    key: \"collision\",\n    value: function collision() {\n      var collide;\n      collide = isCollide(this.popupWrapper, null, this.left, this.top);\n\n      if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1 || collide.indexOf('left') > -1)) {\n        this.popupObj.collision.X = 'none';\n        var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n        this.left = this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n      }\n\n      collide = isCollide(this.popupWrapper, null, this.left, this.top);\n\n      if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n        this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n      }\n\n      this.popupWrapper.style.left = this.left + 'px';\n    }\n  }, {\n    key: \"setBlankIconStyle\",\n    value: function setBlankIconStyle(menu) {\n      var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n\n      if (!blankIconList.length) {\n        return;\n      }\n\n      var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n      var icon = iconLi.querySelector('.e-menu-icon');\n\n      if (!icon) {\n        return;\n      }\n\n      var cssProp = this.enableRtl ? {\n        padding: 'paddingRight',\n        margin: 'marginLeft'\n      } : {\n        padding: 'paddingLeft',\n        margin: 'marginRight'\n      };\n      var iconCssProps = getComputedStyle(icon);\n      var iconSize = parseInt(iconCssProps.fontSize, 10);\n\n      if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n        iconSize = parseInt(iconCssProps.width, 10);\n      } // eslint:disable\n\n\n      var size = \"\".concat(iconSize + parseInt( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10), \"px\");\n      blankIconList.forEach(function (li) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        li.style[cssProp.padding] = size;\n      }); // eslint:enable\n    }\n  }, {\n    key: \"checkScrollOffset\",\n    value: function checkScrollOffset(e) {\n      var wrapper = this.getWrapper();\n\n      if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n        var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n\n        var offsetEle = _select('.e-hscroll-bar', wrapper);\n\n        if (offsetEle.scrollLeft > trgt.offsetLeft) {\n          offsetEle.scrollLeft -= offsetEle.scrollLeft - trgt.offsetLeft;\n        }\n\n        var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n        var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n\n        if (offsetLeft < offsetRight) {\n          offsetEle.scrollLeft += offsetRight - offsetLeft;\n        }\n      }\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(li, ul, top, left) {\n      var px = 'px';\n      this.toggleVisiblity(ul);\n\n      if (ul === this.element || left > -1 && top > -1) {\n        var collide = isCollide(ul, null, left, top);\n\n        if (collide.indexOf('right') > -1) {\n          left = left - ul.offsetWidth;\n        }\n\n        if (collide.indexOf('bottom') > -1) {\n          var offset = this.callFit(ul, false, true, top, left);\n          top = offset.top - 20;\n\n          if (top < 0) {\n            var newTop = pageYOffset + document.documentElement.clientHeight - ul.getBoundingClientRect().height;\n\n            if (newTop > -1) {\n              top = newTop;\n            }\n          }\n        }\n\n        collide = isCollide(ul, null, left, top);\n\n        if (collide.indexOf('left') > -1) {\n          var _offset = this.callFit(ul, true, false, top, left);\n\n          left = _offset.left;\n        }\n      } else {\n        if (Browser.isDevice) {\n          top = Number(this.element.style.top.replace(px, ''));\n          left = Number(this.element.style.left.replace(px, ''));\n        } else {\n          var x = this.enableRtl ? 'left' : 'right';\n\n          var _offset2 = calculatePosition(li, x, 'top');\n\n          top = _offset2.top;\n          left = _offset2.left;\n\n          var _collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n\n          var xCollision = _collide.indexOf('left') > -1 || _collide.indexOf('right') > -1;\n\n          if (xCollision) {\n            _offset2 = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n            left = _offset2.left;\n          }\n\n          if (this.enableRtl || xCollision) {\n            left = this.enableRtl && xCollision ? left : left - ul.offsetWidth;\n          }\n\n          if (_collide.indexOf('bottom') > -1) {\n            _offset2 = this.callFit(ul, false, true, top, left);\n            top = _offset2.top;\n          }\n        }\n      }\n\n      this.toggleVisiblity(ul, false);\n      ul.style.top = top + px;\n      ul.style.left = left + px;\n    }\n  }, {\n    key: \"toggleVisiblity\",\n    value: function toggleVisiblity(ul) {\n      var isVisible$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      ul.style.visibility = isVisible$$1 ? 'hidden' : '';\n      ul.style.display = isVisible$$1 ? 'block' : 'none';\n    }\n  }, {\n    key: \"createItems\",\n    value: function createItems(items) {\n      var _this17 = this;\n\n      var level = this.navIdx ? this.navIdx.length : 0;\n      var fields = this.getFields(level);\n      var showIcon = this.hasField(items, this.getField('iconCss', level));\n      var listBaseOptions = {\n        showIcon: showIcon,\n        moduleName: 'menu',\n        fields: fields,\n        template: this.template,\n        itemNavigable: true,\n        itemCreating: function itemCreating(args) {\n          if (!args.curData[args.fields[fields.id]]) {\n            args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n          }\n\n          args.curData.htmlAttributes = {\n            role: 'menuitem',\n            tabindex: '-1'\n          };\n\n          if (_this17.isMenu && !args.curData[_this17.getField('separator', level)]) {\n            args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n          }\n\n          if (args.curData[args.fields[fields.iconCss]] === '') {\n            args.curData[args.fields[fields.iconCss]] = null;\n          }\n        },\n        itemCreated: function itemCreated(args) {\n          if (args.curData[_this17.getField('separator', level)]) {\n            args.item.classList.add(SEPARATOR);\n            args.item.removeAttribute('role');\n          }\n\n          if (showIcon && !args.curData[args.fields.iconCss] && !args.curData[_this17.getField('separator', level)]) {\n            args.item.classList.add('e-blankicon');\n          }\n\n          if (args.curData[args.fields.child] && args.curData[args.fields.child].length) {\n            var span = _this17.createElement('span', {\n              className: ICONS + ' ' + CARET\n            });\n\n            args.item.appendChild(span);\n            args.item.setAttribute('aria-haspopup', 'true');\n            args.item.setAttribute('aria-expanded', 'false');\n\n            if (!_this17.isMenu) {\n              args.item.removeAttribute('role');\n            }\n\n            args.item.classList.add('e-menu-caret-icon');\n          }\n\n          if (_this17.isMenu && _this17.template) {\n            args.item.setAttribute('id', args.curData[args.fields.id].toString());\n            args.item.removeAttribute('data-uid');\n\n            if (args.item.classList.contains('e-level-1')) {\n              args.item.classList.remove('e-level-1');\n            }\n\n            if (args.item.classList.contains('e-has-child')) {\n              args.item.classList.remove('e-has-child');\n            }\n          }\n\n          var eventArgs = {\n            item: args.curData,\n            element: args.item\n          };\n\n          _this17.trigger('beforeItemRender', eventArgs);\n        }\n      };\n      this.setProperties({\n        'items': this.items\n      }, true);\n\n      if (this.isMenu) {\n        listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n      }\n\n      var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n      ul.setAttribute('tabindex', '0');\n\n      if (this.isMenu) {\n        ul.setAttribute('role', 'menu');\n      }\n\n      return ul;\n    }\n  }, {\n    key: \"moverHandler\",\n    value: function moverHandler(e) {\n      var trgt = e.target;\n      this.liTrgt = trgt;\n      var cli = this.getLI(trgt);\n      var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n      var hdrWrapper = this.getWrapper();\n      var regex = new RegExp('-ej2menu-(.*)-popup');\n      var ulId;\n      var isDifferentElem = false;\n\n      if (!wrapper) {\n        return;\n      }\n\n      if (wrapper.id !== '') {\n        ulId = regex.exec(wrapper.id)[1];\n      } else {\n        ulId = wrapper.querySelector('ul').id;\n      }\n\n      if (ulId !== this.element.id) {\n        this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n\n        if (this.navIdx.length) {\n          isDifferentElem = true;\n        } else {\n          return;\n        }\n      }\n\n      if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n        this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n        this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n        cli.classList.add(FOCUSED);\n\n        if (!this.showItemOnClick) {\n          this.clickHandler(e);\n        }\n      } else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n        this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n      }\n\n      if (this.isMenu) {\n        if (!this.showItemOnClick && trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup') && (!cli || cli && !this.getIndex(cli.id, true).length) && this.showSubMenuOn !== 'Hover') {\n          this.removeLIStateByClass([FOCUSED], [wrapper]);\n\n          if (this.navIdx.length) {\n            this.isClosed = true;\n            this.closeMenu(null, e);\n          }\n        } else if (isDifferentElem && !this.showItemOnClick) {\n          if (this.navIdx.length) {\n            this.isClosed = true;\n            this.closeMenu(null, e);\n          }\n        }\n\n        if (!this.isClosed) {\n          this.removeStateWrapper();\n        }\n\n        this.isClosed = false;\n      }\n    }\n  }, {\n    key: \"removeStateWrapper\",\n    value: function removeStateWrapper() {\n      if (this.liTrgt) {\n        var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n\n        if (this.liTrgt.tagName === 'DIV' && wrapper) {\n          this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n        }\n      }\n    }\n  }, {\n    key: \"removeLIStateByClass\",\n    value: function removeLIStateByClass(classList$$1, element) {\n      var li;\n\n      var _loop = function _loop(i) {\n        classList$$1.forEach(function (className) {\n          li = _select('.' + className, element[i]);\n\n          if (li) {\n            li.classList.remove(className);\n          }\n        });\n      };\n\n      for (var i = 0; i < element.length; i++) {\n        _loop(i);\n      }\n    }\n  }, {\n    key: \"getField\",\n    value: function getField(propName) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var fieldName = this.fields[propName];\n      return typeof fieldName === 'string' ? fieldName : !fieldName[level] ? fieldName[fieldName.length - 1].toString() : fieldName[level].toString();\n    }\n  }, {\n    key: \"getFields\",\n    value: function getFields() {\n      var level = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return {\n        id: this.getField('itemId', level),\n        iconCss: this.getField('iconCss', level),\n        text: this.getField('text', level),\n        url: this.getField('url', level),\n        child: this.getField('children', level),\n        separator: this.getField('separator', level)\n      };\n    }\n  }, {\n    key: \"hasField\",\n    value: function hasField(items, field) {\n      for (var i = 0, len = items.length; i < len; i++) {\n        if (items[i][field]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"menuHeaderClickHandler\",\n    value: function menuHeaderClickHandler(e) {\n      if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n        return;\n      }\n\n      if (this.element.classList.contains('e-hide-menu')) {\n        this.openHamburgerMenu(e);\n      } else {\n        this.closeHamburgerMenu(e);\n      }\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      if (this.isTapHold) {\n        this.isTapHold = false;\n      } else {\n        var wrapper = this.getWrapper();\n        var trgt = e.target;\n        var cli = this.cli = this.getLI(trgt);\n        var regex = new RegExp('-ej2menu-(.*)-popup');\n        var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n        var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0 : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n\n        if (Browser.isDevice && this.isMenu) {\n          this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n          this.mouseDownHandler(e);\n        }\n\n        if (cli && cliWrapper && this.isMenu) {\n          var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n\n          if (this.element.id !== cliWrapperId) {\n            return;\n          }\n        }\n\n        if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n          this.setLISelected(cli);\n          var navIdx = this.getIndex(cli.id, true);\n          var item = this.getItem(navIdx);\n          var eventArgs = {\n            element: cli,\n            item: item,\n            event: e\n          };\n          this.trigger('select', eventArgs);\n        }\n\n        if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n          var ul;\n\n          if (cli.classList.contains(HEADER)) {\n            ul = wrapper.children[this.navIdx.length - 1];\n            this.toggleAnimation(ul);\n            var sli = this.getLIByClass(ul, SELECTED);\n\n            if (sli) {\n              sli.classList.remove(SELECTED);\n            }\n\n            detach(cli.parentNode);\n            this.navIdx.pop();\n          } else {\n            if (!cli.classList.contains(SEPARATOR)) {\n              this.showSubMenu = true;\n              var cul = cli.parentNode;\n              this.cliIdx = this.getIdx(cul, cli);\n\n              if (this.isMenu || !Browser.isDevice) {\n                var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper')) : this.getIdx(wrapper, cul);\n\n                if (this.navIdx[culIdx] === this.cliIdx) {\n                  this.showSubMenu = false;\n                }\n\n                if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                  var _sli2 = this.getLIByClass(cul, SELECTED);\n\n                  if (_sli2) {\n                    _sli2.classList.remove(SELECTED);\n                  }\n\n                  this.isClosed = true;\n                  this.keyType = 'click';\n\n                  if (this.showItemOnClick) {\n                    this.setLISelected(cli);\n                  }\n\n                  this.closeMenu(culIdx + 1, e);\n\n                  if (this.showItemOnClick) {\n                    this.setLISelected(cli);\n                  }\n                }\n              }\n\n              if (!this.isClosed) {\n                this.afterCloseMenu(e);\n              }\n\n              this.isClosed = false;\n            }\n          }\n        } else {\n          if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n            var popupEle = closest(trgt, '.' + POPUP);\n            var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n\n            if (cIdx < this.navIdx.length) {\n              this.closeMenu(cIdx + 1, e);\n\n              if (popupEle) {\n                this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n              }\n            }\n          } else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n            this.menuHeaderClickHandler(e);\n          } else {\n            if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') && !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n              if (!cli) {\n                this.removeLIStateByClass([SELECTED], [wrapper]);\n              }\n\n              if (!cli || !cli.querySelector('.' + CARET)) {\n                this.closeMenu(null, e);\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"afterCloseMenu\",\n    value: function afterCloseMenu(e) {\n      var isHeader;\n\n      if (this.showSubMenu) {\n        if (this.showItemOnClick && this.navIdx.length === 0) {\n          isHeader = closest(e.target, '.e-menu-parent.e-control');\n        } else {\n          isHeader = closest(this.element, '.e-menu-parent.e-control');\n        }\n\n        var idx = this.navIdx.concat(this.cliIdx);\n        var item = this.getItem(idx);\n\n        if (item && item[this.getField('children', idx.length - 1)] && item[this.getField('children', idx.length - 1)].length) {\n          if (e.type === 'mouseover' || Browser.isDevice && this.isMenu) {\n            this.setLISelected(this.cli);\n          }\n\n          if (!this.hamburgerMode && isHeader || this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false') {\n            this.cli.setAttribute('aria-expanded', 'true');\n            this.navIdx.push(this.cliIdx);\n            this.openMenu(this.cli, item, null, null, e);\n          }\n        } else {\n          if (e.type !== 'mouseover') {\n            this.closeMenu(null, e);\n          }\n        }\n\n        if (!isHeader) {\n          var cul = this.getUlByNavIdx();\n          var sli = this.getLIByClass(cul, SELECTED);\n\n          if (sli) {\n            sli.setAttribute('aria-expanded', 'false');\n            sli.classList.remove(SELECTED);\n          }\n        }\n      }\n\n      this.keyType = '';\n    }\n  }, {\n    key: \"setLISelected\",\n    value: function setLISelected(li) {\n      var sli = this.getLIByClass(li.parentElement, SELECTED);\n\n      if (sli) {\n        sli.classList.remove(SELECTED);\n      }\n\n      if (!this.isMenu) {\n        li.classList.remove(FOCUSED);\n      }\n\n      li.classList.add(SELECTED);\n    }\n  }, {\n    key: \"getLIByClass\",\n    value: function getLIByClass(ul, classname) {\n      for (var i = 0, len = ul.children.length; i < len; i++) {\n        if (ul.children[i].classList.contains(classname)) {\n          return ul.children[i];\n        }\n      }\n\n      return null;\n    }\n    /**\n     * This method is used to get the index of the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"getItemIndex\",\n    value: function getItemIndex(item, isUniqueId) {\n      var idx;\n\n      if (typeof item === 'string') {\n        idx = item;\n      } else {\n        idx = item.id;\n      }\n\n      var isText = isUniqueId === false ? false : true;\n      var navIdx = this.getIndex(idx, isText);\n      return navIdx;\n    }\n    /**\n     * This method is used to set the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem} item - item need to be updated.\n     * @param {string} id - id to be passed to update the item.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"setItem\",\n    value: function setItem(item, id, isUniqueId) {\n      var idx = id ? id : item.id;\n      var isText = isUniqueId === false ? false : true;\n      var navIdx = this.getIndex(idx, isText);\n      var newItem = this.getItem(navIdx);\n      newItem.iconCss = item.iconCss;\n      newItem.id = item.id;\n      newItem.text = item.text;\n      newItem.url = item.url;\n      newItem.separator = item.separator;\n      newItem.items = item.items;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(navIdx) {\n      navIdx = navIdx.slice();\n      var idx = navIdx.pop();\n      var items = this.getItems(navIdx);\n      return items[idx];\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems(navIdx) {\n      var items = this.items;\n\n      for (var i = 0; i < navIdx.length; i++) {\n        items = items[navIdx[i]][this.getField('children', i)];\n      }\n\n      return items;\n    }\n  }, {\n    key: \"setItems\",\n    value: function setItems(newItems, navIdx) {\n      var items = this.getItems(navIdx);\n      items.splice(0, items.length);\n\n      for (var i = 0; i < newItems.length; i++) {\n        items.splice(i, 0, newItems[i]);\n      }\n    }\n  }, {\n    key: \"getIdx\",\n    value: function getIdx(ul, li) {\n      var skipHdr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var idx = Array.prototype.indexOf.call(ul.children, li);\n\n      if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n        idx--;\n      }\n\n      return idx;\n    }\n  }, {\n    key: \"getLI\",\n    value: function getLI(elem) {\n      if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n        return elem;\n      }\n\n      return closest(elem, 'li.e-menu-item');\n    }\n  }, {\n    key: \"updateItemsByNavIdx\",\n    value: function updateItemsByNavIdx() {\n      var items = this.items;\n      var count = 0;\n\n      for (var index = 0; index < this.navIdx.length; index++) {\n        items = items[index].items;\n\n        if (!items) {\n          break;\n        }\n\n        count++;\n        var ul = this.getUlByNavIdx(count);\n\n        if (!ul) {\n          break;\n        }\n\n        this.updateItem(ul, items);\n      }\n    }\n  }, {\n    key: \"removeChildElement\",\n    value: function removeChildElement(elem) {\n      while (elem.firstElementChild) {\n        elem.removeChild(elem.firstElementChild);\n      }\n\n      return elem;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuBaseModel} newProp - Specifies the new properties\n     * @param {MenuBaseModel} oldProp - Specifies the old properties\n     * @returns {void}\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var _this18 = this;\n\n      var wrapper = this.getWrapper();\n\n      for (var _i3 = 0, _Object$keys3 = Object.keys(newProp); _i3 < _Object$keys3.length; _i3++) {\n        var prop = _Object$keys3[_i3];\n\n        switch (prop) {\n          case 'cssClass':\n            if (oldProp.cssClass) {\n              removeClass([wrapper], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              _addClass([wrapper], newProp.cssClass.split(' '));\n            }\n\n            break;\n\n          case 'enableRtl':\n            wrapper.classList.toggle(RTL);\n            break;\n\n          case 'showItemOnClick':\n            this.unWireEvents();\n            this.showItemOnClick = newProp.showItemOnClick;\n            this.wireEvents();\n            break;\n\n          case 'enableScrolling':\n            if (newProp.enableScrolling) {\n              (function () {\n                var ul = void 0;\n\n                if (_this18.element.classList.contains('e-vertical')) {\n                  addScrolling(_this18.createElement, wrapper, _this18.element, 'vscroll', _this18.enableRtl);\n                } else {\n                  addScrolling(_this18.createElement, wrapper, _this18.element, 'hscroll', _this18.enableRtl);\n                }\n\n                _this18.getPopups().forEach(function (wrapper) {\n                  ul = _select('.e-ul', wrapper);\n                  addScrolling(_this18.createElement, wrapper, ul, 'vscroll', _this18.enableRtl);\n                });\n              })();\n            } else {\n              (function () {\n                var ul = wrapper.children[0];\n\n                if (_this18.element.classList.contains('e-vertical')) {\n                  destroyScroll(getInstance(ul, VScroll), ul);\n                } else {\n                  destroyScroll(getInstance(ul, HScroll), ul);\n                }\n\n                wrapper.style.overflow = '';\n                wrapper.appendChild(_this18.element);\n\n                _this18.getPopups().forEach(function (wrapper) {\n                  ul = wrapper.children[0];\n                  destroyScroll(getInstance(ul, VScroll), ul);\n                  wrapper.style.overflow = '';\n                });\n              })();\n            }\n\n            break;\n\n          case 'items':\n            {\n              var idx = void 0;\n              var navIdx = void 0;\n              var item = void 0;\n\n              if (!Object.keys(oldProp.items).length) {\n                this.updateItem(this.element, this.items);\n\n                if (!this.hamburgerMode) {\n                  for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                    detach(wrapper.lastElementChild);\n                  }\n                }\n\n                this.navIdx = [];\n              } else {\n                var keys = Object.keys(newProp.items);\n\n                for (var _i4 = 0; _i4 < keys.length; _i4++) {\n                  navIdx = this.getChangedItemIndex(newProp, [], Number(keys[_i4]));\n\n                  if (navIdx.length <= this.getWrapper().children.length) {\n                    idx = navIdx.pop();\n                    item = this.getItems(navIdx);\n                    this.insertAfter([item[idx]], item[idx].text);\n                    this.removeItem(item, navIdx, idx);\n                    this.setItems(item, navIdx);\n                  }\n\n                  navIdx.length = 0;\n                }\n              }\n\n              break;\n            }\n        }\n      }\n    }\n  }, {\n    key: \"updateItem\",\n    value: function updateItem(ul, items) {\n      if (isBlazor() && !this.isMenu) {\n        ul = this.removeChildElement(ul);\n      } else {\n        ul.innerHTML = '';\n      }\n\n      var lis = [].slice.call(this.createItems(items).children);\n      lis.forEach(function (li) {\n        ul.appendChild(li);\n      });\n    }\n  }, {\n    key: \"getChangedItemIndex\",\n    value: function getChangedItemIndex(newProp, index, idx) {\n      index.push(idx);\n      var key = Object.keys(newProp.items[idx]).pop();\n\n      if (key === 'items') {\n        var item = newProp.items[idx];\n        var popStr = Object.keys(item.items).pop();\n\n        if (popStr) {\n          this.getChangedItemIndex(item, index, Number(popStr));\n        }\n      } else {\n        if (key === 'isParentArray' && index.length > 1) {\n          index.pop();\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(item, navIdx, idx) {\n      item.splice(idx, 1);\n      var uls = this.getWrapper().children;\n\n      if (navIdx.length < uls.length) {\n        detach(uls[navIdx.length].children[idx]);\n      }\n    }\n    /**\n     * Used to unwire the bind events.\n     *\n     * @private\n     * @param {string} targetSelctor - Specifies the target selector\n     * @returns {void}\n     */\n\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      var targetSelctor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.target;\n      var wrapper = this.getWrapper();\n\n      if (targetSelctor) {\n        var target;\n        var touchModule;\n        var targetElems = selectAll(targetSelctor);\n\n        for (var i = 0, len = targetElems.length; i < len; i++) {\n          target = targetElems[i];\n\n          if (this.isMenu) {\n            EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n          } else {\n            if (Browser.isIos) {\n              touchModule = getInstance(target, Touch);\n\n              if (touchModule) {\n                touchModule.destroy();\n              }\n            } else {\n              EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n            }\n          }\n        }\n\n        if (!this.isMenu) {\n          EventHandler.remove(this.targetElement, 'scroll', this.scrollHandler);\n\n          var _iterator6 = _createForOfIteratorHelper(getScrollableParent(this.targetElement)),\n              _step6;\n\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              var parent = _step6.value;\n              EventHandler.remove(parent, 'scroll', this.scrollHandler);\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n        }\n      }\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n        EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n      }\n\n      EventHandler.remove(document, 'click', this.delegateClickHandler);\n      this.unWireKeyboardEvent(wrapper);\n      this.rippleFn();\n    }\n  }, {\n    key: \"unWireKeyboardEvent\",\n    value: function unWireKeyboardEvent(element) {\n      var keyboardModule = getInstance(element, KeyboardEvents);\n\n      if (keyboardModule) {\n        keyboardModule.destroy();\n      }\n    }\n  }, {\n    key: \"toggleAnimation\",\n    value: function toggleAnimation(ul) {\n      var _this19 = this;\n\n      var isMenuOpen = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var pUlHeight;\n      var pElement;\n\n      if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n        this.end(ul, isMenuOpen);\n      } else {\n        this.animation.animate(ul, {\n          name: this.animationSettings.effect,\n          duration: this.animationSettings.duration,\n          timingFunction: this.animationSettings.easing,\n          begin: function begin(options) {\n            if (_this19.hamburgerMode) {\n              pElement = options.element.parentElement;\n              options.element.style.position = 'absolute';\n              pUlHeight = pElement.offsetHeight;\n              options.element.style.maxHeight = options.element.offsetHeight + 'px';\n              pElement.style.maxHeight = '';\n            } else {\n              options.element.style.display = 'block';\n              options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n            }\n          },\n          progress: function progress(options) {\n            if (_this19.hamburgerMode) {\n              pElement.style.minHeight = pUlHeight + options.element.offsetHeight + 'px';\n            }\n          },\n          end: function end(options) {\n            if (_this19.hamburgerMode) {\n              options.element.style.position = '';\n              options.element.style.maxHeight = '';\n              pElement.style.minHeight = '';\n              options.element.style.top = 0 + 'px';\n              options.element.children[0].focus();\n\n              _this19.triggerOpen(options.element.children[0]);\n            } else {\n              _this19.end(options.element, isMenuOpen);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"triggerOpen\",\n    value: function triggerOpen(ul) {\n      var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n      var eventArgs = {\n        element: ul,\n        parentItem: item,\n        items: item ? item.items : this.items\n      };\n      this.trigger('onOpen', eventArgs);\n    }\n  }, {\n    key: \"end\",\n    value: function end(ul, isMenuOpen) {\n      if (isMenuOpen) {\n        ul.style.display = 'block';\n        ul.style.maxHeight = '';\n        this.triggerOpen(ul);\n\n        if (ul.querySelector('.' + FOCUSED)) {\n          ul.querySelector('.' + FOCUSED).focus();\n        } else {\n          var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n\n          if (ele) {\n            ele.querySelector('.' + SELECTED).focus();\n          } else {\n            this.element.focus();\n          }\n        }\n      } else {\n        if (ul === this.element) {\n          var fli = this.getLIByClass(this.element, FOCUSED);\n\n          if (fli) {\n            fli.classList.remove(FOCUSED);\n          }\n\n          var sli = this.getLIByClass(this.element, SELECTED);\n\n          if (sli) {\n            sli.classList.remove(SELECTED);\n          }\n\n          ul.style.display = 'none';\n        } else {\n          detach(ul);\n        }\n      }\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      return '';\n    }\n    /**\n     * Get wrapper element.\n     *\n     * @returns {Element} - Wrapper element\n     * @private\n     */\n\n  }, {\n    key: \"getWrapper\",\n    value: function getWrapper() {\n      return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex(data, isUniqueId) {\n      var items = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.items;\n      var nIndex = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      var isCallBack = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var level = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n      var item;\n      level = isCallBack ? level + 1 : 0;\n\n      for (var i = 0, len = items.length; i < len; i++) {\n        item = items[i];\n\n        if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n          nIndex.push(i);\n          break;\n        } else if (item[this.getField('children', level)] && item[this.getField('children', level)].length) {\n          nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n\n          if (nIndex[nIndex.length - 1] === -1) {\n            if (i !== len - 1) {\n              nIndex.pop();\n            }\n          } else {\n            nIndex.unshift(i);\n            break;\n          }\n        } else {\n          if (i === len - 1) {\n            nIndex.push(-1);\n          }\n        }\n      }\n\n      return !isCallBack && nIndex[0] === -1 ? [] : nIndex;\n    }\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"enableItems\",\n    value: function enableItems(items) {\n      var enable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var isUniqueId = arguments.length > 2 ? arguments[2] : undefined;\n      var ul;\n      var idx;\n      var navIdx;\n      var disabled = DISABLED;\n      var skipItem;\n\n      for (var i = 0; i < items.length; i++) {\n        navIdx = this.getIndex(items[i], isUniqueId);\n\n        if (this.navIdx.length) {\n          if (navIdx.length !== 1) {\n            skipItem = false;\n\n            for (var _i5 = 0, len = navIdx.length - 1; _i5 < len; _i5++) {\n              if (navIdx[_i5] !== this.navIdx[_i5]) {\n                skipItem = true;\n                break;\n              }\n            }\n\n            if (skipItem) {\n              continue;\n            }\n          }\n        } else {\n          if (navIdx.length !== 1) {\n            continue;\n          }\n        }\n\n        idx = navIdx.pop();\n        ul = this.getUlByNavIdx(navIdx.length);\n\n        if (ul) {\n          if (enable) {\n            if (this.isMenu) {\n              ul.children[idx].classList.remove(disabled);\n              ul.children[idx].removeAttribute('aria-disabled');\n            } else {\n              if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                ul.children[idx + 1].classList.remove(disabled);\n              } else {\n                ul.children[idx].classList.remove(disabled);\n              }\n            }\n          } else {\n            if (this.isMenu) {\n              ul.children[idx].classList.add(disabled);\n              ul.children[idx].setAttribute('aria-disabled', 'true');\n            } else {\n              if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                ul.children[idx + 1].classList.add(disabled);\n              } else {\n                ul.children[idx].classList.add(disabled);\n              }\n            }\n          }\n        }\n      }\n    }\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be shown.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"showItems\",\n    value: function showItems(items, isUniqueId) {\n      this.showHideItems(items, false, isUniqueId);\n    }\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be hidden.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"hideItems\",\n    value: function hideItems(items, isUniqueId) {\n      this.showHideItems(items, true, isUniqueId);\n    }\n  }, {\n    key: \"showHideItems\",\n    value: function showHideItems(items, ishide, isUniqueId) {\n      var ul;\n      var index;\n      var navIdx;\n\n      for (var i = 0; i < items.length; i++) {\n        navIdx = this.getIndex(items[i], isUniqueId);\n        index = navIdx.pop();\n        ul = this.getUlByNavIdx(navIdx.length);\n\n        if (ul) {\n          if (ishide) {\n            if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n              ul.children[index + 1].classList.add(HIDE);\n            } else {\n              ul.children[index].classList.add(HIDE);\n            }\n          } else {\n            if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n              ul.children[index + 1].classList.remove(HIDE);\n            } else {\n              ul.children[index].classList.remove(HIDE);\n            }\n          }\n        }\n      }\n    }\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     *\n     * @param {string[]} items Text items that needs to be removed.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(items, isUniqueId) {\n      var idx;\n      var navIdx;\n      var iitems;\n\n      for (var i = 0; i < items.length; i++) {\n        navIdx = this.getIndex(items[i], isUniqueId);\n        idx = navIdx.pop();\n        iitems = this.getItems(navIdx);\n        this.removeItem(iitems, navIdx, idx);\n      }\n    }\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item after that the element to be inserted.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"insertAfter\",\n    value: function insertAfter(items, text, isUniqueId) {\n      this.insertItems(items, text, isUniqueId);\n    }\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item before that the element to be inserted.\n     * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"insertBefore\",\n    value: function insertBefore(items, text, isUniqueId) {\n      this.insertItems(items, text, isUniqueId, false);\n    }\n  }, {\n    key: \"insertItems\",\n    value: function insertItems(items, text, isUniqueId) {\n      var isAfter = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n      var li;\n      var idx;\n      var navIdx;\n      var iitems;\n      var menuitem;\n\n      for (var i = 0; i < items.length; i++) {\n        navIdx = this.getIndex(text, isUniqueId);\n        idx = navIdx.pop();\n        iitems = this.getItems(navIdx);\n        menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n        iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n        var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n\n        if (navIdx.length < uls.length) {\n          idx = isAfter ? idx + 1 : idx;\n          li = this.createItems(iitems).children[idx];\n          var ul = this.isMenu ? _select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n          ul.insertBefore(li, ul.children[idx]);\n        }\n      }\n    }\n  }, {\n    key: \"removeAttributes\",\n    value: function removeAttributes() {\n      var _this20 = this;\n\n      ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n        _this20.element.style.removeProperty(key);\n      });\n      ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n        if (key === 'class' && _this20.element.classList.contains('e-menu-parent')) {\n          _this20.element.classList.remove('e-menu-parent');\n        }\n\n        if (['class', 'style'].indexOf(key) === -1 || !_this20.element.getAttribute(key)) {\n          _this20.element.removeAttribute(key);\n        }\n\n        if (_this20.isMenu && key === 'class' && _this20.element.classList.contains('e-vertical')) {\n          _this20.element.classList.remove('e-vertical');\n        }\n      });\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var wrapper = this.getWrapper();\n\n      if (wrapper) {\n        this.unWireEvents();\n\n        if (!this.isMenu) {\n          this.clonedElement.style.display = '';\n\n          if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n            _addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n\n            this.element = this.clonedElement;\n          } else {\n            if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n              this.setProperties({\n                'items': []\n              }, true);\n            }\n\n            if (document.getElementById(this.clonedElement.id)) {\n              var refEle = this.clonedElement.nextElementSibling;\n\n              if (refEle && refEle !== wrapper) {\n                this.clonedElement.parentElement.insertBefore(this.element, refEle);\n              } else {\n                this.clonedElement.parentElement.appendChild(this.element);\n              }\n\n              if (isBlazor() && !this.isMenu) {\n                this.element = this.removeChildElement(this.element);\n              } else {\n                this.element.innerHTML = '';\n              }\n\n              append([].slice.call(this.clonedElement.children), this.element);\n              detach(this.clonedElement);\n              this.removeAttributes();\n            }\n          }\n\n          this.clonedElement = null;\n        } else {\n          this.closeMenu();\n\n          if (isBlazor() && !this.isMenu) {\n            this.element = this.removeChildElement(this.element);\n          } else {\n            this.element.innerHTML = '';\n          }\n\n          this.removeAttributes();\n          wrapper.parentNode.insertBefore(this.element, wrapper);\n          this.clonedElement = null;\n        }\n\n        if (this.isMenu && this.clonedElement) {\n          detach(this.element);\n          wrapper.style.display = '';\n          wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n          wrapper.removeAttribute('data-ripple');\n        } else {\n          detach(wrapper);\n        }\n\n        _get(_getPrototypeOf(MenuBase.prototype), \"destroy\", this).call(this);\n\n        if (this.template) {\n          this.clearTemplate(['template']);\n        }\n      }\n    }\n  }]);\n\n  return MenuBase;\n}(Component);\n\n__decorate$2([Event()], MenuBase.prototype, \"beforeItemRender\", void 0);\n\n__decorate$2([Event()], MenuBase.prototype, \"beforeOpen\", void 0);\n\n__decorate$2([Event()], MenuBase.prototype, \"onOpen\", void 0);\n\n__decorate$2([Event()], MenuBase.prototype, \"beforeClose\", void 0);\n\n__decorate$2([Event()], MenuBase.prototype, \"onClose\", void 0);\n\n__decorate$2([Event()], MenuBase.prototype, \"select\", void 0);\n\n__decorate$2([Event()], MenuBase.prototype, \"created\", void 0);\n\n__decorate$2([Property('')], MenuBase.prototype, \"cssClass\", void 0);\n\n__decorate$2([Property(0)], MenuBase.prototype, \"hoverDelay\", void 0);\n\n__decorate$2([Property(false)], MenuBase.prototype, \"showItemOnClick\", void 0);\n\n__decorate$2([Property('')], MenuBase.prototype, \"target\", void 0);\n\n__decorate$2([Property('')], MenuBase.prototype, \"filter\", void 0);\n\n__decorate$2([Property(null)], MenuBase.prototype, \"template\", void 0);\n\n__decorate$2([Property(false)], MenuBase.prototype, \"enableScrolling\", void 0);\n\n__decorate$2([Property(false)], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$2([Complex({\n  itemId: 'id',\n  text: 'text',\n  parentId: 'parentId',\n  iconCss: 'iconCss',\n  url: 'url',\n  separator: 'separator',\n  children: 'items'\n}, FieldSettings)], MenuBase.prototype, \"fields\", void 0);\n\n__decorate$2([Collection([], MenuItem)], MenuBase.prototype, \"items\", void 0);\n\n__decorate$2([Complex({\n  duration: 400,\n  easing: 'ease',\n  effect: 'SlideDown'\n}, MenuAnimationSettings)], MenuBase.prototype, \"animationSettings\", void 0);\n\nMenuBase = __decorate$2([NotifyPropertyChanges], MenuBase);\n/**\n * Navigation Common modules\n */\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL$2 = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE$2 = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR$1 = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\n\nvar Item = /*#__PURE__*/function (_ChildProperty4) {\n  _inherits(Item, _ChildProperty4);\n\n  var _super7 = _createSuper(Item);\n\n  function Item() {\n    _classCallCheck(this, Item);\n\n    return _super7.apply(this, arguments);\n  }\n\n  return Item;\n}(ChildProperty);\n\n__decorate$3([Property('')], Item.prototype, \"id\", void 0);\n\n__decorate$3([Property('')], Item.prototype, \"text\", void 0);\n\n__decorate$3([Property('auto')], Item.prototype, \"width\", void 0);\n\n__decorate$3([Property('')], Item.prototype, \"cssClass\", void 0);\n\n__decorate$3([Property(false)], Item.prototype, \"showAlwaysInPopup\", void 0);\n\n__decorate$3([Property(false)], Item.prototype, \"disabled\", void 0);\n\n__decorate$3([Property('')], Item.prototype, \"prefixIcon\", void 0);\n\n__decorate$3([Property('')], Item.prototype, \"suffixIcon\", void 0);\n\n__decorate$3([Property(true)], Item.prototype, \"visible\", void 0);\n\n__decorate$3([Property('None')], Item.prototype, \"overflow\", void 0);\n\n__decorate$3([Property('')], Item.prototype, \"template\", void 0);\n\n__decorate$3([Property('Button')], Item.prototype, \"type\", void 0);\n\n__decorate$3([Property('Both')], Item.prototype, \"showTextOn\", void 0);\n\n__decorate$3([Property(null)], Item.prototype, \"htmlAttributes\", void 0);\n\n__decorate$3([Property('')], Item.prototype, \"tooltipText\", void 0);\n\n__decorate$3([Property('Left')], Item.prototype, \"align\", void 0);\n\n__decorate$3([Event()], Item.prototype, \"click\", void 0);\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\n\n\nvar Toolbar = /*#__PURE__*/function (_Component4) {\n  _inherits(Toolbar, _Component4);\n\n  var _super8 = _createSuper(Toolbar);\n\n  /**\n   * Initializes a new instance of the Toolbar class.\n   *\n   * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n   * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n   */\n  function Toolbar(options, element) {\n    var _this21;\n\n    _classCallCheck(this, Toolbar);\n\n    _this21 = _super8.call(this, options, element);\n    _this21.resizeContext = _this21.resize.bind(_assertThisInitialized(_this21));\n    /**\n     * Contains the keyboard configuration of the Toolbar.\n     */\n\n    _this21.keyConfigs = {\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      popupOpen: 'enter',\n      popupClose: 'escape',\n      tab: 'tab',\n      home: 'home',\n      end: 'end'\n    };\n    return _this21;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}.\n   */\n\n\n  _createClass(Toolbar, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this22 = this;\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n      [].slice.call(btnItems).forEach(function (el) {\n        if (!isNullOrUndefined(el) && !isNullOrUndefined(el.ej2_instances) && !isNullOrUndefined(el.ej2_instances[0]) && !el.ej2_instances[0].isDestroyed) {\n          el.ej2_instances[0].destroy();\n        }\n      });\n\n      _get(_getPrototypeOf(Toolbar.prototype), \"destroy\", this).call(this);\n\n      this.unwireEvents();\n      this.tempId.forEach(function (ele) {\n        if (!isNullOrUndefined(_this22.element.querySelector(ele))) {\n          document.body.appendChild(_this22.element.querySelector(ele)).style.display = 'none';\n        }\n      });\n\n      while (this.element.lastElementChild) {\n        this.element.removeChild(this.element.lastElementChild);\n      }\n\n      if (this.trgtEle) {\n        this.element.appendChild(this.ctrlTem);\n      }\n\n      this.clearProperty();\n      this.popObj = null;\n      this.tbarAlign = null;\n      this.remove(this.element, 'e-toolpop');\n\n      if (this.cssClass) {\n        removeClass([this.element], this.cssClass.split(' '));\n      }\n\n      this.element.removeAttribute('style');\n      ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n        return _this22.element.removeAttribute(attrb);\n      });\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      var eventArgs = {\n        enableCollision: this.enableCollision,\n        scrollStep: this.scrollStep\n      };\n      this.trigger('beforeCreate', eventArgs);\n      this.enableCollision = eventArgs.enableCollision;\n      this.scrollStep = eventArgs.scrollStep;\n      this.scrollModule = null;\n      this.popObj = null;\n      this.tempId = [];\n      this.tbarItemsCol = this.items;\n      this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n      this.isExtendedOpen = false;\n      this.popupPriCount = 0;\n\n      if (this.enableRtl) {\n        this.add(this.element, CLS_RTL$2);\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      EventHandler.add(this.element, 'click', this.clickHandler, this);\n      window.addEventListener('resize', this.resizeContext);\n\n      if (this.allowKeyboard) {\n        this.wireKeyboardEvent();\n      }\n    }\n  }, {\n    key: \"wireKeyboardEvent\",\n    value: function wireKeyboardEvent() {\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs\n      });\n      EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n      this.element.setAttribute('tabIndex', '0');\n    }\n  }, {\n    key: \"unwireKeyboardEvent\",\n    value: function unwireKeyboardEvent() {\n      if (this.keyModule) {\n        EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n        this.keyModule.destroy();\n        this.keyModule = null;\n      }\n    }\n  }, {\n    key: \"docKeyDown\",\n    value: function docKeyDown(e) {\n      if (e.target.tagName === 'INPUT') {\n        return;\n      }\n\n      var popCheck = !isNullOrUndefined(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n\n      if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n        this.popObj.hide({\n          name: 'FadeOut',\n          duration: 100\n        });\n      }\n\n      var keyCheck = e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36;\n\n      if (keyCheck) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: \"unwireEvents\",\n    value: function unwireEvents() {\n      EventHandler.remove(this.element, 'click', this.clickHandler);\n      this.destroyScroll();\n      this.unwireKeyboardEvent();\n      window.removeEventListener('resize', this.resizeContext);\n      EventHandler.remove(document, 'scroll', this.docEvent);\n      EventHandler.remove(document, 'click', this.docEvent);\n    }\n  }, {\n    key: \"clearProperty\",\n    value: function clearProperty() {\n      this.tbarEle = [];\n      this.tbarAlgEle = {\n        lefts: [],\n        centers: [],\n        rights: []\n      };\n    }\n  }, {\n    key: \"docEvent\",\n    value: function docEvent(e) {\n      var popEle = closest(e.target, '.e-popup');\n\n      if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n        this.popObj.hide({\n          name: 'FadeOut',\n          duration: 100\n        });\n      }\n    }\n  }, {\n    key: \"destroyScroll\",\n    value: function destroyScroll() {\n      if (this.scrollModule) {\n        if (this.tbarAlign) {\n          this.add(this.scrollModule.element, CLS_TBARPOS);\n        }\n\n        this.scrollModule.destroy();\n        this.scrollModule = null;\n      }\n    }\n  }, {\n    key: \"destroyItems\",\n    value: function destroyItems() {\n      if (this.element) {\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n          detach(el);\n        });\n      }\n\n      var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n\n      if (this.tbarAlign) {\n        [].slice.call(tbarItems.children).forEach(function (el) {\n          detach(el);\n        });\n        this.tbarAlign = false;\n        this.remove(tbarItems, CLS_TBARPOS);\n      }\n\n      this.clearProperty();\n    }\n  }, {\n    key: \"destroyMode\",\n    value: function destroyMode() {\n      if (this.scrollModule) {\n        this.remove(this.scrollModule.element, CLS_RTL$2);\n        this.destroyScroll();\n      }\n\n      this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n      this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n      var tempEle = this.element.querySelector('.e-toolbar-multirow');\n\n      if (tempEle) {\n        this.remove(tempEle, CLS_MULTIROW);\n      }\n\n      if (this.popObj) {\n        this.popupRefresh(this.popObj.element, true);\n      }\n    }\n  }, {\n    key: \"add\",\n    value: function add(ele, val) {\n      ele.classList.add(val);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(ele, val) {\n      ele.classList.remove(val);\n    }\n  }, {\n    key: \"elementFocus\",\n    value: function elementFocus(ele) {\n      var fChild = ele.firstElementChild;\n\n      if (fChild) {\n        fChild.focus();\n        this.activeEleSwitch(ele);\n      } else {\n        ele.focus();\n      }\n    }\n  }, {\n    key: \"clstElement\",\n    value: function clstElement(tbrNavChk, trgt) {\n      var clst;\n\n      if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n        clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n      } else if (this.element === trgt || tbrNavChk) {\n        clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n      } else {\n        clst = closest(trgt, '.' + CLS_ITEM);\n      }\n\n      return clst;\n    }\n  }, {\n    key: \"keyHandling\",\n    value: function keyHandling(clst, e, trgt, navChk, scrollChk) {\n      var popObj = this.popObj;\n      var rootEle = this.element;\n      var popAnimate = {\n        name: 'FadeOut',\n        duration: 100\n      };\n      var value = e.action === 'moveUp' ? 'previous' : 'next';\n      var ele;\n      var nodes;\n\n      switch (e.action) {\n        case 'moveRight':\n          if (this.isVertical) {\n            return;\n          }\n\n          if (rootEle === trgt) {\n            this.elementFocus(clst);\n          } else if (!navChk) {\n            this.eleFocus(clst, 'next');\n          }\n\n          break;\n\n        case 'moveLeft':\n          if (this.isVertical) {\n            return;\n          }\n\n          if (!navChk) {\n            this.eleFocus(clst, 'previous');\n          }\n\n          break;\n\n        case 'home':\n        case 'end':\n          if (clst) {\n            var popupCheck = closest(clst, '.e-popup');\n\n            if (popupCheck) {\n              if (isVisible(this.popObj.element)) {\n                nodes = [].slice.call(popupCheck.children);\n\n                if (e.action === 'home') {\n                  ele = nodes[0];\n                } else {\n                  ele = nodes[nodes.length - 1];\n                }\n              }\n            } else {\n              nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n\n              if (e.action === 'home') {\n                ele = nodes[0];\n              } else {\n                ele = nodes[nodes.length - 1];\n              }\n            }\n\n            if (ele) {\n              this.elementFocus(ele);\n            }\n          }\n\n          break;\n\n        case 'moveUp':\n        case 'moveDown':\n          if (!this.isVertical) {\n            if (popObj && closest(trgt, '.e-popup')) {\n              var popEle = popObj.element;\n              var popFrstEle = popEle.firstElementChild;\n\n              if (value === 'previous' && popFrstEle === clst || value === 'next' && popEle.lastElementChild === clst) {\n                return;\n              } else {\n                this.eleFocus(clst, value);\n              }\n            } else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n              this.elementFocus(clst);\n            }\n          } else {\n            if (e.action === 'moveUp') {\n              this.eleFocus(clst, 'previous');\n            } else {\n              this.eleFocus(clst, 'next');\n            }\n          }\n\n          break;\n\n        case 'tab':\n          if (!scrollChk && !navChk) {\n            var _ele3 = clst.firstElementChild;\n\n            if (rootEle === trgt) {\n              if (this.activeEle) {\n                this.activeEle.focus();\n              } else {\n                this.activeEleRemove(_ele3);\n\n                _ele3.focus();\n              }\n\n              this.element.removeAttribute('tabindex');\n            }\n          }\n\n          break;\n\n        case 'popupClose':\n          if (popObj && this.overflowMode !== 'Extended') {\n            popObj.hide(popAnimate);\n          }\n\n          break;\n\n        case 'popupOpen':\n          if (!navChk) {\n            return;\n          }\n\n          if (popObj && !isVisible(popObj.element)) {\n            popObj.element.style.top = rootEle.offsetHeight + 'px';\n            popObj.show({\n              name: 'FadeIn',\n              duration: 100\n            });\n          } else {\n            popObj.hide(popAnimate);\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"keyActionHandler\",\n    value: function keyActionHandler(e) {\n      var trgt = e.target;\n\n      if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE$2)) {\n        return;\n      }\n\n      e.preventDefault();\n      var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n      var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n      var clst = this.clstElement(tbrNavChk, trgt);\n\n      if (clst || tbarScrollChk) {\n        this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n      }\n    }\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable(value) {\n      var rootEle = this.element;\n\n      if (value) {\n        rootEle.classList.add(CLS_DISABLE$2);\n      } else {\n        rootEle.classList.remove(CLS_DISABLE$2);\n      }\n\n      rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n\n      if (this.activeEle) {\n        this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n      }\n\n      if (this.scrollModule) {\n        this.scrollModule.disable(value);\n      }\n\n      if (this.popObj) {\n        if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n          this.popObj.hide();\n        }\n\n        rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n      }\n    }\n  }, {\n    key: \"eleContains\",\n    value: function eleContains(el) {\n      return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE$2) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    }\n  }, {\n    key: \"eleFocus\",\n    value: function eleFocus(closest$$1, pos) {\n      var sib = Object(closest$$1)[pos + 'ElementSibling'];\n\n      if (sib) {\n        var skipEle = this.eleContains(sib);\n\n        if (skipEle) {\n          this.eleFocus(sib, pos);\n          return;\n        }\n\n        this.elementFocus(sib);\n      } else if (this.tbarAlign) {\n        var elem = Object(closest$$1.parentElement)[pos + 'ElementSibling'];\n\n        if (!isNullOrUndefined(elem) && elem.children.length === 0) {\n          elem = Object(elem)[pos + 'ElementSibling'];\n        }\n\n        if (!isNullOrUndefined(elem) && elem.children.length > 0) {\n          if (pos === 'next') {\n            var el = elem.querySelector('.' + CLS_ITEM);\n\n            if (this.eleContains(el)) {\n              this.eleFocus(el, pos);\n            } else {\n              el.firstElementChild.focus();\n              this.activeEleSwitch(el);\n            }\n          } else {\n            var _el = elem.lastElementChild;\n\n            if (this.eleContains(_el)) {\n              this.eleFocus(_el, pos);\n            } else {\n              this.elementFocus(_el);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var _this23 = this;\n\n      var trgt = e.target;\n      var ele = this.element;\n      var isPopupElement = !isNullOrUndefined(closest(trgt, '.' + CLS_POPUPCLASS));\n      var clsList = trgt.classList;\n      var popupNav = closest(trgt, '.' + CLS_TBARNAV);\n\n      if (!popupNav) {\n        popupNav = trgt;\n      }\n\n      if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll') && clsList.contains(CLS_TBARNAV)) {\n        clsList = trgt.querySelector('.e-icons').classList;\n      }\n\n      if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n        this.popupClickHandler(ele, popupNav, CLS_RTL$2);\n      }\n\n      var itemObj;\n      var clst = closest(e.target, '.' + CLS_ITEM);\n\n      if ((isNullOrUndefined(clst) || clst.classList.contains(CLS_DISABLE$2)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n        return;\n      }\n\n      if (clst) {\n        var tempItem = this.items[this.tbarEle.indexOf(clst)];\n        itemObj = tempItem;\n      }\n\n      var eventArgs = {\n        originalEvent: e,\n        item: itemObj\n      };\n\n      if (itemObj && !isNullOrUndefined(itemObj.click)) {\n        this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n      }\n\n      if (!eventArgs.cancel) {\n        this.trigger('clicked', eventArgs, function (clickedArgs) {\n          if (!isNullOrUndefined(_this23.popObj) && isPopupElement && !clickedArgs.cancel && _this23.overflowMode === 'Popup' && clickedArgs.item && clickedArgs.item.type !== 'Input') {\n            _this23.popObj.hide({\n              name: 'FadeOut',\n              duration: 100\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"popupClickHandler\",\n    value: function popupClickHandler(ele, popupNav, CLS_RTL) {\n      var popObj = this.popObj;\n\n      if (isVisible(popObj.element)) {\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        popObj.hide({\n          name: 'FadeOut',\n          duration: 100\n        });\n      } else {\n        if (ele.classList.contains(CLS_RTL)) {\n          popObj.enableRtl = true;\n          popObj.position = {\n            X: 'left',\n            Y: 'top'\n          };\n        }\n\n        if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n          popObj.enableRtl = false;\n          popObj.position = {\n            X: 'right',\n            Y: 'top'\n          };\n        }\n\n        popObj.dataBind();\n        popObj.refreshPosition();\n        popObj.element.style.top = this.getElementOffsetY() + 'px';\n\n        if (this.overflowMode === 'Extended') {\n          popObj.element.style.minHeight = '0px';\n        }\n\n        popupNav.classList.add(CLS_TBARNAVACT);\n        popObj.show({\n          name: 'FadeIn',\n          duration: 100\n        });\n      }\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n      this.renderControl();\n      this.wireEvents();\n      this.renderComplete();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var width = formatUnit(this.width);\n      var height = formatUnit(this.height);\n\n      if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n        setStyleAttribute(this.element, {\n          'height': height\n        });\n      }\n\n      setStyleAttribute(this.element, {\n        'width': width\n      });\n      var ariaAttr = {\n        'role': 'toolbar',\n        'aria-disabled': 'false',\n        'aria-haspopup': 'false',\n        'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n      };\n      attributes(this.element, ariaAttr);\n\n      if (this.cssClass) {\n        _addClass([this.element], this.cssClass.split(' '));\n      }\n    }\n  }, {\n    key: \"renderControl\",\n    value: function renderControl() {\n      var ele = this.element;\n      this.trgtEle = ele.children.length > 0 ? ele.querySelector('div') : null;\n      this.tbarAlgEle = {\n        lefts: [],\n        centers: [],\n        rights: []\n      };\n      this.renderItems();\n      this.renderLayout();\n    }\n  }, {\n    key: \"renderLayout\",\n    value: function renderLayout() {\n      this.renderOverflowMode();\n\n      if (this.tbarAlign) {\n        this.itemPositioning();\n      }\n\n      if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n        this.popupRefresh(this.popObj.element, false);\n      }\n\n      this.separator();\n    }\n  }, {\n    key: \"itemsAlign\",\n    value: function itemsAlign(items, itemEleDom) {\n      var innerItem;\n      var innerPos;\n\n      if (!this.tbarEle) {\n        this.tbarEle = [];\n      }\n\n      for (var i = 0; i < items.length; i++) {\n        innerItem = this.renderSubComponent(items[i], i);\n\n        if (this.tbarEle.indexOf(innerItem) === -1) {\n          this.tbarEle.push(innerItem);\n        }\n\n        if (!this.tbarAlign) {\n          this.tbarItemAlign(items[i], itemEleDom, i);\n        }\n\n        innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n\n        if (innerPos) {\n          if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n            this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n          }\n\n          innerPos.appendChild(innerItem);\n        } else {\n          itemEleDom.appendChild(innerItem);\n        }\n      }\n\n      if (this.isReact) {\n        var portals = 'portals';\n        this.notify('render-react-toolbar-template', this[portals]);\n        this.renderReactTemplates();\n      }\n    }\n    /**\n     * @hidden\n     * @returns {void}\n     */\n\n  }, {\n    key: \"changeOrientation\",\n    value: function changeOrientation() {\n      var ele = this.element;\n\n      if (this.isVertical) {\n        ele.classList.remove(CLS_VERTICAL);\n        this.isVertical = false;\n\n        if (this.height === 'auto' || this.height === '100%') {\n          ele.style.height = this.height;\n        }\n\n        ele.setAttribute('aria-orientation', 'horizontal');\n      } else {\n        ele.classList.add(CLS_VERTICAL);\n        this.isVertical = true;\n        ele.setAttribute('aria-orientation', 'vertical');\n        setStyleAttribute(this.element, {\n          'height': formatUnit(this.height),\n          'width': formatUnit(this.width)\n        });\n      }\n\n      this.destroyMode();\n      this.refreshOverflow();\n    }\n  }, {\n    key: \"initScroll\",\n    value: function initScroll(element, innerItems) {\n      if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n        if (this.tbarAlign) {\n          this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n        }\n\n        if (this.isVertical) {\n          this.scrollModule = new VScroll({\n            scrollStep: this.scrollStep,\n            enableRtl: this.enableRtl\n          }, innerItems[0]);\n        } else {\n          this.scrollModule = new HScroll({\n            scrollStep: this.scrollStep,\n            enableRtl: this.enableRtl\n          }, innerItems[0]);\n        }\n\n        this.remove(this.scrollModule.element, CLS_TBARPOS);\n        setStyleAttribute(this.element, {\n          overflow: 'hidden'\n        });\n      }\n    }\n  }, {\n    key: \"itemWidthCal\",\n    value: function itemWidthCal(items) {\n      var _this24 = this;\n\n      var width = 0;\n      var style;\n      [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n        if (isVisible(el)) {\n          style = window.getComputedStyle(el);\n          width += _this24.isVertical ? el.offsetHeight : el.offsetWidth;\n          width += parseFloat(_this24.isVertical ? style.marginTop : style.marginRight);\n          width += parseFloat(_this24.isVertical ? style.marginBottom : style.marginLeft);\n        }\n      });\n      return width;\n    }\n  }, {\n    key: \"getScrollCntEle\",\n    value: function getScrollCntEle(innerItem) {\n      var trgClass = this.isVertical ? '.e-vscroll-content' : '.e-hscroll-content';\n      return innerItem.querySelector(trgClass);\n    }\n  }, {\n    key: \"checkOverflow\",\n    value: function checkOverflow(element, innerItem) {\n      if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) {\n        return false;\n      }\n\n      var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n      var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n\n      if (this.tbarAlign || this.scrollModule || eleWidth === itemWidth) {\n        itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n      }\n\n      var popNav = element.querySelector('.' + CLS_TBARNAV);\n      var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n      var navEleWidth = 0;\n\n      if (popNav) {\n        navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n      } else if (scrollNav) {\n        navEleWidth = this.isVertical ? scrollNav.offsetHeight * 2 : scrollNav.offsetWidth * 2;\n      }\n\n      if (itemWidth > eleWidth - navEleWidth) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"refreshOverflow\",\n    value: function refreshOverflow() {\n      this.resize();\n    }\n  }, {\n    key: \"toolbarAlign\",\n    value: function toolbarAlign(innerItems) {\n      if (this.tbarAlign) {\n        this.add(innerItems, CLS_TBARPOS);\n        this.itemPositioning();\n      }\n    }\n  }, {\n    key: \"renderOverflowMode\",\n    value: function renderOverflowMode() {\n      var ele = this.element;\n      var innerItems = ele.querySelector('.' + CLS_ITEMS);\n      var priorityCheck = this.popupPriCount > 0;\n\n      if (ele && ele.children.length > 0) {\n        this.offsetWid = ele.offsetWidth;\n        this.remove(this.element, 'e-toolpop');\n\n        if (Browser.info.name === 'msie' && this.height === 'auto') {\n          ele.style.height = '';\n        }\n\n        switch (this.overflowMode) {\n          case 'Scrollable':\n            if (isNullOrUndefined(this.scrollModule)) {\n              this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n            }\n\n            break;\n\n          case 'Popup':\n            this.add(this.element, 'e-toolpop');\n\n            if (this.tbarAlign) {\n              this.removePositioning();\n            }\n\n            if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n              this.setOverflowAttributes(ele);\n            }\n\n            this.toolbarAlign(innerItems);\n            break;\n\n          case 'MultiRow':\n            this.add(innerItems, CLS_MULTIROW);\n\n            if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n              this.removePositioning();\n              this.add(innerItems, CLS_MULTIROWPOS);\n            }\n\n            if (ele.style.overflow === 'hidden') {\n              ele.style.overflow = '';\n            }\n\n            if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n              ele.style.height = 'auto';\n            }\n\n            break;\n\n          case 'Extended':\n            this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n\n            if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n              if (this.tbarAlign) {\n                this.removePositioning();\n              }\n\n              this.setOverflowAttributes(ele);\n            }\n\n            this.toolbarAlign(innerItems);\n        }\n      }\n    }\n  }, {\n    key: \"setOverflowAttributes\",\n    value: function setOverflowAttributes(ele) {\n      this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n      this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n      this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    }\n  }, {\n    key: \"separator\",\n    value: function separator() {\n      var element = this.element;\n      var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n      var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n      var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n      var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n\n      if (eleInlineItem !== null) {\n        if (this.overflowMode === 'MultiRow') {\n          eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n        } else if (this.overflowMode === 'Extended') {\n          eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n        }\n      }\n\n      for (var i = 0; i <= eleItem.length - 1; i++) {\n        if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n          if (this.overflowMode === 'MultiRow') {\n            eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n          } else if (this.overflowMode === 'Extended') {\n            eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createPopupEle\",\n    value: function createPopupEle(ele, innerEle) {\n      var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n      var vertical = this.isVertical;\n\n      if (!innerNav) {\n        this.createPopupIcon(ele);\n      }\n\n      innerNav = ele.querySelector('.' + CLS_TBARNAV);\n      var innerNavDom = vertical ? innerNav.offsetHeight : innerNav.offsetWidth;\n      var eleWidth = (vertical ? ele.offsetHeight : ele.offsetWidth) - innerNavDom;\n      this.element.classList.remove('e-rtl');\n      setStyleAttribute(this.element, {\n        direction: 'initial'\n      });\n      this.checkPriority(ele, innerEle, eleWidth, true);\n\n      if (this.enableRtl) {\n        this.element.classList.add('e-rtl');\n      }\n\n      this.element.style.removeProperty('direction');\n      this.createPopup();\n    }\n  }, {\n    key: \"pushingPoppedEle\",\n    value: function pushingPoppedEle(tbarObj, popupPri, ele, eleHeight, sepHeight) {\n      var element = tbarObj.element;\n      var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n      var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n      var nodeIndex = 0;\n      var nodePri = 0;\n      poppedEle.forEach(function (el, index) {\n        nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n\n        if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n          if (tbarObj.tbResize && nodes.length > index) {\n            ele.insertBefore(el, nodes[index]);\n            ++nodePri;\n          } else {\n            ele.insertBefore(el, ele.children[nodes.length]);\n            ++nodePri;\n          }\n        } else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n          ele.insertBefore(el, ele.firstChild);\n          ++nodePri;\n        } else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n          ele.insertBefore(el, ele.firstChild);\n          ++nodePri;\n        } else if (el.classList.contains(CLS_POPOVERFLOW)) {\n          popupPri.push(el);\n        } else if (tbarObj.tbResize) {\n          ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n          ++nodeIndex;\n        } else {\n          ele.appendChild(el);\n        }\n\n        if (el.classList.contains(CLS_SEPARATOR)) {\n          setStyleAttribute(el, {\n            display: '',\n            height: sepHeight + 'px'\n          });\n        } else {\n          setStyleAttribute(el, {\n            display: '',\n            height: eleHeight + 'px'\n          });\n        }\n      });\n      popupPri.forEach(function (el) {\n        ele.appendChild(el);\n      });\n      var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n\n      for (var i = tbarEle.length - 1; i >= 0; i--) {\n        var tbarElement = tbarEle[i];\n\n        if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n          setStyleAttribute(tbarElement, {\n            display: 'none'\n          });\n        } else {\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"createPopup\",\n    value: function createPopup() {\n      var element = this.element;\n      var sepHeight;\n      var sepItem;\n\n      if (this.overflowMode === 'Extended') {\n        sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n        sepHeight = element.style.height === 'auto' || element.style.height === '' ? null : sepItem.offsetHeight;\n      }\n\n      var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n      var eleHeight = element.style.height === 'auto' || element.style.height === '' ? null : eleItem && eleItem.offsetHeight;\n      var ele;\n      var popupPri = [];\n\n      if (_select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n        ele = _select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n      } else {\n        var extendEle = this.createElement('div', {\n          id: element.id + '_popup',\n          className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n        });\n        var popupEle = this.createElement('div', {\n          id: element.id + '_popup',\n          className: CLS_POPUPCLASS\n        });\n        ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n      }\n\n      this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n      this.popupInit(element, ele);\n    }\n  }, {\n    key: \"getElementOffsetY\",\n    value: function getElementOffsetY() {\n      return this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ? this.element.clientHeight : this.element.offsetHeight;\n    }\n  }, {\n    key: \"popupInit\",\n    value: function popupInit(element, ele) {\n      if (!this.popObj) {\n        element.appendChild(ele);\n        setStyleAttribute(this.element, {\n          overflow: ''\n        });\n        var eleStyles = window.getComputedStyle(this.element);\n        var popup = new Popup(null, {\n          relateTo: this.element,\n          offsetY: this.isVertical ? 0 : this.getElementOffsetY(),\n          enableRtl: this.enableRtl,\n          open: this.popupOpen.bind(this),\n          close: this.popupClose.bind(this),\n          collision: {\n            Y: this.enableCollision ? 'flip' : 'none'\n          },\n          position: this.enableRtl ? {\n            X: 'left',\n            Y: 'top'\n          } : {\n            X: 'right',\n            Y: 'top'\n          }\n        });\n        popup.appendTo(ele);\n\n        if (this.overflowMode === 'Extended') {\n          popup.width = parseFloat(eleStyles.width) + parseFloat(eleStyles.borderRightWidth) * 2;\n          popup.offsetX = 0;\n        }\n\n        EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n        EventHandler.add(document, 'click ', this.docEvent.bind(this));\n        popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n\n        if (this.isVertical) {\n          popup.element.style.visibility = 'hidden';\n        }\n\n        if (this.isExtendedOpen) {\n          var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n          popupNav.classList.add(CLS_TBARNAVACT);\n          classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n          this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n        } else {\n          popup.hide();\n        }\n\n        this.popObj = popup;\n        this.element.setAttribute('aria-haspopup', 'true');\n      } else {\n        var popupEle = this.popObj.element;\n        setStyleAttribute(popupEle, {\n          maxHeight: '',\n          display: 'block'\n        });\n        setStyleAttribute(popupEle, {\n          maxHeight: popupEle.offsetHeight + 'px',\n          display: ''\n        });\n      }\n    }\n  }, {\n    key: \"tbarPopupHandler\",\n    value: function tbarPopupHandler(isOpen) {\n      if (this.overflowMode === 'Extended') {\n        isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n      }\n    }\n  }, {\n    key: \"popupOpen\",\n    value: function popupOpen(e) {\n      var popObj = this.popObj;\n\n      if (!this.isVertical) {\n        popObj.offsetY = this.getElementOffsetY();\n        popObj.dataBind();\n      }\n\n      var popupEle = this.popObj.element;\n      var toolEle = this.popObj.element.parentElement;\n      var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n      setStyleAttribute(popObj.element, {\n        height: 'auto',\n        maxHeight: ''\n      });\n      popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n\n      if (this.overflowMode === 'Extended') {\n        popObj.element.style.minHeight = '';\n      }\n\n      var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n      var popIcon = popupNav.firstElementChild;\n      popupNav.classList.add(CLS_TBARNAVACT);\n      classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n      this.tbarPopupHandler(true);\n      var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;\n\n      if (!this.isVertical && window.innerHeight + scrollVal < popupElePos && this.element.offsetTop < popupEle.offsetHeight) {\n        var overflowHeight = popupEle.offsetHeight - (popupElePos - window.innerHeight - scrollVal + 5);\n        popObj.height = overflowHeight + 'px';\n\n        for (var i = 0; i <= popupEle.childElementCount; i++) {\n          var ele = popupEle.children[i];\n\n          if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n            overflowHeight = ele.offsetTop;\n            break;\n          }\n        }\n\n        setStyleAttribute(popObj.element, {\n          maxHeight: overflowHeight + 'px'\n        });\n      } else if (this.isVertical) {\n        var tbEleData = this.element.getBoundingClientRect();\n        setStyleAttribute(popObj.element, {\n          maxHeight: tbEleData.top + this.element.offsetHeight + 'px',\n          bottom: 0,\n          visibility: ''\n        });\n      }\n\n      if (popObj) {\n        var popupOffset = popupEle.getBoundingClientRect();\n\n        if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n          popObj.collision = {\n            Y: 'none'\n          };\n          popObj.dataBind();\n        }\n\n        popObj.refreshPosition();\n      }\n    }\n  }, {\n    key: \"popupClose\",\n    value: function popupClose(e) {\n      var element = this.element;\n      var popupNav = element.querySelector('.' + CLS_TBARNAV);\n      var popIcon = popupNav.firstElementChild;\n      popupNav.classList.remove(CLS_TBARNAVACT);\n      classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n      this.tbarPopupHandler(false);\n    }\n  }, {\n    key: \"checkPriority\",\n    value: function checkPriority(ele, inEle, eleWidth, pre) {\n      var popPriority = this.popupPriCount > 0;\n      var len = inEle.length;\n      var eleWid = eleWidth;\n      var eleOffset;\n      var checkoffset;\n      var sepCheck = 0;\n      var itemCount = 0;\n      var itemPopCount = 0;\n\n      var checkClass = function checkClass(ele, val) {\n        var rVal = false;\n        val.forEach(function (cls) {\n          if (ele.classList.contains(cls)) {\n            rVal = true;\n          }\n        });\n        return rVal;\n      };\n\n      for (var i = len - 1; i >= 0; i--) {\n        var mrgn = void 0;\n        var compuStyle = window.getComputedStyle(inEle[i]);\n\n        if (this.isVertical) {\n          mrgn = parseFloat(compuStyle.marginTop);\n          mrgn += parseFloat(compuStyle.marginBottom);\n        } else {\n          mrgn = parseFloat(compuStyle.marginRight);\n          mrgn += parseFloat(compuStyle.marginLeft);\n        }\n\n        var fstEleCheck = inEle[i] === this.tbarEle[0];\n\n        if (fstEleCheck) {\n          this.tbarEleMrgn = mrgn;\n        }\n\n        eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n\n        var _eleWid = fstEleCheck ? eleOffset + mrgn : eleOffset;\n\n        if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n          inEle[i].classList.add(CLS_POPUP);\n\n          if (this.isVertical) {\n            setStyleAttribute(inEle[i], {\n              display: 'none',\n              minHeight: _eleWid + 'px'\n            });\n          } else {\n            setStyleAttribute(inEle[i], {\n              display: 'none',\n              minWidth: _eleWid + 'px'\n            });\n          }\n\n          itemPopCount++;\n        }\n\n        if (this.isVertical) {\n          checkoffset = inEle[i].offsetTop + inEle[i].offsetHeight + mrgn > eleWidth;\n        } else {\n          checkoffset = inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn > eleWidth;\n        }\n\n        if (checkoffset) {\n          if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n            if (this.overflowMode === 'Extended') {\n              if (itemCount === itemPopCount) {\n                var sepEle = inEle[i];\n\n                if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                  inEle[i].classList.add(CLS_POPUP);\n                  itemPopCount++;\n                }\n              }\n\n              itemCount++;\n            } else if (this.overflowMode === 'Popup') {\n              if (sepCheck > 0 && itemCount === itemPopCount) {\n                var _sepEle = inEle[i + itemCount + (sepCheck - 1)];\n\n                if (checkClass(_sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                  setStyleAttribute(_sepEle, {\n                    display: 'none'\n                  });\n                }\n              }\n\n              sepCheck++;\n              itemCount = 0;\n              itemPopCount = 0;\n            }\n          } else {\n            itemCount++;\n          }\n\n          if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n            eleWidth -= (this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + mrgn;\n          } else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n            inEle[i].classList.add(CLS_POPUP);\n\n            if (this.isVertical) {\n              setStyleAttribute(inEle[i], {\n                display: 'none',\n                minHeight: _eleWid + 'px'\n              });\n            } else {\n              setStyleAttribute(inEle[i], {\n                display: 'none',\n                minWidth: _eleWid + 'px'\n              });\n            }\n\n            itemPopCount++;\n          } else {\n            eleWidth -= (this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + mrgn;\n          }\n        }\n      }\n\n      if (pre) {\n        var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n        this.checkPriority(ele, popedEle, eleWid, false);\n      }\n    }\n  }, {\n    key: \"createPopupIcon\",\n    value: function createPopupIcon(element) {\n      var id = element.id.concat('_nav');\n      var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n      className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n      var nav = this.createElement('div', {\n        id: id,\n        className: className\n      });\n\n      if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n        nav.classList.add('e-ie-align');\n      }\n\n      var navItem = this.createElement('div', {\n        className: CLS_POPUPDOWN + ' e-icons'\n      });\n      nav.appendChild(navItem);\n      nav.setAttribute('tabindex', '0');\n      nav.setAttribute('role', 'list');\n      element.appendChild(nav);\n    }\n  }, {\n    key: \"tbarPriRef\",\n    value: function tbarPriRef(inEle, indx, sepPri, el, des, elWid, wid, ig) {\n      var ignoreCount = ig;\n      var popEle = this.popObj.element;\n      var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n      var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n\n      var checkClass = function checkClass(ele, val) {\n        return ele.classList.contains(val);\n      };\n\n      if (selectAll(query, inEle).length === 0) {\n        var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n        var ignoreCheck = !isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_TBARIGNORE);\n\n        if (!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep) || ignoreCheck) {\n          var sepDisplay = 'none';\n          eleSep.style.display = 'inherit';\n          var eleSepWidth = eleSep.offsetWidth + parseFloat(window.getComputedStyle(eleSep).marginRight) * 2;\n          var prevSep = eleSep.previousElementSibling;\n\n          if (elWid + eleSepWidth < wid || des) {\n            inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);\n\n            if (!isNullOrUndefined(prevSep)) {\n              prevSep.style.display = '';\n            }\n          } else {\n            if (prevSep.classList.contains(CLS_SEPARATOR)) {\n              prevSep.style.display = sepDisplay;\n            }\n          }\n\n          eleSep.style.display = '';\n        } else {\n          inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);\n        }\n      } else {\n        inEle.insertBefore(el, inEle.children[indx + ignoreCount - priEleCnt]);\n      }\n    }\n  }, {\n    key: \"popupRefresh\",\n    value: function popupRefresh(popupEle, destroy) {\n      var _this25 = this;\n\n      var ele = this.element;\n      var isVer = this.isVertical;\n      var innerEle = ele.querySelector('.' + CLS_ITEMS);\n      var popNav = ele.querySelector('.' + CLS_TBARNAV);\n\n      if (isNullOrUndefined(popNav)) {\n        return;\n      }\n\n      innerEle.removeAttribute('style');\n      popupEle.style.display = 'block';\n      var dimension;\n\n      if (isVer) {\n        dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n      } else {\n        dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n      }\n\n      var popupEleWidth = 0;\n      [].slice.call(popupEle.children).forEach(function (el) {\n        popupEleWidth += _this25.popupEleWidth(el);\n        setStyleAttribute(el, {\n          'position': ''\n        });\n      });\n\n      if (dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth) > popupEleWidth && this.popupPriCount === 0) {\n        destroy = true;\n      }\n\n      this.popupEleRefresh(dimension, popupEle, destroy);\n      popupEle.style.display = '';\n\n      if (popupEle.children.length === 0 && popNav && this.popObj) {\n        detach(popNav);\n        popNav = null;\n        this.popObj.destroy();\n        detach(this.popObj.element);\n        this.popObj = null;\n        ele.setAttribute('aria-haspopup', 'false');\n      }\n    }\n  }, {\n    key: \"ignoreEleFetch\",\n    value: function ignoreEleFetch(index, innerEle) {\n      var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n      var ignoreInx = [];\n      var count = 0;\n\n      if (ignoreEle.length > 0) {\n        ignoreEle.forEach(function (ele) {\n          ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n        });\n      } else {\n        return 0;\n      }\n\n      ignoreInx.forEach(function (val) {\n        if (val <= index) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"checkPopupRefresh\",\n    value: function checkPopupRefresh(root, popEle) {\n      popEle.style.display = 'block';\n      var elWid = this.popupEleWidth(popEle.firstElementChild);\n      popEle.firstElementChild.style.removeProperty('Position');\n      var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n      var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n      popEle.style.removeProperty('display');\n\n      if (tbarWidth > elWid + tbarItemsWid) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"popupEleWidth\",\n    value: function popupEleWidth(el) {\n      el.style.position = 'absolute';\n      var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n      var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n\n      if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n        var btn = el.children[0];\n\n        if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n          btnText.style.display = 'none';\n        } else if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n          btnText.style.display = 'block';\n        }\n\n        btn.style.minWidth = '0%';\n        elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n        btn.style.minWidth = '';\n        btn.style.minHeight = '';\n\n        if (!isNullOrUndefined(btnText)) {\n          btnText.style.display = '';\n        }\n      }\n\n      return elWidth;\n    }\n  }, {\n    key: \"popupEleRefresh\",\n    value: function popupEleRefresh(width, popupEle, destroy) {\n      var _this26 = this;\n\n      var popPriority = this.popupPriCount > 0;\n      var eleSplice = this.tbarEle;\n      var priEleCnt;\n      var index;\n      var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n      var ignoreCount = 0;\n\n      var _iterator7 = _createForOfIteratorHelper([].slice.call(popupEle.children)),\n          _step7;\n\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var el = _step7.value;\n\n          if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n            continue;\n          }\n\n          var elWidth = this.popupEleWidth(el);\n\n          if (el === this.tbarEle[0]) {\n            elWidth += this.tbarEleMrgn;\n          }\n\n          el.style.position = '';\n\n          if (elWidth < width || destroy) {\n            (function () {\n              setStyleAttribute(el, {\n                minWidth: '',\n                height: '',\n                minHeight: ''\n              });\n\n              if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                el.classList.remove(CLS_POPUP);\n              }\n\n              index = _this26.tbarEle.indexOf(el);\n\n              if (_this26.tbarAlign) {\n                var pos = _this26.items[index].align;\n                index = _this26.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                eleSplice = _this26.tbarAlgEle[(pos + 's').toLowerCase()];\n                innerEle = _this26.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n              }\n\n              var sepBeforePri = 0;\n\n              if (_this26.overflowMode !== 'Extended') {\n                eleSplice.slice(0, index).forEach(function (el) {\n                  if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                    if (el.classList.contains(CLS_SEPARATOR)) {\n                      el.style.display = '';\n                      width -= el.offsetWidth;\n                    }\n\n                    sepBeforePri++;\n                  }\n                });\n              }\n\n              ignoreCount = _this26.ignoreEleFetch(index, innerEle);\n\n              if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                _this26.tbarPriRef(innerEle, index, sepBeforePri, el, destroy, elWidth, width, ignoreCount);\n\n                width -= el.offsetWidth;\n              } else if (index === 0) {\n                innerEle.insertBefore(el, innerEle.firstChild);\n                width -= el.offsetWidth;\n              } else {\n                priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, _this26.popObj.element).length;\n                innerEle.insertBefore(el, innerEle.children[index + ignoreCount - priEleCnt]);\n                width -= el.offsetWidth;\n              }\n\n              el.style.height = '';\n            })();\n          } else {\n            break;\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n\n      var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n\n      if (checkOverflow && !destroy) {\n        this.renderOverflowMode();\n      }\n    }\n  }, {\n    key: \"removePositioning\",\n    value: function removePositioning() {\n      var item = this.element.querySelector('.' + CLS_ITEMS);\n\n      if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n        return;\n      }\n\n      this.remove(item, CLS_TBARPOS);\n      var innerItem = [].slice.call(item.childNodes);\n      innerItem[1].removeAttribute('style');\n      innerItem[2].removeAttribute('style');\n    }\n  }, {\n    key: \"refreshPositioning\",\n    value: function refreshPositioning() {\n      var item = this.element.querySelector('.' + CLS_ITEMS);\n      this.add(item, CLS_TBARPOS);\n      this.itemPositioning();\n    }\n  }, {\n    key: \"itemPositioning\",\n    value: function itemPositioning() {\n      var item = this.element.querySelector('.' + CLS_ITEMS);\n      var margin;\n\n      if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n        return;\n      }\n\n      var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n      var innerItem;\n\n      if (this.scrollModule) {\n        var trgClass = this.isVertical ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n        innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n      } else {\n        innerItem = [].slice.call(item.childNodes);\n      }\n\n      if (this.isVertical) {\n        margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n      } else {\n        margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n      }\n\n      var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n\n      if (popupNav) {\n        tbarWid -= this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth;\n        var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n        innerItem[2].removeAttribute('style');\n\n        if (this.isVertical) {\n          this.enableRtl ? innerItem[2].style.top = popWid : innerItem[2].style.bottom = popWid;\n        } else {\n          this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n        }\n      }\n\n      if (tbarWid <= margin) {\n        return;\n      }\n\n      var value = (tbarWid - margin - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n      innerItem[1].removeAttribute('style');\n      var mrgn = (!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value + 'px';\n\n      if (this.isVertical) {\n        this.enableRtl ? innerItem[1].style.marginBottom = mrgn : innerItem[1].style.marginTop = mrgn;\n      } else {\n        this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n      }\n    }\n  }, {\n    key: \"tbarItemAlign\",\n    value: function tbarItemAlign(item, itemEle, pos) {\n      var _this27 = this;\n\n      if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n        return;\n      }\n\n      var alignDiv = [];\n      alignDiv.push(this.createElement('div', {\n        className: CLS_TBARLEFT\n      }));\n      alignDiv.push(this.createElement('div', {\n        className: CLS_TBARCENTER\n      }));\n      alignDiv.push(this.createElement('div', {\n        className: CLS_TBARRIGHT\n      }));\n\n      if (pos === 0 && item.align !== 'Left') {\n        alignDiv.forEach(function (ele) {\n          itemEle.appendChild(ele);\n        });\n        this.tbarAlign = true;\n        this.add(itemEle, CLS_TBARPOS);\n      } else if (item.align !== 'Left') {\n        var alignEle = itemEle.childNodes;\n        var leftAlign = alignDiv[0];\n        [].slice.call(alignEle).forEach(function (el) {\n          _this27.tbarAlgEle.lefts.push(el);\n\n          leftAlign.appendChild(el);\n        });\n        itemEle.appendChild(leftAlign);\n        itemEle.appendChild(alignDiv[1]);\n        itemEle.appendChild(alignDiv[2]);\n        this.tbarAlign = true;\n        this.add(itemEle, CLS_TBARPOS);\n      }\n    }\n  }, {\n    key: \"ctrlTemplate\",\n    value: function ctrlTemplate() {\n      var _this28 = this;\n\n      this.ctrlTem = this.trgtEle.cloneNode(true);\n      this.add(this.trgtEle, CLS_ITEMS);\n      this.tbarEle = [];\n      var innerEle = [].slice.call(this.trgtEle.children);\n      innerEle.forEach(function (ele) {\n        if (ele.tagName === 'DIV') {\n          _this28.tbarEle.push(ele);\n\n          ele.setAttribute('aria-disabled', 'false');\n\n          _this28.add(ele, CLS_ITEM);\n        }\n      });\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var ele = this.element;\n      var items = this.items;\n\n      if (this.trgtEle != null) {\n        this.ctrlTemplate();\n      } else if (ele && items.length > 0) {\n        var itemEleDom;\n\n        if (ele && ele.children.length > 0) {\n          itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n        }\n\n        if (!itemEleDom) {\n          itemEleDom = this.createElement('div', {\n            className: CLS_ITEMS\n          });\n        }\n\n        this.itemsAlign(items, itemEleDom);\n        ele.appendChild(itemEleDom);\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(attr, element) {\n      var key = Object.keys(attr);\n      var keyVal;\n\n      for (var i = 0; i < key.length; i++) {\n        keyVal = key[i];\n        keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n      }\n    }\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"enableItems\",\n    value: function enableItems(items, isEnable) {\n      var elements = items;\n      var len = elements.length;\n      var ele;\n\n      if (isNullOrUndefined(isEnable)) {\n        isEnable = true;\n      }\n\n      var enable = function enable(isEnable, ele) {\n        if (isEnable) {\n          ele.classList.remove(CLS_DISABLE$2);\n          ele.setAttribute('aria-disabled', 'false');\n        } else {\n          ele.classList.add(CLS_DISABLE$2);\n          ele.setAttribute('aria-disabled', 'true');\n        }\n      };\n\n      if (!isNullOrUndefined(len) && len >= 1) {\n        for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n          var itemElement = element[a];\n\n          if (typeof itemElement === 'number') {\n            ele = this.getElementByIndex(itemElement);\n\n            if (isNullOrUndefined(ele)) {\n              return;\n            } else {\n              elements[a] = ele;\n            }\n          } else {\n            ele = itemElement;\n          }\n\n          enable(isEnable, ele);\n        }\n\n        isEnable ? removeClass(elements, CLS_DISABLE$2) : _addClass(elements, CLS_DISABLE$2);\n      } else {\n        if (typeof elements === 'number') {\n          ele = this.getElementByIndex(elements);\n\n          if (isNullOrUndefined(ele)) {\n            return;\n          }\n        } else {\n          ele = items;\n        }\n\n        enable(isEnable, ele);\n      }\n    }\n  }, {\n    key: \"getElementByIndex\",\n    value: function getElementByIndex(index) {\n      if (this.tbarEle[index]) {\n        return this.tbarEle[index];\n      }\n\n      return null;\n    }\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"addItems\",\n    value: function addItems(items, index) {\n      var innerItems;\n      this.extendedOpen();\n      var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n\n      if (isNullOrUndefined(itemsDiv)) {\n        this.itemsRerender(items);\n        return;\n      }\n\n      var innerEle;\n      var itemAgn = 'Left';\n\n      if (isNullOrUndefined(index)) {\n        index = 0;\n      }\n\n      items.forEach(function (e) {\n        if (!isNullOrUndefined(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n          itemAgn = e.align;\n        }\n      });\n\n      var _iterator8 = _createForOfIteratorHelper(items),\n          _step8;\n\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var item = _step8.value;\n\n          if (isNullOrUndefined(item.type)) {\n            item.type = 'Button';\n          }\n\n          innerItems = selectAll('.' + CLS_ITEM, this.element);\n          item.align = itemAgn;\n          innerEle = this.renderSubComponent(item, index);\n\n          if (this.tbarEle.length >= index && innerItems.length >= 0) {\n            if (isNullOrUndefined(this.scrollModule)) {\n              this.destroyMode();\n            }\n\n            var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n            var ele = void 0;\n\n            if (!this.tbarAlign && itemAgn !== 'Left') {\n              this.tbarItemAlign(item, itemsDiv, 1);\n              this.tbarAlign = true;\n              ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n              ele.appendChild(innerEle);\n              this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n              this.refreshPositioning();\n            } else if (this.tbarAlign) {\n              ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n              ele.insertBefore(innerEle, ele.children[index]);\n              this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n              this.refreshPositioning();\n            } else if (innerItems.length === 0) {\n              innerItems = selectAll('.' + CLS_ITEMS, this.element);\n              innerItems[0].appendChild(innerEle);\n            } else {\n              innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n            }\n\n            this.items.splice(index, 0, item);\n            this.tbarEle.splice(index, 0, innerEle);\n            index++;\n            this.offsetWid = itemsDiv.offsetWidth;\n          }\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n\n      itemsDiv.style.width = '';\n      this.renderOverflowMode();\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(args) {\n      var elements = args;\n      var index;\n      var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n      if (typeof elements === 'number') {\n        index = parseInt(args.toString(), 10);\n        this.removeItemByIndex(index, innerItems);\n      } else {\n        if (elements && elements.length > 1) {\n          var _iterator9 = _createForOfIteratorHelper([].slice.call(elements)),\n              _step9;\n\n          try {\n            for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n              var ele = _step9.value;\n              index = this.tbarEle.indexOf(ele);\n              this.removeItemByIndex(index, innerItems);\n              innerItems = selectAll('.' + CLS_ITEM, this.element);\n            }\n          } catch (err) {\n            _iterator9.e(err);\n          } finally {\n            _iterator9.f();\n          }\n        } else {\n          var _ele4 = elements && elements.length && elements.length === 1 ? elements[0] : args;\n\n          index = innerItems.indexOf(_ele4);\n          this.removeItemByIndex(index, innerItems);\n        }\n      }\n\n      this.resize();\n    }\n  }, {\n    key: \"removeItemByIndex\",\n    value: function removeItemByIndex(index, innerItems) {\n      if (this.tbarEle[index] && innerItems[index]) {\n        var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n\n        if (this.tbarAlign) {\n          var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n          this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n        }\n\n        if (this.isReact) {\n          this.clearTemplate();\n        }\n\n        var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n\n        if (!isNullOrUndefined(btnItem) && !isNullOrUndefined(btnItem.ej2_instances[0]) && !btnItem.ej2_instances[0].isDestroyed) {\n          btnItem.ej2_instances[0].destroy();\n        }\n\n        detach(innerItems[index]);\n        this.items.splice(eleIdx, 1);\n        this.tbarEle.splice(eleIdx, 1);\n      }\n    }\n  }, {\n    key: \"templateRender\",\n    value: function templateRender(templateProp, innerEle, item, index) {\n      var itemType = item.type;\n      var eleObj = templateProp;\n      var isComponent;\n\n      if (typeof templateProp === 'object') {\n        isComponent = typeof eleObj.appendTo === 'function';\n      }\n\n      if (typeof templateProp === 'string' || !isComponent) {\n        var templateFn;\n        var val = templateProp;\n        val = typeof templateProp === 'string' ? templateProp.trim() : templateProp;\n\n        try {\n          if (typeof templateProp === 'object' && !isNullOrUndefined(templateProp.tagName)) {\n            innerEle.appendChild(templateProp);\n          } else if (document.querySelectorAll(val).length) {\n            var ele = document.querySelector(val);\n            var tempStr = ele.outerHTML.trim();\n            innerEle.appendChild(ele);\n            ele.style.display = '';\n\n            if (!isNullOrUndefined(tempStr)) {\n              this.tempId.push(val);\n            }\n          }\n        } catch (e) {\n          templateFn = compile(val);\n        }\n\n        var tempArray;\n\n        if (!isNullOrUndefined(templateFn)) {\n          var toolbarTemplateID = this.element.id + index + '_template';\n          tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n        }\n\n        if (!isNullOrUndefined(tempArray) && tempArray.length > 0) {\n          [].slice.call(tempArray).forEach(function (ele) {\n            if (!isNullOrUndefined(ele.tagName)) {\n              ele.style.display = '';\n            }\n\n            innerEle.appendChild(ele);\n          });\n        }\n      } else if (itemType === 'Input') {\n        var _ele5 = this.createElement('input');\n\n        item.id ? _ele5.id = item.id : _ele5.id = getUniqueID('tbr-ipt');\n        innerEle.appendChild(_ele5);\n        eleObj.appendTo(_ele5);\n      }\n\n      this.add(innerEle, CLS_TEMPLATE);\n      this.tbarEle.push(innerEle);\n    }\n  }, {\n    key: \"buttonRendering\",\n    value: function buttonRendering(item, innerEle) {\n      var dom = this.createElement('button', {\n        className: CLS_TBARBTN\n      });\n      dom.setAttribute('type', 'button');\n      var textStr = item.text;\n      var iconCss;\n      var iconPos;\n      item.id ? dom.id = item.id : dom.id = getUniqueID('e-tbr-btn');\n      var btnTxt = this.createElement('span', {\n        className: 'e-tbar-btn-text'\n      });\n\n      if (textStr) {\n        btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n        dom.appendChild(btnTxt);\n        dom.classList.add('e-tbtn-txt');\n      } else {\n        this.add(innerEle, 'e-tbtn-align');\n      }\n\n      if (item.prefixIcon || item.suffixIcon) {\n        if (item.prefixIcon && item.suffixIcon || item.prefixIcon) {\n          iconCss = item.prefixIcon + ' e-icons';\n          iconPos = 'Left';\n        } else {\n          iconCss = item.suffixIcon + ' e-icons';\n          iconPos = 'Right';\n        }\n      }\n\n      var btnObj = new Button({\n        iconCss: iconCss,\n        iconPosition: iconPos\n      });\n      btnObj.createElement = this.createElement;\n      btnObj.appendTo(dom);\n\n      if (item.width) {\n        setStyleAttribute(dom, {\n          'width': formatUnit(item.width)\n        });\n      }\n\n      return dom;\n    }\n  }, {\n    key: \"renderSubComponent\",\n    value: function renderSubComponent(item, index) {\n      var dom;\n      var innerEle = this.createElement('div', {\n        className: CLS_ITEM\n      });\n      innerEle.setAttribute('aria-disabled', 'false');\n      var tempDom = this.createElement('div', {\n        innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n      });\n\n      if (!this.tbarEle) {\n        this.tbarEle = [];\n      }\n\n      if (item.htmlAttributes) {\n        this.setAttr(item.htmlAttributes, innerEle);\n      }\n\n      if (item.tooltipText) {\n        innerEle.setAttribute('title', tempDom.textContent);\n      }\n\n      if (item.cssClass) {\n        innerEle.className = innerEle.className + ' ' + item.cssClass;\n      }\n\n      if (item.template) {\n        this.templateRender(item.template, innerEle, item, index);\n      } else {\n        switch (item.type) {\n          case 'Button':\n            dom = this.buttonRendering(item, innerEle);\n            dom.setAttribute('tabindex', '-1');\n            dom.setAttribute('aria-label', item.text || item.tooltipText);\n            innerEle.appendChild(dom);\n            innerEle.addEventListener('click', this.itemClick.bind(this));\n            break;\n\n          case 'Separator':\n            this.add(innerEle, CLS_SEPARATOR);\n            break;\n        }\n      }\n\n      if (item.showTextOn) {\n        var sTxt = item.showTextOn;\n\n        if (sTxt === 'Toolbar') {\n          this.add(innerEle, CLS_POPUPTEXT);\n          this.add(innerEle, 'e-tbtn-align');\n        } else if (sTxt === 'Overflow') {\n          this.add(innerEle, CLS_TBARTEXT);\n        }\n      }\n\n      if (item.overflow) {\n        var overflow = item.overflow;\n\n        if (overflow === 'Show') {\n          this.add(innerEle, CLS_TBAROVERFLOW);\n        } else if (overflow === 'Hide') {\n          if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPOVERFLOW);\n          }\n        }\n      }\n\n      if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n        this.add(innerEle, CLS_POPPRI);\n        this.popupPriCount++;\n      }\n\n      if (item.disabled) {\n        this.add(innerEle, CLS_DISABLE$2);\n      }\n\n      if (item.visible === false) {\n        this.add(innerEle, CLS_HIDDEN);\n      }\n\n      return innerEle;\n    }\n  }, {\n    key: \"itemClick\",\n    value: function itemClick(e) {\n      this.activeEleSwitch(e.currentTarget);\n    }\n  }, {\n    key: \"activeEleSwitch\",\n    value: function activeEleSwitch(ele) {\n      this.activeEleRemove(ele.firstElementChild);\n      this.activeEle.focus();\n    }\n  }, {\n    key: \"activeEleRemove\",\n    value: function activeEleRemove(curEle) {\n      if (!isNullOrUndefined(this.activeEle)) {\n        this.activeEle.setAttribute('tabindex', '-1');\n      }\n\n      this.activeEle = curEle;\n\n      if (isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n        curEle.removeAttribute('tabindex');\n      } else {\n        this.activeEle.setAttribute('tabindex', '0');\n      }\n    }\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      return this.addOnPersist([]);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'toolbar';\n    }\n  }, {\n    key: \"itemsRerender\",\n    value: function itemsRerender(newProp) {\n      this.items = this.tbarItemsCol;\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      this.destroyMode();\n      this.destroyItems();\n      this.items = newProp;\n      this.tbarItemsCol = this.items;\n      this.renderItems();\n      this.renderOverflowMode();\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var ele = this.element;\n      this.tbResize = true;\n\n      if (this.tbarAlign) {\n        this.itemPositioning();\n      }\n\n      if (this.popObj && this.overflowMode === 'Popup') {\n        this.popObj.hide();\n      }\n\n      var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n\n      if (!checkOverflow) {\n        this.destroyScroll();\n        var multirowele = ele.querySelector('.' + CLS_ITEMS);\n\n        if (!isNullOrUndefined(multirowele)) {\n          this.remove(multirowele, CLS_MULTIROWPOS);\n\n          if (this.tbarAlign) {\n            this.add(multirowele, CLS_TBARPOS);\n          }\n        }\n      }\n\n      if (checkOverflow && this.scrollModule && this.offsetWid === ele.offsetWidth) {\n        return;\n      }\n\n      if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n        this.renderOverflowMode();\n      }\n\n      if (this.popObj) {\n        if (this.overflowMode === 'Extended') {\n          var eleStyles = window.getComputedStyle(this.element);\n          this.popObj.width = parseFloat(eleStyles.width) + parseFloat(eleStyles.borderRightWidth) * 2;\n        }\n\n        if (this.tbarAlign) {\n          this.removePositioning();\n        }\n\n        this.popupRefresh(this.popObj.element, false);\n\n        if (this.tbarAlign) {\n          this.refreshPositioning();\n        }\n      }\n\n      if (this.element.querySelector('.' + CLS_HSCROLLBAR$1)) {\n        this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR$1).offsetWidth;\n      }\n\n      this.offsetWid = ele.offsetWidth;\n      this.tbResize = false;\n      this.separator();\n    }\n  }, {\n    key: \"extendedOpen\",\n    value: function extendedOpen() {\n      var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n\n      if (this.overflowMode === 'Extended' && sib) {\n        this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n      }\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var tEle = this.element;\n      var wid = tEle.offsetWidth;\n      this.extendedOpen();\n\n      for (var _i6 = 0, _Object$keys4 = Object.keys(newProp); _i6 < _Object$keys4.length; _i6++) {\n        var prop = _Object$keys4[_i6];\n\n        switch (prop) {\n          case 'items':\n            if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n              var changedProb = Object.keys(newProp.items);\n\n              for (var i = 0; i < changedProb.length; i++) {\n                var index = parseInt(Object.keys(newProp.items)[i], 10);\n                var property = Object.keys(newProp.items[index])[0];\n                var newProperty = Object(newProp.items[index])[property];\n\n                if (typeof newProperty !== 'function') {\n                  if (this.tbarAlign || property === 'align') {\n                    this.refresh();\n                    this.trigger('created');\n                    break;\n                  }\n\n                  var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                  var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n\n                  if (popupPriCheck || this.items[index].showAlwaysInPopup && booleanCheck) {\n                    --this.popupPriCount;\n                  }\n\n                  if (isNullOrUndefined(this.scrollModule)) {\n                    this.destroyMode();\n                  }\n\n                  var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n\n                  if (this.isReact) {\n                    this.clearTemplate();\n                  }\n\n                  detach(itemCol[index]);\n                  this.tbarEle.splice(index, 1);\n                  this.addItems([this.items[index]], index);\n                  this.items.splice(index, 1);\n\n                  if (this.items[index].template) {\n                    this.tbarEle.splice(this.items.length, 1);\n                  }\n                }\n              }\n            } else {\n              this.itemsRerender(newProp.items);\n            }\n\n            break;\n\n          case 'width':\n            setStyleAttribute(tEle, {\n              'width': formatUnit(newProp.width)\n            });\n            this.renderOverflowMode();\n\n            if (this.popObj && wid < tEle.offsetWidth) {\n              this.popupRefresh(this.popObj.element, false);\n            }\n\n            break;\n\n          case 'height':\n            setStyleAttribute(this.element, {\n              'height': formatUnit(newProp.height)\n            });\n            break;\n\n          case 'overflowMode':\n            this.destroyMode();\n            this.renderOverflowMode();\n\n            if (this.enableRtl) {\n              this.add(tEle, CLS_RTL$2);\n            }\n\n            this.refreshOverflow();\n            break;\n\n          case 'enableRtl':\n            newProp.enableRtl ? this.add(tEle, CLS_RTL$2) : this.remove(tEle, CLS_RTL$2);\n\n            if (!isNullOrUndefined(this.scrollModule)) {\n              newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL$2) : this.remove(this.scrollModule.element, CLS_RTL$2);\n            }\n\n            if (!isNullOrUndefined(this.popObj)) {\n              newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL$2) : this.remove(this.popObj.element, CLS_RTL$2);\n            }\n\n            if (this.tbarAlign) {\n              this.itemPositioning();\n            }\n\n            break;\n\n          case 'scrollStep':\n            if (this.scrollModule) {\n              this.scrollModule.scrollStep = this.scrollStep;\n            }\n\n            break;\n\n          case 'enableCollision':\n            if (this.popObj) {\n              this.popObj.collision = {\n                Y: this.enableCollision ? 'flip' : 'none'\n              };\n            }\n\n            break;\n\n          case 'cssClass':\n            if (oldProp.cssClass) {\n              removeClass([this.element], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              _addClass([this.element], newProp.cssClass.split(' '));\n            }\n\n            break;\n\n          case 'allowKeyboard':\n            this.unwireKeyboardEvent();\n\n            if (newProp.allowKeyboard) {\n              this.wireKeyboardEvent();\n            }\n\n            break;\n        }\n      }\n    }\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(index, value) {\n      var isElement = typeof index === 'object' ? true : false;\n      var eleIndex = index;\n      var initIndex;\n      var ele;\n      var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n      if (isElement) {\n        ele = index;\n      } else if (this.tbarEle[eleIndex]) {\n        var _innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n        ele = _innerItems[eleIndex];\n      }\n\n      if (ele) {\n        value ? ele.classList.add(CLS_HIDDEN) : ele.classList.remove(CLS_HIDDEN);\n\n        if (value && isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n          if (isNullOrUndefined(ele.firstElementChild.getAttribute('tabindex'))) {\n            ele.firstElementChild.setAttribute('tabindex', '-1');\n\n            var _innerItems2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n            if (isElement) {\n              eleIndex = _innerItems2.indexOf(ele);\n            }\n\n            var nextEle = _innerItems2[++eleIndex];\n\n            while (nextEle) {\n              var skipEle = this.eleContains(nextEle);\n\n              if (!skipEle) {\n                nextEle.firstElementChild.removeAttribute('tabindex');\n                break;\n              }\n\n              nextEle = _innerItems2[++eleIndex];\n            }\n          }\n        } else if (isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n          initIndex = 0;\n          var setFlag = false;\n          var removeFlag = false;\n          var initELe = innerItems[initIndex];\n\n          while (initELe) {\n            if (!initELe.classList.contains(CLS_SEPARATOR)) {\n              if (isNullOrUndefined(initELe.firstElementChild.getAttribute('tabindex'))) {\n                initELe.firstElementChild.setAttribute('tabindex', '-1');\n                setFlag = true;\n              } else {\n                if (setFlag && removeFlag) {\n                  break;\n                }\n\n                var _skipEle = this.eleContains(initELe);\n\n                if (!_skipEle) {\n                  initELe.firstElementChild.removeAttribute('tabindex');\n                  removeFlag = true;\n                }\n\n                initELe = innerItems[++initIndex];\n              }\n            } else {\n              initELe = innerItems[++initIndex];\n            }\n          }\n        }\n\n        this.refreshOverflow();\n      }\n    }\n  }]);\n\n  return Toolbar;\n}(Component);\n\n__decorate$3([Collection([], Item)], Toolbar.prototype, \"items\", void 0);\n\n__decorate$3([Property('auto')], Toolbar.prototype, \"width\", void 0);\n\n__decorate$3([Property('auto')], Toolbar.prototype, \"height\", void 0);\n\n__decorate$3([Property('')], Toolbar.prototype, \"cssClass\", void 0);\n\n__decorate$3([Property('Scrollable')], Toolbar.prototype, \"overflowMode\", void 0);\n\n__decorate$3([Property()], Toolbar.prototype, \"scrollStep\", void 0);\n\n__decorate$3([Property(true)], Toolbar.prototype, \"enableCollision\", void 0);\n\n__decorate$3([Property(true)], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$3([Property(true)], Toolbar.prototype, \"allowKeyboard\", void 0);\n\n__decorate$3([Event()], Toolbar.prototype, \"clicked\", void 0);\n\n__decorate$3([Event()], Toolbar.prototype, \"created\", void 0);\n\n__decorate$3([Event()], Toolbar.prototype, \"destroyed\", void 0);\n\n__decorate$3([Event()], Toolbar.prototype, \"beforeCreate\", void 0);\n\nToolbar = __decorate$3([NotifyPropertyChanges], Toolbar);\n/**\n * Toolbar modules\n */\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT$2 = 'e-accordion';\nvar CLS_ITEM$1 = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL$3 = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE$3 = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\n\nvar AccordionActionSettings = /*#__PURE__*/function (_ChildProperty5) {\n  _inherits(AccordionActionSettings, _ChildProperty5);\n\n  var _super9 = _createSuper(AccordionActionSettings);\n\n  function AccordionActionSettings() {\n    _classCallCheck(this, AccordionActionSettings);\n\n    return _super9.apply(this, arguments);\n  }\n\n  return AccordionActionSettings;\n}(ChildProperty);\n\n__decorate$4([Property('SlideDown')], AccordionActionSettings.prototype, \"effect\", void 0);\n\n__decorate$4([Property(400)], AccordionActionSettings.prototype, \"duration\", void 0);\n\n__decorate$4([Property('linear')], AccordionActionSettings.prototype, \"easing\", void 0);\n/**\n * Objects used for configuring the Accordion animation properties.\n */\n\n\nvar AccordionAnimationSettings = /*#__PURE__*/function (_ChildProperty6) {\n  _inherits(AccordionAnimationSettings, _ChildProperty6);\n\n  var _super10 = _createSuper(AccordionAnimationSettings);\n\n  function AccordionAnimationSettings() {\n    _classCallCheck(this, AccordionAnimationSettings);\n\n    return _super10.apply(this, arguments);\n  }\n\n  return AccordionAnimationSettings;\n}(ChildProperty);\n\n__decorate$4([Complex({\n  effect: 'SlideUp',\n  duration: 400,\n  easing: 'linear'\n}, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n\n__decorate$4([Complex({\n  effect: 'SlideDown',\n  duration: 400,\n  easing: 'linear'\n}, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"expand\", void 0);\n/**\n * An item object that is used to configure Accordion items.\n */\n\n\nvar AccordionItem = /*#__PURE__*/function (_ChildProperty7) {\n  _inherits(AccordionItem, _ChildProperty7);\n\n  var _super11 = _createSuper(AccordionItem);\n\n  function AccordionItem() {\n    _classCallCheck(this, AccordionItem);\n\n    return _super11.apply(this, arguments);\n  }\n\n  return AccordionItem;\n}(ChildProperty);\n\n__decorate$4([Property(null)], AccordionItem.prototype, \"content\", void 0);\n\n__decorate$4([Property(null)], AccordionItem.prototype, \"header\", void 0);\n\n__decorate$4([Property(null)], AccordionItem.prototype, \"cssClass\", void 0);\n\n__decorate$4([Property(null)], AccordionItem.prototype, \"iconCss\", void 0);\n\n__decorate$4([Property(false)], AccordionItem.prototype, \"expanded\", void 0);\n\n__decorate$4([Property(true)], AccordionItem.prototype, \"visible\", void 0);\n\n__decorate$4([Property(false)], AccordionItem.prototype, \"disabled\", void 0);\n\n__decorate$4([Property()], AccordionItem.prototype, \"id\", void 0);\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\n\n\nvar Accordion = /*#__PURE__*/function (_Component5) {\n  _inherits(Accordion, _Component5);\n\n  var _super12 = _createSuper(Accordion);\n\n  /**\n   * Initializes a new instance of the Accordion class.\n   *\n   * @param {AccordionModel} options  - Specifies Accordion model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as an Accordion.\n   */\n  function Accordion(options, element) {\n    var _this29;\n\n    _classCallCheck(this, Accordion);\n\n    _this29 = _super12.call(this, options, element);\n    /**\n     * Contains the keyboard configuration of the Accordion.\n     */\n\n    _this29.keyConfigs = {\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      enter: 'enter',\n      space: 'space',\n      home: 'home',\n      end: 'end'\n    };\n    return _this29;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  _createClass(Accordion, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this30 = this;\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      var ele = this.element;\n\n      _get(_getPrototypeOf(Accordion.prototype), \"destroy\", this).call(this);\n\n      this.unwireEvents();\n      this.isDestroy = true;\n      this.restoreContent(null);\n      [].slice.call(ele.children).forEach(function (el) {\n        ele.removeChild(el);\n      });\n\n      if (this.trgtEle) {\n        while (this.ctrlTem.firstElementChild) {\n          ele.appendChild(this.ctrlTem.firstElementChild);\n        }\n      }\n\n      ele.classList.remove(CLS_ACRDN_ROOT);\n      ele.removeAttribute('style');\n      ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n        _this30.element.removeAttribute(attrb);\n      });\n\n      if (!this.isNested && isRippleEnabled) {\n        this.removeRippleEffect();\n      }\n    }\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      var nested = closest(this.element, '.' + CLS_CONTENT);\n      this.isNested = false;\n      this.templateEle = [];\n\n      if (!this.isDestroy) {\n        this.isDestroy = false;\n      }\n\n      if (!isNullOrUndefined(nested)) {\n        nested.classList.add(CLS_NEST);\n        this.isNested = true;\n      } else {\n        this.element.classList.add(CLS_ACRDN_ROOT);\n      }\n\n      if (this.enableRtl) {\n        this.add(this.element, CLS_RTL$3);\n      }\n    }\n  }, {\n    key: \"add\",\n    value: function add(ele, val) {\n      ele.classList.add(val);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(ele, val) {\n      ele.classList.remove(val);\n    }\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initializeHeaderTemplate();\n      this.initializeItemTemplate();\n      this.initialize();\n      this.renderControl();\n      this.wireEvents();\n      this.renderComplete();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      var width = formatUnit(this.width);\n      var height = formatUnit(this.height);\n      setStyleAttribute(this.element, {\n        'width': width,\n        'height': height\n      });\n      var ariaAttr = {\n        'aria-disabled': 'false',\n        'role': 'presentation',\n        'aria-multiselectable': 'true'\n      };\n\n      if (isNullOrUndefined(this.initExpand)) {\n        this.initExpand = [];\n      }\n\n      if (this.expandedIndices.length > 0) {\n        this.initExpand = this.expandedIndices;\n      }\n\n      attributes(this.element, ariaAttr);\n\n      if (this.expandMode === 'Single') {\n        this.element.setAttribute('aria-multiselectable', 'false');\n      }\n    }\n  }, {\n    key: \"renderControl\",\n    value: function renderControl() {\n      this.trgtEle = this.element.children.length > 0 ? _select('div', this.element) : null;\n      this.renderItems();\n      this.initItemExpand();\n    }\n  }, {\n    key: \"wireFocusEvents\",\n    value: function wireFocusEvents() {\n      var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1));\n\n      var _iterator10 = _createForOfIteratorHelper(acrdItem),\n          _step10;\n\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var item = _step10.value;\n          var headerEle = item.querySelector('.' + CLS_HEADER);\n\n          if (item.childElementCount > 0 && headerEle) {\n            EventHandler.clearEvents(headerEle);\n            EventHandler.add(headerEle, 'focus', this.focusIn, this);\n            EventHandler.add(headerEle, 'blur', this.focusOut, this);\n          }\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n  }, {\n    key: \"unwireEvents\",\n    value: function unwireEvents() {\n      EventHandler.remove(this.element, 'click', this.clickHandler);\n\n      if (!isNullOrUndefined(this.keyModule)) {\n        this.keyModule.destroy();\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      EventHandler.add(this.element, 'click', this.clickHandler, this);\n\n      if (!this.isNested && !this.isDestroy) {\n        this.removeRippleEffect = rippleEffect(this.element, {\n          selector: '.' + CLS_HEADER\n        });\n      }\n\n      if (!this.isNested) {\n        this.keyModule = new KeyboardEvents(this.element, {\n          keyAction: this.keyActionHandler.bind(this),\n          keyConfigs: this.keyConfigs,\n          eventName: 'keydown'\n        });\n      }\n    }\n  }, {\n    key: \"templateParser\",\n    value: function templateParser(template) {\n      if (template) {\n        try {\n          if (document.querySelectorAll(template).length) {\n            return compile(document.querySelector(template).innerHTML.trim());\n          }\n        } catch (error) {\n          return compile(template);\n        }\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"initializeHeaderTemplate\",\n    value: function initializeHeaderTemplate() {\n      if (this.headerTemplate) {\n        this.headerTemplateFn = this.templateParser(this.headerTemplate);\n      }\n    }\n  }, {\n    key: \"initializeItemTemplate\",\n    value: function initializeItemTemplate() {\n      if (this.itemTemplate) {\n        this.itemTemplateFn = this.templateParser(this.itemTemplate);\n      }\n    }\n    /* eslint-disable */\n\n  }, {\n    key: \"getHeaderTemplate\",\n    value: function getHeaderTemplate() {\n      return this.headerTemplateFn;\n    }\n    /* eslint-disable */\n\n  }, {\n    key: \"getItemTemplate\",\n    value: function getItemTemplate() {\n      return this.itemTemplateFn;\n    }\n  }, {\n    key: \"focusIn\",\n    value: function focusIn(e) {\n      e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    }\n  }, {\n    key: \"focusOut\",\n    value: function focusOut(e) {\n      e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    }\n  }, {\n    key: \"ctrlTemplate\",\n    value: function ctrlTemplate() {\n      this.ctrlTem = this.element.cloneNode(true);\n      var innerEles;\n\n      var rootEle = _select('.' + CLS_CONTAINER, this.element);\n\n      if (rootEle) {\n        innerEles = rootEle.children;\n      } else {\n        innerEles = this.element.children;\n      }\n\n      var items = [];\n      /* eslint-disable */\n\n      [].slice.call(innerEles).forEach(function (el) {\n        items.push({\n          header: el.childElementCount > 0 && el.children[0] ? el.children[0] : '',\n          content: el.childElementCount > 1 && el.children[1] ? el.children[1] : ''\n        });\n        el.parentNode.removeChild(el);\n      });\n      /* eslint-enable */\n\n      if (rootEle) {\n        this.element.removeChild(rootEle);\n      }\n\n      this.setProperties({\n        items: items\n      }, true);\n    }\n  }, {\n    key: \"toggleIconGenerate\",\n    value: function toggleIconGenerate() {\n      var tglIcon = this.createElement('div', {\n        className: CLS_TOOGLEICN\n      });\n      var hdrColIcon = this.createElement('span', {\n        className: CLS_COLLAPSEICN\n      });\n      tglIcon.appendChild(hdrColIcon);\n      return tglIcon;\n    }\n  }, {\n    key: \"initItemExpand\",\n    value: function initItemExpand() {\n      var len = this.initExpand.length;\n\n      if (len === 0) {\n        return;\n      }\n\n      if (this.expandMode === 'Single') {\n        this.expandItem(true, this.initExpand[len - 1]);\n      } else {\n        for (var i = 0; i < len; i++) {\n          this.expandItem(true, this.initExpand[i]);\n        }\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this31 = this;\n\n      var ele = this.element;\n      var innerItem;\n      var innerDataSourceItem;\n\n      if (!isNullOrUndefined(this.trgtEle)) {\n        this.ctrlTemplate();\n      }\n\n      if (this.dataSource.length > 0) {\n        this.dataSource.forEach(function (item, index) {\n          innerDataSourceItem = _this31.renderInnerItem(item, index);\n          ele.appendChild(innerDataSourceItem);\n\n          if (innerDataSourceItem.childElementCount > 0) {\n            EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this31.focusIn, _this31);\n            EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this31.focusOut, _this31);\n          }\n        });\n      } else {\n        var items = this.items;\n\n        if (ele && items.length > 0) {\n          items.forEach(function (item, index) {\n            innerItem = _this31.renderInnerItem(item, index);\n            ele.appendChild(innerItem);\n\n            if (innerItem.childElementCount > 0) {\n              EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this31.focusIn, _this31);\n              EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this31.focusOut, _this31);\n            }\n          });\n        }\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var trgt = e.target;\n      var items = this.getItems();\n      var eventArgs = {};\n      var tglIcon;\n      var acrdEle = closest(trgt, '.' + CLS_ROOT$2);\n\n      if (acrdEle !== this.element) {\n        return;\n      }\n\n      trgt.classList.add('e-target');\n      var acrdnItem = closest(trgt, '.' + CLS_ITEM$1);\n      var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n      var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n\n      if (acrdnItem && (isNullOrUndefined(acrdnHdr) || isNullOrUndefined(acrdnCtn))) {\n        acrdnHdr = acrdnItem.children[0];\n        acrdnCtn = acrdnItem.children[1];\n      }\n\n      if (acrdnHdr) {\n        tglIcon = _select('.' + CLS_TOOGLEICN, acrdnHdr);\n      }\n\n      var acrdnCtnItem;\n\n      if (acrdnHdr) {\n        acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM$1);\n      } else if (acrdnCtn) {\n        acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM$1);\n      }\n\n      var index = this.getIndexByItem(acrdnItem);\n\n      if (acrdnCtnItem) {\n        eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n      }\n\n      eventArgs.originalEvent = e;\n      var ctnCheck = !isNullOrUndefined(tglIcon) && acrdnItem.childElementCount <= 1;\n\n      if (ctnCheck && (isNullOrUndefined(acrdnCtn) || !isNullOrUndefined(_select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n        acrdnItem.appendChild(this.contentRendering(index));\n        this.ariaAttrUpdate(acrdnItem);\n        this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n      } else {\n        this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"afterContentRender\",\n    value: function afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n      var _this32 = this;\n\n      var acrdActive = [];\n      this.trigger('clicked', eventArgs);\n      var cntclkCheck = acrdnCtn && !isNullOrUndefined(_select('.e-target', acrdnCtn));\n      var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT$2;\n      var inlineEleAcrdn = acrdnCtn && !isNullOrUndefined(_select('.' + CLS_ROOT$2, acrdnCtn)) && isNullOrUndefined(closest(trgt, inlineAcrdnSel));\n      var nestContCheck = acrdnCtn && isNullOrUndefined(_select('.' + CLS_ROOT$2, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT$2) === this.element);\n      cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n      trgt.classList.remove('e-target');\n\n      if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n        return;\n      }\n\n      var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n      var acrdnchild = acrdcontainer ? acrdcontainer.children : this.element.children;\n      [].slice.call(acrdnchild).forEach(function (el) {\n        if (el.classList.contains(CLS_ACTIVE)) {\n          acrdActive.push(el);\n        }\n      });\n      var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1 + ' [' + CLS_ANIMATE + ']'));\n\n      if (acrdAniEle.length > 0) {\n        var _iterator11 = _createForOfIteratorHelper(acrdAniEle),\n            _step11;\n\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var el = _step11.value;\n            acrdActive.push(el.parentElement);\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n      }\n\n      var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n      var sameHeader = false;\n\n      if (!isNullOrUndefined(acrdnItem) && !isNullOrUndefined(acrdnHdr)) {\n        var _acrdnCtn = _select('.' + CLS_CONTENT, acrdnItem);\n\n        var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n\n        if (isNullOrUndefined(_acrdnCtn)) {\n          return;\n        }\n\n        sameHeader = expandState === acrdnItem;\n\n        if (isVisible(_acrdnCtn) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n          this.collapse(_acrdnCtn);\n        } else {\n          if (acrdActive.length > 0 && this.expandMode === 'Single' && !sameContentCheck) {\n            acrdActive.forEach(function (el) {\n              _this32.collapse(_select('.' + CLS_CONTENT, el));\n\n              el.classList.remove(CLS_EXPANDSTATE);\n            });\n          }\n\n          this.expand(_acrdnCtn);\n        }\n\n        if (!isNullOrUndefined(expandState) && !sameHeader) {\n          expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n      }\n    }\n  }, {\n    key: \"eleMoveFocus\",\n    value: function eleMoveFocus(action, root, trgt) {\n      var clst;\n      var clstItem = closest(trgt, '.' + CLS_ITEM$1);\n\n      if (trgt === root) {\n        clst = (action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER);\n      } else if (trgt.classList.contains(CLS_HEADER)) {\n        clstItem = action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling;\n\n        if (clstItem) {\n          clst = _select('.' + CLS_HEADER, clstItem);\n        }\n      }\n\n      if (clst) {\n        clst.focus();\n      }\n    }\n  }, {\n    key: \"keyActionHandler\",\n    value: function keyActionHandler(e) {\n      var trgt = e.target;\n      var header = closest(e.target, CLS_HEADER);\n\n      if (isNullOrUndefined(header) && !trgt.classList.contains(CLS_ROOT$2) && !trgt.classList.contains(CLS_HEADER)) {\n        return;\n      }\n\n      var clst;\n      var root = this.element;\n      var content;\n\n      switch (e.action) {\n        case 'moveUp':\n          this.eleMoveFocus(e.action, root, trgt);\n          break;\n\n        case 'moveDown':\n          this.eleMoveFocus(e.action, root, trgt);\n          break;\n\n        case 'space':\n        case 'enter':\n          content = trgt.nextElementSibling;\n\n          if (!isNullOrUndefined(content) && content.classList.contains(CLS_CONTENT)) {\n            if (content.getAttribute('e-animate') !== 'true') {\n              trgt.click();\n            }\n          } else {\n            trgt.click();\n          }\n\n          break;\n\n        case 'home':\n        case 'end':\n          clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n          clst.focus();\n          break;\n      }\n    }\n  }, {\n    key: \"headerEleGenerate\",\n    value: function headerEleGenerate() {\n      var header = this.createElement('div', {\n        className: CLS_HEADER,\n        id: getUniqueID('acrdn_header')\n      });\n      var items = this.getItems();\n      var ariaAttr = {\n        'tabindex': '0',\n        'role': 'heading',\n        'aria-selected': 'false',\n        'aria-label': 'collapsed',\n        'aria-disabled': 'false',\n        'aria-level': items.length.toString()\n      };\n      attributes(header, ariaAttr);\n      return header;\n    }\n  }, {\n    key: \"renderInnerItem\",\n    value: function renderInnerItem(item, index) {\n      var innerEle = this.createElement('div', {\n        className: CLS_ITEM$1\n      });\n      innerEle.id = getUniqueID('acrdn_item');\n\n      if (isNullOrUndefined(item.id)) {\n        item.id = innerEle.id;\n      }\n\n      attributes(innerEle, {\n        'aria-expanded': 'false',\n        'role': 'row'\n      });\n\n      if (this.headerTemplate) {\n        var ctnEle = this.headerEleGenerate();\n        var hdrEle = this.createElement('div', {\n          className: CLS_HEADERCTN\n        });\n        ctnEle.appendChild(hdrEle);\n        append(this.getHeaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n        innerEle.appendChild(ctnEle);\n        ctnEle.appendChild(this.toggleIconGenerate());\n        this.add(innerEle, CLS_SLCT);\n        return innerEle;\n      }\n\n      if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n        if (this.enableHtmlSanitizer && typeof item.header === 'string') {\n          item.header = SanitizeHtmlHelper.sanitize(item.header);\n        }\n\n        var _ctnEle = this.headerEleGenerate();\n\n        var _hdrEle = this.createElement('div', {\n          className: CLS_HEADERCTN\n        });\n\n        _ctnEle.appendChild(_hdrEle);\n\n        _ctnEle.appendChild(this.fetchElement(_hdrEle, item.header, index, true));\n\n        innerEle.appendChild(_ctnEle);\n      }\n\n      var hdr = _select('.' + CLS_HEADER, innerEle);\n\n      if (item.expanded && !isNullOrUndefined(index) && !this.enablePersistence) {\n        if (this.initExpand.indexOf(index) === -1) {\n          this.initExpand.push(index);\n        }\n      }\n\n      if (item.cssClass) {\n        _addClass([innerEle], item.cssClass.split(' '));\n      }\n\n      if (item.disabled) {\n        _addClass([innerEle], CLS_DISABLE$3);\n      }\n\n      if (item.visible === false) {\n        _addClass([innerEle], CLS_ITEMHIDE);\n      }\n\n      if (item.iconCss) {\n        var hdrIcnEle = this.createElement('div', {\n          className: CLS_HEADERICN\n        });\n        var icon = this.createElement('span', {\n          className: item.iconCss + ' e-icons'\n        });\n        hdrIcnEle.appendChild(icon);\n\n        if (isNullOrUndefined(hdr)) {\n          hdr = this.headerEleGenerate();\n          hdr.appendChild(hdrIcnEle);\n          innerEle.appendChild(hdr);\n        } else {\n          hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n        }\n      }\n\n      if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n        var hdrIcon = this.toggleIconGenerate();\n\n        if (isNullOrUndefined(hdr)) {\n          hdr = this.headerEleGenerate();\n          innerEle.appendChild(hdr);\n        }\n\n        hdr.appendChild(hdrIcon);\n        this.add(innerEle, CLS_SLCT);\n      }\n\n      return innerEle;\n    }\n  }, {\n    key: \"angularnativeCondiCheck\",\n    value: function angularnativeCondiCheck(item, prop) {\n      var property = prop === 'content' ? item.content : item.header;\n      var content = property;\n\n      if (this.isAngular && !isNullOrUndefined(content.elementRef)) {\n        var data = content.elementRef.nativeElement.data;\n\n        if (isNullOrUndefined(data) || data === '' || data.indexOf('bindings=') === -1) {\n          return true;\n        }\n\n        var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n\n        if (!isNullOrUndefined(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n          return false;\n        } else {\n          return true;\n        }\n      } else {\n        return true;\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"fetchElement\",\n    value: function fetchElement(ele, value, index, isHeader) {\n      /* eslint-disable */\n      var templateFn;\n      var temString;\n\n      try {\n        if (document.querySelectorAll(value).length && value !== 'Button') {\n          var eleVal = document.querySelector(value);\n          temString = eleVal.outerHTML.trim();\n          ele.appendChild(eleVal);\n          eleVal.style.display = '';\n        }\n      } catch (e) {\n        if (typeof value === 'string') {\n          ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n          /* eslint-disable */\n        } else if (!isNullOrUndefined(this.trgtEle) && value instanceof HTMLElement) {\n          ele.appendChild(value);\n          ele.firstElementChild.style.display = '';\n          /* eslint-enable */\n        } else {\n          templateFn = compile(value);\n        }\n      }\n\n      var tempArray;\n\n      if (!isNullOrUndefined(templateFn)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n          this.renderReactTemplates();\n        }\n\n        var templateProps;\n        var templateName;\n\n        if (ele.classList.contains(CLS_HEADERCTN)) {\n          templateProps = this.element.id + index + '_header';\n          templateName = 'header';\n        } else if (ele.classList.contains(CLS_CTENT)) {\n          templateProps = this.element.id + index + '_content';\n          templateName = 'content';\n        }\n\n        tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n      }\n\n      if (!isNullOrUndefined(tempArray) && tempArray.length > 0 && !(isNullOrUndefined(tempArray[0].tagName) && tempArray.length === 1)) {\n        [].slice.call(tempArray).forEach(function (el) {\n          if (!isNullOrUndefined(el.tagName)) {\n            el.style.display = '';\n          }\n\n          ele.appendChild(el);\n        });\n      } else if (ele.childElementCount === 0) {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n      }\n\n      if (!isNullOrUndefined(temString)) {\n        if (this.templateEle.indexOf(value) === -1) {\n          this.templateEle.push(value);\n        }\n      }\n\n      return ele;\n    }\n  }, {\n    key: \"ariaAttrUpdate\",\n    value: function ariaAttrUpdate(itemEle) {\n      var header = _select('.' + CLS_HEADER, itemEle);\n\n      var content = _select('.' + CLS_CONTENT, itemEle);\n\n      header.setAttribute('aria-controls', content.id);\n      content.setAttribute('aria-labelledby', header.id);\n      content.setAttribute('role', 'definition');\n    }\n  }, {\n    key: \"contentRendering\",\n    value: function contentRendering(index) {\n      var itemcnt = this.createElement('div', {\n        className: CLS_CONTENT + ' ' + CLS_CTNHIDE,\n        id: getUniqueID('acrdn_panel')\n      });\n      attributes(itemcnt, {\n        'aria-hidden': 'true'\n      });\n      var ctn = this.createElement('div', {\n        className: CLS_CTENT\n      });\n\n      if (this.dataSource.length > 0) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n          this.renderReactTemplates();\n        }\n\n        append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n        itemcnt.appendChild(ctn);\n      } else {\n        if (this.enableHtmlSanitizer && typeof this.items[index].content) {\n          this.items[index].content = SanitizeHtmlHelper.sanitize(this.items[index].content);\n        }\n\n        itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n      }\n\n      return itemcnt;\n    }\n  }, {\n    key: \"expand\",\n    value: function expand(trgt) {\n      var _this33 = this;\n\n      var items = this.getItems();\n      var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n\n      if (isNullOrUndefined(trgt) || isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true' || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n        return;\n      }\n\n      var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n      var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n      var animation = {\n        name: this.animation.expand.effect,\n        duration: this.animation.expand.duration,\n        timingFunction: this.animation.expand.easing\n      };\n\n      var icon = _select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n\n      var eventArgs = {\n        element: trgtItemEle,\n        item: items[this.getIndexByItem(trgtItemEle)],\n        index: this.getIndexByItem(trgtItemEle),\n        content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n        isExpanded: true\n      };\n      this.trigger('expanding', eventArgs, function (expandArgs) {\n        if (!expandArgs.cancel) {\n          icon.classList.add(CLS_TOGANIMATE);\n\n          _this33.expandedItemsPush(trgtItemEle);\n\n          if (!isNullOrUndefined(expandState)) {\n            expandState.classList.remove(CLS_EXPANDSTATE);\n          }\n\n          trgtItemEle.classList.add(CLS_EXPANDSTATE);\n\n          if (animation.name === 'None') {\n            _this33.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n            _this33.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n          } else {\n            _this33.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"expandAnimation\",\n    value: function expandAnimation(ef, icn, trgt, trgtItemEle, animate, args) {\n      var _this34 = this;\n\n      var height;\n      this.lastActiveItemId = trgtItemEle.id;\n\n      if (ef === 'SlideDown') {\n        animate.begin = function () {\n          _this34.expandProgress('begin', icn, trgt, trgtItemEle, args);\n\n          trgt.style.position = 'absolute';\n          height = trgtItemEle.offsetHeight;\n          trgt.style.maxHeight = trgt.offsetHeight + 'px';\n          trgtItemEle.style.maxHeight = '';\n        };\n\n        animate.progress = function () {\n          trgtItemEle.style.minHeight = height + trgt.offsetHeight + 'px';\n        };\n\n        animate.end = function () {\n          setStyleAttribute(trgt, {\n            'position': '',\n            'maxHeight': ''\n          });\n          trgtItemEle.style.minHeight = '';\n\n          _this34.expandProgress('end', icn, trgt, trgtItemEle, args);\n        };\n      } else {\n        animate.begin = function () {\n          _this34.expandProgress('begin', icn, trgt, trgtItemEle, args);\n        };\n\n        animate.end = function () {\n          _this34.expandProgress('end', icn, trgt, trgtItemEle, args);\n        };\n      }\n\n      new Animation(animate).animate(trgt);\n    }\n  }, {\n    key: \"expandProgress\",\n    value: function expandProgress(progress, icon, trgt, trgtItemEle, eventArgs) {\n      this.remove(trgt, CLS_CTNHIDE);\n      this.add(trgtItemEle, CLS_SLCTED);\n      this.add(icon, CLS_EXPANDICN);\n\n      if (progress === 'end') {\n        this.add(trgtItemEle, CLS_ACTIVE);\n        trgt.setAttribute('aria-hidden', 'false');\n        attributes(trgtItemEle, {\n          'aria-expanded': 'true'\n        });\n        attributes(trgt.previousElementSibling, {\n          'aria-selected': 'true',\n          'aria-label': 'expanded'\n        });\n        icon.classList.remove(CLS_TOGANIMATE);\n        this.trigger('expanded', eventArgs);\n      }\n    }\n  }, {\n    key: \"expandedItemsPush\",\n    value: function expandedItemsPush(item) {\n      var index = this.getIndexByItem(item);\n\n      if (this.expandedIndices.indexOf(index) === -1) {\n        var temp = [].slice.call(this.expandedIndices);\n        temp.push(index);\n        this.setProperties({\n          expandedIndices: temp\n        }, true);\n      }\n    }\n  }, {\n    key: \"getIndexByItem\",\n    value: function getIndexByItem(item) {\n      var itemEle = this.getItemElements();\n      return [].slice.call(itemEle).indexOf(item);\n    }\n  }, {\n    key: \"getItemElements\",\n    value: function getItemElements() {\n      var itemEle = [];\n      var itemCollection = this.element.children;\n      [].slice.call(itemCollection).forEach(function (el) {\n        if (el.classList.contains(CLS_ITEM$1)) {\n          itemEle.push(el);\n        }\n      });\n      return itemEle;\n    }\n  }, {\n    key: \"expandedItemsPop\",\n    value: function expandedItemsPop(item) {\n      var index = this.getIndexByItem(item);\n      var temp = [].slice.call(this.expandedIndices);\n      temp.splice(temp.indexOf(index), 1);\n      this.setProperties({\n        expandedIndices: temp\n      }, true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse(trgt) {\n      var _this35 = this;\n\n      var items = this.getItems();\n      var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n\n      if (isNullOrUndefined(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n        return;\n      }\n\n      var animation = {\n        name: this.animation.collapse.effect,\n        duration: this.animation.collapse.duration,\n        timingFunction: this.animation.collapse.easing\n      };\n\n      var icon = _select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n\n      var eventArgs = {\n        element: trgtItemEle,\n        item: items[this.getIndexByItem(trgtItemEle)],\n        index: this.getIndexByItem(trgtItemEle),\n        content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n        isExpanded: false\n      };\n      this.trigger('expanding', eventArgs, function (expandArgs) {\n        if (!expandArgs.cancel) {\n          _this35.expandedItemsPop(trgtItemEle);\n\n          trgtItemEle.classList.add(CLS_EXPANDSTATE);\n          icon.classList.add(CLS_TOGANIMATE);\n\n          if (animation.name === 'None') {\n            _this35.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n            _this35.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n          } else {\n            _this35.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"collapseAnimation\",\n    value: function collapseAnimation(ef, trgt, trgtItEl, icn, animate, args) {\n      var _this36 = this;\n\n      var height;\n      var trgtHeight;\n      var itemHeight;\n      var remain;\n      this.lastActiveItemId = trgtItEl.id;\n\n      if (ef === 'SlideUp') {\n        animate.begin = function () {\n          itemHeight = trgtItEl.offsetHeight;\n          trgtItEl.style.minHeight = itemHeight + 'px';\n          trgt.style.position = 'absolute';\n          height = trgtItEl.offsetHeight;\n          trgtHeight = trgt.offsetHeight;\n          trgt.style.maxHeight = trgtHeight + 'px';\n\n          _this36.collapseProgress('begin', icn, trgt, trgtItEl, args);\n        };\n\n        animate.progress = function () {\n          remain = height - (trgtHeight - trgt.offsetHeight);\n\n          if (remain < itemHeight) {\n            trgtItEl.style.minHeight = remain + 'px';\n          }\n        };\n\n        animate.end = function () {\n          trgt.style.display = 'none';\n\n          _this36.collapseProgress('end', icn, trgt, trgtItEl, args);\n\n          trgtItEl.style.minHeight = '';\n          setStyleAttribute(trgt, {\n            'position': '',\n            'maxHeight': '',\n            'display': ''\n          });\n        };\n      } else {\n        animate.begin = function () {\n          _this36.collapseProgress('begin', icn, trgt, trgtItEl, args);\n        };\n\n        animate.end = function () {\n          _this36.collapseProgress('end', icn, trgt, trgtItEl, args);\n        };\n      }\n\n      new Animation(animate).animate(trgt);\n    }\n  }, {\n    key: \"collapseProgress\",\n    value: function collapseProgress(progress, icon, trgt, trgtItemEle, eventArgs) {\n      this.remove(icon, CLS_EXPANDICN);\n      this.remove(trgtItemEle, CLS_SLCTED);\n\n      if (progress === 'end') {\n        this.add(trgt, CLS_CTNHIDE);\n        icon.classList.remove(CLS_TOGANIMATE);\n        this.remove(trgtItemEle, CLS_ACTIVE);\n        trgt.setAttribute('aria-hidden', 'true');\n        attributes(trgtItemEle, {\n          'aria-expanded': 'false'\n        });\n        attributes(trgt.previousElementSibling, {\n          'aria-selected': 'false',\n          'aria-label': 'collapsed'\n        });\n        this.trigger('expanded', eventArgs);\n      }\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'accordion';\n    }\n  }, {\n    key: \"itemAttribUpdate\",\n    value: function itemAttribUpdate() {\n      var items = this.getItems();\n      var itemEle = this.getItemElements();\n      var itemLen = items.length;\n      itemEle.forEach(function (ele) {\n        _select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n      });\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems() {\n      var items;\n\n      if (this.itemTemplate && this.headerTemplate) {\n        items = this.dataSource;\n      } else {\n        items = this.items;\n      }\n\n      return items;\n    }\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     *\n     * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"addItem\",\n    value: function addItem(item, index) {\n      var _this37 = this;\n\n      var ele = this.element;\n      var itemEle = this.getItemElements();\n      var items = this.getItems();\n\n      if (isNullOrUndefined(index)) {\n        index = items.length;\n      }\n\n      if (ele.childElementCount >= index) {\n        var addItems = item instanceof Array ? item : [item];\n        addItems.forEach(function (addItem, i) {\n          var itemIndex = index + i;\n          items.splice(itemIndex, 0, addItem);\n\n          var innerItemEle = _this37.renderInnerItem(addItem, itemIndex);\n\n          if (ele.childElementCount === itemIndex) {\n            ele.appendChild(innerItemEle);\n          } else {\n            ele.insertBefore(innerItemEle, itemEle[itemIndex]);\n          }\n\n          EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this37.focusIn, _this37);\n          EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this37.focusOut, _this37);\n\n          _this37.itemAttribUpdate();\n\n          _this37.expandedIndices = [];\n\n          _this37.expandedItemRefresh(ele);\n\n          if (addItem && addItem.expanded) {\n            _this37.expandItem(true, itemIndex);\n          }\n        });\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"expandedItemRefresh\",\n    value: function expandedItemRefresh(ele) {\n      var _this38 = this;\n\n      var itemEle = this.getItemElements();\n      [].slice.call(itemEle).forEach(function (el) {\n        if (el.classList.contains(CLS_SLCTED)) {\n          _this38.expandedItemsPush(el);\n        }\n      });\n    }\n    /**\n     * Dynamically removes item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(index) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (this.isReact) {\n        this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n      }\n\n      var itemEle = this.getItemElements();\n      var ele = itemEle[index];\n      var items = this.getItems();\n\n      if (isNullOrUndefined(ele)) {\n        return;\n      }\n\n      this.restoreContent(index);\n      detach(ele);\n      items.splice(index, 1);\n      this.itemAttribUpdate();\n      this.expandedIndices = [];\n      this.expandedItemRefresh(this.element);\n    }\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"select\",\n    value: function select(index) {\n      var itemEle = this.getItemElements();\n      var ele = itemEle[index];\n\n      if (isNullOrUndefined(ele) || isNullOrUndefined(_select('.' + CLS_HEADER, ele))) {\n        return;\n      }\n\n      ele.children[0].focus();\n    }\n    /**\n     * Shows or hides the specified item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     * If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"hideItem\",\n    value: function hideItem(index, isHidden) {\n      var itemEle = this.getItemElements();\n      var ele = itemEle[index];\n\n      if (isNullOrUndefined(ele)) {\n        return;\n      }\n\n      if (isNullOrUndefined(isHidden)) {\n        isHidden = true;\n      }\n\n      if (isHidden) {\n        this.add(ele, CLS_ITEMHIDE);\n      } else {\n        this.remove(ele, CLS_ITEMHIDE);\n      }\n    }\n    /**\n     * Enables/Disables the specified Accordion item.\n     *\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"enableItem\",\n    value: function enableItem(index, isEnable) {\n      var itemEle = this.getItemElements();\n      var ele = itemEle[index];\n\n      if (isNullOrUndefined(ele)) {\n        return;\n      }\n\n      var eleHeader = ele.firstElementChild;\n\n      if (isEnable) {\n        this.remove(ele, CLS_DISABLE$3);\n        attributes(eleHeader, {\n          'tabindex': '0',\n          'aria-disabled': 'false'\n        });\n        eleHeader.focus();\n      } else {\n        if (ele.classList.contains(CLS_ACTIVE)) {\n          this.expandItem(false, index);\n          this.eleMoveFocus('movedown', this.element, eleHeader);\n        }\n\n        this.add(ele, CLS_DISABLE$3);\n        eleHeader.setAttribute('aria-disabled', 'true');\n        eleHeader.removeAttribute('tabindex');\n      }\n    }\n    /**\n     * Expands/Collapses the specified Accordion item.\n     *\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     * Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"expandItem\",\n    value: function expandItem(isExpand, index) {\n      var _this39 = this;\n\n      var itemEle = this.getItemElements();\n\n      if (isNullOrUndefined(index)) {\n        if (this.expandMode === 'Single' && isExpand) {\n          var ele = itemEle[itemEle.length - 1];\n          this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n        } else {\n          var item = _select('#' + this.lastActiveItemId, this.element);\n\n          [].slice.call(itemEle).forEach(function (el) {\n            _this39.itemExpand(isExpand, el, _this39.getIndexByItem(el));\n\n            el.classList.remove(CLS_EXPANDSTATE);\n          });\n\n          var expandedItem = _select('.' + CLS_EXPANDSTATE, this.element);\n\n          if (expandedItem) {\n            expandedItem.classList.remove(CLS_EXPANDSTATE);\n          }\n\n          if (item) {\n            item.classList.add(CLS_EXPANDSTATE);\n          }\n        }\n      } else {\n        var _ele6 = itemEle[index];\n\n        if (isNullOrUndefined(_ele6) || !_ele6.classList.contains(CLS_SLCT) || _ele6.classList.contains(CLS_ACTIVE) && isExpand) {\n          return;\n        } else {\n          if (this.expandMode === 'Single') {\n            this.expandItem(false);\n          }\n\n          this.itemExpand(isExpand, _ele6, index);\n        }\n      }\n    }\n  }, {\n    key: \"itemExpand\",\n    value: function itemExpand(isExpand, ele, index) {\n      var ctn = ele.children[1];\n\n      if (ele.classList.contains(CLS_DISABLE$3)) {\n        return;\n      }\n\n      if (isNullOrUndefined(ctn) && isExpand) {\n        ctn = this.contentRendering(index);\n        ele.appendChild(ctn);\n        this.ariaAttrUpdate(ele);\n        this.expand(ctn);\n      } else if (!isNullOrUndefined(ctn)) {\n        if (isExpand) {\n          this.expand(ctn);\n        } else {\n          this.collapse(ctn);\n        }\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"destroyItems\",\n    value: function destroyItems() {\n      this.restoreContent(null); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1)).forEach(function (el) {\n        detach(el);\n      });\n    }\n  }, {\n    key: \"restoreContent\",\n    value: function restoreContent(index) {\n      var ctnElePos;\n\n      if (isNullOrUndefined(index)) {\n        ctnElePos = this.element;\n      } else {\n        ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM$1)[index];\n      }\n\n      this.templateEle.forEach(function (eleStr) {\n        if (!isNullOrUndefined(ctnElePos.querySelector(eleStr))) {\n          document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n        }\n      });\n    }\n  }, {\n    key: \"updateItem\",\n    value: function updateItem(item, index) {\n      if (!isNullOrUndefined(item)) {\n        var items = this.getItems();\n        var itemObj = items[index];\n        items.splice(index, 1);\n        this.restoreContent(index);\n        detach(item);\n        this.addItem(itemObj, index);\n      }\n    }\n  }, {\n    key: \"setTemplate\",\n    value: function setTemplate(template, toElement, index) {\n      toElement.innerHTML = '';\n      this.templateCompile(toElement, template, index); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    } // eslint-disable-next-line\n\n  }, {\n    key: \"templateCompile\",\n    value: function templateCompile(ele, cnt, index) {\n      var tempEle = this.createElement('div');\n      this.fetchElement(tempEle, cnt, index, false);\n\n      if (tempEle.childNodes.length !== 0) {\n        [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n          ele.appendChild(childEle);\n        });\n      }\n    }\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['expandedIndices'];\n      return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {AccordionModel} newProp - It contains the new value of data.\n     * @param  {AccordionModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var acrdn = this.element;\n      var isRefresh = false;\n\n      for (var _i7 = 0, _Object$keys5 = Object.keys(newProp); _i7 < _Object$keys5.length; _i7++) {\n        var prop = _Object$keys5[_i7];\n\n        switch (prop) {\n          case 'items':\n            if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n              var changedProp = Object.keys(newProp.items);\n\n              for (var j = 0; j < changedProp.length; j++) {\n                var index = parseInt(Object.keys(newProp.items)[j], 10);\n                var property = Object.keys(newProp.items[index])[0];\n                var item = selectAll('.' + CLS_ITEM$1, this.element)[index];\n                var oldVal = Object(oldProp.items[index])[property];\n                var newVal = Object(newProp.items[index])[property];\n                var temp = property;\n\n                if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || temp === 'content' && oldVal === '') {\n                  this.updateItem(item, index);\n                }\n\n                if (property === 'cssClass' && !isNullOrUndefined(item)) {\n                  item.classList.remove(oldVal);\n                  item.classList.add(newVal);\n                }\n\n                if (property === 'visible' && !isNullOrUndefined(item)) {\n                  if (Object(newProp.items[index])[property] === false) {\n                    item.classList.add(CLS_ITEMHIDE);\n                  } else {\n                    item.classList.remove(CLS_ITEMHIDE);\n                  }\n                }\n\n                if (property === 'disabled' && !isNullOrUndefined(item)) {\n                  this.enableItem(index, !newVal);\n                }\n\n                if (property === 'content' && !isNullOrUndefined(item) && item.children.length === 2) {\n                  if (typeof newVal === 'function') {\n                    var activeContent = item.querySelector('.' + CLS_CTENT);\n                    activeContent.innerHTML = '';\n                    this.setTemplate(newVal, activeContent, index);\n                  } else {\n                    if (item.classList.contains(CLS_SLCTED)) {\n                      this.expandItem(false, index);\n                    }\n\n                    detach(item.querySelector('.' + CLS_CONTENT));\n                  }\n                }\n              }\n            } else {\n              isRefresh = true;\n            }\n\n            break;\n\n          case 'dataSource':\n          case 'expandedIndices':\n            if (this.expandedIndices === null) {\n              this.expandedIndices = [];\n            }\n\n            isRefresh = true;\n            break;\n\n          case 'headerTemplate':\n            this.initializeHeaderTemplate();\n            isRefresh = true;\n            break;\n\n          case 'itemTemplate':\n            this.initializeItemTemplate();\n            isRefresh = true;\n            break;\n\n          case 'enableRtl':\n            if (newProp.enableRtl) {\n              this.add(acrdn, CLS_RTL$3);\n            } else {\n              this.remove(acrdn, CLS_RTL$3);\n            }\n\n            break;\n\n          case 'height':\n            setStyleAttribute(this.element, {\n              'height': formatUnit(newProp.height)\n            });\n            break;\n\n          case 'width':\n            setStyleAttribute(this.element, {\n              'width': formatUnit(newProp.width)\n            });\n            break;\n\n          case 'expandMode':\n            if (newProp.expandMode === 'Single') {\n              this.element.setAttribute('aria-multiselectable', 'false');\n\n              if (this.expandedIndices.length > 1) {\n                this.expandItem(false);\n              }\n            } else {\n              this.element.setAttribute('aria-multiselectable', 'true');\n            }\n\n            break;\n        }\n      }\n\n      if (isRefresh) {\n        this.initExpand = [];\n\n        if (this.expandedIndices.length > 0) {\n          this.initExpand = this.expandedIndices;\n        }\n\n        this.destroyItems();\n        this.renderItems();\n        this.initItemExpand();\n      }\n    }\n  }]);\n\n  return Accordion;\n}(Component);\n\n__decorate$4([Collection([], AccordionItem)], Accordion.prototype, \"items\", void 0);\n\n__decorate$4([Property([])], Accordion.prototype, \"dataSource\", void 0);\n\n__decorate$4([Property()], Accordion.prototype, \"itemTemplate\", void 0);\n\n__decorate$4([Property()], Accordion.prototype, \"headerTemplate\", void 0);\n\n__decorate$4([Property('100%')], Accordion.prototype, \"width\", void 0);\n\n__decorate$4([Property('auto')], Accordion.prototype, \"height\", void 0);\n\n__decorate$4([Property([])], Accordion.prototype, \"expandedIndices\", void 0);\n\n__decorate$4([Property('Multiple')], Accordion.prototype, \"expandMode\", void 0);\n\n__decorate$4([Property(false)], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$4([Complex({}, AccordionAnimationSettings)], Accordion.prototype, \"animation\", void 0);\n\n__decorate$4([Event()], Accordion.prototype, \"clicked\", void 0);\n\n__decorate$4([Event()], Accordion.prototype, \"expanding\", void 0);\n\n__decorate$4([Event()], Accordion.prototype, \"expanded\", void 0);\n\n__decorate$4([Event()], Accordion.prototype, \"created\", void 0);\n\n__decorate$4([Event()], Accordion.prototype, \"destroyed\", void 0);\n\nAccordion = __decorate$4([NotifyPropertyChanges], Accordion);\n/**\n * Accordion all modules\n */\n\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\n\n\nvar ContextMenu = /*#__PURE__*/function (_MenuBase) {\n  _inherits(ContextMenu, _MenuBase);\n\n  var _super13 = _createSuper(ContextMenu);\n\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {ContextMenuModel} options - Specifies the context menu model\n   * @param {string} element - Specifies the element\n   */\n  function ContextMenu(options, element) {\n    _classCallCheck(this, ContextMenu);\n\n    return _super13.call(this, options, element);\n  }\n  /**\n   * For internal use only - prerender processing.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  _createClass(ContextMenu, [{\n    key: \"preRender\",\n    value: function preRender() {\n      this.isMenu = false;\n      this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n\n      _get(_getPrototypeOf(ContextMenu.prototype), \"preRender\", this).call(this);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      _get(_getPrototypeOf(ContextMenu.prototype), \"initialize\", this).call(this);\n\n      attributes(this.element, {\n        'role': 'menubar',\n        'tabindex': '0'\n      });\n      this.element.style.zIndex = getZindexPartial(this.element).toString();\n    }\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     *\n     * @param {number} top - To specify ContextMenu vertical positioning.\n     * @param {number} left - To specify ContextMenu horizontal positioning.\n     * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n     * @function open\n     * @returns {void}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open(top, left, target) {\n      _get(_getPrototypeOf(ContextMenu.prototype), \"openMenu\", this).call(this, null, null, top, left, null, target);\n    }\n    /**\n     * Closes the ContextMenu if it is opened.\n     *\n     * @function close\n     * @returns {void}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      _get(_getPrototypeOf(ContextMenu.prototype), \"closeMenu\", this).call(this);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {ContextMenuModel} newProp - Specifies new properties\n     * @param {ContextMenuModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      _get(_getPrototypeOf(ContextMenu.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp);\n\n      for (var _i8 = 0, _Object$keys6 = Object.keys(newProp); _i8 < _Object$keys6.length; _i8++) {\n        var prop = _Object$keys6[_i8];\n\n        switch (prop) {\n          case 'filter':\n            this.close();\n            this.filter = newProp.filter;\n            break;\n\n          case 'target':\n            this.unWireEvents(oldProp.target);\n            this.wireEvents();\n            break;\n        }\n      }\n    }\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'contextmenu';\n    }\n  }]);\n\n  return ContextMenu;\n}(MenuBase);\n\n__decorate$5([Property('')], ContextMenu.prototype, \"target\", void 0);\n\n__decorate$5([Property('')], ContextMenu.prototype, \"filter\", void 0);\n\n__decorate$5([Collection([], MenuItem)], ContextMenu.prototype, \"items\", void 0);\n\nContextMenu = __decorate$5([NotifyPropertyChanges], ContextMenu);\n/**\n * ContextMenu modules\n */\n\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n\n\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\nvar HAMBURGER = 'e-hamburger';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\n\nvar Menu = /*#__PURE__*/function (_MenuBase2) {\n  _inherits(Menu, _MenuBase2);\n\n  var _super14 = _createSuper(Menu);\n\n  /**\n   * Constructor for creating the component.\n   *\n   * @private\n   * @param {MenuModel} options - Specifies the menu model\n   * @param {string} element - Specifies the element\n   */\n  function Menu(options, element) {\n    var _this40;\n\n    _classCallCheck(this, Menu);\n\n    _this40 = _super14.call(this, options, element);\n    _this40.tempItems = [];\n    return _this40;\n  }\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  _createClass(Menu, [{\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'menu';\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      this.isMenu = true;\n      this.element.id = this.element.id || getUniqueID('ej2-menu');\n\n      if (this.template) {\n        try {\n          if (document.querySelectorAll(this.template).length) {\n            this.template = document.querySelector(this.template).innerHTML.trim();\n            this.clearChanges();\n          }\n        } catch (e) {\n          /* action on catch */\n        }\n      } else {\n        this.updateMenuItems(this.items);\n      }\n\n      _get(_getPrototypeOf(Menu.prototype), \"preRender\", this).call(this);\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      _get(_getPrototypeOf(Menu.prototype), \"initialize\", this).call(this);\n\n      attributes(this.element, {\n        'role': 'menubar',\n        'tabindex': '0'\n      });\n\n      if (this.orientation === 'Vertical') {\n        this.element.classList.add(VMENU);\n\n        if (this.hamburgerMode && !this.target) {\n          this.element.previousElementSibling.classList.add(VMENU);\n        }\n\n        this.element.setAttribute('aria-orientation', 'vertical');\n      } else {\n        if (Browser.isDevice && !this.enableScrolling) {\n          this.element.parentElement.classList.add(SCROLLABLE);\n        }\n      }\n\n      if (this.hamburgerMode) {\n        this.element.parentElement.classList.add(HAMBURGER);\n\n        if (this.orientation === 'Horizontal') {\n          this.element.classList.add('e-hide-menu');\n        }\n      }\n    }\n  }, {\n    key: \"updateMenuItems\",\n    value: function updateMenuItems(items) {\n      this.tempItems = items;\n      this.items = [];\n      this.tempItems.map(this.createMenuItems, this);\n      this.setProperties({\n        items: this.items\n      }, true);\n      this.tempItems = [];\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuModel} newProp - Specifies the new properties.\n     * @param {MenuModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var _this41 = this;\n\n      for (var _i9 = 0, _Object$keys7 = Object.keys(newProp); _i9 < _Object$keys7.length; _i9++) {\n        var prop = _Object$keys7[_i9];\n\n        switch (prop) {\n          case 'orientation':\n            if (newProp.orientation === 'Vertical') {\n              this.element.classList.add(VMENU);\n\n              if (this.hamburgerMode) {\n                if (!this.target) {\n                  this.element.previousElementSibling.classList.add(VMENU);\n                }\n\n                this.element.classList.remove('e-hide-menu');\n              }\n\n              this.element.setAttribute('aria-orientation', 'vertical');\n            } else {\n              this.element.classList.remove(VMENU);\n\n              if (this.hamburgerMode) {\n                if (!this.target) {\n                  this.element.previousElementSibling.classList.remove(VMENU);\n                }\n\n                this.element.classList.add('e-hide-menu');\n              }\n\n              this.element.removeAttribute('aria-orientation');\n            }\n\n            break;\n\n          case 'items':\n            if (!Object.keys(oldProp.items).length) {\n              this.updateMenuItems(newProp.items);\n            }\n\n            break;\n\n          case 'hamburgerMode':\n            if (!this.element.previousElementSibling) {\n              _get(_getPrototypeOf(Menu.prototype), \"createHeaderContainer\", this).call(this);\n            }\n\n            if (newProp.hamburgerMode) {\n              this.element.parentElement.classList.add(HAMBURGER);\n              [].slice.call(this.element.getElementsByClassName('e-blankicon')).forEach(function (li) {\n                li.style[_this41.enableRtl ? 'paddingRight' : 'paddingLeft'] = '';\n              });\n            } else {\n              this.element.parentElement.classList.remove(HAMBURGER);\n\n              if (this.orientation === 'Vertical') {\n                this.setBlankIconStyle(this.element);\n              }\n            }\n\n            if (this.orientation === 'Vertical') {\n              if (!this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n              }\n\n              this.element.classList.remove('e-hide-menu');\n            } else {\n              if (this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n              } else {\n                this.element.previousElementSibling.classList.remove(VMENU);\n              }\n\n              this.element.classList[newProp.hamburgerMode ? 'add' : 'remove']('e-hide-menu');\n            }\n\n            break;\n\n          case 'title':\n            if (this.hamburgerMode && this.element.previousElementSibling) {\n              newProp.title = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(newProp.title) : newProp.title;\n              this.element.previousElementSibling.querySelector('.e-menu-title').innerHTML = newProp.title;\n            }\n\n            break;\n\n          case 'target':\n            if (this.hamburgerMode) {\n              this.unWireEvents(oldProp.target);\n              this.wireEvents();\n\n              if (this.orientation === 'Horizontal') {\n                if (!newProp.target) {\n                  if (!this.element.previousElementSibling) {\n                    _get(_getPrototypeOf(Menu.prototype), \"createHeaderContainer\", this).call(this);\n                  }\n\n                  this.element.previousElementSibling.classList.remove(VMENU);\n                } else {\n                  this.element.previousElementSibling.classList.add(VMENU);\n                }\n\n                this.element.classList.add('e-hide-menu');\n              }\n            }\n\n            break;\n        }\n      }\n\n      _get(_getPrototypeOf(Menu.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp);\n    }\n  }, {\n    key: \"createMenuItems\",\n    value: function createMenuItems(item) {\n      var idx;\n      var i;\n      var items = this.items;\n      var pIdField = this.getField('parentId');\n\n      if (item[pIdField]) {\n        idx = this.getIndex(item[pIdField].toString(), true);\n\n        for (i = 0; i < idx.length; i++) {\n          if (!items[idx[i]].items) {\n            items[idx[i]].items = [];\n          }\n\n          items = items[idx[i]].items;\n        }\n\n        items.push(item);\n      } else {\n        this.items.push(item);\n      }\n    }\n    /**\n     * This method is used to open the Menu in hamburger mode.\n     *\n     * @function open\n     * @returns {void}\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      _get(_getPrototypeOf(Menu.prototype), \"openHamburgerMenu\", this).call(this);\n    }\n    /**\n     * Closes the Menu if it is opened in hamburger mode.\n     *\n     * @function close\n     * @returns {void}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      _get(_getPrototypeOf(Menu.prototype), \"closeHamburgerMenu\", this).call(this);\n    }\n  }]);\n\n  return Menu;\n}(MenuBase);\n\n__decorate$6([Property('Horizontal')], Menu.prototype, \"orientation\", void 0);\n\n__decorate$6([Property('')], Menu.prototype, \"target\", void 0);\n\n__decorate$6([Property(null)], Menu.prototype, \"template\", void 0);\n\n__decorate$6([Property(false)], Menu.prototype, \"enableScrolling\", void 0);\n\n__decorate$6([Property(false)], Menu.prototype, \"hamburgerMode\", void 0);\n\n__decorate$6([Property('Menu')], Menu.prototype, \"title\", void 0);\n\n__decorate$6([Property(false)], Menu.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$6([Complex({\n  itemId: 'id',\n  text: 'text',\n  parentId: 'parentId',\n  iconCss: 'iconCss',\n  url: 'url',\n  separator: 'separator',\n  children: 'items'\n}, FieldSettings)], Menu.prototype, \"fields\", void 0);\n\nMenu = __decorate$6([NotifyPropertyChanges], Menu);\n/**\n * Menu modules\n */\n\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER$1 = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT$1 = 'e-content';\nvar CLS_NEST$1 = 'e-nested';\nvar CLS_ITEMS$1 = 'e-items';\nvar CLS_ITEM$2 = 'e-item';\nvar CLS_TEMPLATE$1 = 'e-template';\nvar CLS_RTL$4 = 'e-rtl';\nvar CLS_ACTIVE$1 = 'e-active';\nvar CLS_DISABLE$4 = 'e-disable';\nvar CLS_HIDDEN$1 = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY$2 = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL$1 = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\n\nvar TabActionSettings = /*#__PURE__*/function (_ChildProperty8) {\n  _inherits(TabActionSettings, _ChildProperty8);\n\n  var _super15 = _createSuper(TabActionSettings);\n\n  function TabActionSettings() {\n    _classCallCheck(this, TabActionSettings);\n\n    return _super15.apply(this, arguments);\n  }\n\n  return TabActionSettings;\n}(ChildProperty);\n\n__decorate$7([Property('SlideLeftIn')], TabActionSettings.prototype, \"effect\", void 0);\n\n__decorate$7([Property(600)], TabActionSettings.prototype, \"duration\", void 0);\n\n__decorate$7([Property('ease')], TabActionSettings.prototype, \"easing\", void 0);\n/**\n * Objects used for configuring the Tab animation properties.\n */\n\n\nvar TabAnimationSettings = /*#__PURE__*/function (_ChildProperty9) {\n  _inherits(TabAnimationSettings, _ChildProperty9);\n\n  var _super16 = _createSuper(TabAnimationSettings);\n\n  function TabAnimationSettings() {\n    _classCallCheck(this, TabAnimationSettings);\n\n    return _super16.apply(this, arguments);\n  }\n\n  return TabAnimationSettings;\n}(ChildProperty);\n\n__decorate$7([Complex({\n  effect: 'SlideLeftIn',\n  duration: 600,\n  easing: 'ease'\n}, TabActionSettings)], TabAnimationSettings.prototype, \"previous\", void 0);\n\n__decorate$7([Complex({\n  effect: 'SlideRightIn',\n  duration: 600,\n  easing: 'ease'\n}, TabActionSettings)], TabAnimationSettings.prototype, \"next\", void 0);\n/**\n * Objects used for configuring the Tab item header properties.\n */\n\n\nvar Header = /*#__PURE__*/function (_ChildProperty10) {\n  _inherits(Header, _ChildProperty10);\n\n  var _super17 = _createSuper(Header);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _super17.apply(this, arguments);\n  }\n\n  return Header;\n}(ChildProperty);\n\n__decorate$7([Property('')], Header.prototype, \"text\", void 0);\n\n__decorate$7([Property('')], Header.prototype, \"iconCss\", void 0);\n\n__decorate$7([Property('left')], Header.prototype, \"iconPosition\", void 0);\n/**\n * An array of object that is used to configure the Tab.\n */\n\n\nvar TabItem = /*#__PURE__*/function (_ChildProperty11) {\n  _inherits(TabItem, _ChildProperty11);\n\n  var _super18 = _createSuper(TabItem);\n\n  function TabItem() {\n    _classCallCheck(this, TabItem);\n\n    return _super18.apply(this, arguments);\n  }\n\n  return TabItem;\n}(ChildProperty);\n\n__decorate$7([Complex({}, Header)], TabItem.prototype, \"header\", void 0);\n\n__decorate$7([Property(null)], TabItem.prototype, \"headerTemplate\", void 0);\n\n__decorate$7([Property('')], TabItem.prototype, \"content\", void 0);\n\n__decorate$7([Property('')], TabItem.prototype, \"cssClass\", void 0);\n\n__decorate$7([Property(false)], TabItem.prototype, \"disabled\", void 0);\n\n__decorate$7([Property(true)], TabItem.prototype, \"visible\", void 0);\n\n__decorate$7([Property()], TabItem.prototype, \"id\", void 0);\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\n\n\nvar Tab = /*#__PURE__*/function (_Component6) {\n  _inherits(Tab, _Component6);\n\n  var _super19 = _createSuper(Tab);\n\n  /**\n   * Initializes a new instance of the Tab class.\n   *\n   * @param {TabModel} options  - Specifies Tab model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n   */\n  function Tab(options, element) {\n    var _this42;\n\n    _classCallCheck(this, Tab);\n\n    _this42 = _super19.call(this, options, element);\n    _this42.show = {};\n    _this42.hide = {};\n    _this42.maxHeight = 0;\n    _this42.title = 'Close';\n    _this42.lastIndex = 0;\n    _this42.isAdd = false;\n    _this42.isIconAlone = false;\n    _this42.draggableItems = [];\n    _this42.resizeContext = _this42.refreshActElePosition.bind(_assertThisInitialized(_this42));\n    /**\n     * Contains the keyboard configuration of the Tab.\n     */\n\n    _this42.keyConfigs = {\n      tab: 'tab',\n      home: 'home',\n      end: 'end',\n      enter: 'enter',\n      space: 'space',\n      delete: 'delete',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    return _this42;\n  }\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n   *\n   * @returns {void}\n   */\n\n\n  _createClass(Tab, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this43 = this;\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      if (!isNullOrUndefined(this.tbObj)) {\n        this.tbObj.destroy();\n      }\n\n      this.unWireEvents();\n      ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach(function (val) {\n        _this43.element.removeAttribute(val);\n      });\n      this.expTemplateContent();\n\n      if (!this.isTemplate) {\n        while (this.element.firstElementChild) {\n          remove(this.element.firstElementChild);\n        }\n      } else {\n        var cntEle = _select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n\n        this.element.classList.remove(CLS_TEMPLATE$1);\n\n        if (!isNullOrUndefined(cntEle)) {\n          cntEle.innerHTML = this.cnt;\n        }\n      }\n\n      _get(_getPrototypeOf(Tab.prototype), \"destroy\", this).call(this);\n\n      this.trigger('destroyed');\n    }\n    /**\n     * Refresh the tab component\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      _get(_getPrototypeOf(Tab.prototype), \"refresh\", this).call(this);\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n    /**\n     * Initialize component\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      var nested = closest(this.element, '.' + CLS_CONTENT$1);\n      this.prevIndex = 0;\n      this.isNested = false;\n      this.isPopup = false;\n      this.initRender = true;\n      this.isSwipeed = false;\n      this.itemIndexArray = [];\n      this.templateEle = [];\n\n      if (!isNullOrUndefined(nested)) {\n        nested.parentElement.classList.add(CLS_NEST$1);\n        this.isNested = true;\n      }\n\n      var name = Browser.info.name;\n      var css = name === 'msie' ? 'e-ie' : name === 'edge' ? 'e-edge' : name === 'safari' ? 'e-safari' : '';\n      setStyleAttribute(this.element, {\n        'width': formatUnit(this.width),\n        'height': formatUnit(this.height)\n      });\n      this.setCssClass(this.element, this.cssClass, true);\n      attributes(this.element, {\n        role: 'tablist',\n        'aria-disabled': 'false',\n        'aria-activedescendant': ''\n      });\n      this.setCssClass(this.element, css, true);\n      this.updatePopAnimationConfig();\n    }\n    /**\n     * Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.btnCls = this.createElement('span', {\n        className: CLS_ICONS + ' ' + CLS_ICON_CLOSE,\n        attrs: {\n          title: this.title\n        }\n      });\n      this.tabId = this.element.id.length > 0 ? '-' + this.element.id : getRandomId();\n      this.renderContainer();\n      this.wireEvents();\n      this.initRender = false;\n    }\n  }, {\n    key: \"renderContainer\",\n    value: function renderContainer() {\n      var ele = this.element;\n      this.items.forEach(function (item, index) {\n        if (isNullOrUndefined(item.id) && !isNullOrUndefined(item.setProperties)) {\n          item.setProperties({\n            id: TABITEMPREFIX + index.toString()\n          }, true);\n        }\n      });\n\n      if (this.items.length > 0 && ele.children.length === 0) {\n        ele.appendChild(this.createElement('div', {\n          className: CLS_CONTENT$1\n        }));\n        this.setOrientation(this.headerPlacement, this.createElement('div', {\n          className: CLS_HEADER$1\n        }));\n        this.isTemplate = false;\n      } else if (this.element.children.length > 0) {\n        this.isTemplate = true;\n        ele.classList.add(CLS_TEMPLATE$1);\n        var header = ele.querySelector('.' + CLS_HEADER$1);\n\n        if (header && this.headerPlacement === 'Bottom') {\n          this.setOrientation(this.headerPlacement, header);\n        }\n      }\n\n      if (!isNullOrUndefined(_select('.' + CLS_HEADER$1, this.element)) && !isNullOrUndefined(_select('.' + CLS_CONTENT$1, this.element))) {\n        this.renderHeader();\n        this.tbItems = _select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n\n        if (!isNullOrUndefined(this.tbItems)) {\n          rippleEffect(this.tbItems, {\n            selector: '.e-tab-wrap'\n          });\n        }\n\n        this.renderContent();\n\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n          this.tbItems = _select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n          this.bdrLine = this.createElement('div', {\n            className: CLS_INDICATOR + ' ' + CLS_HIDDEN$1 + ' ' + CLS_IGNORE\n          });\n\n          var scrCnt = _select('.' + this.scrCntClass, this.tbItems);\n\n          if (!isNullOrUndefined(scrCnt)) {\n            scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n          } else {\n            this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n          }\n\n          this.setContentHeight(true);\n          this.select(this.selectedItem);\n        }\n\n        if (!isNullOrUndefined(this.tbItem)) {\n          for (var i = 0; i < this.items.length; i++) {\n            var tabID = this.items[i].id;\n            this.tbItem[i].setAttribute('data-id', tabID);\n          }\n        }\n\n        this.setRTL(this.enableRtl);\n      }\n    }\n  }, {\n    key: \"serverItemsChanged\",\n    value: function serverItemsChanged() {\n      this.enableAnimation = false;\n      this.setActive(this.selectedItem, true);\n\n      if (this.loadOn !== 'Dynamic' && !isNullOrUndefined(this.cntEle)) {\n        var itemCollection = [].slice.call(this.cntEle.children);\n        var content = CLS_CONTENT$1 + this.tabId + '_' + this.selectedItem;\n        itemCollection.forEach(function (item) {\n          if (item.classList.contains(CLS_ACTIVE$1) && item.id !== content) {\n            item.classList.remove(CLS_ACTIVE$1);\n          }\n\n          if (item.id === content) {\n            item.classList.add(CLS_ACTIVE$1);\n          }\n        });\n        this.prevIndex = this.selectedItem;\n        this.triggerAnimation(CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, false);\n      }\n\n      this.enableAnimation = true;\n    }\n  }, {\n    key: \"headerReady\",\n    value: function headerReady() {\n      this.initRender = true;\n      this.hdrEle = this.getTabHeader();\n      this.setOrientation(this.headerPlacement, this.hdrEle);\n\n      if (!isNullOrUndefined(this.hdrEle)) {\n        this.tbObj = this.hdrEle && this.hdrEle.ej2_instances[0];\n      }\n\n      this.tbObj.clicked = this.clickHandler.bind(this);\n      this.tbObj.on('onItemsChanged', this.serverItemsChanged.bind(this));\n      this.tbItems = _select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n\n      if (!isNullOrUndefined(this.tbItems)) {\n        rippleEffect(this.tbItems, {\n          selector: '.e-tab-wrap'\n        });\n      }\n\n      if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n        this.bdrLine = _select('.' + CLS_INDICATOR + '.' + CLS_IGNORE, this.element);\n\n        var scrollCnt = _select('.' + this.scrCntClass, this.tbItems);\n\n        if (!isNullOrUndefined(scrollCnt)) {\n          scrollCnt.insertBefore(this.bdrLine, scrollCnt.firstElementChild);\n        } else {\n          this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstElementChild);\n        }\n\n        this.select(this.selectedItem);\n      }\n\n      this.cntEle = _select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n\n      if (!isNullOrUndefined(this.cntEle)) {\n        this.touchModule = new Touch(this.cntEle, {\n          swipe: this.swipeHandler.bind(this)\n        });\n      }\n\n      if (this.loadOn === 'Demand') {\n        var id = this.setActiveContent();\n        this.triggerAnimation(id, false);\n      }\n\n      this.initRender = false;\n      this.renderComplete();\n    }\n  }, {\n    key: \"setActiveContent\",\n    value: function setActiveContent() {\n      var id = CLS_ITEM$2 + this.tabId + '_' + this.selectedItem;\n      var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n      if (!isNullOrUndefined(item)) {\n        item.classList.add(CLS_ACTIVE$1);\n      }\n\n      return id;\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var _this44 = this;\n\n      var hdrPlace = this.headerPlacement;\n      var tabItems = [];\n      this.hdrEle = this.getTabHeader();\n      this.addVerticalClass();\n\n      if (!this.isTemplate) {\n        tabItems = this.parseObject(this.items, 0);\n      } else {\n        if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER$1)) {\n          this.setProperties({\n            headerPlacement: 'Bottom'\n          }, true);\n        }\n\n        var count = this.hdrEle.children.length;\n        var hdrItems = [];\n\n        for (var i = 0; i < count; i++) {\n          hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n        }\n\n        if (count > 0) {\n          while (this.hdrEle.firstElementChild) {\n            detach(this.hdrEle.firstElementChild);\n          }\n\n          var _tabItems = this.createElement('div', {\n            className: CLS_ITEMS$1\n          });\n\n          this.hdrEle.appendChild(_tabItems);\n          hdrItems.forEach(function (item, index) {\n            _this44.lastIndex = index;\n            var attr = {\n              className: CLS_ITEM$2,\n              id: CLS_ITEM$2 + _this44.tabId + '_' + index,\n              attrs: {\n                role: 'tab',\n                'aria-controls': CLS_CONTENT$1 + _this44.tabId + '_' + index,\n                'aria-selected': 'false'\n              }\n            };\n\n            var txt = _this44.createElement('span', {\n              className: CLS_TEXT,\n              innerHTML: item,\n              attrs: {\n                'role': 'presentation'\n              }\n            }).outerHTML;\n\n            var cont = _this44.createElement('div', {\n              className: CLS_TEXT_WRAP,\n              innerHTML: txt + _this44.btnCls.outerHTML\n            }).outerHTML;\n\n            var wrap = _this44.createElement('div', {\n              className: CLS_WRAP,\n              innerHTML: cont,\n              attrs: {\n                tabIndex: '-1'\n              }\n            });\n\n            _tabItems.appendChild(_this44.createElement('div', attr));\n\n            selectAll('.' + CLS_ITEM$2, _tabItems)[index].appendChild(wrap);\n          });\n        }\n      }\n\n      this.tbObj = new Toolbar({\n        width: hdrPlace === 'Left' || hdrPlace === 'Right' ? 'auto' : '100%',\n        height: hdrPlace === 'Left' || hdrPlace === 'Right' ? '100%' : 'auto',\n        overflowMode: this.overflowMode,\n        items: tabItems.length !== 0 ? tabItems : [],\n        clicked: this.clickHandler.bind(this),\n        scrollStep: this.scrollStep,\n        enableHtmlSanitizer: this.enableHtmlSanitizer\n      });\n      this.tbObj.isStringTemplate = true;\n      this.tbObj.createElement = this.createElement;\n      this.tbObj.appendTo(this.hdrEle);\n      attributes(this.hdrEle, {\n        'aria-label': 'tab-header'\n      });\n      this.updateOrientationAttribute();\n      this.setCloseButton(this.showCloseButton);\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      this.cntEle = _select('.' + CLS_CONTENT$1, this.element);\n      var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n\n      if (this.isTemplate) {\n        this.cnt = this.cntEle.children.length > 0 ? this.cntEle.innerHTML : '';\n        var contents = this.cntEle.children;\n\n        for (var i = 0; i < hdrItem.length; i++) {\n          if (contents.length - 1 >= i) {\n            _addClass([contents.item(i)], CLS_ITEM$2);\n\n            attributes(contents.item(i), {\n              'role': 'tabpanel',\n              'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + i\n            });\n            contents.item(i).id = CLS_CONTENT$1 + this.tabId + '_' + i;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"reRenderItems\",\n    value: function reRenderItems() {\n      this.renderContainer();\n\n      if (!isNullOrUndefined(this.cntEle)) {\n        this.touchModule = new Touch(this.cntEle, {\n          swipe: this.swipeHandler.bind(this)\n        });\n      }\n    }\n  }, {\n    key: \"parseObject\",\n    value: function parseObject(items, index) {\n      var _this45 = this;\n\n      var tbCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n      var tItems = [];\n      var txtWrapEle;\n      var spliceArray = [];\n      items.forEach(function (item, i) {\n        var pos = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition) ? '' : item.header.iconPosition;\n        var css = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss) ? '' : item.header.iconCss;\n\n        if (isNullOrUndefined(item.headerTemplate) && (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.text) || item.header.text.length === 0 && css === '')) {\n          spliceArray.push(i);\n          return;\n        }\n\n        var txt = item.headerTemplate || item.header.text;\n\n        if (typeof txt === 'string' && _this45.enableHtmlSanitizer) {\n          txt = SanitizeHtmlHelper.sanitize(txt);\n        }\n\n        var itemIndex;\n\n        if (_this45.isReplace && !isNullOrUndefined(_this45.tbId) && _this45.tbId !== '') {\n          var num = _this45.tbId.indexOf('_');\n\n          itemIndex = parseInt(_this45.tbId.substring(num + 1), 10);\n          _this45.tbId = '';\n        } else {\n          itemIndex = index + i;\n        }\n\n        var addIndex = _this45.isAdd ? tbCount + i : _this45.lastIndex + 1;\n        _this45.lastIndex = tbCount === 0 ? i : _this45.isReplace ? itemIndex : addIndex;\n        var disabled = item.disabled ? ' ' + CLS_DISABLE$4 + ' ' + CLS_OVERLAY$2 : '';\n        var hidden = item.visible === false ? ' ' + CLS_HIDDEN$1 : '';\n        txtWrapEle = _this45.createElement('div', {\n          className: CLS_TEXT,\n          attrs: {\n            'role': 'presentation'\n          }\n        });\n        var tHtml = txt instanceof Object ? txt.outerHTML : txt;\n        var txtEmpty = !isNullOrUndefined(tHtml) && tHtml !== '';\n\n        if (!isNullOrUndefined(txt.tagName)) {\n          txtWrapEle.appendChild(txt);\n        } else {\n          _this45.headerTextCompile(txtWrapEle, txt, i);\n        }\n\n        var tEle;\n\n        var icon = _this45.createElement('span', {\n          className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n        });\n\n        var tCont = _this45.createElement('div', {\n          className: CLS_TEXT_WRAP\n        });\n\n        tCont.appendChild(txtWrapEle);\n\n        if (txt !== '' && txt !== undefined && css !== '') {\n          if (pos === 'left' || pos === 'top') {\n            tCont.insertBefore(icon, tCont.firstElementChild);\n          } else {\n            tCont.appendChild(icon);\n          }\n\n          tEle = txtWrapEle;\n          _this45.isIconAlone = false;\n        } else {\n          tEle = css === '' ? txtWrapEle : icon;\n\n          if (tEle === icon) {\n            detach(txtWrapEle);\n            tCont.appendChild(icon);\n            _this45.isIconAlone = true;\n          }\n        }\n\n        var wrapAttrs = item.disabled ? {} : {\n          tabIndex: '-1'\n        };\n        tCont.appendChild(_this45.btnCls.cloneNode(true));\n\n        var wrap = _this45.createElement('div', {\n          className: CLS_WRAP,\n          attrs: wrapAttrs\n        });\n\n        wrap.appendChild(tCont);\n\n        if (_this45.itemIndexArray === []) {\n          _this45.itemIndexArray.push(CLS_ITEM$2 + _this45.tabId + '_' + _this45.lastIndex);\n        } else {\n          _this45.itemIndexArray.splice(index + i, 0, CLS_ITEM$2 + _this45.tabId + '_' + _this45.lastIndex);\n        }\n\n        var attrObj = {\n          id: CLS_ITEM$2 + _this45.tabId + '_' + _this45.lastIndex,\n          role: 'tab',\n          'aria-selected': 'false'\n        };\n        var tItem = {\n          htmlAttributes: attrObj,\n          template: wrap\n        };\n        tItem.cssClass = (item.cssClass !== undefined ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' ' + (css !== '' ? 'e-i' + pos : '') + ' ' + (!txtEmpty ? CLS_ICON : '');\n\n        if (pos === 'top' || pos === 'bottom') {\n          _this45.element.classList.add('e-vertical-icon');\n        }\n\n        tItems.push(tItem);\n        i++;\n      });\n\n      if (!this.isAdd) {\n        spliceArray.forEach(function (spliceItemIndex) {\n          _this45.items.splice(spliceItemIndex, 1);\n        });\n      }\n\n      if (this.isIconAlone) {\n        this.element.classList.add(CLS_ICON_TAB);\n      } else {\n        this.element.classList.remove(CLS_ICON_TAB);\n      }\n\n      return tItems;\n    }\n  }, {\n    key: \"removeActiveClass\",\n    value: function removeActiveClass() {\n      var tabHeader = this.getTabHeader();\n\n      if (tabHeader) {\n        var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, tabHeader);\n        [].slice.call(tabItems).forEach(function (node) {\n          return node.classList.remove(CLS_ACTIVE$1);\n        });\n      }\n    }\n  }, {\n    key: \"checkPopupOverflow\",\n    value: function checkPopupOverflow(ele) {\n      this.tbPop = _select('.' + CLS_TB_POP, this.element);\n\n      var popIcon = _select('.e-hor-nav', this.element);\n\n      var tbrItems = _select('.' + CLS_TB_ITEMS, this.element);\n\n      var lastChild = tbrItems.lastChild;\n      var isOverflow = false;\n\n      if (!this.isVertical() && (this.enableRtl && popIcon.offsetLeft + popIcon.offsetWidth > tbrItems.offsetLeft || !this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n        isOverflow = true;\n      } else if (this.isVertical() && popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight) {\n        isOverflow = true;\n      }\n\n      if (isOverflow) {\n        ele.classList.add(CLS_TB_POPUP);\n        this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"popupHandler\",\n    value: function popupHandler(target) {\n      var ripEle = target.querySelector('.e-ripple-element');\n\n      if (!isNullOrUndefined(ripEle)) {\n        ripEle.outerHTML = '';\n        target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n      }\n\n      this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n      var lastChild = this.tbItem[this.tbItem.length - 1];\n\n      if (this.tbItem.length !== 0) {\n        target.classList.remove(CLS_TB_POPUP);\n        target.removeAttribute('style');\n        this.tbItems.appendChild(target);\n        this.actEleId = target.id;\n\n        if (this.checkPopupOverflow(lastChild)) {\n          var prevEle = this.tbItems.lastChild.previousElementSibling;\n          this.checkPopupOverflow(prevEle);\n        }\n\n        this.isPopup = true;\n      }\n\n      return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    }\n  }, {\n    key: \"updateOrientationAttribute\",\n    value: function updateOrientationAttribute() {\n      attributes(this.element, {\n        'aria-orientation': this.isVertical() ? 'vertical' : 'horizontal'\n      });\n    }\n  }, {\n    key: \"setCloseButton\",\n    value: function setCloseButton(val) {\n      var trg = _select('.' + CLS_HEADER$1, this.element);\n\n      if (val === true) {\n        trg.classList.add(CLS_CLOSE_SHOW);\n      } else {\n        trg.classList.remove(CLS_CLOSE_SHOW);\n      }\n\n      this.tbObj.refreshOverflow();\n      this.refreshActElePosition();\n    }\n  }, {\n    key: \"prevCtnAnimation\",\n    value: function prevCtnAnimation(prev, current) {\n      var animation;\n      var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL$4);\n\n      if (this.isPopup || prev <= current) {\n        if (this.animation.previous.effect === 'SlideLeftIn') {\n          animation = {\n            name: 'SlideLeftOut',\n            duration: this.animation.previous.duration,\n            timingFunction: this.animation.previous.easing\n          };\n        } else {\n          animation = null;\n        }\n      } else {\n        if (this.animation.next.effect === 'SlideRightIn') {\n          animation = {\n            name: 'SlideRightOut',\n            duration: this.animation.next.duration,\n            timingFunction: this.animation.next.easing\n          };\n        } else {\n          animation = null;\n        }\n      }\n\n      return animation;\n    }\n  }, {\n    key: \"triggerPrevAnimation\",\n    value: function triggerPrevAnimation(oldCnt, prevIndex) {\n      var _this46 = this;\n\n      var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n\n      if (!isNullOrUndefined(animateObj)) {\n        animateObj.begin = function () {\n          setStyleAttribute(oldCnt, {\n            'position': 'absolute'\n          });\n          oldCnt.classList.add(CLS_PROGRESS);\n          oldCnt.classList.add('e-view');\n        };\n\n        animateObj.end = function () {\n          oldCnt.style.display = 'none';\n          oldCnt.classList.remove(CLS_ACTIVE$1);\n          oldCnt.classList.remove(CLS_PROGRESS);\n          oldCnt.classList.remove('e-view');\n          setStyleAttribute(oldCnt, {\n            'display': '',\n            'position': ''\n          });\n\n          if (oldCnt.childNodes.length === 0 && !_this46.isTemplate) {\n            detach(oldCnt);\n          }\n        };\n\n        new Animation(animateObj).animate(oldCnt);\n      } else {\n        oldCnt.classList.remove(CLS_ACTIVE$1);\n      }\n    }\n  }, {\n    key: \"triggerAnimation\",\n    value: function triggerAnimation(id, value) {\n      var _this47 = this;\n\n      var prevIndex = this.prevIndex;\n      var oldCnt;\n      var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT$1).children);\n      itemCollection.forEach(function (item) {\n        if (item.id === _this47.prevActiveEle) {\n          oldCnt = item;\n        }\n      });\n      var prevEle = this.tbItem[prevIndex];\n      var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n      if (isNullOrUndefined(oldCnt) && !isNullOrUndefined(prevEle)) {\n        var idNo = this.extIndex(prevEle.id);\n        oldCnt = this.getTrgContent(this.cntEle, idNo);\n      }\n\n      if (!isNullOrUndefined(newCnt)) {\n        this.prevActiveEle = newCnt.id;\n      }\n\n      if (this.initRender || value === false || this.animation === {} || isNullOrUndefined(this.animation)) {\n        if (oldCnt && oldCnt !== newCnt) {\n          oldCnt.classList.remove(CLS_ACTIVE$1);\n        }\n\n        return;\n      }\n\n      var cnt = _select('.' + CLS_CONTENT$1, this.element);\n\n      var animateObj;\n\n      if (this.prevIndex > this.selectedItem && !this.isPopup) {\n        var openEff = this.animation.previous.effect;\n        animateObj = {\n          name: openEff === 'None' ? '' : openEff !== 'SlideLeftIn' ? openEff : 'SlideLeftIn',\n          duration: this.animation.previous.duration,\n          timingFunction: this.animation.previous.easing\n        };\n      } else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n        var clsEff = this.animation.next.effect;\n        animateObj = {\n          name: clsEff === 'None' ? '' : clsEff !== 'SlideRightIn' ? clsEff : 'SlideRightIn',\n          duration: this.animation.next.duration,\n          timingFunction: this.animation.next.easing\n        };\n      }\n\n      animateObj.progress = function () {\n        cnt.classList.add(CLS_PROGRESS);\n\n        _this47.setActiveBorder();\n      };\n\n      animateObj.end = function () {\n        cnt.classList.remove(CLS_PROGRESS);\n        newCnt.classList.add(CLS_ACTIVE$1);\n      };\n\n      if (!this.initRender && !isNullOrUndefined(oldCnt)) {\n        this.triggerPrevAnimation(oldCnt, prevIndex);\n      }\n\n      this.isPopup = false;\n\n      if (animateObj.name === '') {\n        newCnt.classList.add(CLS_ACTIVE$1);\n      } else {\n        new Animation(animateObj).animate(newCnt);\n      }\n    }\n  }, {\n    key: \"keyPressed\",\n    value: function keyPressed(trg) {\n      var trgParent = closest(trg, '.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEM);\n      var trgIndex = this.getEleIndex(trgParent);\n\n      if (!isNullOrUndefined(this.popEle) && trg.classList.contains('e-hor-nav')) {\n        this.popEle.classList.contains(CLS_POPUP_OPEN) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n      } else if (trg.classList.contains('e-scroll-nav')) {\n        trg.click();\n      } else {\n        if (!isNullOrUndefined(trgParent) && trgParent.classList.contains(CLS_ACTIVE$1) === false) {\n          this.select(trgIndex);\n\n          if (!isNullOrUndefined(this.popEle)) {\n            this.popObj.hide(this.hide);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getTabHeader\",\n    value: function getTabHeader() {\n      if (isNullOrUndefined(this.element)) {\n        return undefined;\n      }\n\n      var headers = [].slice.call(this.element.children).filter(function (e) {\n        return e.classList.contains(CLS_HEADER$1);\n      });\n\n      if (headers.length > 0) {\n        return headers[0];\n      } else {\n        var wrap = [].slice.call(this.element.children).filter(function (e) {\n          return !e.classList.contains(CLS_BLA_TEM);\n        })[0];\n\n        if (!wrap) {\n          return undefined;\n        }\n\n        return [].slice.call(wrap.children).filter(function (e) {\n          return e.classList.contains(CLS_HEADER$1);\n        })[0];\n      }\n    }\n  }, {\n    key: \"getEleIndex\",\n    value: function getEleIndex(item) {\n      return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n    }\n  }, {\n    key: \"extIndex\",\n    value: function extIndex(id) {\n      return id.replace(CLS_ITEM$2 + this.tabId + '_', '');\n    }\n  }, {\n    key: \"expTemplateContent\",\n    value: function expTemplateContent() {\n      var _this48 = this;\n\n      this.templateEle.forEach(function (eleStr) {\n        if (!isNullOrUndefined(_this48.element.querySelector(eleStr))) {\n          document.body.appendChild(_this48.element.querySelector(eleStr)).style.display = 'none';\n        }\n      });\n    }\n  }, {\n    key: \"templateCompile\",\n    value: function templateCompile(ele, cnt, index) {\n      var tempEle = this.createElement('div');\n      this.compileElement(tempEle, cnt, 'content', index);\n\n      if (tempEle.childNodes.length !== 0) {\n        ele.appendChild(tempEle);\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"compileElement\",\n    value: function compileElement(ele, val, prop, index) {\n      var templateFn;\n\n      if (typeof val === 'string') {\n        val = val.trim();\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n      } else {\n        templateFn = compile(val);\n      }\n\n      var templateFUN;\n\n      if (!isNullOrUndefined(templateFn)) {\n        templateFUN = templateFn({}, this, prop);\n      }\n\n      if (!isNullOrUndefined(templateFn) && templateFUN.length > 0) {\n        [].slice.call(templateFUN).forEach(function (el) {\n          ele.appendChild(el);\n        });\n      }\n    }\n  }, {\n    key: \"headerTextCompile\",\n    value: function headerTextCompile(element, text, index) {\n      this.compileElement(element, text, 'headerTemplate', index);\n    }\n  }, {\n    key: \"getContent\",\n    value: function getContent(ele, cnt, callType, index) {\n      var eleStr;\n\n      if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n        if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n          cnt = SanitizeHtmlHelper.sanitize(cnt);\n        }\n\n        if (cnt[0] === '.' || cnt[0] === '#') {\n          if (document.querySelectorAll(cnt).length) {\n            var eleVal = document.querySelector(cnt);\n            eleStr = eleVal.outerHTML.trim();\n\n            if (callType === 'clone') {\n              ele.appendChild(eleVal.cloneNode(true));\n            } else {\n              ele.appendChild(eleVal);\n              eleVal.style.display = '';\n            }\n          } else {\n            this.templateCompile(ele, cnt, index);\n          }\n        } else {\n          this.templateCompile(ele, cnt, index);\n        }\n      } else {\n        ele.appendChild(cnt);\n      }\n\n      if (!isNullOrUndefined(eleStr)) {\n        if (this.templateEle.indexOf(cnt.toString()) === -1) {\n          this.templateEle.push(cnt.toString());\n        }\n      }\n    }\n  }, {\n    key: \"getTrgContent\",\n    value: function getTrgContent(cntEle, no) {\n      var ele;\n\n      if (this.element.classList.contains(CLS_NEST$1)) {\n        ele = _select('.' + CLS_NEST$1 + '> .' + CLS_CONTENT$1 + ' > #' + CLS_CONTENT$1 + this.tabId + '_' + no, this.element);\n      } else {\n        ele = this.findEle(cntEle.children, CLS_CONTENT$1 + this.tabId + '_' + no);\n      }\n\n      return ele;\n    }\n  }, {\n    key: \"findEle\",\n    value: function findEle(items, key) {\n      var ele;\n\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].id === key) {\n          ele = items[i];\n          break;\n        }\n      }\n\n      return ele;\n    }\n  }, {\n    key: \"isVertical\",\n    value: function isVertical() {\n      var isVertical = this.headerPlacement === 'Left' || this.headerPlacement === 'Right' ? true : false;\n      this.scrCntClass = isVertical ? CLS_VSCRCNT : CLS_HSCRCNT;\n      return isVertical;\n    }\n  }, {\n    key: \"addVerticalClass\",\n    value: function addVerticalClass() {\n      if (this.isVertical()) {\n        var tbPos = this.headerPlacement === 'Left' ? CLS_VLEFT : CLS_VRIGHT;\n\n        _addClass([this.hdrEle], [CLS_VERTICAL$1, tbPos]);\n\n        if (!this.element.classList.contains(CLS_NEST$1)) {\n          _addClass([this.element], [CLS_VTAB, tbPos]);\n        } else {\n          _addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n        }\n      }\n\n      if (this.headerPlacement === 'Bottom') {\n        _addClass([this.hdrEle], [CLS_HBOTTOM]);\n      }\n    }\n  }, {\n    key: \"updatePopAnimationConfig\",\n    value: function updatePopAnimationConfig() {\n      this.show = {\n        name: this.isVertical() ? 'FadeIn' : 'SlideDown',\n        duration: 100\n      };\n      this.hide = {\n        name: this.isVertical() ? 'FadeOut' : 'SlideUp',\n        duration: 100\n      };\n    }\n  }, {\n    key: \"changeOrientation\",\n    value: function changeOrientation(place) {\n      this.setOrientation(place, this.hdrEle);\n      var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE$1);\n      var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL$1) ? true : false;\n      removeClass([this.element], [CLS_VTAB]);\n      removeClass([this.hdrEle], [CLS_VERTICAL$1, CLS_VLEFT, CLS_VRIGHT]);\n\n      if (isVertical !== this.isVertical()) {\n        this.changeToolbarOrientation();\n\n        if (!isNullOrUndefined(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n          this.popupHandler(activeTab);\n        }\n      }\n\n      this.addVerticalClass();\n      this.updateOrientationAttribute();\n      this.setActiveBorder();\n      this.focusItem();\n    }\n  }, {\n    key: \"focusItem\",\n    value: function focusItem() {\n      var curActItem = _select(' #' + CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, this.hdrEle);\n\n      if (!isNullOrUndefined(curActItem)) {\n        curActItem.firstElementChild.focus();\n      }\n    }\n  }, {\n    key: \"changeToolbarOrientation\",\n    value: function changeToolbarOrientation() {\n      this.tbObj.setProperties({\n        height: this.isVertical() ? '100%' : 'auto',\n        width: this.isVertical() ? 'auto' : '100%'\n      }, true);\n      this.tbObj.changeOrientation();\n      this.updatePopAnimationConfig();\n    }\n  }, {\n    key: \"setOrientation\",\n    value: function setOrientation(place, ele) {\n      var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n      var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT$1));\n\n      if (place === 'Bottom' && contentPos > headerPos) {\n        this.element.appendChild(ele);\n      } else {\n        removeClass([ele], [CLS_HBOTTOM]);\n        this.element.insertBefore(ele, _select('.' + CLS_CONTENT$1, this.element));\n      }\n    }\n  }, {\n    key: \"setCssClass\",\n    value: function setCssClass(ele, cls, val) {\n      if (cls === '') {\n        return;\n      }\n\n      var list = cls.split(' ');\n\n      for (var i = 0; i < list.length; i++) {\n        if (val) {\n          ele.classList.add(list[i]);\n        } else {\n          ele.classList.remove(list[i]);\n        }\n      }\n    }\n  }, {\n    key: \"setContentHeight\",\n    value: function setContentHeight(val) {\n      if (this.element.classList.contains(CLS_FILL)) {\n        removeClass([this.element], [CLS_FILL]);\n      }\n\n      if (isNullOrUndefined(this.cntEle)) {\n        return;\n      }\n\n      var hdrEle = this.getTabHeader();\n\n      if (this.heightAdjustMode === 'None') {\n        if (this.height === 'auto') {\n          return;\n        } else {\n          if (!this.isVertical()) {\n            setStyleAttribute(this.cntEle, {\n              'height': this.element.offsetHeight - hdrEle.offsetHeight + 'px'\n            });\n          }\n        }\n      } else if (this.heightAdjustMode === 'Fill') {\n        _addClass([this.element], [CLS_FILL]);\n\n        setStyleAttribute(this.element, {\n          'height': '100%'\n        });\n        setStyleAttribute(this.cntEle, {\n          'height': this.element.offsetHeight - hdrEle.offsetHeight + 'px'\n        });\n      } else if (this.heightAdjustMode === 'Auto') {\n        if (this.isTemplate === true) {\n          var cnt = selectAll('.' + CLS_CONTENT$1 + ' > .' + CLS_ITEM$2, this.element);\n\n          for (var i = 0; i < cnt.length; i++) {\n            cnt[i].setAttribute('style', 'display:block; visibility: visible');\n            this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n            cnt[i].style.removeProperty('display');\n            cnt[i].style.removeProperty('visibility');\n          }\n        } else {\n          this.cntEle = _select('.' + CLS_CONTENT$1, this.element);\n\n          if (val === true) {\n            this.cntEle.appendChild(this.createElement('div', {\n              id: CLS_CONTENT$1 + this.tabId + '_' + 0,\n              className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n              attrs: {\n                'role': 'tabpanel',\n                'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + 0\n              }\n            }));\n          }\n\n          var ele = this.cntEle.children.item(0);\n\n          for (var _i10 = 0; _i10 < this.items.length; _i10++) {\n            this.getContent(ele, this.items[_i10].content, 'clone', _i10);\n            this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n\n            while (ele.firstChild) {\n              ele.removeChild(ele.firstChild);\n            }\n          }\n\n          if (this.isReact) {\n            this.clearTemplate(['content']);\n          }\n\n          this.templateEle = [];\n          this.getContent(ele, this.items[0].content, 'render', 0);\n\n          if (this.prevIndex !== this.selectedItem) {\n            ele.classList.remove(CLS_ACTIVE$1);\n          }\n        }\n\n        setStyleAttribute(this.cntEle, {\n          'height': this.maxHeight + 'px'\n        });\n      } else {\n        setStyleAttribute(this.cntEle, {\n          'height': 'auto'\n        });\n      }\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(ele) {\n      var cs = window.getComputedStyle(ele);\n      return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) + parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    }\n  }, {\n    key: \"setActiveBorder\",\n    value: function setActiveBorder() {\n      var trgHdrEle = this.getTabHeader();\n\n      var trg = _select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, trgHdrEle);\n\n      if (trg === null) {\n        return;\n      }\n\n      var root = closest(trg, '.' + CLS_TAB);\n\n      if (this.element !== root) {\n        return;\n      }\n\n      this.tbItems = _select('.' + CLS_TB_ITEMS, trgHdrEle);\n\n      var bar = _select('.' + CLS_INDICATOR, trgHdrEle);\n\n      var scrollCnt = _select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n\n      if (this.isVertical()) {\n        setStyleAttribute(bar, {\n          'left': '',\n          'right': ''\n        });\n        var tbHeight = isNullOrUndefined(scrollCnt) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n\n        if (tbHeight !== 0) {\n          setStyleAttribute(bar, {\n            'top': trg.offsetTop + 'px',\n            'height': trg.offsetHeight + 'px'\n          });\n        } else {\n          setStyleAttribute(bar, {\n            'top': 0,\n            'height': 0\n          });\n        }\n      } else {\n        if (this.overflowMode === 'MultiRow') {\n          var _bar = _select('.' + CLS_INDICATOR, this.element);\n\n          setStyleAttribute(_bar, {\n            'top': trg.offsetHeight + trg.offsetTop + 'px',\n            'height': ''\n          });\n        } else {\n          setStyleAttribute(bar, {\n            'top': '',\n            'height': ''\n          });\n        }\n\n        var tbWidth = isNullOrUndefined(scrollCnt) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n\n        if (tbWidth !== 0) {\n          setStyleAttribute(bar, {\n            'left': trg.offsetLeft + 'px',\n            'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px'\n          });\n        } else {\n          setStyleAttribute(bar, {\n            'left': 'auto',\n            'right': 'auto'\n          });\n        }\n      }\n\n      if (!isNullOrUndefined(this.bdrLine)) {\n        this.bdrLine.classList.remove(CLS_HIDDEN$1);\n      }\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(value) {\n      var skipDataBind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n      var trg = this.tbItem[value];\n\n      if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n        return;\n      }\n\n      if (value >= 0 && !skipDataBind) {\n        this.allowServerDataBinding = false;\n        this.setProperties({\n          selectedItem: value\n        }, true);\n        this.allowServerDataBinding = true;\n\n        if (!this.initRender) {\n          this.serverDataBind();\n        }\n      }\n\n      if (trg.classList.contains(CLS_ACTIVE$1)) {\n        this.setActiveBorder();\n        return;\n      }\n\n      if (!this.isTemplate) {\n        var prev = this.tbItem[this.prevIndex];\n\n        if (!isNullOrUndefined(prev)) {\n          prev.removeAttribute('aria-controls');\n        }\n\n        attributes(trg, {\n          'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + value\n        });\n      }\n\n      var id = trg.id;\n      this.removeActiveClass();\n      trg.classList.add(CLS_ACTIVE$1);\n      this.tbItem[this.prevIndex].setAttribute('aria-selected', 'false');\n      trg.setAttribute('aria-selected', 'true');\n      var no = Number(this.extIndex(id));\n\n      if (isNullOrUndefined(this.prevActiveEle)) {\n        this.prevActiveEle = CLS_CONTENT$1 + this.tabId + '_' + no;\n      }\n\n      attributes(this.element, {\n        'aria-activedescendant': id\n      });\n\n      if (this.isTemplate) {\n        if (_select('.' + CLS_CONTENT$1, this.element).children.length > 0) {\n          var _trg = this.findEle(_select('.' + CLS_CONTENT$1, this.element).children, CLS_CONTENT$1 + this.tabId + '_' + no);\n\n          if (!isNullOrUndefined(_trg)) {\n            _trg.classList.add(CLS_ACTIVE$1);\n          }\n\n          this.triggerAnimation(id, this.enableAnimation);\n        }\n      } else {\n        this.cntEle = _select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n        var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n        if (isNullOrUndefined(item)) {\n          this.cntEle.appendChild(this.createElement('div', {\n            id: CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(id),\n            className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n            attrs: {\n              role: 'tabpanel',\n              'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + this.extIndex(id)\n            }\n          }));\n          var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n          var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n          this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n        } else {\n          item.classList.add(CLS_ACTIVE$1);\n        }\n\n        this.triggerAnimation(id, this.enableAnimation);\n      }\n\n      this.setActiveBorder();\n      this.refreshItemVisibility(trg);\n\n      if (!this.initRender && !skipDataBind) {\n        trg.firstElementChild.focus();\n        var eventArg = {\n          previousItem: this.prevItem,\n          previousIndex: this.prevIndex,\n          selectedItem: trg,\n          selectedIndex: value,\n          selectedContent: _select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content),\n          isSwiped: this.isSwipeed\n        };\n        this.trigger('selected', eventArg);\n      }\n    }\n  }, {\n    key: \"contentReady\",\n    value: function contentReady() {\n      var id = this.setActiveContent();\n      this.triggerAnimation(id, this.enableAnimation);\n    }\n  }, {\n    key: \"setItems\",\n    value: function setItems(items) {\n      this.isReplace = true;\n      this.tbItems = _select('.' + CLS_TB_ITEMS, this.getTabHeader());\n      this.tbObj.items = this.parseObject(items, 0);\n      this.tbObj.dataBind();\n      this.isReplace = false;\n    }\n  }, {\n    key: \"setRTL\",\n    value: function setRTL(value) {\n      this.tbObj.enableRtl = value;\n      this.tbObj.dataBind();\n      this.setCssClass(this.element, CLS_RTL$4, value);\n      this.refreshActiveBorder();\n    }\n  }, {\n    key: \"refreshActiveBorder\",\n    value: function refreshActiveBorder() {\n      if (!isNullOrUndefined(this.bdrLine)) {\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n      }\n\n      this.setActiveBorder();\n    }\n  }, {\n    key: \"showPopup\",\n    value: function showPopup(config) {\n      var tbPop = _select('.e-popup.e-toolbar-pop', this.hdrEle);\n\n      if (tbPop.classList.contains('e-popup-close')) {\n        var tbPopObj = tbPop && tbPop.ej2_instances[0];\n        tbPopObj.position.X = this.headerPlacement === 'Left' ? 'left' : 'right';\n        tbPopObj.dataBind();\n        tbPopObj.show(config);\n      }\n    }\n  }, {\n    key: \"bindDraggable\",\n    value: function bindDraggable() {\n      var _this49 = this;\n\n      if (this.allowDragAndDrop) {\n        var tabHeader = this.element.querySelector('.' + CLS_HEADER$1);\n        var items = tabHeader.querySelectorAll('.' + CLS_TB_ITEM);\n        items.forEach(function (element) {\n          _this49.initializeDrag(element);\n        });\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      this.bindDraggable();\n      window.addEventListener('resize', this.resizeContext);\n      EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n      EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n\n      if (!isNullOrUndefined(this.cntEle)) {\n        this.touchModule = new Touch(this.cntEle, {\n          swipe: this.swipeHandler.bind(this)\n        });\n      }\n\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyHandler.bind(this),\n        keyConfigs: this.keyConfigs\n      });\n      this.tabKeyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyHandler.bind(this),\n        keyConfigs: {\n          openPopup: 'shift+f10',\n          tab: 'tab',\n          shiftTab: 'shift+tab'\n        },\n        eventName: 'keydown'\n      });\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      if (!isNullOrUndefined(this.keyModule)) {\n        this.keyModule.destroy();\n      }\n\n      if (!isNullOrUndefined(this.tabKeyModule)) {\n        this.tabKeyModule.destroy();\n      }\n\n      if (!isNullOrUndefined(this.cntEle) && !isNullOrUndefined(this.touchModule)) {\n        this.touchModule.destroy();\n      }\n\n      window.removeEventListener('resize', this.resizeContext);\n      EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n      EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n      this.element.classList.remove(CLS_RTL$4);\n      this.element.classList.remove(CLS_FOCUS);\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(args) {\n      this.element.classList.remove(CLS_FOCUS);\n      var trg = args.originalEvent.target;\n      var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n      var trgIndex = this.getEleIndex(trgParent);\n\n      if (trg.classList.contains(CLS_ICON_CLOSE)) {\n        this.removeTab(trgIndex);\n      } else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n        this.showPopup(this.show);\n      } else {\n        this.isPopup = false;\n\n        if (!isNullOrUndefined(trgParent) && (trgIndex !== this.selectedItem || trgIndex !== this.prevIndex)) {\n          this.select(trgIndex, args.originalEvent);\n        }\n      }\n    }\n  }, {\n    key: \"swipeHandler\",\n    value: function swipeHandler(e) {\n      if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) {\n        return;\n      }\n\n      if (e.originalEvent && this.isNested) {\n        e.originalEvent.stopPropagation();\n      }\n\n      this.isSwipeed = true;\n\n      if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n        for (var k = this.selectedItem - 1; k >= 0; k--) {\n          if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n            this.select(k);\n            break;\n          }\n        }\n      } else if (e.swipeDirection === 'Left' && this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1) {\n        for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n          if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n            this.select(i);\n            break;\n          }\n        }\n      }\n\n      this.isSwipeed = false;\n    }\n  }, {\n    key: \"spaceKeyDown\",\n    value: function spaceKeyDown(e) {\n      if (e.keyCode === 32 && e.which === 32 || e.keyCode === 35 && e.which === 35) {\n        var clstHead = closest(e.target, '.' + CLS_HEADER$1);\n\n        if (!isNullOrUndefined(clstHead)) {\n          e.preventDefault();\n        }\n      }\n    }\n  }, {\n    key: \"keyHandler\",\n    value: function keyHandler(e) {\n      if (this.element.classList.contains(CLS_DISABLE$4)) {\n        return;\n      }\n\n      this.element.classList.add(CLS_FOCUS);\n      var trg = e.target;\n      var tabHeader = this.getTabHeader();\n\n      var actEle = _select('.' + CLS_ACTIVE$1, tabHeader);\n\n      this.popEle = _select('.' + CLS_TB_POP, tabHeader);\n\n      if (!isNullOrUndefined(this.popEle)) {\n        this.popObj = this.popEle.ej2_instances[0];\n      }\n\n      var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n      var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n\n      switch (e.action) {\n        case 'space':\n        case 'enter':\n          if (trg.parentElement.classList.contains(CLS_DISABLE$4)) {\n            return;\n          }\n\n          if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n            this.showPopup(this.show);\n            break;\n          }\n\n          this.keyPressed(trg);\n          break;\n\n        case 'tab':\n        case 'shiftTab':\n          if (trg.classList.contains(CLS_WRAP) && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE$1) === false) {\n            trg.setAttribute('tabindex', '-1');\n          }\n\n          if (this.popObj && isVisible(this.popObj.element)) {\n            this.popObj.hide(this.hide);\n          }\n\n          actEle.children.item(0).setAttribute('tabindex', '0');\n          break;\n\n        case 'moveLeft':\n        case 'moveRight':\n          if (!isNullOrUndefined(item)) {\n            this.refreshItemVisibility(item);\n          }\n\n          break;\n\n        case 'openPopup':\n          e.preventDefault();\n\n          if (!isNullOrUndefined(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n            this.popObj.show(this.show);\n          }\n\n          break;\n\n        case 'delete':\n          if (this.showCloseButton === true && !isNullOrUndefined(trgParent)) {\n            var nxtSib = trgParent.nextSibling;\n\n            if (!isNullOrUndefined(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n              nxtSib.firstElementChild.focus();\n            }\n\n            this.removeTab(this.getEleIndex(trgParent));\n          }\n\n          this.setActiveBorder();\n          break;\n      }\n    }\n  }, {\n    key: \"refreshActElePosition\",\n    value: function refreshActElePosition() {\n      var activeEle = _select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE$1, this.element);\n\n      if (!isNullOrUndefined(activeEle)) {\n        this.select(this.getEleIndex(activeEle));\n      }\n\n      this.refreshActiveBorder();\n    }\n  }, {\n    key: \"refreshItemVisibility\",\n    value: function refreshItemVisibility(target) {\n      var scrCnt = _select('.' + this.scrCntClass, this.tbItems);\n\n      if (!this.isVertical() && !isNullOrUndefined(scrCnt)) {\n        var scrBar = _select('.e-hscroll-bar', this.tbItems);\n\n        var scrStart = scrBar.scrollLeft;\n        var scrEnd = scrStart + scrBar.offsetWidth;\n        var eleStart = target.offsetLeft;\n        var eleWidth = target.offsetWidth;\n        var eleEnd = target.offsetLeft + target.offsetWidth;\n\n        if (scrStart < eleStart && scrEnd < eleEnd) {\n          var eleViewRange = scrEnd - eleStart;\n          scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n        } else {\n          if (scrStart > eleStart && scrEnd > eleEnd) {\n            var _eleViewRange = eleEnd - scrStart;\n\n            scrBar.scrollLeft = scrStart - (eleWidth - _eleViewRange);\n          }\n        }\n      } else {\n        return;\n      }\n    }\n  }, {\n    key: \"hoverHandler\",\n    value: function hoverHandler(e) {\n      var trg = e.target;\n\n      if (!isNullOrUndefined(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n        trg.setAttribute('title', new L10n('tab', {\n          closeButtonTitle: this.title\n        }, this.locale).getConstant('closeButtonTitle'));\n      }\n    }\n  }, {\n    key: \"evalOnPropertyChangeItems\",\n    value: function evalOnPropertyChangeItems(newProp, oldProp) {\n      if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n        var changedProp = Object.keys(newProp.items);\n\n        for (var i = 0; i < changedProp.length; i++) {\n          var index = parseInt(Object.keys(newProp.items)[i], 10);\n          var properties = Object.keys(newProp.items[index]);\n\n          for (var j = 0; j < properties.length; j++) {\n            var oldVal = Object(oldProp.items[index])[properties[j]];\n            var newVal = Object(newProp.items[index])[properties[j]];\n            var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n            var itemIndex = void 0;\n\n            if (hdr && !isNullOrUndefined(hdr.id) && hdr.id !== '') {\n              var num = hdr.id.lastIndexOf('_');\n              itemIndex = parseInt(hdr.id.substring(num + 1), 10);\n            } else {\n              itemIndex = index;\n            }\n\n            var hdrItem = _select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM$2 + this.tabId + '_' + itemIndex, this.element);\n\n            var cntItem = _select('.' + CLS_CONTENT$1 + ' #' + CLS_CONTENT$1 + this.tabId + '_' + itemIndex, this.element);\n\n            if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n              var icon = isNullOrUndefined(this.items[index].header) || isNullOrUndefined(this.items[index].header.iconCss) ? '' : this.items[index].header.iconCss;\n              var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n\n              if (textVal === '' && icon === '') {\n                this.removeTab(index);\n              } else {\n                this.tbId = hdr.id;\n                var arr = [];\n                arr.push(this.items[index]);\n                this.items.splice(index, 1);\n                this.itemIndexArray.splice(index, 1);\n                this.tbObj.items.splice(index, 1);\n                var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN$1);\n                detach(hdrItem);\n                this.isReplace = true;\n                this.addTab(arr, index);\n\n                if (isHiddenEle) {\n                  this.hideTab(index);\n                }\n\n                this.isReplace = false;\n              }\n            }\n\n            if (properties[j] === 'content' && !isNullOrUndefined(cntItem)) {\n              var strVal = typeof newVal === 'string' || isNullOrUndefined(newVal.innerHTML);\n\n              if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                var eleVal = document.querySelector(newVal);\n                cntItem.appendChild(eleVal);\n                eleVal.style.display = '';\n              } else if (newVal === '' && oldVal[0] === '#') {\n                document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                cntItem.innerHTML = newVal;\n              } else if (this.isReact) {\n                cntItem.innerHTML = '';\n                this.templateCompile(cntItem, newVal, index);\n              } else if (typeof newVal !== 'function') {\n                cntItem.innerHTML = newVal;\n              }\n            }\n\n            if (properties[j] === 'cssClass') {\n              if (!isNullOrUndefined(hdrItem)) {\n                hdrItem.classList.remove(oldVal);\n                hdrItem.classList.add(newVal);\n              }\n\n              if (!isNullOrUndefined(cntItem)) {\n                cntItem.classList.remove(oldVal);\n                cntItem.classList.add(newVal);\n              }\n            }\n\n            if (properties[j] === 'disabled') {\n              this.enableTab(index, newVal === true ? false : true);\n            }\n\n            if (properties[j] === 'visible') {\n              this.hideTab(index, newVal === true ? false : true);\n            }\n          }\n        }\n      } else {\n        this.lastIndex = 0;\n\n        if (isNullOrUndefined(this.tbObj)) {\n          this.reRenderItems();\n        } else {\n          if (this.isRect) {\n            this.clearTemplate();\n          }\n\n          this.setItems(newProp.items);\n\n          if (this.templateEle.length > 0) {\n            this.expTemplateContent();\n          }\n\n          this.templateEle = [];\n\n          var selectElement = _select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n\n          while (selectElement.firstElementChild) {\n            detach(selectElement.firstElementChild);\n          }\n\n          this.select(this.selectedItem);\n        }\n      }\n    }\n  }, {\n    key: \"initializeDrag\",\n    value: function initializeDrag(target) {\n      var _this50 = this;\n\n      this.dragArea = !isNullOrUndefined(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER$1);\n      var dragObj = new Draggable(target, {\n        dragArea: this.dragArea,\n        dragTarget: '.' + CLS_TB_ITEM,\n        clone: true,\n        helper: this.helper.bind(this),\n        dragStart: this.itemDragStart.bind(this),\n        drag: function drag(e) {\n          var dragIndex = _this50.getEleIndex(_this50.dragItem);\n\n          var dropIndex;\n          var dropItem;\n          var dragArgs = {\n            draggedItem: _this50.dragItem,\n            event: e.event,\n            target: e.target,\n            droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n            clonedElement: _this50.cloneElement,\n            index: dragIndex\n          };\n\n          if (!isNullOrUndefined(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this50.element) && _this50.dragArea !== '.' + CLS_HEADER$1) {\n            _this50.trigger('dragging', dragArgs);\n          } else {\n            if (!e.target.closest(_this50.dragArea) && _this50.overflowMode !== 'Popup') {\n              document.body.style.cursor = 'not-allowed';\n\n              _addClass([_this50.cloneElement], CLS_HIDDEN$1);\n\n              if (_this50.dragItem.classList.contains(CLS_HIDDEN$1)) {\n                removeClass([_this50.dragItem], CLS_HIDDEN$1);\n              }\n\n              _this50.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n            } else {\n              document.body.style.cursor = '';\n              _this50.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n\n              if (_this50.cloneElement.classList.contains(CLS_HIDDEN$1)) {\n                removeClass([_this50.cloneElement], CLS_HIDDEN$1);\n              }\n            }\n\n            if (_this50.overflowMode === 'Scrollable' && !isNullOrUndefined(_this50.element.querySelector('.e-hscroll'))) {\n              var scrollRightNavEle = _this50.element.querySelector('.e-scroll-right-nav');\n\n              var scrollLeftNavEle = _this50.element.querySelector('.e-scroll-left-nav');\n\n              var hscrollBar = _this50.element.querySelector('.e-hscroll-bar');\n\n              if (!isNullOrUndefined(scrollRightNavEle) && Math.abs(scrollRightNavEle.offsetWidth / 2 + scrollRightNavEle.offsetLeft) > _this50.cloneElement.offsetLeft + _this50.cloneElement.offsetWidth) {\n                hscrollBar.scrollLeft -= 10;\n              }\n\n              if (!isNullOrUndefined(scrollLeftNavEle) && Math.abs(scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth - _this50.cloneElement.offsetLeft) > scrollLeftNavEle.offsetWidth / 2) {\n                hscrollBar.scrollLeft += 10;\n              }\n            }\n\n            _this50.cloneElement.style.pointerEvents = 'none';\n            dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n            var scrollContentWidth = 0;\n\n            if (_this50.overflowMode === 'Scrollable' && !isNullOrUndefined(_this50.element.querySelector('.e-hscroll'))) {\n              scrollContentWidth = _this50.element.querySelector('.e-hscroll-content').offsetWidth;\n            }\n\n            if (dropItem != null && !dropItem.isSameNode(_this50.dragItem) && dropItem.closest('.' + CLS_TAB).isSameNode(_this50.dragItem.closest('.' + CLS_TAB))) {\n              dropIndex = _this50.getEleIndex(dropItem);\n\n              if (dropIndex < dragIndex && Math.abs(dropItem.offsetLeft + dropItem.offsetWidth - _this50.cloneElement.offsetLeft) > dropItem.offsetWidth / 2) {\n                _this50.dragAction(dropItem, dragIndex, dropIndex);\n              }\n\n              if (dropIndex > dragIndex && Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft - scrollContentWidth < _this50.cloneElement.offsetLeft + _this50.cloneElement.offsetWidth) {\n                _this50.dragAction(dropItem, dragIndex, dropIndex);\n              }\n            }\n\n            _this50.droppedIndex = _this50.getEleIndex(_this50.dragItem);\n\n            _this50.trigger('dragging', dragArgs);\n          }\n        },\n        dragStop: this.itemDragStop.bind(this)\n      });\n      this.draggableItems.push(dragObj);\n    }\n  }, {\n    key: \"helper\",\n    value: function helper(e) {\n      this.cloneElement = this.createElement('div');\n\n      if (e.element) {\n        this.cloneElement = e.element.cloneNode(true);\n\n        _addClass([this.cloneElement], 'e-tab-clone-element');\n\n        if (this.element.querySelector('.' + CLS_HEADER$1).classList.contains(CLS_CLOSE_SHOW)) {\n          _addClass([this.cloneElement], CLS_CLOSE_SHOW);\n        }\n\n        removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n\n        if (!isNullOrUndefined(this.cloneElement.querySelector('.e-ripple-element'))) {\n          remove(this.cloneElement.querySelector('.e-ripple-element'));\n        }\n\n        document.body.appendChild(this.cloneElement);\n      }\n\n      return this.cloneElement;\n    }\n  }, {\n    key: \"itemDragStart\",\n    value: function itemDragStart(e) {\n      var _this51 = this;\n\n      this.draggingItems = this.items.map(function (x) {\n        return x;\n      });\n      this.dragItem = e.element;\n      var dragArgs = {\n        draggedItem: e.element,\n        event: e.event,\n        target: e.target,\n        droppedItem: null,\n        index: this.getEleIndex(this.dragItem),\n        clonedElement: this.cloneElement,\n        cancel: false\n      };\n      this.trigger('onDragStart', dragArgs, function (tabitemDragArgs) {\n        if (tabitemDragArgs.cancel) {\n          detach(_this51.cloneElement);\n        } else {\n          _this51.removeActiveClass();\n\n          _addClass([_this51.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n\n          _this51.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n        }\n      });\n    }\n  }, {\n    key: \"dragAction\",\n    value: function dragAction(dropItem, dragsIndex, dropIndex) {\n      if (this.items.length > 0) {\n        var item = this.draggingItems[dragsIndex];\n        this.draggingItems.splice(dragsIndex, 1);\n        this.draggingItems.splice(dropIndex, 0, item);\n      }\n\n      if (this.overflowMode === 'MultiRow') {\n        dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n      }\n\n      if (dragsIndex > dropIndex) {\n        if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n          if (this.overflowMode === 'Extended') {\n            if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n              var popupContainer = this.dragItem.parentNode;\n              dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n              popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n            } else {\n              this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n              dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            }\n          } else {\n            var lastEle = dropItem.parentElement.lastChild;\n\n            if (dropItem.isSameNode(lastEle)) {\n              var _popupContainer = this.dragItem.parentNode;\n              dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n\n              _popupContainer.insertBefore(lastEle, _popupContainer.childNodes[0]);\n            } else {\n              this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n              dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            }\n          }\n        } else {\n          this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n        }\n      }\n\n      if (dragsIndex < dropIndex) {\n        if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n          if (this.overflowMode === 'Extended') {\n            this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        } else {\n          this.dragItem.parentNode.insertBefore(dropItem, this.dragItem);\n        }\n      }\n    }\n  }, {\n    key: \"itemDragStop\",\n    value: function itemDragStop(e) {\n      var _this52 = this;\n\n      detach(this.cloneElement);\n      this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n      document.body.style.cursor = '';\n      var dragStopArgs = {\n        draggedItem: this.dragItem,\n        event: e.event,\n        target: e.target,\n        droppedItem: this.tbItem[this.droppedIndex],\n        clonedElement: null,\n        index: this.droppedIndex,\n        cancel: false\n      };\n      this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n        if (tabItemDropArgs.cancel) {\n          _this52.refresh();\n        } else {\n          if (_this52.items.length > 0 && _this52.draggingItems.length > 0) {\n            _this52.items = _this52.draggingItems;\n            _this52.selectedItem = _this52.droppedIndex;\n\n            _this52.refresh();\n          } else {\n            _this52.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n            removeClass([_this52.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n\n            _this52.select(_this52.droppedIndex);\n          }\n        }\n      });\n    }\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     *\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"enableTab\",\n    value: function enableTab(index, value) {\n      var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n      if (isNullOrUndefined(tbItems)) {\n        return;\n      }\n\n      if (value === true) {\n        tbItems.classList.remove(CLS_DISABLE$4, CLS_OVERLAY$2);\n        tbItems.firstElementChild.setAttribute('tabindex', '-1');\n      } else {\n        tbItems.classList.add(CLS_DISABLE$4, CLS_OVERLAY$2);\n        tbItems.firstElementChild.removeAttribute('tabindex');\n\n        if (tbItems.classList.contains(CLS_ACTIVE$1)) {\n          this.select(index + 1);\n        }\n      }\n\n      if (!isNullOrUndefined(this.items[index])) {\n        this.items[index].disabled = !value;\n        this.dataBind();\n      }\n\n      tbItems.setAttribute('aria-disabled', value === true ? 'false' : 'true');\n    }\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     *\n     * @param  {TabItemModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"addTab\",\n    value: function addTab(items, index) {\n      var _this53 = this;\n\n      var addArgs = {\n        addedItems: items,\n        cancel: false\n      };\n\n      if (!this.isReplace) {\n        this.trigger('adding', addArgs, function (tabAddingArgs) {\n          if (!tabAddingArgs.cancel) {\n            _this53.addingTabContent(items, index);\n          }\n        });\n      } else {\n        this.addingTabContent(items, index);\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }, {\n    key: \"addingTabContent\",\n    value: function addingTabContent(items, index) {\n      var _this54 = this;\n\n      var lastEleIndex = 0;\n      this.hdrEle = _select('.' + CLS_HEADER$1, this.element);\n\n      if (isNullOrUndefined(this.hdrEle)) {\n        this.items = items;\n        this.reRenderItems();\n      } else {\n        var itemsCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n\n        if (itemsCount !== 0) {\n          lastEleIndex = this.lastIndex + 1;\n        }\n\n        if (isNullOrUndefined(index)) {\n          index = itemsCount - 1;\n        }\n\n        if (itemsCount < index || index < 0 || isNaN(index)) {\n          return;\n        }\n\n        if (itemsCount === 0 && !isNullOrUndefined(this.hdrEle)) {\n          this.hdrEle.style.display = '';\n        }\n\n        if (!isNullOrUndefined(this.bdrLine)) {\n          this.bdrLine.classList.add(CLS_HIDDEN$1);\n        }\n\n        this.tbItems = _select('.' + CLS_TB_ITEMS, this.getTabHeader());\n        this.isAdd = true;\n        var tabItems = this.parseObject(items, index);\n        this.isAdd = false;\n        var i = 0;\n        var textValue;\n        items.forEach(function (item, place) {\n          textValue = item.headerTemplate || item.header.text;\n\n          if (!(isNullOrUndefined(item.headerTemplate || item.header) || isNullOrUndefined(textValue) || textValue.length === 0 && isNullOrUndefined(item.header.iconCss))) {\n            _this54.items.splice(index + i, 0, item);\n\n            i++;\n          }\n\n          if (_this54.isTemplate && !isNullOrUndefined(item.header) && !isNullOrUndefined(item.header.text)) {\n            var no = lastEleIndex + place;\n\n            var ele = _this54.createElement('div', {\n              id: CLS_CONTENT$1 + _this54.tabId + '_' + no,\n              className: CLS_ITEM$2,\n              attrs: {\n                role: 'tabpanel',\n                'aria-labelledby': CLS_ITEM$2 + '_' + no\n              }\n            });\n\n            _this54.cntEle.insertBefore(ele, _this54.cntEle.children[index + place]);\n\n            var eleTrg = _this54.getTrgContent(_this54.cntEle, no.toString());\n\n            _this54.getContent(eleTrg, item.content, 'render', index);\n          }\n        });\n        this.tbObj.addItems(tabItems, index);\n\n        if (!this.isReplace) {\n          this.trigger('added', {\n            addedItems: items\n          });\n        }\n\n        if (this.selectedItem === index) {\n          this.select(index);\n        } else {\n          this.setActiveBorder();\n        }\n\n        this.bindDraggable();\n      }\n    }\n    /**\n     * Removes the items in the Tab from the specified index.\n     *\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"removeTab\",\n    value: function removeTab(index) {\n      var _this55 = this;\n\n      var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n      if (isNullOrUndefined(trg)) {\n        return;\n      }\n\n      var removeArgs = {\n        removedItem: trg,\n        removedIndex: index,\n        cancel: false\n      };\n      this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n        if (!tabRemovingArgs.cancel) {\n          _this55.tbObj.removeItems(index);\n\n          if (_this55.allowDragAndDrop && index !== Array.prototype.indexOf.call(_this55.itemIndexArray, trg.id)) {\n            index = Array.prototype.indexOf.call(_this55.itemIndexArray, trg.id);\n          }\n\n          _this55.items.splice(index, 1);\n\n          _this55.itemIndexArray.splice(index, 1);\n\n          _this55.refreshActiveBorder();\n\n          var cntTrg = _select('#' + CLS_CONTENT$1 + _this55.tabId + '_' + _this55.extIndex(trg.id), _select('.' + CLS_CONTENT$1, _this55.element));\n\n          if (!isNullOrUndefined(cntTrg)) {\n            detach(cntTrg);\n          }\n\n          _this55.trigger('removed', tabRemovingArgs);\n\n          if (trg.classList.contains(CLS_ACTIVE$1)) {\n            index = index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this55.element).length - 1 ? index - 1 : index;\n            _this55.enableAnimation = false;\n            _this55.selectedItem = index;\n\n            _this55.select(index);\n          }\n\n          if (selectAll('.' + CLS_TB_ITEM, _this55.element).length === 0) {\n            _this55.hdrEle.style.display = 'none';\n          }\n\n          _this55.enableAnimation = true;\n        }\n      });\n    }\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     *\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"hideTab\",\n    value: function hideTab(index, value) {\n      var items;\n      var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n      if (isNullOrUndefined(item)) {\n        return;\n      }\n\n      if (isNullOrUndefined(value)) {\n        value = true;\n      }\n\n      this.bdrLine.classList.add(CLS_HIDDEN$1);\n\n      if (value === true) {\n        item.classList.add(CLS_HIDDEN$1);\n        items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n\n        if (items.length !== 0 && item.classList.contains(CLS_ACTIVE$1)) {\n          if (index !== 0) {\n            for (var i = index - 1; i >= 0; i--) {\n              if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                this.select(i);\n                break;\n              } else if (i === 0) {\n                for (var k = index + 1; k < this.tbItem.length; k++) {\n                  if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                    this.select(k);\n                    break;\n                  }\n                }\n              }\n            }\n          } else {\n            for (var _k = index + 1; _k < this.tbItem.length; _k++) {\n              if (!this.tbItem[_k].classList.contains(CLS_HIDDEN$1)) {\n                this.select(_k);\n                break;\n              }\n            }\n          }\n        } else if (items.length === 0) {\n          this.element.classList.add(CLS_HIDDEN$1);\n        }\n      } else {\n        this.element.classList.remove(CLS_HIDDEN$1);\n        items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n        item.classList.remove(CLS_HIDDEN$1);\n\n        if (items.length === 0) {\n          this.select(index);\n        }\n      }\n\n      this.setActiveBorder();\n      item.setAttribute('aria-hidden', '' + value);\n\n      if (this.overflowMode === 'Popup' && this.tbObj) {\n        this.tbObj.refreshOverflow();\n      }\n    }\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     *\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @param {Event} event - An event which takes place in DOM.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"select\",\n    value: function select(args, event) {\n      var _this56 = this;\n\n      var tabHeader = this.getTabHeader();\n      this.tbItems = _select('.' + CLS_TB_ITEMS, tabHeader);\n      this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n      this.content = _select('.' + CLS_CONTENT$1, this.element);\n      this.prevItem = this.tbItem[this.prevIndex];\n\n      if (isNullOrUndefined(this.selectedItem) || this.selectedItem < 0 || this.tbItem.length <= this.selectedItem || isNaN(this.selectedItem)) {\n        this.selectedItem = 0;\n      } else {\n        this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n      }\n\n      var trg = this.tbItem[args];\n\n      if (isNullOrUndefined(trg)) {\n        this.selectedID = '0';\n      } else {\n        this.selectingID = this.extIndex(trg.id);\n      }\n\n      if (!isNullOrUndefined(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE$4)) {\n        this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n      }\n\n      var eventArg = {\n        event: event,\n        previousItem: this.prevItem,\n        previousIndex: this.prevIndex,\n        selectedItem: this.tbItem[this.selectedItem],\n        selectedIndex: this.selectedItem,\n        selectedContent: !isNullOrUndefined(this.content) ? _select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectedID, this.content) : null,\n        selectingItem: trg,\n        selectingIndex: args,\n        selectingContent: !isNullOrUndefined(this.content) ? _select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content) : null,\n        isSwiped: this.isSwipeed,\n        cancel: false\n      };\n\n      if (!this.initRender) {\n        this.trigger('selecting', eventArg, function (selectArgs) {\n          if (!selectArgs.cancel) {\n            _this56.selectingContent(args);\n          }\n        });\n      } else {\n        this.selectingContent(args);\n      }\n    }\n  }, {\n    key: \"selectingContent\",\n    value: function selectingContent(args) {\n      if (typeof args === 'number') {\n        if (!isNullOrUndefined(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE$4) || this.tbItem[args].classList.contains(CLS_HIDDEN$1))) {\n          for (var i = args + 1; i < this.items.length; i++) {\n            if (this.items[i].disabled === false && this.items[i].visible === true) {\n              args = i;\n              break;\n            } else {\n              args = 0;\n            }\n          }\n        }\n\n        if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n          this.prevIndex = this.selectedItem;\n\n          if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n            this.setActive(this.popupHandler(this.tbItem[args]));\n\n            if (!isNullOrUndefined(this.items) && this.items.length > 0 && this.allowDragAndDrop) {\n              this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n              var item = this.items[args];\n              this.items.splice(args, 1);\n              this.items.splice(this.tbItem.length - 1, 0, item);\n            }\n          } else {\n            this.setActive(args);\n          }\n        } else {\n          this.setActive(0);\n        }\n      } else if (args instanceof HTMLElement) {\n        this.setActive(this.getEleIndex(args));\n      }\n    }\n    /**\n     * Gets the item index from the Tab.\n     *\n     * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n     * @returns {number} - It returns item index.\n     */\n\n  }, {\n    key: \"getItemIndex\",\n    value: function getItemIndex(tabItemId) {\n      var tabIndex;\n\n      for (var i = 0; i < this.tbItem.length; i++) {\n        var value = this.tbItem[i].getAttribute('data-id');\n\n        if (tabItemId === value) {\n          tabIndex = i;\n          break;\n        }\n      }\n\n      return tabIndex;\n    }\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable(value) {\n      this.setCssClass(this.element, CLS_DISABLE$4, value);\n      this.element.setAttribute('aria-disabled', '' + value);\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - It returns the persisted state.\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      return this.addOnPersist(['selectedItem', 'actEleId']);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'tab';\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {TabModel} newProp - It contains the new value of data.\n     * @param  {TabModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var _this57 = this;\n\n      for (var _i11 = 0, _Object$keys8 = Object.keys(newProp); _i11 < _Object$keys8.length; _i11++) {\n        var prop = _Object$keys8[_i11];\n\n        switch (prop) {\n          case 'width':\n            setStyleAttribute(this.element, {\n              width: formatUnit(newProp.width)\n            });\n            break;\n\n          case 'height':\n            setStyleAttribute(this.element, {\n              height: formatUnit(newProp.height)\n            });\n            this.setContentHeight(false);\n            break;\n\n          case 'cssClass':\n            if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n              this.setCssClass(this.element, oldProp.cssClass, false);\n              this.setCssClass(this.element, newProp.cssClass, true);\n            } else {\n              this.setCssClass(this.element, newProp.cssClass, true);\n            }\n\n            break;\n\n          case 'items':\n            this.evalOnPropertyChangeItems(newProp, oldProp);\n            break;\n\n          case 'showCloseButton':\n            this.setCloseButton(newProp.showCloseButton);\n            break;\n\n          case 'selectedItem':\n            this.selectedItem = oldProp.selectedItem;\n            this.select(newProp.selectedItem);\n            break;\n\n          case 'headerPlacement':\n            this.changeOrientation(newProp.headerPlacement);\n            break;\n\n          case 'enableRtl':\n            this.setRTL(newProp.enableRtl);\n            break;\n\n          case 'overflowMode':\n            this.tbObj.overflowMode = newProp.overflowMode;\n            this.tbObj.dataBind();\n            this.refreshActElePosition();\n            break;\n\n          case 'heightAdjustMode':\n            this.setContentHeight(false);\n            this.select(this.selectedItem);\n            break;\n\n          case 'scrollStep':\n            if (this.tbObj) {\n              this.tbObj.scrollStep = this.scrollStep;\n            }\n\n            break;\n\n          case 'allowDragAndDrop':\n            this.bindDraggable();\n            break;\n\n          case 'dragArea':\n            if (this.allowDragAndDrop) {\n              this.draggableItems.forEach(function (item) {\n                item.dragArea = _this57.dragArea;\n              });\n              this.refresh();\n            }\n\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"refreshActiveTab\",\n    value: function refreshActiveTab() {\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      if (!this.isTemplate) {\n        if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1)) {\n          detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).children[0]);\n          detach(this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0]);\n          var item = this.items[this.selectedItem];\n          var pos = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition) ? '' : item.header.iconPosition;\n          var css = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss) ? '' : item.header.iconCss;\n          var text = item.headerTemplate || item.header.text;\n          var txtWrap = this.createElement('div', {\n            className: CLS_TEXT,\n            attrs: {\n              'role': 'presentation'\n            }\n          });\n\n          if (!isNullOrUndefined(text.tagName)) {\n            txtWrap.appendChild(text);\n          } else {\n            this.headerTextCompile(txtWrap, text, this.selectedItem);\n          }\n\n          var tEle;\n          var icon = this.createElement('span', {\n            className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n          });\n          var tConts = this.createElement('div', {\n            className: CLS_TEXT_WRAP\n          });\n          tConts.appendChild(txtWrap);\n\n          if (text !== '' && text !== undefined && css !== '') {\n            if (pos === 'left' || pos === 'top') {\n              tConts.insertBefore(icon, tConts.firstElementChild);\n            } else {\n              tConts.appendChild(icon);\n            }\n\n            tEle = txtWrap;\n            this.isIconAlone = false;\n          } else {\n            tEle = css === '' ? txtWrap : icon;\n\n            if (tEle === icon) {\n              detach(txtWrap);\n              tConts.appendChild(icon);\n              this.isIconAlone = true;\n            }\n          }\n\n          var wrapAtt = item.disabled ? {} : {\n            tabIndex: '-1'\n          };\n          tConts.appendChild(this.btnCls.cloneNode(true));\n          var wraper = this.createElement('div', {\n            className: CLS_WRAP,\n            attrs: wrapAtt\n          });\n          wraper.appendChild(tConts);\n\n          if (pos === 'top' || pos === 'bottom') {\n            this.element.classList.add('e-vertical-icon');\n          }\n\n          this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wraper);\n          var crElem = this.createElement('div');\n          var cnt = item.content;\n          var eleStr;\n\n          if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n            if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n              cnt = SanitizeHtmlHelper.sanitize(cnt);\n            }\n\n            if (cnt[0] === '.' || cnt[0] === '#') {\n              if (document.querySelectorAll(cnt).length) {\n                var eleVal = document.querySelector(cnt);\n                eleStr = eleVal.outerHTML.trim();\n                crElem.appendChild(eleVal);\n                eleVal.style.display = '';\n              } else {\n                this.compileElement(crElem, cnt, 'content', this.selectedItem);\n              }\n            } else {\n              this.compileElement(crElem, cnt, 'content', this.selectedItem);\n            }\n          } else {\n            crElem.appendChild(cnt);\n          }\n\n          if (!isNullOrUndefined(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n              this.templateEle.push(cnt.toString());\n            }\n          }\n\n          this.element.querySelector('.' + CLS_ITEM$2 + '.' + CLS_ACTIVE$1).appendChild(crElem);\n        }\n      } else {\n        var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n        var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1);\n        var id = element.id;\n        var num = id.indexOf('_');\n        var index = parseInt(id.substring(num + 1), 10);\n        var header = element.innerText;\n        var detachContent = this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0];\n        var mainContents = detachContent.innerHTML;\n        detach(element);\n        detach(detachContent);\n        var attr = {\n          className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE$1 + ' ' + CLS_ACTIVE$1,\n          id: CLS_ITEM$2 + this.tabId + '_' + index,\n          attrs: {\n            role: 'tab',\n            'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index,\n            'aria-disabled': 'false',\n            'aria-selected': 'true'\n          }\n        };\n        var txtString = this.createElement('span', {\n          className: CLS_TEXT,\n          innerHTML: header,\n          attrs: {\n            'role': 'presentation'\n          }\n        }).outerHTML;\n        var conte = this.createElement('div', {\n          className: CLS_TEXT_WRAP,\n          innerHTML: txtString + this.btnCls.outerHTML\n        }).outerHTML;\n        var wrap = this.createElement('div', {\n          className: CLS_WRAP,\n          innerHTML: conte,\n          attrs: {\n            tabIndex: '-1'\n          }\n        });\n        tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n        this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wrap);\n\n        var _crElem = this.createElement('div', {\n          innerHTML: mainContents\n        });\n\n        this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).appendChild(_crElem);\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n    }\n  }]);\n\n  return Tab;\n}(Component);\n\n__decorate$7([Collection([], TabItem)], Tab.prototype, \"items\", void 0);\n\n__decorate$7([Property('100%')], Tab.prototype, \"width\", void 0);\n\n__decorate$7([Property('auto')], Tab.prototype, \"height\", void 0);\n\n__decorate$7([Property('')], Tab.prototype, \"cssClass\", void 0);\n\n__decorate$7([Property(0)], Tab.prototype, \"selectedItem\", void 0);\n\n__decorate$7([Property('Top')], Tab.prototype, \"headerPlacement\", void 0);\n\n__decorate$7([Property('Content')], Tab.prototype, \"heightAdjustMode\", void 0);\n\n__decorate$7([Property('Scrollable')], Tab.prototype, \"overflowMode\", void 0);\n\n__decorate$7([Property('Dynamic')], Tab.prototype, \"loadOn\", void 0);\n\n__decorate$7([Property(false)], Tab.prototype, \"enablePersistence\", void 0);\n\n__decorate$7([Property(false)], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$7([Property(false)], Tab.prototype, \"showCloseButton\", void 0);\n\n__decorate$7([Property()], Tab.prototype, \"scrollStep\", void 0);\n\n__decorate$7([Property()], Tab.prototype, \"dragArea\", void 0);\n\n__decorate$7([Property(false)], Tab.prototype, \"allowDragAndDrop\", void 0);\n\n__decorate$7([Complex({}, TabAnimationSettings)], Tab.prototype, \"animation\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"created\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"adding\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"added\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"selecting\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"selected\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"removing\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"removed\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"onDragStart\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"dragging\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"dragged\", void 0);\n\n__decorate$7([Event()], Tab.prototype, \"destroyed\", void 0);\n\nTab = __decorate$7([NotifyPropertyChanges], Tab);\n/**\n * Tab modules\n */\n\nvar __decorate$8 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar TreeView_1;\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL$1 = 'e-rtl';\nvar INTERACTION = 'e-interaction';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED$1 = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar RIPPLE = 'e-ripple';\nvar RIPPLEELMENT = 'e-ripple-element';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar CHILD = 'e-has-child';\nvar ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nvar DISABLED$1 = 'e-disabled';\nvar treeAriaAttr = {\n  treeRole: 'tree',\n  itemRole: 'treeitem',\n  listRole: 'group',\n  itemText: '',\n  wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\n\nvar FieldsSettings = /*#__PURE__*/function (_ChildProperty12) {\n  _inherits(FieldsSettings, _ChildProperty12);\n\n  var _super20 = _createSuper(FieldsSettings);\n\n  function FieldsSettings() {\n    _classCallCheck(this, FieldsSettings);\n\n    return _super20.apply(this, arguments);\n  }\n\n  return FieldsSettings;\n}(ChildProperty);\n\n__decorate$8([Property('child')], FieldsSettings.prototype, \"child\", void 0);\n\n__decorate$8([Property([])], FieldsSettings.prototype, \"dataSource\", void 0);\n\n__decorate$8([Property('expanded')], FieldsSettings.prototype, \"expanded\", void 0);\n\n__decorate$8([Property('hasChildren')], FieldsSettings.prototype, \"hasChildren\", void 0);\n\n__decorate$8([Property('htmlAttributes')], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n\n__decorate$8([Property('iconCss')], FieldsSettings.prototype, \"iconCss\", void 0);\n\n__decorate$8([Property('id')], FieldsSettings.prototype, \"id\", void 0);\n\n__decorate$8([Property('imageUrl')], FieldsSettings.prototype, \"imageUrl\", void 0);\n\n__decorate$8([Property('isChecked')], FieldsSettings.prototype, \"isChecked\", void 0);\n\n__decorate$8([Property('parentID')], FieldsSettings.prototype, \"parentID\", void 0);\n\n__decorate$8([Property(null)], FieldsSettings.prototype, \"query\", void 0);\n\n__decorate$8([Property('selected')], FieldsSettings.prototype, \"selected\", void 0);\n\n__decorate$8([Property(null)], FieldsSettings.prototype, \"tableName\", void 0);\n\n__decorate$8([Property('text')], FieldsSettings.prototype, \"text\", void 0);\n\n__decorate$8([Property('tooltip')], FieldsSettings.prototype, \"tooltip\", void 0);\n\n__decorate$8([Property('navigateUrl')], FieldsSettings.prototype, \"navigateUrl\", void 0);\n/**\n * Configures animation settings for the TreeView component.\n */\n\n\nvar ActionSettings = /*#__PURE__*/function (_ChildProperty13) {\n  _inherits(ActionSettings, _ChildProperty13);\n\n  var _super21 = _createSuper(ActionSettings);\n\n  function ActionSettings() {\n    _classCallCheck(this, ActionSettings);\n\n    return _super21.apply(this, arguments);\n  }\n\n  return ActionSettings;\n}(ChildProperty);\n\n__decorate$8([Property('SlideDown')], ActionSettings.prototype, \"effect\", void 0);\n\n__decorate$8([Property(400)], ActionSettings.prototype, \"duration\", void 0);\n\n__decorate$8([Property('linear')], ActionSettings.prototype, \"easing\", void 0);\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\n\n\nvar NodeAnimationSettings = /*#__PURE__*/function (_ChildProperty14) {\n  _inherits(NodeAnimationSettings, _ChildProperty14);\n\n  var _super22 = _createSuper(NodeAnimationSettings);\n\n  function NodeAnimationSettings() {\n    _classCallCheck(this, NodeAnimationSettings);\n\n    return _super22.apply(this, arguments);\n  }\n\n  return NodeAnimationSettings;\n}(ChildProperty);\n\n__decorate$8([Complex({\n  effect: 'SlideUp',\n  duration: 400,\n  easing: 'linear'\n}, ActionSettings)], NodeAnimationSettings.prototype, \"collapse\", void 0);\n\n__decorate$8([Complex({\n  effect: 'SlideDown',\n  duration: 400,\n  easing: 'linear'\n}, ActionSettings)], NodeAnimationSettings.prototype, \"expand\", void 0);\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\n\n\nvar TreeView = TreeView_1 = /*#__PURE__*/function (_Component7) {\n  _inherits(TreeView, _Component7);\n\n  var _super23 = _createSuper(TreeView);\n\n  function TreeView(options, element) {\n    var _this58;\n\n    _classCallCheck(this, TreeView);\n\n    _this58 = _super23.call(this, options, element);\n    _this58.isRefreshed = false;\n    _this58.preventExpand = false;\n    _this58.checkedElement = [];\n    _this58.disableNode = []; // eslint-disable-next-line\n\n    _this58.validArr = [];\n    _this58.validNodes = [];\n    _this58.expandChildren = [];\n    _this58.isFieldChange = false;\n    _this58.changeDataSource = false;\n    _this58.hasTemplate = false;\n    _this58.mouseDownStatus = false;\n    return _this58;\n  }\n  /**\n   * Get component name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  _createClass(TreeView, [{\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'treeview';\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      var _this59 = this;\n\n      this.checkActionNodes = [];\n      this.parentNodeCheck = [];\n      this.dragStartAction = false;\n      this.isAnimate = false;\n      this.keyConfigs = {\n        escape: 'escape',\n        end: 'end',\n        enter: 'enter',\n        f2: 'f2',\n        home: 'home',\n        moveDown: 'downarrow',\n        moveLeft: 'leftarrow',\n        moveRight: 'rightarrow',\n        moveUp: 'uparrow',\n        ctrlDown: 'ctrl+downarrow',\n        ctrlUp: 'ctrl+uparrow',\n        ctrlEnter: 'ctrl+enter',\n        ctrlHome: 'ctrl+home',\n        ctrlEnd: 'ctrl+end',\n        ctrlA: 'ctrl+A',\n        shiftDown: 'shift+downarrow',\n        shiftUp: 'shift+uparrow',\n        shiftEnter: 'shift+enter',\n        shiftHome: 'shift+home',\n        shiftEnd: 'shift+end',\n        csDown: 'ctrl+shift+downarrow',\n        csUp: 'ctrl+shift+uparrow',\n        csEnter: 'ctrl+shift+enter',\n        csHome: 'ctrl+shift+home',\n        csEnd: 'ctrl+shift+end',\n        space: 'space'\n      };\n      this.listBaseOption = {\n        expandCollapse: true,\n        showIcon: true,\n        expandIconClass: EXPANDABLE,\n        ariaAttributes: treeAriaAttr,\n        expandIconPosition: 'Left',\n        itemCreated: function itemCreated(e) {\n          _this59.beforeNodeCreate(e);\n        },\n        enableHtmlSanitizer: this.enableHtmlSanitizer,\n        itemNavigable: this.fullRowNavigable\n      };\n      this.updateListProp(this.fields);\n      this.aniObj = new Animation({});\n      this.treeList = [];\n      this.isLoaded = false;\n      this.isInitalExpand = false;\n      this.expandChildren = [];\n      this.index = 0;\n      this.setTouchClass();\n\n      if (isNullOrUndefined(this.selectedNodes)) {\n        this.setProperties({\n          selectedNodes: []\n        }, true);\n      }\n\n      if (isNullOrUndefined(this.checkedNodes)) {\n        this.setProperties({\n          checkedNodes: []\n        }, true);\n      }\n\n      if (isNullOrUndefined(this.expandedNodes)) {\n        this.setProperties({\n          expandedNodes: []\n        }, true);\n      } else {\n        this.isInitalExpand = true;\n      }\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - returns the persisted data\n     * @hidden\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n      return this.addOnPersist(keyEntity);\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initialRender = true;\n      this.initialize();\n      this.setDataBinding(false);\n      this.setDisabledMode();\n      this.setExpandOnType();\n\n      if (!this.disabled) {\n        this.setRipple();\n      }\n\n      this.wireEditingEvents(this.allowEditing);\n      this.setDragAndDrop(this.allowDragAndDrop);\n\n      if (!this.disabled) {\n        this.wireEvents();\n      }\n\n      this.initialRender = false;\n      this.renderComplete();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this.element.setAttribute('role', 'tree');\n      this.element.setAttribute('tabindex', '0');\n      this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n      this.setCssClass(null, this.cssClass);\n      this.setEnableRtl();\n      this.setFullRow(this.fullRowSelect);\n      this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    }\n  }, {\n    key: \"setDisabledMode\",\n    value: function setDisabledMode() {\n      if (this.disabled) {\n        this.element.classList.add(DISABLED$1);\n      } else {\n        this.element.classList.remove(DISABLED$1);\n      }\n    }\n  }, {\n    key: \"setEnableRtl\",\n    value: function setEnableRtl() {\n      (this.enableRtl ? _addClass : removeClass)([this.element], RTL$1);\n    }\n  }, {\n    key: \"setRipple\",\n    value: function setRipple() {\n      var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n      var rippleModel = {\n        selector: tempStr,\n        ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n      };\n      this.rippleFn = rippleEffect(this.element, rippleModel);\n      var iconModel = {\n        selector: '.' + TEXTWRAP + ' > .' + ICON,\n        isCenterRipple: true\n      };\n      this.rippleIconFn = rippleEffect(this.element, iconModel);\n    }\n  }, {\n    key: \"setFullRow\",\n    value: function setFullRow(isEnabled) {\n      (isEnabled ? _addClass : removeClass)([this.element], FULLROWWRAP);\n    }\n  }, {\n    key: \"setMultiSelect\",\n    value: function setMultiSelect(isEnabled) {\n      var firstUl = _select('.' + PARENTITEM, this.element);\n\n      if (isEnabled) {\n        firstUl.setAttribute('aria-multiselectable', 'true');\n      } else {\n        firstUl.removeAttribute('aria-multiselectable');\n      }\n    } // eslint-disable-next-line\n\n  }, {\n    key: \"templateComplier\",\n    value: function templateComplier(template) {\n      if (template) {\n        this.hasTemplate = true; // eslint-disable-next-line\n\n        this.element.classList.add(INTERACTION);\n\n        try {\n          if (document.querySelectorAll(template).length) {\n            return compile(document.querySelector(template).innerHTML.trim());\n          }\n        } catch (e) {\n          return compile(template);\n        }\n      }\n\n      this.element.classList.remove(INTERACTION);\n      return undefined;\n    }\n  }, {\n    key: \"setDataBinding\",\n    value: function setDataBinding(changeDataSource) {\n      var _this60 = this;\n\n      this.treeList.push('false');\n\n      if (this.fields.dataSource instanceof DataManager) {\n        /* eslint-disable */\n        this.isOffline = this.fields.dataSource.dataSource.offline;\n\n        if (this.fields.dataSource.ready) {\n          this.fields.dataSource.ready.then(function (e) {\n            /* eslint-disable */\n            _this60.isOffline = _this60.fields.dataSource.dataSource.offline;\n\n            if (_this60.fields.dataSource instanceof DataManager && _this60.isOffline) {\n              _this60.treeList.pop();\n\n              _this60.treeData = e.result;\n              _this60.isNumberTypeId = _this60.getType();\n\n              _this60.setRootData();\n\n              _this60.renderItems(true);\n\n              if (_this60.treeList.length === 0 && !_this60.isLoaded) {\n                _this60.finalize();\n              }\n            }\n          }).catch(function (e) {\n            _this60.trigger('actionFailure', {\n              error: e\n            });\n          });\n        } else {\n          this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n            _this60.treeList.pop();\n\n            _this60.treeData = e.result;\n            _this60.isNumberTypeId = _this60.getType();\n\n            _this60.setRootData();\n\n            if (changeDataSource) {\n              _this60.changeDataSource = true;\n            }\n\n            _this60.renderItems(true);\n\n            _this60.changeDataSource = false;\n\n            if (_this60.treeList.length === 0 && !_this60.isLoaded) {\n              _this60.finalize();\n            }\n          }).catch(function (e) {\n            _this60.trigger('actionFailure', {\n              error: e\n            });\n          });\n        }\n      } else {\n        this.treeList.pop();\n\n        if (isNullOrUndefined(this.fields.dataSource)) {\n          this.rootData = this.treeData = [];\n        } else {\n          this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n          this.setRootData();\n        }\n\n        this.isNumberTypeId = this.getType();\n        this.renderItems(false);\n      }\n\n      if (this.treeList.length === 0 && !this.isLoaded) {\n        this.finalize();\n      }\n    }\n  }, {\n    key: \"getQuery\",\n    value: function getQuery(mapper) {\n      var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var columns = [];\n      var query;\n\n      if (!mapper.query) {\n        query = new Query();\n        var prop = this.getActualProperties(mapper);\n\n        for (var _i12 = 0, _Object$keys9 = Object.keys(prop); _i12 < _Object$keys9.length; _i12++) {\n          var col = _Object$keys9[_i12];\n\n          if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col] && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n            columns.push(mapper[col]);\n          }\n        }\n\n        query.select(columns);\n\n        if (prop.hasOwnProperty('tableName')) {\n          query.from(mapper.tableName);\n        }\n      } else {\n        query = mapper.query.clone();\n      }\n\n      ListBase.addSorting(this.sortOrder, mapper.text, query);\n\n      if (!isNullOrUndefined(value) && !isNullOrUndefined(mapper.parentID)) {\n        query.where(mapper.parentID, 'equal', this.isNumberTypeId ? parseFloat(value) : value);\n      }\n\n      return query;\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return this.treeData[0] ? typeof getValue(this.fields.id, this.treeData[0]) === 'number' ? true : false : false;\n    }\n  }, {\n    key: \"setRootData\",\n    value: function setRootData() {\n      this.dataType = this.getDataType(this.treeData, this.fields);\n\n      if (this.dataType === 1) {\n        this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        var rootItems = this.getChildNodes(this.treeData, undefined, true);\n\n        if (isNullOrUndefined(rootItems)) {\n          this.rootData = [];\n        } else {\n          this.rootData = rootItems;\n        }\n      } else {\n        this.rootData = this.treeData;\n      }\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(isSorted) {\n      /* eslint-disable */\n      this.listBaseOption.ariaAttributes.level = 1;\n      var sortedData = this.getSortedData(this.rootData);\n      this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n      this.element.appendChild(this.ulElement);\n      var rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n\n      if (this.loadOnDemand === false) {\n        var i = 0;\n\n        while (i < rootNodes.length) {\n          this.renderChildNodes(rootNodes[i], true, null, true);\n          i++;\n        }\n      }\n\n      var parentEle = selectAll('.' + PARENTITEM, this.element);\n\n      if (parentEle.length === 1 && rootNodes && rootNodes.length !== 0 || this.loadOnDemand) {\n        this.finalizeNode(this.element);\n      }\n\n      this.parentNodeCheck = [];\n      this.parentCheckData = [];\n      this.updateCheckedStateFromDS();\n\n      if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n        this.updateParentCheckState();\n      }\n    }\n    /**\n     * Update the checkedNodes from datasource at initial rendering\n     */\n\n  }, {\n    key: \"updateCheckedStateFromDS\",\n    value: function updateCheckedStateFromDS(id) {\n      this.validNodes = [];\n\n      if (this.treeData && this.showCheckBox) {\n        if (this.dataType === 1) {\n          var mapper = this.fields;\n          var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n\n          for (var i = 0; i < resultData.length; i++) {\n            var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n            var resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n\n            if (this.checkedNodes.indexOf(resultId) === -1 && !this.isLoaded) {\n              this.checkedNodes.push(resultId);\n            }\n\n            if (resultData[i][this.fields.hasChildren]) {\n              var _id = resultData[i][this.fields.id];\n              var childData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', _id, false));\n\n              for (var child = 0; child < childData.length; child++) {\n                var childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n\n                if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                  this.checkedNodes.push(childId);\n                }\n              }\n            }\n          }\n\n          for (var _i13 = 0; _i13 < this.checkedNodes.length; _i13++) {\n            var _mapper = this.fields;\n            var checkState = new DataManager(this.treeData).executeLocal(new Query().where(_mapper.id, 'equal', this.checkedNodes[_i13], true));\n\n            if (checkState[0] && this.autoCheck) {\n              this.getCheckedNodeDetails(_mapper, checkState);\n              this.checkIndeterminateState(checkState[0]);\n            }\n\n            if (checkState.length > 0) {\n              var checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n\n              if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                this.validNodes.push(checkedId);\n              }\n            }\n\n            var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(_mapper.parentID, 'equal', this.checkedNodes[_i13], true));\n\n            for (var index = 0; index < checkedData.length; index++) {\n              var _checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n\n              if (this.checkedNodes.indexOf(_checkedId) === -1 && this.autoCheck) {\n                this.checkedNodes.push(_checkedId);\n              }\n\n              if (this.checkedNodes.indexOf(_checkedId) > -1 && this.validNodes.indexOf(_checkedId) === -1) {\n                this.validNodes.push(_checkedId);\n              }\n            }\n          }\n        } else if (this.dataType === 2 || this.fields.dataSource instanceof DataManager && this.isOffline) {\n          for (var _index = 0; _index < this.treeData.length; _index++) {\n            var fieldId = this.treeData[_index][this.fields.id] ? this.treeData[_index][this.fields.id].toString() : '';\n\n            if (this.treeData[_index][this.fields.isChecked] && !this.isLoaded && this.checkedNodes.indexOf(fieldId) === -1) {\n              this.checkedNodes.push(fieldId);\n            }\n\n            if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n              this.validNodes.push(fieldId);\n            }\n\n            var childItems = getValue(this.fields.child.toString(), this.treeData[_index]);\n\n            if (childItems) {\n              this.updateChildCheckState(childItems, this.treeData[_index]);\n            }\n          }\n        }\n\n        this.setProperties({\n          checkedNodes: this.validNodes\n        }, true);\n      }\n    }\n    /**\n     * To check whether the list data has sub child and to change the parent check state accordingly\n     */\n\n  }, {\n    key: \"getCheckedNodeDetails\",\n    value: function getCheckedNodeDetails(mapper, checkNodes) {\n      var id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n      var count = 0;\n      var element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n      var parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n\n      if (!element && !parentEle) {\n        var len = this.parentNodeCheck.length;\n\n        if (this.parentNodeCheck.indexOf(id) === -1) {\n          this.parentNodeCheck.push(id);\n        }\n\n        var childNodes = this.getChildNodes(this.treeData, id);\n\n        for (var i = 0; i < childNodes.length; i++) {\n          var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n          if (this.checkedNodes.indexOf(childId) !== -1) {\n            count++;\n          }\n\n          if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n          }\n        }\n\n        var preElement = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', id, true));\n        this.getCheckedNodeDetails(mapper, preElement);\n      } else if (parentEle) {\n        var check = _select('.' + CHECK, parentEle);\n\n        if (!check) {\n          this.changeState(parentEle, 'indeterminate', null, true, true);\n        }\n      }\n    }\n    /**\n     * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n     */\n\n  }, {\n    key: \"updateParentCheckState\",\n    value: function updateParentCheckState() {\n      var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n      var childCheckedElement;\n\n      for (var i = 0; i < indeterminate.length; i++) {\n        var node = closest(indeterminate[i], '.' + LISTITEM);\n        var nodeId = node.getAttribute('data-uid').toString();\n\n        if (this.dataType === 1) {\n          childCheckedElement = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n        } else {\n          childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n        }\n\n        var count = 0;\n\n        if (childCheckedElement) {\n          for (var j = 0; j < childCheckedElement.length; j++) {\n            var childId = childCheckedElement[j][this.fields.id].toString();\n\n            if (this.checkedNodes.indexOf(childId) !== -1) {\n              count++;\n            }\n          }\n\n          if (count === childCheckedElement.length) {\n            var nodeCheck = node.getAttribute('data-uid');\n\n            if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n              this.checkedNodes.push(nodeCheck);\n            }\n\n            this.changeState(node, 'check', null, true, true);\n          } else if (count === 0 && this.checkedNodes.length === 0) {\n            this.changeState(node, 'uncheck', null, true, true);\n          }\n        }\n      }\n    }\n    /**\n     * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n     */\n\n  }, {\n    key: \"checkIndeterminateState\",\n    value: function checkIndeterminateState(data) {\n      var element;\n\n      if (this.dataType === 1) {\n        element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n      } else {\n        element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n      }\n\n      if (element) {\n        var ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n\n        if (ariaChecked !== 'true') {\n          this.changeState(element, 'indeterminate', null, true, true);\n        }\n      } else if (this.dataType === 2) {\n        var len = this.parentNodeCheck.length;\n\n        if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n          this.parentNodeCheck.push(data[this.fields.id].toString());\n        }\n      }\n    }\n    /**\n     * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n     */\n\n  }, {\n    key: \"updateChildCheckState\",\n    value: function updateChildCheckState(childItems, treeData) {\n      var count = 0;\n      var checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n\n      for (var index = 0; index < childItems.length; index++) {\n        var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n\n        if (childItems[index][this.fields.isChecked] && !this.isLoaded && this.checkedNodes.indexOf(checkedChild) === -1) {\n          this.checkedNodes.push(checkedChild);\n        }\n\n        if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n          this.checkedNodes.push(checkedChild);\n        }\n\n        if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n          count++;\n        }\n\n        if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n          this.validNodes.push(checkedChild);\n        }\n\n        var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n\n        if (subChildItems) {\n          this.parentCheckData.push(treeData);\n          this.updateChildCheckState(subChildItems, childItems[index]);\n        }\n\n        if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n          this.checkedNodes.push(checkedParent);\n        }\n      }\n\n      if (count !== 0 && this.autoCheck) {\n        this.checkIndeterminateState(treeData);\n\n        for (var len = 0; len < this.parentCheckData.length; len++) {\n          if (treeData !== this.parentCheckData[len] && this.parentCheckData[len]) {\n            this.checkIndeterminateState(this.parentCheckData[len]);\n          }\n        }\n      }\n\n      this.parentCheckData = [];\n    }\n  }, {\n    key: \"beforeNodeCreate\",\n    value: function beforeNodeCreate(e) {\n      if (this.showCheckBox) {\n        var checkboxEle = createCheckBox(this.createElement, true, {\n          cssClass: this.touchClass\n        });\n        checkboxEle.setAttribute('role', 'checkbox');\n\n        var icon = _select('div.' + ICON, e.item);\n\n        var id = e.item.getAttribute('data-uid');\n        e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n        var checkValue = getValue(e.fields.isChecked, e.curData);\n\n        if (this.checkedNodes.indexOf(id) > -1) {\n          _select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n\n          checkboxEle.setAttribute('aria-checked', 'true');\n          this.addCheck(e.item);\n        } else if (!isNullOrUndefined(checkValue) && checkValue.toString() === 'true') {\n          _select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n\n          checkboxEle.setAttribute('aria-checked', 'true');\n          this.addCheck(e.item);\n        } else {\n          checkboxEle.setAttribute('aria-checked', 'false');\n        }\n\n        var frame = _select('.' + CHECKBOXFRAME, checkboxEle);\n\n        EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n        EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n      }\n\n      if (this.fullRowSelect) {\n        this.createFullRow(e.item);\n      }\n\n      if (this.allowMultiSelection && !e.item.classList.contains(SELECTED$1)) {\n        e.item.setAttribute('aria-selected', 'false');\n      }\n\n      var fields = e.fields;\n      this.addActionClass(e, fields.selected, SELECTED$1);\n      this.addActionClass(e, fields.expanded, EXPANDED);\n\n      if (!isNullOrUndefined(this.nodeTemplateFn)) {\n        var textEle = e.item.querySelector('.' + LISTTEXT);\n        var dataId = e.item.getAttribute('data-uid');\n        textEle.innerHTML = '';\n        this.renderNodeTemplate(e.curData, textEle, dataId);\n      }\n\n      var eventArgs = {\n        node: e.item,\n        nodeData: e.curData,\n        text: e.text\n      };\n\n      if (!this.isRefreshed) {\n        this.trigger('drawNode', eventArgs);\n      }\n    }\n  }, {\n    key: \"frameMouseHandler\",\n    value: function frameMouseHandler(e) {\n      var rippleSpan = _select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n\n      rippleMouseHandler(e, rippleSpan);\n    }\n  }, {\n    key: \"addActionClass\",\n    value: function addActionClass(e, action, cssClass) {\n      var data = e.curData;\n      var actionValue = getValue(action, data);\n\n      if (!isNullOrUndefined(actionValue) && actionValue.toString() !== 'false') {\n        e.item.classList.add(cssClass);\n      }\n    }\n  }, {\n    key: \"getDataType\",\n    value: function getDataType(ds, mapper) {\n      if (this.fields.dataSource instanceof DataManager) {\n        for (var i = 0; i < ds.length; i++) {\n          if (this.isOffline) {\n            if (typeof mapper.child === 'string' && isNullOrUndefined(getValue(mapper.child, ds[i])) && !isNullOrUndefined(getValue(mapper.parentID, ds[i]))) {\n              return 1;\n            }\n          } else if (typeof mapper.child === 'string' && isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n            return 1;\n          }\n        }\n\n        return 2;\n      }\n\n      for (var _i14 = 0, len = ds.length; _i14 < len; _i14++) {\n        if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, ds[_i14]))) {\n          return 2;\n        }\n\n        if (!isNullOrUndefined(getValue(mapper.parentID, ds[_i14])) || !isNullOrUndefined(getValue(mapper.hasChildren, ds[_i14]))) {\n          return 1;\n        }\n      }\n\n      return 1;\n    }\n  }, {\n    key: \"getGroupedData\",\n    value: function getGroupedData(dataSource, groupBy) {\n      var cusQuery = new Query().group(groupBy);\n      var ds = ListBase.getDataSource(dataSource, cusQuery);\n      var grpItem = [];\n\n      for (var j = 0; j < ds.length; j++) {\n        var itemObj = ds[j].items;\n        grpItem.push(itemObj);\n      }\n\n      return grpItem;\n    }\n  }, {\n    key: \"getSortedData\",\n    value: function getSortedData(list) {\n      if (list && this.sortOrder !== 'None') {\n        list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n      }\n\n      return list;\n    }\n  }, {\n    key: \"finalizeNode\",\n    value: function finalizeNode(element) {\n      var iNodes = selectAll('.' + IMAGE, element);\n\n      for (var k = 0; k < iNodes.length; k++) {\n        iNodes[k].setAttribute('alt', IMAGE);\n      }\n\n      if (this.isLoaded) {\n        var sNodes = selectAll('.' + SELECTED$1, element);\n\n        for (var i = 0; i < sNodes.length; i++) {\n          this.selectNode(sNodes[i], null);\n          break;\n        }\n\n        removeClass(sNodes, SELECTED$1);\n      }\n\n      var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n\n      for (var j = 0; j < cNodes.length; j++) {\n        var icon = _select('div.' + ICON, cNodes[j]);\n\n        if (icon && icon.classList.contains(EXPANDABLE)) {\n          this.disableExpandAttr(cNodes[j]);\n        }\n      }\n\n      var eNodes = selectAll('.' + EXPANDED, element);\n\n      if (!this.isInitalExpand) {\n        for (var _i15 = 0; _i15 < eNodes.length; _i15++) {\n          this.renderChildNodes(eNodes[_i15]);\n        }\n      }\n\n      removeClass(eNodes, EXPANDED);\n      this.updateList();\n\n      if (this.isLoaded) {\n        this.updateCheckedProp();\n      }\n    }\n  }, {\n    key: \"updateCheckedProp\",\n    value: function updateCheckedProp() {\n      if (this.showCheckBox) {\n        var nodes = [].concat([], this.checkedNodes);\n        this.setProperties({\n          checkedNodes: nodes\n        }, true);\n      }\n    }\n  }, {\n    key: \"ensureIndeterminate\",\n    value: function ensureIndeterminate() {\n      if (this.autoCheck) {\n        var liElement = selectAll('li', this.element);\n        var ulElement;\n\n        for (var i = 0; i < liElement.length; i++) {\n          if (liElement[i].classList.contains(LISTITEM)) {\n            ulElement = _select('.' + PARENTITEM, liElement[i]);\n\n            if (ulElement) {\n              this.ensureParentCheckState(liElement[i]);\n            } else {\n              this.ensureChildCheckState(liElement[i]);\n            }\n          }\n        }\n      } else {\n        var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n\n        for (var _i16 = 0; _i16 < indeterminate.length; _i16++) {\n          indeterminate[_i16].classList.remove(INDETERMINATE);\n        }\n      }\n    }\n  }, {\n    key: \"ensureParentCheckState\",\n    value: function ensureParentCheckState(element) {\n      if (!isNullOrUndefined(element)) {\n        if (element.classList.contains(ROOT)) {\n          return;\n        }\n\n        var ulElement = element;\n\n        if (element.classList.contains(LISTITEM)) {\n          ulElement = _select('.' + PARENTITEM, element);\n        }\n\n        var checkedNodes = selectAll('.' + CHECK, ulElement);\n        var indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n        var nodes = selectAll('.' + LISTITEM, ulElement);\n        var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n\n        if (nodes.length === checkedNodes.length) {\n          this.changeState(checkBoxEle, 'check', null, true, true);\n        } else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n          this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n        } else if (checkedNodes.length === 0) {\n          this.changeState(checkBoxEle, 'uncheck', null, true, true);\n        }\n\n        var parentUL = closest(element, '.' + PARENTITEM);\n\n        if (!isNullOrUndefined(parentUL)) {\n          var currentParent = closest(parentUL, '.' + LISTITEM);\n          this.ensureParentCheckState(currentParent);\n        }\n      }\n    }\n  }, {\n    key: \"ensureChildCheckState\",\n    value: function ensureChildCheckState(element, e) {\n      if (!isNullOrUndefined(element)) {\n        var childElement = _select('.' + PARENTITEM, element);\n\n        var checkBoxes;\n\n        if (!isNullOrUndefined(childElement)) {\n          checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n          var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n          var parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n          var childCheck = childElement.querySelectorAll('li');\n          var expandState = childElement.parentElement.getAttribute('aria-expanded');\n          var checkedState;\n\n          for (var index = 0; index < checkBoxes.length; index++) {\n            var childId = childCheck[index].getAttribute('data-uid');\n\n            if (!isNullOrUndefined(this.currentLoadData) && !isNullOrUndefined(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n              checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n\n              if (this.ele !== -1) {\n                checkedState = isChecked ? 'check' : 'uncheck';\n              }\n\n              if (checkedState === 'uncheck' && !isUndefined(this.parentNodeCheck) && this.autoCheck && this.parentNodeCheck.indexOf(childId) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                checkedState = 'indeterminate';\n              }\n            } else {\n              var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n\n              if (isChecked) {\n                checkedState = 'check';\n              } else if (isNodeChecked && !this.isLoaded) {\n                checkedState = 'check';\n              } else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n                checkedState = 'check';\n              } else if (childCheck[index].classList.contains(CHILD) && !isUndefined(this.parentNodeCheck) && this.autoCheck && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1) {\n                checkedState = 'indeterminate';\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n              } else if (this.dataType === 1 && !isUndefined(this.parentNodeCheck) && this.autoCheck && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1) {\n                checkedState = 'indeterminate';\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n              } else {\n                checkedState = 'uncheck';\n              }\n            }\n\n            this.changeState(checkBoxes[index], checkedState, e, true, true);\n          }\n        }\n\n        if (this.autoCheck && this.isLoaded) {\n          this.updateParentCheckState();\n        }\n      }\n    }\n  }, {\n    key: \"doCheckBoxAction\",\n    value: function doCheckBoxAction(nodes, doCheck) {\n      var li = selectAll('.' + LISTITEM, this.element);\n\n      if (!isNullOrUndefined(nodes)) {\n        for (var len = nodes.length; len >= 0; len--) {\n          var liEle = void 0;\n\n          if (nodes.length === 1) {\n            liEle = this.getElement(nodes[len - 1]);\n          } else {\n            liEle = this.getElement(nodes[len]);\n          }\n\n          if (isNullOrUndefined(liEle)) {\n            var node = void 0;\n            node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n\n            if (node !== '' && doCheck && node) {\n              this.setValidCheckedNode(node);\n              this.dynamicCheckState(node, doCheck);\n            } else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n              this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n              var childItems = this.getChildNodes(this.treeData, node);\n\n              if (childItems) {\n                for (var i = 0; i < childItems.length; i++) {\n                  var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n\n                  if (this.checkedNodes.indexOf(id) !== -1) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                  }\n                }\n\n                if (this.parentNodeCheck.indexOf(node) !== -1) {\n                  this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n                }\n              }\n\n              if (node) {\n                this.dynamicCheckState(node, doCheck);\n              }\n\n              this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n            }\n\n            continue;\n          }\n\n          var checkBox = _select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n\n          this.validateCheckNode(checkBox, !doCheck, liEle, null);\n        }\n      } else {\n        var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n\n        if (this.loadOnDemand) {\n          for (var index = 0; index < checkBoxes.length; index++) {\n            this.updateFieldChecked(checkBoxes[index], doCheck);\n            this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n          }\n        } else {\n          for (var _index2 = 0; _index2 < checkBoxes.length; _index2++) {\n            this.updateFieldChecked(checkBoxes[_index2], doCheck);\n            this.changeState(checkBoxes[_index2], doCheck ? 'check' : 'uncheck');\n          }\n        }\n      }\n\n      if (nodes) {\n        for (var j = 0; j < nodes.length; j++) {\n          var _node = nodes[j] ? nodes[j].toString() : '';\n\n          if (!doCheck) {\n            this.updateField(this.treeData, this.fields, _node, 'isChecked', null);\n          }\n        }\n      }\n\n      if (this.autoCheck) {\n        this.updateParentCheckState();\n      }\n    }\n  }, {\n    key: \"updateFieldChecked\",\n    value: function updateFieldChecked(checkbox, doCheck) {\n      var currLi = closest(checkbox, '.' + LISTITEM);\n      var id = currLi.getAttribute('data-uid');\n      var nodeDetails = this.getNodeData(currLi);\n\n      if (nodeDetails.isChecked === 'true' && !doCheck) {\n        this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n      }\n    }\n    /**\n     * Changes the parent and child  check state while changing the checkedNodes via setmodel\n     */\n\n  }, {\n    key: \"dynamicCheckState\",\n    value: function dynamicCheckState(node, doCheck) {\n      if (this.dataType === 1) {\n        var count = 0;\n        var resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n\n        if (resultId[0]) {\n          var id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n          var parent = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n          var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n          var indeterminate = parentElement ? _select('.' + INDETERMINATE, parentElement) : null;\n          var check = parentElement ? _select('.' + CHECK, parentElement) : null;\n          var element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n          var childNodes = this.getChildNodes(this.treeData, parent);\n\n          if (childNodes) {\n            for (var i = 0; i < childNodes.length; i++) {\n              var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n              if (this.checkedNodes.indexOf(childId) !== -1) {\n                count++;\n              }\n            }\n          }\n\n          if (this.checkedNodes.indexOf(node) !== -1 && parentElement && id === node && this.autoCheck) {\n            this.changeState(parentElement, 'indeterminate', null);\n          } else if (this.checkedNodes.indexOf(node) === -1 && element && id === node && !doCheck) {\n            this.changeState(element, 'uncheck', null);\n          } else if (this.checkedNodes.indexOf(node) !== -1 && element && id === node && doCheck) {\n            this.changeState(element, 'check', null);\n          } else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && id === node && this.autoCheck && count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n          } else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && id === node && this.autoCheck && count === 0) {\n            this.changeState(parentElement, 'uncheck', null);\n          } else if (!element && !parentElement && id === node && this.autoCheck) {\n            this.updateIndeterminate(node, doCheck);\n          }\n        }\n      } else if (this.dataType === 2 || this.fields.dataSource instanceof DataManager && this.isOffline) {\n        var _id2;\n\n        var _parentElement;\n\n        var _check;\n\n        for (var _i17 = 0; _i17 < this.treeData.length; _i17++) {\n          _id2 = this.treeData[_i17][this.fields.id] ? this.treeData[_i17][this.fields.id].toString() : '';\n          _parentElement = this.element.querySelector('[data-uid=\"' + _id2 + '\"]');\n          _check = _parentElement ? _select('.' + CHECK, _parentElement) : null;\n\n          if (this.checkedNodes.indexOf(_id2) === -1 && _parentElement && _check && !doCheck) {\n            this.changeState(_parentElement, 'uncheck', null);\n          }\n\n          var subChild = getValue(this.fields.child.toString(), this.treeData[_i17]);\n\n          if (subChild) {\n            this.updateChildIndeterminate(subChild, _id2, node, doCheck, _id2);\n          }\n        }\n      }\n    }\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n     */\n\n  }, {\n    key: \"updateIndeterminate\",\n    value: function updateIndeterminate(node, doCheck) {\n      var indeterminateData = this.getTreeData(node);\n      var count = 0;\n      var parent;\n\n      if (this.dataType === 1) {\n        parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n      }\n\n      var childNodes = this.getChildNodes(this.treeData, parent);\n\n      if (childNodes) {\n        for (var i = 0; i < childNodes.length; i++) {\n          var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n          if (this.checkedNodes.indexOf(childId) !== -1) {\n            count++;\n          }\n        }\n      }\n\n      var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n\n      if (parentElement && doCheck) {\n        this.changeState(parentElement, 'indeterminate', null);\n      } else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n        this.changeState(parentElement, 'indeterminate', null);\n      } else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n        this.changeState(parentElement, 'uncheck', null);\n      } else if (!parentElement) {\n        if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n          this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n        } else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n          this.parentNodeCheck.push(parent);\n        } else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n          this.parentNodeCheck.push(parent);\n        }\n\n        this.updateIndeterminate(parent, doCheck);\n\n        if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n          this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n        }\n      }\n    }\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n     */\n\n  }, {\n    key: \"updateChildIndeterminate\",\n    value: function updateChildIndeterminate(subChild, parent, node, doCheck, child) {\n      var count = 0;\n\n      for (var j = 0; j < subChild.length; j++) {\n        var subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n\n        if (this.checkedNodes.indexOf(subId) !== -1) {\n          count++;\n        }\n\n        var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n        var indeterminate = parentElement ? _select('.' + INDETERMINATE, parentElement) : null;\n        var check = parentElement ? _select('.' + CHECK, parentElement) : null;\n        var element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n        var childElementCheck = element ? _select('.' + CHECK, element) : null;\n\n        if (this.checkedNodes.indexOf(node) !== -1 && parentElement && subId === node && this.autoCheck) {\n          this.changeState(parentElement, 'indeterminate', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && subId === node && !doCheck) {\n          if (this.autoCheck) {\n            this.changeState(parentElement, 'uncheck', null);\n          } else {\n            if (count !== 0) {\n              this.changeState(parentElement, 'indeterminate', null);\n            } else {\n              this.changeState(parentElement, 'uncheck', null);\n            }\n          }\n        } else if (this.checkedNodes.indexOf(node) === -1 && element && subId === node && !doCheck) {\n          this.changeState(element, 'uncheck', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && subId === node && this.autoCheck && count === 0 && !doCheck) {\n          indeterminate.classList.remove(INDETERMINATE);\n        } else if (this.checkedNodes.indexOf(node) === -1 && !element && check && subId === node && count === 0) {\n          this.changeState(parentElement, 'uncheck', null);\n        } else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n          this.changeState(element, 'uncheck', null);\n        } else if (!element && !parentElement && subId === node || this.parentNodeCheck.indexOf(parent) !== -1 && this.autoCheck) {\n          var childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n\n          if (doCheck && count !== 0) {\n            this.changeState(childElement, 'indeterminate', null);\n          } else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n            this.checkedNodes.push(parent);\n          } else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n          }\n\n          if (this.parentNodeCheck.indexOf(parent) === -1) {\n            this.parentNodeCheck.push(parent);\n          }\n        }\n\n        var innerChild = getValue(this.fields.child.toString(), subChild[j]);\n\n        if (innerChild) {\n          this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n        }\n      }\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState(wrapper, state, e, isPrevent, isAdd, doCheck) {\n      var _this61 = this;\n\n      var eventArgs;\n      var currLi = closest(wrapper, '.' + LISTITEM);\n\n      if (!isPrevent) {\n        this.checkActionNodes = [];\n        eventArgs = this.getCheckEvent(currLi, state, e);\n        this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n          if (!observedArgs.cancel) {\n            _this61.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n          }\n        });\n      } else {\n        this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n      }\n    }\n  }, {\n    key: \"nodeCheckAction\",\n    value: function nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n      var ariaState;\n      var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n\n      if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n        frameSpan.classList.remove(INDETERMINATE);\n        frameSpan.classList.add(CHECK);\n        this.addCheck(currLi);\n        ariaState = 'true';\n      } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n        removeClass([frameSpan], [CHECK, INDETERMINATE]);\n        this.removeCheck(currLi);\n        ariaState = 'false';\n      } else if (state === 'indeterminate' && this.autoCheck) {\n        frameSpan.classList.remove(CHECK);\n        frameSpan.classList.add(INDETERMINATE);\n        this.removeCheck(currLi);\n        ariaState = 'mixed';\n      }\n\n      ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n\n      if (!isNullOrUndefined(ariaState)) {\n        wrapper.setAttribute('aria-checked', ariaState);\n      }\n\n      if (isAdd) {\n        var data = [].concat([], this.checkActionNodes);\n        eventArgs = this.getCheckEvent(currLi, state, e);\n\n        if (isUndefined(isPrevent)) {\n          eventArgs.data = data;\n        }\n      }\n\n      if (doCheck !== undefined) {\n        this.ensureStateChange(currLi, doCheck);\n      }\n\n      if (!isPrevent) {\n        if (!isNullOrUndefined(ariaState)) {\n          wrapper.setAttribute('aria-checked', ariaState);\n          eventArgs.data[0].checked = ariaState;\n          this.trigger('nodeChecked', eventArgs);\n          this.checkActionNodes = [];\n        }\n      }\n    }\n  }, {\n    key: \"addCheck\",\n    value: function addCheck(liEle) {\n      var id = liEle.getAttribute('data-uid');\n\n      if (!isNullOrUndefined(id) && this.checkedNodes.indexOf(id) === -1) {\n        this.checkedNodes.push(id);\n      }\n    }\n  }, {\n    key: \"removeCheck\",\n    value: function removeCheck(liEle) {\n      var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n      if (index > -1) {\n        this.checkedNodes.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getCheckEvent\",\n    value: function getCheckEvent(currLi, action, e) {\n      this.checkActionNodes.push(this.getNodeData(currLi));\n      var nodeData = this.checkActionNodes;\n      return {\n        action: action,\n        cancel: false,\n        isInteracted: isNullOrUndefined(e) ? false : true,\n        node: currLi,\n        data: nodeData\n      };\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      var firstUl = _select('.' + PARENTITEM, this.element);\n\n      if (!isNullOrUndefined(firstUl)) {\n        firstUl.setAttribute('role', treeAriaAttr.treeRole);\n        this.setMultiSelect(this.allowMultiSelection);\n\n        var firstNode = _select('.' + LISTITEM, this.element);\n\n        if (firstNode) {\n          _addClass([firstNode], FOCUS);\n\n          this.updateIdAttr(null, firstNode);\n        }\n\n        this.renderReactTemplates();\n        this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n        this.doExpandAction();\n      }\n    }\n  }, {\n    key: \"doExpandAction\",\n    value: function doExpandAction() {\n      var eUids = this.expandedNodes;\n\n      if (this.isInitalExpand && eUids.length > 0) {\n        this.setProperties({\n          expandedNodes: []\n        }, true);\n        /* eslint-disable */\n\n        if (this.fields.dataSource instanceof DataManager) {\n          this.expandGivenNodes(eUids);\n        } else {\n          for (var i = 0; i < eUids.length; i++) {\n            var eNode = _select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n\n            if (!isNullOrUndefined(eNode)) {\n              var icon = _select('.' + EXPANDABLE, _select('.' + TEXTWRAP, eNode));\n\n              if (!isNullOrUndefined(icon)) {\n                this.expandAction(eNode, icon, null);\n              }\n            } else {\n              if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n                this.expandChildren.push(eUids[i].toString());\n              }\n\n              continue;\n            }\n          }\n\n          this.afterFinalized();\n        }\n      } else {\n        this.afterFinalized();\n      }\n    }\n  }, {\n    key: \"expandGivenNodes\",\n    value: function expandGivenNodes(arr) {\n      var proxy = this;\n      this.expandCallback(arr[this.index], function () {\n        proxy.index++;\n\n        if (proxy.index < arr.length) {\n          proxy.expandGivenNodes(arr);\n        } else {\n          proxy.afterFinalized();\n        }\n      });\n    }\n  }, {\n    key: \"expandCallback\",\n    value: function expandCallback(eUid, callback) {\n      var eNode = _select('[data-uid=\"' + eUid + '\"]', this.element);\n\n      if (!isNullOrUndefined(eNode)) {\n        var icon = _select('.' + EXPANDABLE, _select('.' + TEXTWRAP, eNode));\n\n        if (!isNullOrUndefined(icon)) {\n          this.expandAction(eNode, icon, null, false, callback);\n        } else {\n          callback();\n        }\n      } else {\n        callback();\n      }\n    }\n  }, {\n    key: \"afterFinalized\",\n    value: function afterFinalized() {\n      this.doSelectionAction();\n      this.updateCheckedProp();\n      this.isAnimate = true;\n      this.isInitalExpand = false;\n\n      if (!this.isLoaded || this.isFieldChange) {\n        var eventArgs = {\n          data: this.treeData\n        };\n        this.trigger('dataBound', eventArgs);\n      }\n\n      this.isLoaded = true;\n    }\n  }, {\n    key: \"doSelectionAction\",\n    value: function doSelectionAction() {\n      var sNodes = selectAll('.' + SELECTED$1, this.element);\n      var sUids = this.selectedNodes;\n\n      if (sUids.length > 0) {\n        this.setProperties({\n          selectedNodes: []\n        }, true);\n\n        for (var i = 0; i < sUids.length; i++) {\n          var sNode = _select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n\n          if (sNode && !sNode.classList.contains('e-active')) {\n            this.selectNode(sNode, null, true);\n          } else {\n            this.selectedNodes.push(sUids[i]);\n          }\n\n          if (!this.allowMultiSelection) {\n            break;\n          }\n        }\n      } else {\n        this.selectGivenNodes(sNodes);\n      }\n\n      removeClass(sNodes, SELECTED$1);\n    }\n  }, {\n    key: \"selectGivenNodes\",\n    value: function selectGivenNodes(sNodes) {\n      for (var i = 0; i < sNodes.length; i++) {\n        if (!sNodes[i].classList.contains('e-disable')) {\n          this.selectNode(sNodes[i], null, true);\n        }\n\n        if (!this.allowMultiSelection) {\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(event) {\n      var target = event.originalEvent.target;\n      EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n\n      if (!target || this.dragStartAction) {\n        return;\n      } else {\n        var classList$$1 = target.classList;\n        var li = closest(target, '.' + LISTITEM);\n\n        if (!li) {\n          return;\n        } else if (event.originalEvent.which !== 3) {\n          var rippleElement = _select('.' + RIPPLEELMENT, li);\n\n          var rippleIcons = _select('.' + ICON, li);\n\n          this.removeHover();\n          this.setFocusElement(li);\n\n          if (this.showCheckBox && !li.classList.contains('e-disable')) {\n            var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n\n            if (!isNullOrUndefined(checkWrapper)) {\n              var checkElement = _select('.' + CHECKBOXFRAME, checkWrapper);\n\n              this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n              this.triggerClickEvent(event.originalEvent, li);\n              return;\n            }\n          }\n\n          if (classList$$1.contains(EXPANDABLE)) {\n            this.expandAction(li, target, event);\n          } else if (classList$$1.contains(COLLAPSIBLE)) {\n            this.collapseNode(li, target, event);\n          } else if (rippleElement && rippleIcons) {\n            if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n              this.expandAction(li, rippleIcons, event);\n            } else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n              this.collapseNode(li, rippleIcons, event);\n            } else if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n              this.toggleSelect(li, event.originalEvent, false);\n            }\n          } else {\n            if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n              this.toggleSelect(li, event.originalEvent, false);\n            }\n          }\n        }\n\n        this.triggerClickEvent(event.originalEvent, li);\n      }\n    }\n  }, {\n    key: \"nodeCheckedEvent\",\n    value: function nodeCheckedEvent(wrapper, isCheck, e) {\n      var currLi = closest(wrapper, '.' + LISTITEM);\n      var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n      eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n      this.trigger('nodeChecked', eventArgs);\n    }\n  }, {\n    key: \"triggerClickEvent\",\n    value: function triggerClickEvent(e, li) {\n      var eventArgs = {\n        event: e,\n        node: li\n      };\n      this.trigger('nodeClicked', eventArgs);\n    }\n  }, {\n    key: \"expandNode\",\n    value: function expandNode(currLi, icon, loaded) {\n      var _this62 = this;\n\n      this.renderReactTemplates();\n\n      if (icon.classList.contains(LOAD)) {\n        this.hideSpinner(icon);\n      }\n\n      if (!this.initialRender) {\n        icon.classList.add('interaction');\n      }\n\n      if (loaded !== true || loaded === true && currLi.classList.contains('e-expanded')) {\n        if (this.preventExpand !== true) {\n          removeClass([icon], EXPANDABLE);\n\n          _addClass([icon], COLLAPSIBLE);\n\n          var start = 0;\n          var end = 0;\n          var proxy = this;\n\n          var ul = _select('.' + PARENTITEM, currLi);\n\n          var liEle = currLi;\n          this.setHeight(liEle, ul);\n\n          var activeElement = _select('.' + LISTITEM + '.' + ACTIVE, currLi);\n\n          if (this.isAnimate && !this.isRefreshed) {\n            this.aniObj.animate(ul, {\n              name: this.animation.expand.effect,\n              duration: this.animation.expand.duration,\n              timingFunction: this.animation.expand.easing,\n              begin: function begin(args) {\n                liEle.style.overflow = 'hidden';\n\n                if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                  activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n                }\n\n                start = liEle.offsetHeight;\n                end = _select('.' + TEXTWRAP, currLi).offsetHeight;\n              },\n              progress: function progress(args) {\n                args.element.style.display = 'block';\n                proxy.animateHeight(args, start, end);\n              },\n              end: function end(args) {\n                args.element.style.display = 'block';\n\n                if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                  activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n                }\n\n                _this62.expandedNode(liEle, ul, icon);\n              }\n            });\n          } else {\n            this.expandedNode(liEle, ul, icon);\n          }\n        }\n      } else {\n        var _ul2 = _select('.' + PARENTITEM, currLi);\n\n        _ul2.style.display = 'none';\n\n        if (this.fields.dataSource instanceof DataManager === true) {\n          this.preventExpand = false;\n        }\n      }\n\n      if (this.initialRender) {\n        icon.classList.add('interaction');\n      }\n    }\n  }, {\n    key: \"expandedNode\",\n    value: function expandedNode(currLi, ul, icon) {\n      ul.style.display = 'block';\n      currLi.style.display = 'block';\n      currLi.style.overflow = '';\n      currLi.style.height = '';\n      removeClass([icon], PROCESS);\n      this.addExpand(currLi);\n\n      if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n        this.expandArgs = this.getExpandEvent(currLi, null);\n        this.trigger('nodeExpanded', this.expandArgs);\n      }\n    }\n  }, {\n    key: \"addExpand\",\n    value: function addExpand(liEle) {\n      liEle.setAttribute('aria-expanded', 'true');\n      removeClass([liEle], NODECOLLAPSED);\n      var id = liEle.getAttribute('data-uid');\n\n      if (!isNullOrUndefined(id) && this.expandedNodes.indexOf(id) === -1) {\n        this.expandedNodes.push(id);\n      }\n    }\n  }, {\n    key: \"collapseNode\",\n    value: function collapseNode(currLi, icon, e) {\n      var _this63 = this;\n\n      if (icon.classList.contains(PROCESS)) {\n        return;\n      } else {\n        _addClass([icon], PROCESS);\n      }\n\n      var colArgs;\n\n      if (this.isLoaded) {\n        colArgs = this.getExpandEvent(currLi, e);\n        this.trigger('nodeCollapsing', colArgs, function (observedArgs) {\n          if (observedArgs.cancel) {\n            removeClass([icon], PROCESS);\n          } else {\n            _this63.nodeCollapseAction(currLi, icon, observedArgs);\n          }\n        });\n      } else {\n        this.nodeCollapseAction(currLi, icon, colArgs);\n      }\n    }\n  }, {\n    key: \"nodeCollapseAction\",\n    value: function nodeCollapseAction(currLi, icon, colArgs) {\n      var _this64 = this;\n\n      removeClass([icon], COLLAPSIBLE);\n\n      _addClass([icon], EXPANDABLE);\n\n      var start = 0;\n      var end = 0;\n      var proxy = this;\n\n      var ul = _select('.' + PARENTITEM, currLi);\n\n      var liEle = currLi;\n\n      var activeElement = _select('.' + LISTITEM + '.' + ACTIVE, currLi);\n\n      if (this.isAnimate) {\n        this.aniObj.animate(ul, {\n          name: this.animation.collapse.effect,\n          duration: this.animation.collapse.duration,\n          timingFunction: this.animation.collapse.easing,\n          begin: function begin(args) {\n            liEle.style.overflow = 'hidden';\n\n            if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n              activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n            }\n\n            start = _select('.' + TEXTWRAP, currLi).offsetHeight;\n            end = liEle.offsetHeight;\n          },\n          progress: function progress(args) {\n            proxy.animateHeight(args, start, end);\n          },\n          end: function end(args) {\n            args.element.style.display = 'none';\n\n            if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n              activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n            }\n\n            _this64.collapsedNode(liEle, ul, icon, colArgs);\n          }\n        });\n      } else {\n        this.collapsedNode(liEle, ul, icon, colArgs);\n      }\n    }\n  }, {\n    key: \"collapsedNode\",\n    value: function collapsedNode(liEle, ul, icon, colArgs) {\n      ul.style.display = 'none';\n      liEle.style.overflow = '';\n      liEle.style.height = '';\n      removeClass([icon], PROCESS);\n      this.removeExpand(liEle);\n\n      if (this.isLoaded) {\n        colArgs = this.getExpandEvent(liEle, null);\n        this.trigger('nodeCollapsed', colArgs);\n      }\n    }\n  }, {\n    key: \"removeExpand\",\n    value: function removeExpand(liEle, toRemove) {\n      if (toRemove) {\n        liEle.removeAttribute('aria-expanded');\n      } else {\n        this.disableExpandAttr(liEle);\n      }\n\n      var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n      if (index > -1) {\n        this.expandedNodes.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"disableExpandAttr\",\n    value: function disableExpandAttr(liEle) {\n      liEle.setAttribute('aria-expanded', 'false');\n\n      _addClass([liEle], NODECOLLAPSED);\n    }\n  }, {\n    key: \"setHeight\",\n    value: function setHeight(currLi, ul) {\n      ul.style.display = 'block';\n      ul.style.visibility = 'hidden';\n      currLi.style.height = currLi.offsetHeight + 'px';\n      ul.style.display = 'none';\n      ul.style.visibility = '';\n    }\n  }, {\n    key: \"animateHeight\",\n    value: function animateHeight(args, start, end) {\n      var remaining = (args.duration - args.timeStamp) / args.duration;\n      var currentHeight = (end - start) * remaining + start;\n      args.element.parentElement.style.height = currentHeight + 'px';\n    }\n  }, {\n    key: \"renderChildNodes\",\n    value: function renderChildNodes(parentLi, expandChild, callback, loaded) {\n      var _this65 = this;\n\n      var eicon = _select('div.' + ICON, parentLi);\n\n      if (isNullOrUndefined(eicon)) {\n        return;\n      }\n\n      this.showSpinner(eicon);\n      var childItems;\n      /* eslint-disable */\n\n      if (this.fields.dataSource instanceof DataManager) {\n        var level = this.parents(parentLi, '.' + PARENTITEM).length;\n        var mapper = this.getChildFields(this.fields, level, 1);\n\n        if (isNullOrUndefined(mapper) || isNullOrUndefined(mapper.dataSource)) {\n          detach(eicon);\n          this.removeExpand(parentLi, true);\n          return;\n        }\n\n        this.treeList.push('false');\n\n        if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n          this.treeList.pop();\n          childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n          this.loadChild(childItems, mapper, eicon, parentLi, expandChild, callback, loaded);\n        } else {\n          mapper.dataSource.executeQuery(this.getQuery(mapper, parentLi.getAttribute('data-uid'))).then(function (e) {\n            _this65.treeList.pop();\n\n            childItems = e.result;\n\n            if (_this65.dataType === 1) {\n              _this65.dataType = 2;\n            }\n\n            _this65.loadChild(childItems, mapper, eicon, parentLi, expandChild, callback, loaded);\n          }).catch(function (e) {\n            _this65.trigger('actionFailure', {\n              error: e\n            });\n          });\n        }\n      } else {\n        childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n        this.currentLoadData = this.getSortedData(childItems);\n\n        if (isNullOrUndefined(childItems) || childItems.length === 0) {\n          detach(eicon);\n          this.removeExpand(parentLi, true);\n          return;\n        } else {\n          this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n          parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n          this.expandNode(parentLi, eicon, loaded);\n          this.setSelectionForChildNodes(childItems);\n          this.ensureCheckNode(parentLi);\n          this.finalizeNode(parentLi);\n          this.disableTreeNodes(childItems);\n          this.renderSubChild(parentLi, expandChild, loaded);\n        }\n      }\n    }\n  }, {\n    key: \"loadChild\",\n    value: function loadChild(childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n      this.currentLoadData = childItems;\n\n      if (isNullOrUndefined(childItems) || childItems.length === 0) {\n        detach(eicon);\n        this.removeExpand(parentLi, true);\n      } else {\n        this.updateListProp(mapper);\n\n        if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n          var id = parentLi.getAttribute('data-uid');\n          var nodeData = this.getNodeObject(id);\n          setValue('child', childItems, nodeData);\n        }\n\n        this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n        parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n        this.expandNode(parentLi, eicon, loaded);\n        this.setSelectionForChildNodes(childItems);\n        this.ensureCheckNode(parentLi);\n        this.finalizeNode(parentLi);\n        this.disableTreeNodes(childItems);\n        this.renderSubChild(parentLi, expandChild, loaded);\n      }\n\n      if (callback) {\n        callback();\n      }\n\n      if (this.treeList.length === 0 && !this.isLoaded) {\n        this.finalize();\n      }\n    }\n  }, {\n    key: \"disableTreeNodes\",\n    value: function disableTreeNodes(childItems) {\n      var i = 0;\n\n      while (i < childItems.length) {\n        var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n\n        if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n          this.doDisableAction([id]);\n        }\n\n        i++;\n      }\n    }\n    /**\n     * Sets the child Item in selectedState while rendering the child node\n     */\n\n  }, {\n    key: \"setSelectionForChildNodes\",\n    value: function setSelectionForChildNodes(nodes) {\n      var i;\n\n      for (i = 0; i < nodes.length; i++) {\n        var id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n\n        if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n          this.doSelectionAction();\n        }\n      }\n    }\n  }, {\n    key: \"ensureCheckNode\",\n    value: function ensureCheckNode(element) {\n      if (this.showCheckBox) {\n        this.ele = this.checkedElement ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n\n        if (this.autoCheck) {\n          this.ensureChildCheckState(element);\n          this.ensureParentCheckState(element);\n        }\n      }\n\n      this.currentLoadData = null;\n    }\n  }, {\n    key: \"getFields\",\n    value: function getFields(mapper, nodeLevel, dataLevel) {\n      if (nodeLevel === dataLevel) {\n        return mapper;\n      } else {\n        return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n      }\n    }\n  }, {\n    key: \"getChildFields\",\n    value: function getChildFields(mapper, nodeLevel, dataLevel) {\n      if (nodeLevel === dataLevel) {\n        return this.getChildMapper(mapper);\n      } else {\n        return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n      }\n    }\n  }, {\n    key: \"getChildMapper\",\n    value: function getChildMapper(mapper) {\n      return typeof mapper.child === 'string' || isNullOrUndefined(mapper.child) ? mapper : mapper.child;\n    }\n  }, {\n    key: \"getChildNodes\",\n    value: function getChildNodes(obj, parentId) {\n      var isRoot = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var childNodes;\n\n      if (isNullOrUndefined(obj)) {\n        return childNodes;\n      } else if (this.dataType === 1) {\n        return this.getChildGroup(this.groupedData, parentId, isRoot);\n      } else {\n        if (typeof this.fields.child === 'string') {\n          for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(this.fields.id, obj[i]);\n\n            if (dataId && dataId.toString() === parentId) {\n              return getValue(this.fields.child, obj[i]);\n            } else if (!isNullOrUndefined(getValue(this.fields.child, obj[i]))) {\n              childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n\n              if (childNodes !== undefined) {\n                break;\n              }\n            }\n          }\n        }\n      }\n\n      return childNodes;\n    }\n  }, {\n    key: \"getChildGroup\",\n    value: function getChildGroup(data, parentId, isRoot) {\n      var childNodes;\n\n      if (isNullOrUndefined(data)) {\n        return childNodes;\n      }\n\n      for (var i = 0, objlen = data.length; i < objlen; i++) {\n        if (!isNullOrUndefined(data[i][0]) && !isNullOrUndefined(getValue(this.fields.parentID, data[i][0]))) {\n          if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n            return data[i];\n          }\n        } else if (isRoot) {\n          return data[i];\n        } else {\n          return [];\n        }\n      }\n\n      return childNodes;\n    }\n  }, {\n    key: \"renderSubChild\",\n    value: function renderSubChild(element, expandChild, loaded) {\n      if (expandChild) {\n        var cIcons = selectAll('.' + EXPANDABLE, element);\n\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n          var icon = cIcons[i];\n\n          if (element.querySelector('.e-icons') !== cIcons[i]) {\n            var curLi = closest(icon, '.' + LISTITEM);\n            this.expandArgs = this.getExpandEvent(curLi, null);\n\n            if (loaded !== true) {\n              this.trigger('nodeExpanding', this.expandArgs);\n            }\n\n            this.renderChildNodes(curLi, expandChild, null, loaded);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"toggleSelect\",\n    value: function toggleSelect(li, e, multiSelect) {\n      if (!li.classList.contains('e-disable')) {\n        if (this.allowMultiSelection && (e && e.ctrlKey || multiSelect) && this.isActive(li)) {\n          this.unselectNode(li, e);\n        } else {\n          this.selectNode(li, e, multiSelect);\n        }\n      }\n    }\n  }, {\n    key: \"isActive\",\n    value: function isActive(li) {\n      return li.classList.contains(ACTIVE) ? true : false;\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(li, e, multiSelect) {\n      var _this66 = this;\n\n      if (isNullOrUndefined(li) || !this.allowMultiSelection && this.isActive(li) && !isNullOrUndefined(e)) {\n        this.setFocusElement(li);\n        return;\n      }\n\n      var eventArgs;\n\n      if (this.isLoaded) {\n        eventArgs = this.getSelectEvent(li, 'select', e);\n        this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n          if (!observedArgs.cancel) {\n            _this66.nodeSelectAction(li, e, observedArgs, multiSelect);\n          }\n        });\n      } else {\n        this.nodeSelectAction(li, e, eventArgs, multiSelect);\n      }\n    }\n  }, {\n    key: \"nodeSelectAction\",\n    value: function nodeSelectAction(li, e, eventArgs, multiSelect) {\n      if (!this.allowMultiSelection || !multiSelect && (!e || e && !e.ctrlKey)) {\n        this.removeSelectAll();\n      }\n\n      if (this.allowMultiSelection && e && e.shiftKey) {\n        if (!this.startNode) {\n          this.startNode = li;\n        }\n\n        var startIndex = this.liList.indexOf(this.startNode);\n        var endIndex = this.liList.indexOf(li);\n\n        if (startIndex > endIndex) {\n          var temp = startIndex;\n          startIndex = endIndex;\n          endIndex = temp;\n        }\n\n        for (var i = startIndex; i <= endIndex; i++) {\n          var currNode = this.liList[i];\n\n          if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n            this.addSelect(currNode);\n          }\n        }\n      } else {\n        this.startNode = li;\n        this.addSelect(li);\n      }\n\n      this.setFocusElement(li);\n\n      if (this.isLoaded) {\n        eventArgs.nodeData = this.getNodeData(li);\n        this.trigger('nodeSelected', eventArgs);\n      }\n    }\n  }, {\n    key: \"unselectNode\",\n    value: function unselectNode(li, e) {\n      var _this67 = this;\n\n      var eventArgs;\n\n      if (this.isLoaded) {\n        eventArgs = this.getSelectEvent(li, 'un-select', e);\n        this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n          if (!observedArgs.cancel) {\n            _this67.nodeUnselectAction(li, observedArgs);\n          }\n        });\n      } else {\n        this.nodeUnselectAction(li, eventArgs);\n      }\n    }\n  }, {\n    key: \"nodeUnselectAction\",\n    value: function nodeUnselectAction(li, eventArgs) {\n      this.removeSelect(li);\n      this.setFocusElement(li);\n\n      if (this.isLoaded) {\n        eventArgs.nodeData = this.getNodeData(li);\n        this.trigger('nodeSelected', eventArgs);\n      }\n    }\n  }, {\n    key: \"setFocusElement\",\n    value: function setFocusElement(li) {\n      if (!isNullOrUndefined(li)) {\n        var focusedNode = this.getFocusedNode();\n\n        if (focusedNode) {\n          removeClass([focusedNode], FOCUS);\n        }\n\n        _addClass([li], FOCUS);\n\n        this.updateIdAttr(focusedNode, li);\n      }\n    }\n  }, {\n    key: \"addSelect\",\n    value: function addSelect(liEle) {\n      liEle.setAttribute('aria-selected', 'true');\n\n      _addClass([liEle], ACTIVE);\n\n      var id = liEle.getAttribute('data-uid');\n\n      if (!isNullOrUndefined(id) && this.selectedNodes.indexOf(id) === -1) {\n        this.selectedNodes.push(id);\n      }\n    }\n  }, {\n    key: \"removeSelect\",\n    value: function removeSelect(liEle) {\n      if (this.allowMultiSelection) {\n        liEle.setAttribute('aria-selected', 'false');\n      } else {\n        liEle.removeAttribute('aria-selected');\n      }\n\n      removeClass([liEle], ACTIVE);\n      var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n      if (index > -1) {\n        this.selectedNodes.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"removeSelectAll\",\n    value: function removeSelectAll() {\n      var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n\n      var _iterator12 = _createForOfIteratorHelper(selectedLI),\n          _step12;\n\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var ele = _step12.value;\n\n          if (this.allowMultiSelection) {\n            ele.setAttribute('aria-selected', 'false');\n          } else {\n            ele.removeAttribute('aria-selected');\n          }\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n\n      removeClass(selectedLI, ACTIVE);\n      this.setProperties({\n        selectedNodes: []\n      }, true);\n    }\n  }, {\n    key: \"getSelectEvent\",\n    value: function getSelectEvent(currLi, action, e) {\n      var nodeData = this.getNodeData(currLi);\n      return {\n        action: action,\n        cancel: false,\n        isInteracted: isNullOrUndefined(e) ? false : true,\n        node: currLi,\n        nodeData: nodeData\n      };\n    }\n  }, {\n    key: \"setExpandOnType\",\n    value: function setExpandOnType() {\n      this.expandOnType = this.expandOn === 'Auto' ? Browser.isDevice ? 'Click' : 'DblClick' : this.expandOn;\n    }\n  }, {\n    key: \"expandHandler\",\n    value: function expandHandler(e) {\n      var target = e.originalEvent.target;\n\n      if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) || target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n        return;\n      } else {\n        this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n      }\n    }\n  }, {\n    key: \"expandCollapseAction\",\n    value: function expandCollapseAction(currLi, e) {\n      var icon = _select('div.' + ICON, currLi);\n\n      if (!icon || icon.classList.contains(PROCESS)) {\n        return;\n      } else {\n        var classList$$1 = icon.classList;\n\n        if (classList$$1.contains(EXPANDABLE)) {\n          this.expandAction(currLi, icon, e);\n        } else if (classList$$1.contains(COLLAPSIBLE)) {\n          this.collapseNode(currLi, icon, e);\n        }\n      }\n    }\n  }, {\n    key: \"expandAction\",\n    value: function expandAction(currLi, icon, e, expandChild, callback) {\n      var _this68 = this;\n\n      if (icon.classList.contains(PROCESS)) {\n        return;\n      } else {\n        _addClass([icon], PROCESS);\n      }\n\n      if (this.isLoaded && !this.isRefreshed) {\n        this.expandArgs = this.getExpandEvent(currLi, e);\n        this.trigger('nodeExpanding', this.expandArgs, function (observedArgs) {\n          if (observedArgs.cancel) {\n            removeClass([icon], PROCESS);\n          } else {\n            _this68.nodeExpandAction(currLi, icon, expandChild, callback);\n          }\n        });\n      } else {\n        this.nodeExpandAction(currLi, icon, expandChild, callback);\n      }\n    }\n  }, {\n    key: \"nodeExpandAction\",\n    value: function nodeExpandAction(currLi, icon, expandChild, callback) {\n      var ul = _select('.' + PARENTITEM, currLi);\n\n      if (ul && ul.nodeName === 'UL') {\n        this.expandNode(currLi, icon);\n      } else {\n        this.renderChildNodes(currLi, expandChild, callback);\n        var liEles = selectAll('.' + LISTITEM, currLi);\n\n        for (var i = 0; i < liEles.length; i++) {\n          var id = this.getId(liEles[i]);\n\n          if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n            var _icon = _select('.' + EXPANDABLE, _select('.' + TEXTWRAP, liEles[i]));\n\n            if (!isNullOrUndefined(_icon)) {\n              this.expandAction(liEles[i], _icon, null);\n            }\n\n            this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"keyActionHandler\",\n    value: function keyActionHandler(e) {\n      var _this69 = this;\n\n      var target = e.target;\n      var focusedNode = this.getFocusedNode();\n\n      if (target && target.classList.contains(INPUT)) {\n        var inpEle = target;\n\n        if (e.action === 'enter') {\n          inpEle.blur();\n          this.element.focus();\n\n          _addClass([focusedNode], HOVER);\n        } else if (e.action === 'escape') {\n          inpEle.value = this.oldText;\n          inpEle.blur();\n          this.element.focus();\n\n          _addClass([focusedNode], HOVER);\n        }\n\n        return;\n      }\n\n      e.preventDefault();\n      var eventArgs = {\n        cancel: false,\n        event: e,\n        node: focusedNode\n      };\n      this.trigger('keyPress', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          switch (e.action) {\n            case 'space':\n              if (_this69.showCheckBox) {\n                _this69.checkNode(e);\n              }\n\n              break;\n\n            case 'moveRight':\n              _this69.openNode(_this69.enableRtl ? false : true, e);\n\n              break;\n\n            case 'moveLeft':\n              _this69.openNode(_this69.enableRtl ? true : false, e);\n\n              break;\n\n            case 'shiftDown':\n              _this69.shiftKeySelect(true, e);\n\n              break;\n\n            case 'moveDown':\n            case 'ctrlDown':\n            case 'csDown':\n              _this69.navigateNode(true);\n\n              break;\n\n            case 'shiftUp':\n              _this69.shiftKeySelect(false, e);\n\n              break;\n\n            case 'moveUp':\n            case 'ctrlUp':\n            case 'csUp':\n              _this69.navigateNode(false);\n\n              break;\n\n            case 'home':\n            case 'shiftHome':\n            case 'ctrlHome':\n            case 'csHome':\n              _this69.navigateRootNode(true);\n\n              break;\n\n            case 'end':\n            case 'shiftEnd':\n            case 'ctrlEnd':\n            case 'csEnd':\n              _this69.navigateRootNode(false);\n\n              break;\n\n            case 'enter':\n            case 'ctrlEnter':\n            case 'shiftEnter':\n            case 'csEnter':\n              _this69.toggleSelect(focusedNode, e);\n\n              break;\n\n            case 'f2':\n              if (_this69.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                _this69.createTextbox(focusedNode, e);\n              }\n\n              break;\n\n            case 'ctrlA':\n              if (_this69.allowMultiSelection) {\n                var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', _this69.element);\n\n                _this69.selectGivenNodes(sNodes);\n              }\n\n              break;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"navigateToFocus\",\n    value: function navigateToFocus(isUp) {\n      var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n      var pos = focusNode.getBoundingClientRect();\n      var parent = this.getScrollParent(this.element);\n\n      if (!isNullOrUndefined(parent)) {\n        var parentPos = parent.getBoundingClientRect();\n\n        if (pos.bottom > parentPos.bottom) {\n          parent.scrollTop += pos.bottom - parentPos.bottom;\n        } else if (pos.top < parentPos.top) {\n          parent.scrollTop -= parentPos.top - pos.top;\n        }\n      }\n\n      var isVisible$$1 = this.isVisibleInViewport(focusNode);\n\n      if (!isVisible$$1) {\n        focusNode.scrollIntoView(isUp);\n      }\n    }\n  }, {\n    key: \"isVisibleInViewport\",\n    value: function isVisibleInViewport(txtWrap) {\n      var pos = txtWrap.getBoundingClientRect();\n      return pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) && pos.right <= (window.innerWidth || document.documentElement.clientWidth);\n    }\n  }, {\n    key: \"getScrollParent\",\n    value: function getScrollParent(node) {\n      if (isNullOrUndefined(node)) {\n        return null;\n      }\n\n      return node.scrollHeight > node.clientHeight ? node : this.getScrollParent(node.parentElement);\n    }\n  }, {\n    key: \"shiftKeySelect\",\n    value: function shiftKeySelect(isTowards, e) {\n      if (this.allowMultiSelection) {\n        var focusedNode = this.getFocusedNode();\n        var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n        this.removeHover();\n        this.setFocusElement(nextNode);\n        this.toggleSelect(nextNode, e, false);\n        this.navigateToFocus(!isTowards);\n      } else {\n        this.navigateNode(isTowards);\n      }\n    }\n  }, {\n    key: \"checkNode\",\n    value: function checkNode(e) {\n      var focusedNode = this.getFocusedNode();\n\n      var checkWrap = _select('.' + CHECKBOXWRAP, focusedNode);\n\n      var isChecked = _select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n\n      if (!focusedNode.classList.contains('e-disable')) {\n        if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n          this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n        }\n      }\n    }\n  }, {\n    key: \"validateCheckNode\",\n    value: function validateCheckNode(checkWrap, isCheck, li, e) {\n      var _this70 = this;\n\n      var currLi = closest(checkWrap, '.' + LISTITEM);\n      this.checkActionNodes = [];\n      var ariaState = !isCheck ? 'true' : 'false';\n\n      if (!isNullOrUndefined(ariaState)) {\n        checkWrap.setAttribute('aria-checked', ariaState);\n      }\n\n      var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n      this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this70.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n        }\n      });\n    }\n  }, {\n    key: \"nodeCheckingAction\",\n    value: function nodeCheckingAction(checkWrap, isCheck, li, eventArgs, e) {\n      if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n        this.checkedElement.push(li.getAttribute('data-uid'));\n        var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n        child !== null ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n      }\n\n      this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n\n      if (this.autoCheck) {\n        this.ensureChildCheckState(li);\n        this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n        var doCheck;\n\n        if (eventArgs.action === 'check') {\n          doCheck = true;\n        } else if (eventArgs.action === 'uncheck') {\n          doCheck = false;\n        }\n\n        this.ensureStateChange(li, doCheck);\n      }\n\n      this.nodeCheckedEvent(checkWrap, isCheck, e);\n    }\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM\n     */\n\n  }, {\n    key: \"ensureStateChange\",\n    value: function ensureStateChange(li, doCheck) {\n      var childElement = _select('.' + PARENTITEM, li);\n\n      var parentIndex = li.getAttribute('data-uid');\n      var mapper = this.fields;\n\n      if (this.dataType === 1 && this.autoCheck) {\n        var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n\n        for (var i = 0; i < resultData.length; i++) {\n          var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n          var isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n\n          if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n            this.checkedNodes.push(resultId);\n            var childItems = this.getChildNodes(this.treeData, resultId);\n            this.getChildItems(childItems, doCheck);\n\n            if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n            }\n          } else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null && this.checkedNodes.indexOf(resultId) !== -1) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n\n            if (isCheck === 'true') {\n              this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n            }\n\n            if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null || this.parentNodeCheck.indexOf(resultId) !== -1) {\n              var childNodes = this.getChildNodes(this.treeData, resultId);\n              this.getChildItems(childNodes, doCheck);\n\n              if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n              }\n            }\n          } else {\n            var _childItems = this.getChildNodes(this.treeData, resultId);\n\n            this.getChildItems(_childItems, doCheck);\n          }\n        }\n      } else if (this.dataType === 1 && !this.autoCheck) {\n        if (!doCheck) {\n          var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n\n          for (var _i18 = 0; _i18 < checkedData.length; _i18++) {\n            var id = checkedData[_i18][this.fields.id] ? checkedData[_i18][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(id) !== -1) {\n              this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n            }\n\n            this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n          }\n\n          this.checkedNodes = [];\n        } else {\n          for (var _i19 = 0; _i19 < this.treeData.length; _i19++) {\n            var checkedId = this.treeData[_i19][this.fields.id] ? this.treeData[_i19][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(checkedId) === -1) {\n              this.checkedNodes.push(checkedId);\n            }\n          }\n        }\n      } else {\n        var _childItems2 = this.getChildNodes(this.treeData, parentIndex);\n\n        if (_childItems2) {\n          this.childStateChange(_childItems2, parentIndex, childElement, doCheck);\n        }\n      }\n    }\n  }, {\n    key: \"getChildItems\",\n    value: function getChildItems(childItems, doCheck) {\n      for (var i = 0; i < childItems.length; i++) {\n        var childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n        var childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n\n        if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n          this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n        }\n\n        if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n          this.checkedNodes.push(childId);\n        }\n\n        if (childIsCheck === 'true' && !doCheck) {\n          this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n        }\n\n        var subChildItems = this.getChildNodes(this.treeData, childId);\n\n        if (subChildItems.length > 0) {\n          this.getChildItems(subChildItems, doCheck);\n        }\n      }\n    }\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n     */\n\n  }, {\n    key: \"childStateChange\",\n    value: function childStateChange(childItems, parent, childElement, doCheck) {\n      for (var i = 0; i < childItems.length; i++) {\n        var checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n        var isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n\n        if (this.autoCheck) {\n          if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n            this.checkedNodes.push(checkedChild);\n\n            if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n            }\n          } else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n\n            if (isCheck === 'true') {\n              this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n            }\n          }\n        } else if (!this.autoCheck) {\n          if (!doCheck) {\n            if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n              this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n            }\n\n            this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n            this.checkedNodes = [];\n          } else {\n            if (this.checkedNodes.indexOf(checkedChild) === -1) {\n              this.checkedNodes.push(checkedChild);\n            }\n          }\n        }\n\n        var subChild = this.getChildNodes([childItems[i]], checkedChild);\n\n        if (subChild) {\n          this.childStateChange(subChild, parent, childElement, doCheck);\n        }\n      }\n    } //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n\n  }, {\n    key: \"allCheckNode\",\n    value: function allCheckNode(child, newCheck, checked, childCheck, validateCheck) {\n      if (child) {\n        for (var length = 0; length < child.length; length++) {\n          var childId = getValue(this.fields.id, child[length]);\n          var check = this.element.querySelector('[data-uid=\"' + childId + '\"]'); //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n\n          if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n            if (check === null && !isNullOrUndefined(child[length][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1 || childCheck === 0 || checked === 2) {\n              child[length][this.fields.isChecked] !== false || checked === 2 ? newCheck.push(childId.toString()) : childCheck = null;\n              childCheck = child[length][this.fields.isChecked] !== false || checked === 2 ? 0 : null;\n            }\n          } //Pushes child checked node done thro' UI interaction\n\n\n          if (newCheck.indexOf(childId.toString()) === -1 && isNullOrUndefined(checked)) {\n            newCheck.push(childId.toString());\n          } //Gets if any next level children are available for child nodes\n\n\n          if (getValue(this.fields.hasChildren, child[length]) === true || getValue(this.fields.child.toString(), child[length])) {\n            var id = getValue(this.fields.id, child[length]);\n\n            var _childId = this.getChildNodes(this.treeData, id.toString());\n\n            if (_childId) {\n              isNullOrUndefined(validateCheck) ? this.allCheckNode(_childId, newCheck, checked, childCheck) : this.allCheckNode(_childId, newCheck, checked, childCheck, validateCheck);\n              childCheck = null;\n            }\n          }\n\n          childCheck = null;\n        }\n      }\n    }\n  }, {\n    key: \"openNode\",\n    value: function openNode(toBeOpened, e) {\n      var focusedNode = this.getFocusedNode();\n\n      var icon = _select('div.' + ICON, focusedNode);\n\n      if (toBeOpened) {\n        if (!icon) {\n          return;\n        } else if (icon.classList.contains(EXPANDABLE)) {\n          this.expandAction(focusedNode, icon, e);\n        } else {\n          this.focusNextNode(focusedNode, true);\n        }\n      } else {\n        if (icon && icon.classList.contains(COLLAPSIBLE)) {\n          this.collapseNode(focusedNode, icon, e);\n        } else {\n          var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n\n          if (!parentLi) {\n            return;\n          } else {\n            if (!parentLi.classList.contains('e-disable')) {\n              this.setFocus(focusedNode, parentLi);\n              this.navigateToFocus(true);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"navigateNode\",\n    value: function navigateNode(isTowards) {\n      var focusedNode = this.getFocusedNode();\n      this.focusNextNode(focusedNode, isTowards);\n    }\n  }, {\n    key: \"navigateRootNode\",\n    value: function navigateRootNode(isBackwards) {\n      var focusedNode = this.getFocusedNode();\n      var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n\n      if (!rootNode.classList.contains('e-disable')) {\n        this.setFocus(focusedNode, rootNode);\n        this.navigateToFocus(isBackwards);\n      }\n    }\n  }, {\n    key: \"getFocusedNode\",\n    value: function getFocusedNode() {\n      var selectedItem;\n\n      var fNode = _select('.' + LISTITEM + '.' + FOCUS, this.element);\n\n      if (isNullOrUndefined(fNode)) {\n        selectedItem = _select('.' + LISTITEM, this.element);\n      }\n\n      return isNullOrUndefined(fNode) ? isNullOrUndefined(selectedItem) ? this.element.firstElementChild : selectedItem : fNode;\n    }\n  }, {\n    key: \"focusNextNode\",\n    value: function focusNextNode(li, isTowards) {\n      var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n      this.setFocus(li, nextNode);\n      this.navigateToFocus(!isTowards);\n\n      if (nextNode.classList.contains('e-disable')) {\n        var lastChild = nextNode.lastChild;\n\n        if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n          this.focusNextNode(nextNode, true);\n        } else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n          this.focusNextNode(nextNode, false);\n        } else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n          this.focusNextNode(nextNode, false);\n        } else {\n          this.focusNextNode(nextNode, isTowards);\n        }\n      }\n    }\n  }, {\n    key: \"getNextNode\",\n    value: function getNextNode(li) {\n      var index = this.liList.indexOf(li);\n      var nextNode;\n\n      do {\n        index++;\n        nextNode = this.liList[index];\n\n        if (isNullOrUndefined(nextNode)) {\n          return li;\n        }\n      } while (!isVisible(nextNode));\n\n      return nextNode;\n    }\n  }, {\n    key: \"getPrevNode\",\n    value: function getPrevNode(li) {\n      var index = this.liList.indexOf(li);\n      var prevNode;\n\n      do {\n        index--;\n        prevNode = this.liList[index];\n\n        if (isNullOrUndefined(prevNode)) {\n          return li;\n        }\n      } while (!isVisible(prevNode));\n\n      return prevNode;\n    }\n  }, {\n    key: \"getRootNode\",\n    value: function getRootNode() {\n      var index = 0;\n      var rootNode;\n\n      do {\n        rootNode = this.liList[index];\n        index++;\n      } while (!isVisible(rootNode));\n\n      return rootNode;\n    }\n  }, {\n    key: \"getEndNode\",\n    value: function getEndNode() {\n      var index = this.liList.length - 1;\n      var endNode;\n\n      do {\n        endNode = this.liList[index];\n        index--;\n      } while (!isVisible(endNode));\n\n      return endNode;\n    }\n  }, {\n    key: \"setFocus\",\n    value: function setFocus(preNode, nextNode) {\n      removeClass([preNode], [HOVER, FOCUS]);\n\n      if (!nextNode.classList.contains('e-disable')) {\n        _addClass([nextNode], [HOVER, FOCUS]);\n\n        this.updateIdAttr(preNode, nextNode);\n      }\n    }\n  }, {\n    key: \"updateIdAttr\",\n    value: function updateIdAttr(preNode, nextNode) {\n      this.element.removeAttribute('aria-activedescendant');\n\n      if (preNode) {\n        preNode.removeAttribute('id');\n      }\n\n      nextNode.setAttribute('id', this.element.id + '_active');\n      this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    }\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      if (!this.mouseDownStatus) {\n        _addClass([this.getFocusedNode()], HOVER);\n      }\n\n      this.mouseDownStatus = false;\n    }\n  }, {\n    key: \"focusOut\",\n    value: function focusOut() {\n      removeClass([this.getFocusedNode()], HOVER);\n    }\n  }, {\n    key: \"onMouseOver\",\n    value: function onMouseOver(e) {\n      var target = e.target;\n      var classList$$1 = target.classList;\n      var currentLi = closest(target, '.' + LISTITEM);\n\n      if (!currentLi || classList$$1.contains(PARENTITEM) || classList$$1.contains(LISTITEM)) {\n        this.removeHover();\n        return;\n      } else {\n        if (currentLi && !currentLi.classList.contains('e-disable')) {\n          this.setHover(currentLi);\n        }\n      }\n    }\n  }, {\n    key: \"setHover\",\n    value: function setHover(li) {\n      if (!li.classList.contains(HOVER)) {\n        this.removeHover();\n\n        _addClass([li], HOVER);\n      }\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(e) {\n      this.removeHover();\n    }\n  }, {\n    key: \"removeHover\",\n    value: function removeHover() {\n      var hoveredNode = selectAll('.' + HOVER, this.element);\n\n      if (hoveredNode && hoveredNode.length) {\n        removeClass(hoveredNode, HOVER);\n      }\n    }\n  }, {\n    key: \"getNodeData\",\n    value: function getNodeData(currLi, fromDS) {\n      if (!isNullOrUndefined(currLi) && currLi.classList.contains(LISTITEM) && !isNullOrUndefined(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n        var id = currLi.getAttribute('data-uid');\n        var text = this.getText(currLi, fromDS);\n        var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n        var pid = pNode ? pNode.getAttribute('data-uid') : null;\n        var selected = currLi.classList.contains(ACTIVE);\n        var expanded = currLi.getAttribute('aria-expanded') === 'true' ? true : false;\n        var hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (_select('.' + EXPANDABLE, currLi) || _select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n        var checked = null;\n\n        if (this.showCheckBox) {\n          checked = _select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n        }\n\n        return {\n          id: id,\n          text: text,\n          parentID: pid,\n          selected: selected,\n          expanded: expanded,\n          isChecked: checked,\n          hasChildren: hasChildren\n        };\n      }\n\n      return {\n        id: '',\n        text: '',\n        parentID: '',\n        selected: false,\n        expanded: false,\n        isChecked: '',\n        hasChildren: false\n      };\n    }\n  }, {\n    key: \"getText\",\n    value: function getText(currLi, fromDS) {\n      if (fromDS) {\n        var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n        var level = parseFloat(currLi.getAttribute('aria-level'));\n        var nodeFields = this.getFields(this.fields, level, 1);\n        return getValue(nodeFields.text, nodeData);\n      }\n\n      return _select('.' + LISTTEXT, currLi).textContent;\n    }\n  }, {\n    key: \"getExpandEvent\",\n    value: function getExpandEvent(currLi, e) {\n      var nodeData = this.getNodeData(currLi);\n      return {\n        cancel: false,\n        isInteracted: isNullOrUndefined(e) ? false : true,\n        node: currLi,\n        nodeData: nodeData,\n        event: e\n      };\n    }\n  }, {\n    key: \"renderNodeTemplate\",\n    value: function renderNodeTemplate(data, textEle, dataId) {\n      var tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle);\n\n      if (tempArr) {\n        tempArr = Array.prototype.slice.call(tempArr);\n        append(tempArr, textEle);\n      }\n    }\n  }, {\n    key: \"destroyTemplate\",\n    value: function destroyTemplate(liEle) {\n      this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n    }\n  }, {\n    key: \"reRenderNodes\",\n    value: function reRenderNodes() {\n      this.updateListProp(this.fields);\n\n      if (Browser.isIE) {\n        this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n        this.ulElement.parentElement.removeChild(this.ulElement);\n      } else {\n        this.element.innerHTML = '';\n      }\n\n      if (!isNullOrUndefined(this.nodeTemplateFn)) {\n        this.clearTemplate();\n      }\n\n      this.setTouchClass();\n      this.setProperties({\n        selectedNodes: [],\n        checkedNodes: [],\n        expandedNodes: []\n      }, true);\n      this.checkedElement = [];\n      this.isLoaded = false;\n      this.setDataBinding(true);\n    }\n  }, {\n    key: \"setCssClass\",\n    value: function setCssClass(oldClass, newClass) {\n      if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n        removeClass([this.element], oldClass.split(' '));\n      }\n\n      if (!isNullOrUndefined(newClass) && newClass !== '') {\n        _addClass([this.element], newClass.split(' '));\n      }\n    }\n  }, {\n    key: \"editingHandler\",\n    value: function editingHandler(e) {\n      var target = e.target;\n\n      if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) || target.classList.contains(ICON) || target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n        return;\n      } else {\n        var liEle = closest(target, '.' + LISTITEM);\n        this.createTextbox(liEle, e);\n      }\n    }\n  }, {\n    key: \"createTextbox\",\n    value: function createTextbox(liEle, e) {\n      var _this71 = this;\n\n      var oldInpEle = _select('.' + TREEINPUT, this.element);\n\n      if (oldInpEle) {\n        oldInpEle.blur();\n      }\n\n      var textEle = _select('.' + LISTTEXT, liEle);\n\n      this.updateOldText(liEle);\n      var innerEle = this.createElement('input', {\n        className: TREEINPUT,\n        attrs: {\n          value: this.oldText\n        }\n      });\n      var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n      this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          var inpWidth = textEle.offsetWidth + 5;\n          var style = 'width:' + inpWidth + 'px';\n\n          _addClass([liEle], EDITING);\n\n          if (!isNullOrUndefined(_this71.nodeTemplateFn)) {\n            _this71.destroyTemplate(liEle);\n          }\n\n          textEle.innerHTML = eventArgs.innerHtml;\n\n          var inpEle = _select('.' + TREEINPUT, textEle);\n\n          _this71.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n              enableRtl: _this71.enableRtl\n            }\n          }, _this71.createElement);\n\n          _this71.inputObj.container.setAttribute('style', style);\n\n          inpEle.focus();\n          var inputEle = inpEle;\n          inputEle.setSelectionRange(0, inputEle.value.length);\n\n          _this71.wireInputEvents(inpEle);\n        }\n      });\n    }\n  }, {\n    key: \"updateOldText\",\n    value: function updateOldText(liEle) {\n      var id = liEle.getAttribute('data-uid');\n      this.editData = this.getNodeObject(id);\n      var level = parseFloat(liEle.getAttribute('aria-level'));\n      this.editFields = this.getFields(this.fields, level, 1);\n      this.oldText = getValue(this.editFields.text, this.editData);\n    }\n  }, {\n    key: \"inputFocusOut\",\n    value: function inputFocusOut(e) {\n      if (!_select('.' + TREEINPUT, this.element)) {\n        return;\n      }\n\n      var target = e.target;\n      var newText = target.value;\n      var txtEle = closest(target, '.' + LISTTEXT);\n      var liEle = closest(target, '.' + LISTITEM);\n      detach(this.inputObj.container);\n\n      if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n        this.crudOperation('update', null, liEle, newText, null, null, true);\n      } else {\n        this.appendNewText(liEle, txtEle, newText, true);\n      }\n    }\n  }, {\n    key: \"appendNewText\",\n    value: function appendNewText(liEle, txtEle, newText, isInput) {\n      var _this72 = this;\n\n      var eventArgs = this.getEditEvent(liEle, newText, null);\n      this.trigger('nodeEdited', eventArgs, function (observedArgs) {\n        newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n\n        _this72.updateText(liEle, txtEle, newText, isInput);\n\n        if (observedArgs.oldText !== newText) {\n          _this72.triggerEvent();\n        }\n      });\n    }\n  }, {\n    key: \"updateText\",\n    value: function updateText(liEle, txtEle, newText, isInput) {\n      var newData = setValue(this.editFields.text, newText, this.editData);\n\n      if (!isNullOrUndefined(this.nodeTemplateFn)) {\n        txtEle.innerText = '';\n        var dataId = liEle.getAttribute('data-uid');\n        this.renderNodeTemplate(newData, txtEle, dataId);\n        this.renderReactTemplates();\n      } else {\n        txtEle.innerText = newText;\n      }\n\n      if (isInput) {\n        removeClass([liEle], EDITING);\n        txtEle.focus();\n      }\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(ele) {\n      if (isNullOrUndefined(ele)) {\n        return null;\n      } else if (typeof ele === 'string') {\n        return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n      } else if (typeof ele === 'object') {\n        return _getElement(ele);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getId\",\n    value: function getId(ele) {\n      if (isNullOrUndefined(ele)) {\n        return null;\n      } else if (typeof ele === 'string') {\n        return ele;\n      } else if (typeof ele === 'object') {\n        return _getElement(ele).getAttribute('data-uid');\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getEditEvent\",\n    value: function getEditEvent(liEle, newText, inpEle) {\n      var data = this.getNodeData(liEle);\n      return {\n        cancel: false,\n        newText: newText,\n        node: liEle,\n        nodeData: data,\n        oldText: this.oldText,\n        innerHtml: inpEle\n      };\n    }\n  }, {\n    key: \"getNodeObject\",\n    value: function getNodeObject(id) {\n      var childNodes;\n\n      if (isNullOrUndefined(id)) {\n        return childNodes;\n      } else if (this.dataType === 1) {\n        for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n          var dataId = getValue(this.fields.id, this.treeData[i]);\n\n          if (!isNullOrUndefined(this.treeData[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n            return this.treeData[i];\n          }\n        }\n      } else {\n        return this.getChildNodeObject(this.treeData, this.fields, id);\n      }\n\n      return childNodes;\n    }\n  }, {\n    key: \"getChildNodeObject\",\n    value: function getChildNodeObject(obj, mapper, id) {\n      var newList;\n\n      if (isNullOrUndefined(obj)) {\n        return newList;\n      }\n\n      for (var i = 0, objlen = obj.length; i < objlen; i++) {\n        var dataId = getValue(mapper.id, obj[i]);\n\n        if (obj[i] && dataId && dataId.toString() === id) {\n          return obj[i];\n        } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n          var childData = getValue(mapper.child, obj[i]);\n          newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n\n          if (newList !== undefined) {\n            break;\n          }\n        } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n          var child = 'child';\n          newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n\n          if (newList !== undefined) {\n            break;\n          }\n        }\n      }\n\n      return newList;\n    }\n  }, {\n    key: \"setDragAndDrop\",\n    value: function setDragAndDrop(toBind) {\n      if (toBind && !this.disabled) {\n        this.initializeDrag();\n      } else {\n        this.destroyDrag();\n      }\n    }\n  }, {\n    key: \"initializeDrag\",\n    value: function initializeDrag() {\n      var _this73 = this;\n\n      var virtualEle;\n      var proxy = this;\n      this.dragObj = new Draggable(this.element, {\n        enableTailMode: true,\n        enableAutoScroll: true,\n        dragArea: this.dragArea,\n        dragTarget: '.' + TEXTWRAP,\n        helper: function helper(e) {\n          _this73.dragTarget = e.sender.target;\n          var dragRoot = closest(_this73.dragTarget, '.' + ROOT);\n          var dragWrap = closest(_this73.dragTarget, '.' + TEXTWRAP);\n          _this73.dragLi = closest(_this73.dragTarget, '.' + LISTITEM);\n\n          if (_this73.fullRowSelect && !dragWrap && _this73.dragTarget.classList.contains(FULLROW)) {\n            dragWrap = _this73.dragTarget.nextElementSibling;\n          }\n\n          if (!_this73.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap || _this73.dragTarget.classList.contains(ROOT) || _this73.dragTarget.classList.contains(PARENTITEM) || _this73.dragTarget.classList.contains(LISTITEM) || _this73.dragLi.classList.contains('e-disable')) {\n            return false;\n          }\n\n          var cloneEle = dragWrap.cloneNode(true);\n\n          if (isNullOrUndefined(_select('div.' + ICON, cloneEle))) {\n            var icon = proxy.createElement('div', {\n              className: ICON + ' ' + EXPANDABLE\n            });\n            cloneEle.insertBefore(icon, cloneEle.children[0]);\n          }\n\n          var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this73.cssClass + ' ' + (_this73.enableRtl ? RTL$1 : '');\n          virtualEle = proxy.createElement('div', {\n            className: cssClass\n          });\n          virtualEle.appendChild(cloneEle);\n          var nLen = _this73.selectedNodes.length;\n\n          if (nLen > 1 && _this73.allowMultiSelection && _this73.dragLi.classList.contains(ACTIVE)) {\n            var cNode = proxy.createElement('span', {\n              className: DROPCOUNT,\n              innerHTML: '' + nLen\n            });\n            virtualEle.appendChild(cNode);\n          }\n\n          document.body.appendChild(virtualEle);\n          document.body.style.cursor = '';\n          _this73.dragData = _this73.getNodeData(_this73.dragLi);\n          return virtualEle;\n        },\n        dragStart: function dragStart(e) {\n          _addClass([_this73.element], DRAGGING);\n\n          var listItem = closest(e.target, '.e-list-item');\n          var level;\n\n          if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n          }\n\n          var eventArgs = _this73.getDragEvent(e.event, _this73, null, e.target, null, virtualEle, level);\n\n          if (eventArgs.draggedNode.classList.contains(EDITING)) {\n            _this73.dragObj.intDestroy(e.event);\n\n            _this73.dragCancelAction(virtualEle);\n          } else {\n            _this73.trigger('nodeDragStart', eventArgs, function (observedArgs) {\n              if (observedArgs.cancel) {\n                _this73.dragObj.intDestroy(e.event);\n\n                _this73.dragCancelAction(virtualEle);\n              } else {\n                _this73.dragStartAction = true;\n              }\n            });\n          }\n        },\n        drag: function drag(e) {\n          _this73.dragObj.setProperties({\n            cursorAt: {\n              top: !isNullOrUndefined(e.event.targetTouches) || Browser.isDevice ? 60 : -20\n            }\n          });\n\n          _this73.dragAction(e, virtualEle);\n        },\n        dragStop: function dragStop(e) {\n          removeClass([_this73.element], DRAGGING);\n\n          _this73.removeVirtualEle();\n\n          var dropTarget = e.target;\n          var preventTargetExpand = false;\n          var dropRoot = closest(dropTarget, '.' + DROPPABLE);\n\n          if (!dropTarget || !dropRoot) {\n            detach(e.helper);\n            document.body.style.cursor = '';\n          }\n\n          var listItem = closest(dropTarget, '.e-list-item');\n          var level;\n\n          if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n          }\n\n          var eventArgs = _this73.getDragEvent(e.event, _this73, dropTarget, dropTarget, null, e.helper, level);\n\n          eventArgs.preventTargetExpand = preventTargetExpand;\n\n          _this73.trigger('nodeDragStop', eventArgs, function (observedArgs) {\n            _this73.dragParent = observedArgs.draggedParentNode;\n            _this73.preventExpand = observedArgs.preventTargetExpand;\n\n            if (observedArgs.cancel) {\n              if (e.helper.parentNode) {\n                detach(e.helper);\n              }\n\n              document.body.style.cursor = '';\n            }\n\n            _this73.dragStartAction = false;\n          });\n        }\n      });\n      this.dropObj = new Droppable(this.element, {\n        out: function out(e) {\n          if (!isNullOrUndefined(e) && !e.target.classList.contains(SIBLING)) {\n            document.body.style.cursor = 'not-allowed';\n          }\n        },\n        over: function over(e) {\n          document.body.style.cursor = '';\n        },\n        drop: function drop(e) {\n          _this73.dropAction(e);\n        }\n      });\n    }\n  }, {\n    key: \"dragCancelAction\",\n    value: function dragCancelAction(virtualEle) {\n      detach(virtualEle);\n      removeClass([this.element], DRAGGING);\n      this.dragStartAction = false;\n    }\n  }, {\n    key: \"dragAction\",\n    value: function dragAction(e, virtualEle) {\n      var dropRoot = closest(e.target, '.' + DROPPABLE);\n      var dropWrap = closest(e.target, '.' + TEXTWRAP);\n\n      var icon = _select('div.' + ICON, virtualEle);\n\n      removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n      this.removeVirtualEle();\n      document.body.style.cursor = '';\n      var classList$$1 = e.target.classList;\n\n      if (this.fullRowSelect && !dropWrap && !isNullOrUndefined(classList$$1) && classList$$1.contains(FULLROW)) {\n        dropWrap = e.target.nextElementSibling;\n      }\n\n      if (dropRoot) {\n        var dropLi = closest(e.target, '.' + LISTITEM);\n        var checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n        var collapse = closest(e.target, '.' + COLLAPSIBLE);\n        var expand = closest(e.target, '.' + EXPANDABLE);\n\n        if (!dropRoot.classList.contains(ROOT) || dropWrap && !dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)) {\n          if (this.hasTemplate && dropLi) {\n            var templateTarget = _select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n\n            if (e && !expand && !collapse && e.event.offsetY < 7 && !checkWrapper || expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3) {\n              var index = this.fullRowSelect ? 1 : 0;\n              this.appendIndicator(dropLi, icon, index);\n            } else if (e && !expand && !collapse && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10 || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19) {\n              var _index3 = this.fullRowSelect ? 2 : 1;\n\n              this.appendIndicator(dropLi, icon, _index3);\n            } else {\n              _addClass([icon], DROPIN);\n            }\n          } else {\n            if (dropLi && e && !expand && !collapse && e.event.offsetY < 7 && !checkWrapper || expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3) {\n              var _index4 = this.fullRowSelect ? 1 : 0;\n\n              this.appendIndicator(dropLi, icon, _index4);\n            } else if (dropLi && e && !expand && !collapse && e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 10 && !checkWrapper || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19) {\n              var _index5 = this.fullRowSelect ? 2 : 1;\n\n              this.appendIndicator(dropLi, icon, _index5);\n            } else {\n              _addClass([icon], DROPIN);\n            }\n          }\n        } else if (e.target.nodeName === 'LI' && !dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)) {\n          _addClass([icon], DROPNEXT);\n\n          this.renderVirtualEle(e);\n        } else if (e.target.classList.contains(SIBLING)) {\n          _addClass([icon], DROPNEXT);\n        } else {\n          _addClass([icon], DROPOUT);\n        }\n      } else {\n        _addClass([icon], NODROP);\n\n        document.body.style.cursor = 'not-allowed';\n      }\n\n      var listItem = closest(e.target, '.e-list-item');\n      var level;\n\n      if (listItem) {\n        level = parseInt(listItem.getAttribute('aria-level'), 10);\n      }\n\n      var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n\n      if (eventArgs.dropIndicator) {\n        removeClass([icon], eventArgs.dropIndicator);\n      }\n\n      this.trigger('nodeDragging', eventArgs);\n\n      if (eventArgs.dropIndicator) {\n        _addClass([icon], eventArgs.dropIndicator);\n      }\n    }\n  }, {\n    key: \"appendIndicator\",\n    value: function appendIndicator(dropLi, icon, index) {\n      _addClass([icon], DROPNEXT);\n\n      var virEle = this.createElement('div', {\n        className: SIBLING\n      });\n      dropLi.insertBefore(virEle, dropLi.children[index]);\n    }\n    /* eslint-disable */\n\n  }, {\n    key: \"dropAction\",\n    value: function dropAction(e) {\n      var offsetY = e.event.offsetY;\n      var dropTarget = e.target;\n      var dragObj;\n      var level;\n      var drop = false;\n      var dragInstance;\n      dragInstance = e.dragData.draggable;\n\n      for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n        if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n          dragObj = dragInstance.ej2_instances[i];\n          break;\n        }\n      }\n\n      if (dragObj && dragObj.dragTarget) {\n        var dragTarget = dragObj.dragTarget;\n        var dragLi = closest(dragTarget, '.' + LISTITEM);\n        var dropLi = closest(dropTarget, '.' + LISTITEM);\n\n        if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n          dropLi = dropTarget.firstElementChild;\n        }\n\n        detach(e.droppedElement);\n        document.body.style.cursor = '';\n\n        if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n          if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n          }\n\n          return;\n        }\n\n        if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n          var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n\n          if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n            for (var _i20 = sNodes.length - 1; _i20 >= 0; _i20--) {\n              if (dropLi.isSameNode(sNodes[_i20]) || this.isDescendant(sNodes[_i20], dropLi)) {\n                continue;\n              }\n\n              this.appendNode(dropTarget, sNodes[_i20], dropLi, e, dragObj, offsetY);\n            }\n          } else {\n            for (var _i21 = 0; _i21 < sNodes.length; _i21++) {\n              if (dropLi.isSameNode(sNodes[_i21]) || this.isDescendant(sNodes[_i21], dropLi)) {\n                continue;\n              }\n\n              this.appendNode(dropTarget, sNodes[_i21], dropLi, e, dragObj, offsetY);\n            }\n          }\n        } else {\n          this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n        }\n\n        level = parseInt(dragLi.getAttribute('aria-level'), 10);\n        drop = true;\n      }\n\n      if (this.fields.dataSource instanceof DataManager === false) {\n        this.preventExpand = false;\n      }\n\n      this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n\n      if (dragObj.element.id !== this.element.id) {\n        dragObj.triggerEvent();\n      }\n\n      this.triggerEvent();\n    }\n  }, {\n    key: \"appendNode\",\n    value: function appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n      var checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n      var collapse = closest(e.target, '.' + COLLAPSIBLE);\n      var expand = closest(e.target, '.' + EXPANDABLE);\n\n      if (!dragLi.classList.contains('e-disable') && !checkWrapper && (expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3 || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19 || !expand && !collapse)) {\n        if (dropTarget.nodeName === 'LI') {\n          this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        } else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n          if (dropTarget.firstElementChild.nodeName === 'UL') {\n            this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n          }\n        } else if (dropTarget.classList.contains('e-icon-collapsible') || dropTarget.classList.contains('e-icon-expandable')) {\n          this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        } else {\n          this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n        }\n      } else {\n        this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n      }\n    }\n  }, {\n    key: \"dropAsSiblingNode\",\n    value: function dropAsSiblingNode(dragLi, dropLi, e, dragObj) {\n      var dropUl = closest(dropLi, '.' + PARENTITEM);\n      var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n      var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n      var pre;\n\n      if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n        pre = false;\n      } else if (e.event.offsetY < 2) {\n        pre = true;\n      } else if (e.target.classList.contains('e-icon-expandable') || e.target.classList.contains('e-icon-collapsible')) {\n        if (e.event.offsetY < 5 || e.event.offsetX < 3) {\n          pre = true;\n        } else if (e.event.offsetY > 15 || e.event.offsetX > 17) {\n          pre = false;\n        }\n      }\n\n      if (e.target.classList.contains('e-icon-expandable') || e.target.classList.contains('e-icon-collapsible')) {\n        var target = e.target.closest('li');\n        dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n      } else {\n        dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n      }\n\n      this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n      this.updateElement(dragParentUl, dragParentLi);\n      this.updateAriaLevel(dragLi);\n\n      if (dragObj.element.id === this.element.id) {\n        this.updateList();\n      } else {\n        dragObj.updateInstance();\n        this.updateInstance();\n      }\n    }\n  }, {\n    key: \"dropAsChildNode\",\n    value: function dropAsChildNode(dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n      var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n      var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n      var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n      var templateTarget;\n\n      if (e && e.target) {\n        templateTarget = _select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n      }\n\n      if (e && pos < 7 && !isCheck) {\n        dropParentUl.insertBefore(dragLi, dropLi);\n        this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n      } else if (e && e.target.offsetHeight > 0 && pos > e.target.offsetHeight - 10 && !isCheck && !this.hasTemplate) {\n        dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n      } else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n        dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n        this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n      } else {\n        var dropUl = this.expandParent(dropLi);\n        var childLi = dropUl.childNodes[index];\n        dropUl.insertBefore(dragLi, childLi);\n        this.moveData(dragLi, childLi, dropUl, true, dragObj);\n      }\n\n      this.updateElement(dragParentUl, dragParentLi);\n      this.updateAriaLevel(dragLi);\n\n      if (dragObj.element.id === this.element.id) {\n        this.updateList();\n      } else {\n        dragObj.updateInstance();\n        this.updateInstance();\n      }\n    }\n  }, {\n    key: \"moveData\",\n    value: function moveData(dragLi, dropLi, dropUl, pre, dragObj) {\n      var dropParentLi = closest(dropUl, '.' + LISTITEM);\n      var id = this.getId(dragLi);\n      var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n      var refId = this.getId(dropLi);\n      var index = this.getDataPos(this.treeData, this.fields, refId);\n      var parentId = this.getId(dropParentLi);\n\n      if (this.dataType === 1) {\n        this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n        var pos = isNullOrUndefined(index) ? this.treeData.length : pre ? index : index + 1;\n\n        if (isNullOrUndefined(parentId) && !this.hasPid) {\n          delete removedData[0][this.fields.parentID];\n        } else {\n          var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n          setValue(this.fields.parentID, currPid, removedData[0]);\n        }\n\n        this.treeData.splice(pos, 0, removedData[0]);\n\n        if (dragObj.element.id !== this.element.id) {\n          var childData = dragObj.removeChildNodes(id);\n          pos++;\n\n          for (var i = 0, len = childData.length; i < len; i++) {\n            this.treeData.splice(pos, 0, childData[i]);\n            pos++;\n          }\n\n          dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n        }\n\n        this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n      } else {\n        this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n      }\n    }\n  }, {\n    key: \"expandParent\",\n    value: function expandParent(dropLi) {\n      var dropIcon = _select('div.' + ICON, dropLi);\n\n      if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n        this.expandAction(dropLi, dropIcon, null);\n      }\n\n      var dropUl = _select('.' + PARENTITEM, dropLi);\n\n      if (this.preventExpand === true && !dropUl && dropIcon) {\n        this.renderChildNodes(dropLi);\n      }\n\n      dropUl = _select('.' + PARENTITEM, dropLi);\n\n      if (!isNullOrUndefined(dropUl) && this.preventExpand === true) {\n        dropUl.style.display = 'none';\n      }\n\n      if (!isNullOrUndefined(dropUl) && this.preventExpand === false) {\n        dropUl.style.display = 'block';\n      }\n\n      if (isNullOrUndefined(dropUl) && this.preventExpand === true) {\n        if (isNullOrUndefined(dropIcon)) {\n          ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n        }\n\n        var icon = _select('div.' + ICON, dropLi);\n\n        if (icon) {\n          icon.classList.add('e-icon-expandable');\n        }\n\n        dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n        dropLi.appendChild(dropUl);\n\n        if (icon) {\n          removeClass([icon], COLLAPSIBLE);\n        } else {\n          ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n        }\n\n        dropLi.setAttribute('aria-expanded', 'false');\n        dropUl.style.display = 'none';\n      }\n\n      if (isNullOrUndefined(dropUl)) {\n        this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n\n        if (isNullOrUndefined(dropIcon)) {\n          ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n        }\n\n        var _icon2 = _select('div.' + ICON, dropLi);\n\n        if (_icon2) {\n          removeClass([_icon2], EXPANDABLE);\n        } else {\n          ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n          _icon2 = _select('div.' + ICON, dropLi);\n          removeClass([_icon2], EXPANDABLE);\n        }\n\n        dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n        dropLi.appendChild(dropUl);\n        this.addExpand(dropLi);\n        this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n      }\n\n      return dropUl;\n    }\n  }, {\n    key: \"updateElement\",\n    value: function updateElement(dragParentUl, dragParentLi) {\n      if (dragParentLi && dragParentUl.childElementCount === 0) {\n        var dragIcon = _select('div.' + ICON, dragParentLi);\n\n        detach(dragParentUl);\n        detach(dragIcon);\n        var parentId = this.getId(dragParentLi);\n        this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n        this.removeExpand(dragParentLi, true);\n      }\n    }\n  }, {\n    key: \"updateAriaLevel\",\n    value: function updateAriaLevel(dragLi) {\n      var level = this.parents(dragLi, '.' + PARENTITEM).length;\n      dragLi.setAttribute('aria-level', '' + level);\n      this.updateChildAriaLevel(_select('.' + PARENTITEM, dragLi), level + 1);\n    }\n  }, {\n    key: \"updateChildAriaLevel\",\n    value: function updateChildAriaLevel(element, level) {\n      if (!isNullOrUndefined(element)) {\n        var cNodes = element.childNodes;\n\n        for (var i = 0, len = cNodes.length; i < len; i++) {\n          var liEle = cNodes[i];\n          liEle.setAttribute('aria-level', '' + level);\n          this.updateChildAriaLevel(_select('.' + PARENTITEM, liEle), level + 1);\n        }\n      }\n    }\n  }, {\n    key: \"renderVirtualEle\",\n    value: function renderVirtualEle(e) {\n      var pre;\n\n      if (e.event.offsetY > e.target.offsetHeight - 2) {\n        pre = false;\n      } else if (e.event.offsetY < 2) {\n        pre = true;\n      }\n\n      var virEle = this.createElement('div', {\n        className: SIBLING\n      });\n      var index = this.fullRowSelect ? pre ? 1 : 2 : pre ? 0 : 1;\n      e.target.insertBefore(virEle, e.target.children[index]);\n    }\n  }, {\n    key: \"removeVirtualEle\",\n    value: function removeVirtualEle() {\n      var sibEle = _select('.' + SIBLING);\n\n      if (sibEle) {\n        detach(sibEle);\n      }\n    }\n  }, {\n    key: \"destroyDrag\",\n    value: function destroyDrag() {\n      if (this.dragObj && this.dropObj) {\n        this.dragObj.destroy();\n        this.dropObj.destroy();\n      }\n    }\n  }, {\n    key: \"getDragEvent\",\n    value: function getDragEvent(event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n      var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n      var dropData = dropLi ? this.getNodeData(dropLi) : null;\n      var draggedNode = obj ? obj.dragLi : dragNode;\n      var draggedNodeData = obj ? obj.dragData : null;\n      var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n      var dragLiParent = obj.dragLi.parentElement;\n      var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n      var targetParent = null;\n      var indexValue = null;\n      var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n      var iconClass = null;\n      var node = drop === true ? draggedNode : dropLi;\n      var index = node ? closest(node, '.e-list-parent') : null;\n      var i = 0;\n      var position = null;\n      dragParent = obj.dragLi && dragParent === null ? closest(dragLiParent, '.' + ROOT) : dragParent;\n      dragParent = drop === true ? this.dragParent : dragParent;\n\n      if (cloneEle) {\n        while (i < 4) {\n          if (_select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n            iconClass = iconCss[i];\n            break;\n          }\n\n          i++;\n        }\n      }\n\n      if (index) {\n        var dropTar = 0;\n\n        for (i = 0; i < index.childElementCount; i++) {\n          dropTar = drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode ? ++dropTar : dropTar;\n\n          if (drop !== true && index.children[i].classList.contains('e-hover')) {\n            indexValue = event.offsetY >= 23 ? i + 1 : i;\n            break;\n          } else if (index.children[i] === node) {\n            indexValue = event.offsetY >= 23 ? i : i;\n            break;\n          }\n        }\n\n        indexValue = dropTar !== 0 ? --indexValue : indexValue;\n        position = iconClass == \"e-drop-in\" ? \"Inside\" : event.offsetY < 7 ? \"Before\" : \"After\";\n      }\n\n      if (dropTarget) {\n        if (newParent.length === 0) {\n          targetParent = null;\n        } else if (dropTarget.classList.contains(LISTITEM)) {\n          targetParent = newParent[0];\n        } else {\n          targetParent = newParent[1];\n        }\n      }\n\n      if (dropLi === draggedNode) {\n        targetParent = dropLi;\n      }\n\n      if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n        targetParent = dropLi;\n\n        if (drop !== true) {\n          level = ++level;\n          var parent = targetParent ? _select('.e-list-parent', targetParent) : null;\n          indexValue = parent ? parent.children.length : 0;\n\n          if (!(this.fields.dataSource instanceof DataManager) && parent === null && targetParent) {\n            var _parent = targetParent.hasAttribute('data-uid') ? this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n\n            indexValue = _parent ? _parent.length : 0;\n          }\n        }\n      }\n\n      return {\n        cancel: false,\n        clonedNode: cloneEle,\n        event: event,\n        draggedNode: draggedNode,\n        draggedNodeData: draggedNodeData,\n        droppedNode: dropLi,\n        droppedNodeData: dropData,\n        dropIndex: indexValue,\n        dropLevel: level,\n        draggedParentNode: dragParent,\n        dropTarget: targetParent,\n        dropIndicator: iconClass,\n        target: target,\n        position: position\n      };\n    }\n  }, {\n    key: \"addFullRow\",\n    value: function addFullRow(toAdd) {\n      var len = this.liList.length;\n\n      if (toAdd) {\n        for (var i = 0; i < len; i++) {\n          this.createFullRow(this.liList[i]);\n        }\n      } else {\n        for (var _i22 = 0; _i22 < len; _i22++) {\n          var rowDiv = _select('.' + FULLROW, this.liList[_i22]);\n\n          detach(rowDiv);\n        }\n      }\n    }\n  }, {\n    key: \"createFullRow\",\n    value: function createFullRow(item) {\n      var rowDiv = this.createElement('div', {\n        className: FULLROW\n      });\n      item.insertBefore(rowDiv, item.childNodes[0]);\n    }\n  }, {\n    key: \"addMultiSelect\",\n    value: function addMultiSelect(toAdd) {\n      if (toAdd) {\n        var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n\n        var _iterator13 = _createForOfIteratorHelper(liEles),\n            _step13;\n\n        try {\n          for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n            var ele = _step13.value;\n            ele.setAttribute('aria-selected', 'false');\n          }\n        } catch (err) {\n          _iterator13.e(err);\n        } finally {\n          _iterator13.f();\n        }\n      } else {\n        var _liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n\n        var _iterator14 = _createForOfIteratorHelper(_liEles),\n            _step14;\n\n        try {\n          for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n            var _ele7 = _step14.value;\n\n            _ele7.removeAttribute('aria-selected');\n          }\n        } catch (err) {\n          _iterator14.e(err);\n        } finally {\n          _iterator14.f();\n        }\n      }\n    }\n  }, {\n    key: \"collapseByLevel\",\n    value: function collapseByLevel(element, level, excludeHiddenNodes) {\n      if (level > 0 && !isNullOrUndefined(element)) {\n        var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n\n        for (var i = 0, len = cNodes.length; i < len; i++) {\n          var liEle = cNodes[i];\n\n          var icon = _select('.' + COLLAPSIBLE, _select('.' + TEXTWRAP, liEle));\n\n          if (!isNullOrUndefined(icon)) {\n            this.collapseNode(liEle, icon, null);\n          }\n\n          this.collapseByLevel(_select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n        }\n      }\n    }\n  }, {\n    key: \"collapseAllNodes\",\n    value: function collapseAllNodes(excludeHiddenNodes) {\n      var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n\n      for (var i = 0, len = cIcons.length; i < len; i++) {\n        var icon = cIcons[i];\n        var liEle = closest(icon, '.' + LISTITEM);\n        this.collapseNode(liEle, icon, null);\n      }\n    }\n  }, {\n    key: \"expandByLevel\",\n    value: function expandByLevel(element, level, excludeHiddenNodes) {\n      if (level > 0 && !isNullOrUndefined(element)) {\n        var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n          var liEle = eNodes[i];\n\n          var icon = _select('.' + EXPANDABLE, _select('.' + TEXTWRAP, liEle));\n\n          if (!isNullOrUndefined(icon)) {\n            this.expandAction(liEle, icon, null);\n          }\n\n          this.expandByLevel(_select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n        }\n      }\n    }\n  }, {\n    key: \"expandAllNodes\",\n    value: function expandAllNodes(excludeHiddenNodes) {\n      var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n\n      for (var i = 0, len = eIcons.length; i < len; i++) {\n        var icon = eIcons[i];\n        var liEle = closest(icon, '.' + LISTITEM);\n        this.expandAction(liEle, icon, null, true);\n      }\n    }\n  }, {\n    key: \"getVisibleNodes\",\n    value: function getVisibleNodes(excludeHiddenNodes, nodes) {\n      var vNodes = Array.prototype.slice.call(nodes);\n\n      if (excludeHiddenNodes) {\n        for (var i = 0; i < vNodes.length; i++) {\n          if (!isVisible(vNodes[i])) {\n            vNodes.splice(i, 1);\n            i--;\n          }\n        }\n      }\n\n      return vNodes;\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(node) {\n      var dragParentUl = closest(node, '.' + PARENTITEM);\n      var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n\n      if (!isNullOrUndefined(this.nodeTemplateFn)) {\n        this.destroyTemplate(node);\n      }\n\n      detach(node);\n      this.updateElement(dragParentUl, dragParentLi);\n      this.removeData(node);\n    }\n  }, {\n    key: \"updateInstance\",\n    value: function updateInstance() {\n      this.updateList();\n      this.updateSelectedNodes();\n      this.updateExpandedNodes();\n    }\n  }, {\n    key: \"updateList\",\n    value: function updateList() {\n      this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    }\n  }, {\n    key: \"updateSelectedNodes\",\n    value: function updateSelectedNodes() {\n      this.setProperties({\n        selectedNodes: []\n      }, true);\n      var sNodes = selectAll('.' + ACTIVE, this.element);\n      this.selectGivenNodes(sNodes);\n    }\n  }, {\n    key: \"updateExpandedNodes\",\n    value: function updateExpandedNodes() {\n      this.setProperties({\n        expandedNodes: []\n      }, true);\n      var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n\n      for (var i = 0, len = eNodes.length; i < len; i++) {\n        this.addExpand(eNodes[i]);\n      }\n    }\n  }, {\n    key: \"removeData\",\n    value: function removeData(node) {\n      if (this.dataType === 1) {\n        var dm = new DataManager(this.treeData);\n        var id = this.getId(node);\n        var data = {};\n        var newId = this.isNumberTypeId ? parseFloat(id) : id;\n        data[this.fields.id] = newId;\n        dm.remove(this.fields.id, data);\n        this.removeChildNodes(id);\n      } else {\n        var _id3 = this.getId(node);\n\n        this.updateChildField(this.treeData, this.fields, _id3, null, null, true);\n      }\n    }\n  }, {\n    key: \"removeChildNodes\",\n    value: function removeChildNodes(parentId) {\n      var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n      var childData = [];\n\n      if (cNodes) {\n        for (var i = 0, len = cNodes.length; i < len; i++) {\n          var dm = new DataManager(this.treeData);\n          var id = getValue(this.fields.id, cNodes[i]).toString();\n          var data = {};\n          var currId = this.isNumberTypeId ? parseFloat(id) : id;\n          data[this.fields.id] = currId;\n          var nodeData = dm.remove(this.fields.id, data);\n          childData.push(nodeData[0]);\n          this.removeChildNodes(id);\n        }\n      }\n\n      return childData;\n    }\n  }, {\n    key: \"doGivenAction\",\n    value: function doGivenAction(nodes, selector, toExpand) {\n      for (var i = 0, len = nodes.length; i < len; i++) {\n        var liEle = this.getElement(nodes[i]);\n\n        if (isNullOrUndefined(liEle)) {\n          continue;\n        }\n\n        var icon = _select('.' + selector, _select('.' + TEXTWRAP, liEle));\n\n        if (!isNullOrUndefined(icon)) {\n          toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n        }\n      }\n    }\n  }, {\n    key: \"addGivenNodes\",\n    value: function addGivenNodes(nodes, dropLi, index, isRemote, dropEle) {\n      if (nodes.length === 0) {\n        return;\n      }\n\n      var sNodes = this.getSortedData(nodes);\n      var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n\n      if (isRemote) {\n        this.updateMapper(level);\n      }\n\n      var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n      var dropUl;\n\n      if (!dropEle) {\n        dropUl = dropLi ? this.expandParent(dropLi) : _select('.' + PARENTITEM, this.element);\n      } else {\n        dropUl = dropEle;\n      }\n\n      var refNode = dropUl.childNodes[index];\n\n      for (var i = 0; i < li.length; i++) {\n        dropUl.insertBefore(li[i], refNode);\n      }\n\n      var id = this.getId(dropLi);\n\n      if (this.dataType === 1) {\n        this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n        var refId = this.getId(refNode);\n        var pos = isNullOrUndefined(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n\n        for (var j = 0; j < nodes.length; j++) {\n          if (!isNullOrUndefined(id)) {\n            var currId = this.isNumberTypeId ? parseFloat(id) : id;\n            setValue(this.fields.parentID, currId, nodes[j]);\n          }\n\n          this.treeData.splice(pos, 0, nodes[j]);\n          pos++;\n        }\n      } else {\n        this.addChildData(this.treeData, this.fields, id, nodes, index);\n      }\n\n      this.finalizeNode(dropUl);\n    }\n  }, {\n    key: \"updateMapper\",\n    value: function updateMapper(level) {\n      var mapper = level === 1 ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n      this.updateListProp(mapper);\n    }\n  }, {\n    key: \"updateListProp\",\n    value: function updateListProp(mapper) {\n      var prop = this.getActualProperties(mapper);\n      this.listBaseOption.fields = prop;\n      this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    }\n  }, {\n    key: \"getDataPos\",\n    value: function getDataPos(obj, mapper, id) {\n      var pos = null;\n\n      for (var i = 0, objlen = obj.length; i < objlen; i++) {\n        var nodeId = getValue(mapper.id, obj[i]);\n\n        if (obj[i] && nodeId && nodeId.toString() === id) {\n          return i;\n        } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n          var data = getValue(mapper.child, obj[i]);\n          pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n\n          if (pos !== null) {\n            break;\n          }\n        } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n          var items = getValue('child', obj[i]);\n          pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n\n          if (pos !== null) {\n            break;\n          }\n        }\n      }\n\n      return pos;\n    }\n  }, {\n    key: \"addChildData\",\n    value: function addChildData(obj, mapper, id, data, index) {\n      var updated;\n\n      if (isNullOrUndefined(id)) {\n        index = isNullOrUndefined(index) ? obj.length : index;\n\n        for (var k = 0, len = data.length; k < len; k++) {\n          obj.splice(index, 0, data[k]);\n          index++;\n        }\n\n        return updated;\n      }\n\n      for (var i = 0, objlen = obj.length; i < objlen; i++) {\n        var nodeId = getValue(mapper.id, obj[i]);\n\n        if (obj[i] && nodeId && nodeId.toString() === id) {\n          if (typeof mapper.child === 'string' && obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null || this.fields.dataSource instanceof DataManager && obj[i].hasOwnProperty('child')) {\n            var key = typeof mapper.child === 'string' ? mapper.child : 'child';\n            var childData = getValue(key, obj[i]);\n\n            if (isNullOrUndefined(childData)) {\n              childData = [];\n            }\n\n            index = isNullOrUndefined(index) ? childData.length : index;\n\n            for (var _k2 = 0, _len = data.length; _k2 < _len; _k2++) {\n              childData.splice(index, 0, data[_k2]);\n              index++;\n            }\n          } else {\n            var _key = typeof mapper.child === 'string' ? mapper.child : 'child';\n\n            obj[i][_key] = data;\n          }\n\n          return true;\n        } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n          var childObj = getValue(mapper.child, obj[i]);\n          updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n\n          if (updated !== undefined) {\n            break;\n          }\n        } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n          var _childData = getValue('child', obj[i]);\n\n          updated = this.addChildData(_childData, this.getChildMapper(mapper), id, data, index);\n\n          if (updated !== undefined) {\n            break;\n          }\n        }\n      }\n\n      return updated;\n    }\n  }, {\n    key: \"doDisableAction\",\n    value: function doDisableAction(nodes) {\n      var validNodes = this.nodeType(nodes);\n      var validID = this.checkValidId(validNodes);\n      this.validArr = [];\n\n      for (var i = 0, len = validID.length; i < len; i++) {\n        var id = validID[i][this.fields.id].toString();\n\n        if (id && this.disableNode.indexOf(id) === -1) {\n          this.disableNode.push(id);\n        }\n\n        var liEle = this.getElement(id);\n\n        if (liEle) {\n          liEle.setAttribute('aria-disabled', 'true');\n\n          _addClass([liEle], DISABLE);\n        }\n      }\n    }\n  }, {\n    key: \"doEnableAction\",\n    value: function doEnableAction(nodes) {\n      var strNodes = this.nodeType(nodes);\n\n      for (var i = 0, len = strNodes.length; i < len; i++) {\n        var liEle = this.getElement(strNodes[i]);\n        var id = strNodes[i];\n\n        if (id && this.disableNode.indexOf(id) !== -1) {\n          this.disableNode.splice(this.disableNode.indexOf(id), 1);\n        }\n\n        if (liEle) {\n          liEle.removeAttribute('aria-disabled');\n          removeClass([liEle], DISABLE);\n        }\n      }\n    }\n  }, {\n    key: \"nodeType\",\n    value: function nodeType(nodes) {\n      var validID = [];\n\n      for (var i = 0, len = nodes.length; i < len; i++) {\n        var id = void 0;\n\n        if (typeof nodes[i] == \"string\") {\n          id = nodes[i] ? nodes[i].toString() : null;\n        } else if (typeof nodes[i] === \"object\") {\n          id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n        }\n\n        if (validID.indexOf(id) == -1) {\n          validID.push(id);\n        }\n      }\n\n      return validID;\n    }\n  }, {\n    key: \"checkValidId\",\n    value: function checkValidId(node) {\n      var _this74 = this;\n\n      if (this.dataType === 1) {\n        this.validArr = this.treeData.filter(function (data) {\n          return node.indexOf(data[_this74.fields.id] ? data[_this74.fields.id].toString() : null) !== -1;\n        });\n      } else if (this.dataType === 2) {\n        for (var k = 0; k < this.treeData.length; k++) {\n          var id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n\n          if (node.indexOf(id) !== -1) {\n            this.validArr.push(this.treeData[k]);\n          }\n\n          var childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n\n          if (childItems) {\n            this.filterNestedChild(childItems, node);\n          }\n        }\n      }\n\n      return this.validArr;\n    }\n  }, {\n    key: \"filterNestedChild\",\n    value: function filterNestedChild(treeData, nodes) {\n      for (var k = 0; k < treeData.length; k++) {\n        var id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n\n        if (nodes.indexOf(id) !== -1) {\n          this.validArr.push(treeData[k]);\n        }\n\n        var childItems = getValue(this.fields.child.toString(), treeData[k]);\n\n        if (childItems) {\n          this.filterNestedChild(childItems, nodes);\n        }\n      }\n    }\n  }, {\n    key: \"setTouchClass\",\n    value: function setTouchClass() {\n      var ele = closest(this.element, '.' + BIGGER);\n      this.touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n    }\n  }, {\n    key: \"updatePersistProp\",\n    value: function updatePersistProp() {\n      this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n      var sleNodes = this.selectedNodes;\n\n      for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n        this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n      }\n\n      var enodes = this.expandedNodes;\n\n      for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n        this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n      }\n\n      if (this.showCheckBox) {\n        this.removeField(this.treeData, this.fields, ['isChecked']);\n        var cnodes = this.checkedNodes;\n\n        for (var m = 0, _nodelen = cnodes.length; m < _nodelen; m++) {\n          this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n        }\n      }\n    }\n  }, {\n    key: \"removeField\",\n    value: function removeField(obj, mapper, names) {\n      if (isNullOrUndefined(obj) || isNullOrUndefined(mapper)) {\n        return;\n      }\n\n      for (var i = 0, objlen = obj.length; i < objlen; i++) {\n        for (var j = 0; j < names.length; j++) {\n          var field = this.getMapperProp(mapper, names[j]);\n\n          if (!isNullOrUndefined(obj[i][field])) {\n            delete obj[i][field];\n          }\n        }\n\n        if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n          this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n        } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n          this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n        }\n      }\n    }\n  }, {\n    key: \"getMapperProp\",\n    value: function getMapperProp(mapper, fieldName) {\n      switch (fieldName) {\n        case 'selected':\n          return !isNullOrUndefined(mapper.selected) ? mapper.selected : 'selected';\n\n        case 'expanded':\n          return !isNullOrUndefined(mapper.expanded) ? mapper.expanded : 'expanded';\n\n        case 'isChecked':\n          return !isNullOrUndefined(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n\n        case 'hasChildren':\n          return !isNullOrUndefined(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n\n        default:\n          return fieldName;\n      }\n    }\n  }, {\n    key: \"updateField\",\n    value: function updateField(obj, mapper, id, key, value) {\n      if (isNullOrUndefined(id)) {\n        return;\n      } else if (this.dataType === 1) {\n        var newId = this.isNumberTypeId ? parseFloat(id) : id;\n        var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n        setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n      } else {\n        this.updateChildField(obj, mapper, id, key, value);\n      }\n    }\n  }, {\n    key: \"updateChildField\",\n    value: function updateChildField(obj, mapper, id, key, value, remove$$1) {\n      var removedData;\n\n      if (isNullOrUndefined(obj)) {\n        return removedData;\n      }\n\n      for (var i = 0, objlen = obj.length; i < objlen; i++) {\n        var nodeId = getValue(mapper.id, obj[i]);\n\n        if (obj[i] && nodeId && nodeId.toString() === id) {\n          if (remove$$1) {\n            removedData = obj.splice(i, 1);\n          } else {\n            setValue(this.getMapperProp(mapper, key), value, obj[i]);\n            removedData = [];\n          }\n\n          return removedData;\n        } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n          var childData = getValue(mapper.child, obj[i]);\n          removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove$$1);\n\n          if (removedData !== undefined) {\n            break;\n          }\n        } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n          var childItems = getValue('child', obj[i]);\n          removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove$$1);\n\n          if (removedData !== undefined) {\n            break;\n          }\n        }\n      }\n\n      return removedData;\n    }\n  }, {\n    key: \"triggerEvent\",\n    value: function triggerEvent() {\n      this.renderReactTemplates();\n      var eventArgs = {\n        data: this.treeData\n      };\n      this.trigger('dataSourceChanged', eventArgs);\n    }\n  }, {\n    key: \"wireInputEvents\",\n    value: function wireInputEvents(inpEle) {\n      EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    }\n  }, {\n    key: \"wireEditingEvents\",\n    value: function wireEditingEvents(toBind) {\n      var _this75 = this;\n\n      if (toBind && !this.disabled) {\n        var proxy = this;\n        this.touchEditObj = new Touch(this.element, {\n          tap: function tap(e) {\n            if (_this75.isDoubleTapped(e) && e.tapCount === 2) {\n              e.originalEvent.preventDefault();\n              proxy.editingHandler(e.originalEvent);\n            }\n          }\n        });\n      } else {\n        if (this.touchEditObj) {\n          this.touchEditObj.destroy();\n        }\n      }\n    }\n  }, {\n    key: \"wireClickEvent\",\n    value: function wireClickEvent(toBind) {\n      if (toBind) {\n        var proxy = this;\n        this.touchClickObj = new Touch(this.element, {\n          tap: function tap(e) {\n            proxy.clickHandler(e);\n          }\n        });\n      } else {\n        if (this.touchClickObj) {\n          this.touchClickObj.destroy();\n        }\n      }\n    }\n  }, {\n    key: \"wireExpandOnEvent\",\n    value: function wireExpandOnEvent(toBind) {\n      var _this76 = this;\n\n      if (toBind) {\n        var proxy = this;\n        this.touchExpandObj = new Touch(this.element, {\n          tap: function tap(e) {\n            if ((_this76.expandOnType === 'Click' || _this76.expandOnType === 'DblClick' && _this76.isDoubleTapped(e) && e.tapCount === 2) && e.originalEvent.which !== 3) {\n              proxy.expandHandler(e);\n            }\n          }\n        });\n      } else {\n        if (this.touchExpandObj) {\n          this.touchExpandObj.destroy();\n        }\n      }\n    }\n  }, {\n    key: \"mouseDownHandler\",\n    value: function mouseDownHandler(e) {\n      this.mouseDownStatus = true;\n\n      if (e.shiftKey || e.ctrlKey) {\n        e.preventDefault();\n      }\n\n      if (e.ctrlKey && this.allowMultiSelection) {\n        EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n      }\n    }\n  }, {\n    key: \"preventContextMenu\",\n    value: function preventContextMenu(e) {\n      e.preventDefault();\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n      this.wireClickEvent(true);\n\n      if (this.expandOnType !== 'None') {\n        this.wireExpandOnEvent(true);\n      }\n\n      EventHandler.add(this.element, 'focus', this.focusIn, this);\n      EventHandler.add(this.element, 'blur', this.focusOut, this);\n      EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs,\n        eventName: 'keydown'\n      });\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n      this.wireClickEvent(false);\n      this.wireExpandOnEvent(false);\n      EventHandler.remove(this.element, 'focus', this.focusIn);\n      EventHandler.remove(this.element, 'blur', this.focusOut);\n      EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n      EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n\n      if (!this.disabled) {\n        this.keyboardModule.destroy();\n      }\n    }\n  }, {\n    key: \"parents\",\n    value: function parents(element, selector) {\n      var matched = [];\n      var el = element.parentNode;\n\n      while (!isNullOrUndefined(el)) {\n        if (matches(el, selector)) {\n          matched.push(el);\n        }\n\n        el = el.parentNode;\n      }\n\n      return matched;\n    }\n  }, {\n    key: \"isDoubleTapped\",\n    value: function isDoubleTapped(e) {\n      var target = e.originalEvent.target;\n      var secondTap;\n\n      if (target && e.tapCount) {\n        if (e.tapCount === 1) {\n          this.firstTap = closest(target, '.' + LISTITEM);\n        } else if (e.tapCount === 2) {\n          secondTap = closest(target, '.' + LISTITEM);\n        }\n      }\n\n      return this.firstTap === secondTap;\n    }\n  }, {\n    key: \"isDescendant\",\n    value: function isDescendant(parent, child) {\n      var node = child.parentNode;\n\n      while (!isNullOrUndefined(node)) {\n        if (node === parent) {\n          return true;\n        }\n\n        node = node.parentNode;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"showSpinner\",\n    value: function showSpinner(element) {\n      _addClass([element], LOAD);\n\n      createSpinner({\n        target: element,\n        width: Browser.isDevice ? 16 : 14\n      }, this.createElement);\n\n      _showSpinner(element);\n    }\n  }, {\n    key: \"hideSpinner\",\n    value: function hideSpinner(element) {\n      _hideSpinner(element);\n\n      element.innerHTML = '';\n      removeClass([element], LOAD);\n    }\n  }, {\n    key: \"setCheckedNodes\",\n    value: function setCheckedNodes(nodes) {\n      nodes = JSON.parse(JSON.stringify(nodes));\n      this.uncheckAll(this.checkedNodes);\n      this.setIndeterminate(nodes);\n\n      if (nodes.length > 0) {\n        this.checkAll(nodes);\n      }\n    }\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n     */\n\n  }, {\n    key: \"setValidCheckedNode\",\n    value: function setValidCheckedNode(node) {\n      if (this.dataType === 1) {\n        var mapper = this.fields;\n        var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n\n        if (resultData[0]) {\n          this.setChildCheckState(resultData, node, resultData[0]);\n\n          if (this.autoCheck) {\n            var parent = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n            var childNodes = this.getChildNodes(this.treeData, parent);\n            var count = 0;\n\n            for (var len = 0; len < childNodes.length; len++) {\n              var childId = childNodes[len][this.fields.id].toString();\n\n              if (this.checkedNodes.indexOf(childId) !== -1) {\n                count++;\n              }\n            }\n\n            if (count === childNodes.length && this.checkedNodes.indexOf(parent) === -1 && parent) {\n              this.checkedNodes.push(parent);\n            }\n          }\n        }\n      } else if (this.dataType === 2) {\n        for (var a = 0; a < this.treeData.length; a++) {\n          var index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n\n          if (index === node && this.checkedNodes.indexOf(node) === -1) {\n            this.checkedNodes.push(node);\n            break;\n          }\n\n          var childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n\n          if (childItems) {\n            this.setChildCheckState(childItems, node, this.treeData[a]);\n          }\n        }\n      }\n    }\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n     */\n\n  }, {\n    key: \"setChildCheckState\",\n    value: function setChildCheckState(childItems, node, treeData) {\n      var checkedParent;\n      var count = 0;\n\n      if (this.dataType === 1) {\n        if (treeData) {\n          checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n        }\n\n        for (var index = 0; index < childItems.length; index++) {\n          var checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n\n          if (treeData && checkedParent && this.autoCheck) {\n            if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n              this.checkedNodes.push(checkNode);\n            }\n          }\n\n          if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n            this.checkedNodes.push(node);\n          }\n\n          var subChildItems = this.getChildNodes(this.treeData, checkNode);\n\n          if (subChildItems) {\n            this.setChildCheckState(subChildItems, node, treeData);\n          }\n        }\n      } else {\n        if (treeData) {\n          checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n        }\n\n        for (var _index6 = 0; _index6 < childItems.length; _index6++) {\n          var checkedChild = childItems[_index6][this.fields.id] ? childItems[_index6][this.fields.id].toString() : '';\n\n          if (treeData && checkedParent && this.autoCheck) {\n            if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n              this.checkedNodes.push(checkedChild);\n            }\n          }\n\n          if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n            this.checkedNodes.push(node);\n          }\n\n          var _subChildItems = getValue(this.fields.child.toString(), childItems[_index6]);\n\n          if (_subChildItems) {\n            this.setChildCheckState(_subChildItems, node, childItems[_index6]);\n          }\n\n          if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n            count++;\n          }\n\n          if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n            this.checkedNodes.push(checkedParent);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setIndeterminate\",\n    value: function setIndeterminate(nodes) {\n      for (var i = 0; i < nodes.length; i++) {\n        this.setValidCheckedNode(nodes[i]);\n      }\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(id, newData, isRefreshChild, childValue) {\n      if (this.dataType === 1) {\n        var pos = this.getDataPos(this.treeData, this.fields, id);\n        this.treeData.splice(pos, 1, newData);\n\n        if (isRefreshChild) {\n          this.removeChildNodes(id);\n\n          for (var j = 0; j < childValue.length; j++) {\n            this.treeData.splice(pos, 0, childValue[j]);\n            pos++;\n          }\n        }\n\n        this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n      } else {\n        this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n      }\n    }\n  }, {\n    key: \"updateChildPosition\",\n    value: function updateChildPosition(treeData, mapper, currID, newData, index) {\n      var found;\n\n      for (var i = 0, objlen = treeData.length; i < objlen; i++) {\n        var nodeId = getValue(mapper.id, treeData[i]);\n\n        if (treeData[i] && nodeId && nodeId.toString() === currID) {\n          treeData[i] = newData[0];\n          return true;\n        } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, treeData[i]))) {\n          var childObj = getValue(mapper.child, treeData[i]);\n          found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n\n          if (found !== undefined) {\n            break;\n          }\n        } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', treeData[i]))) {\n          var childData = getValue('child', treeData[i]);\n          found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n\n          if (found !== undefined) {\n            break;\n          }\n        }\n      }\n\n      return found;\n    }\n  }, {\n    key: \"dynamicState\",\n    value: function dynamicState() {\n      this.setDragAndDrop(this.allowDragAndDrop);\n      this.wireEditingEvents(this.allowEditing);\n\n      if (!this.disabled) {\n        this.wireEvents();\n        this.setRipple();\n      } else {\n        this.unWireEvents();\n        this.rippleFn();\n        this.rippleIconFn();\n      }\n    }\n  }, {\n    key: \"crudOperation\",\n    value: function crudOperation(operation, nodes, target, newText, newNode, index, prevent) {\n      var _this77 = this;\n\n      var data = this.fields.dataSource;\n      var matchedArr = [];\n      var query = this.getQuery(this.fields);\n      var key = this.fields.id;\n      var crud;\n      var changes = {\n        addedRecords: [],\n        deletedRecords: [],\n        changedRecords: []\n      };\n      var nodesID = [];\n\n      if (nodes) {\n        nodesID = this.nodeType(nodes);\n      } else if (target) {\n        if (typeof target == \"string\") {\n          nodesID[0] = target.toString();\n        } else if (typeof target === \"object\") {\n          nodesID[0] = target.getAttribute(\"data-uid\").toString();\n        }\n      }\n\n      for (var i = 0, len = nodesID.length; i < len; i++) {\n        var liEle = this.getElement(nodesID[i]);\n\n        if (isNullOrUndefined(liEle)) {\n          continue;\n        }\n\n        var removedData = this.getNodeObject(nodesID[i]);\n        matchedArr.push(removedData);\n      }\n\n      switch (operation) {\n        case 'delete':\n          if (nodes.length == 1) {\n            crud = data.remove(key, matchedArr[0], query.fromTable, query);\n          } else {\n            changes.deletedRecords = matchedArr;\n            crud = data.saveChanges(changes, key, query.fromTable, query);\n          }\n\n          crud.then(function (e) {\n            return _this77.deleteSuccess(nodesID);\n          }).catch(function (e) {\n            return _this77.dmFailure(e);\n          });\n          break;\n\n        case 'update':\n          matchedArr[0][this.fields.text] = newText;\n          crud = data.update(key, matchedArr[0], query.fromTable, query);\n          crud.then(function (e) {\n            return _this77.editSucess(target, newText, prevent);\n          }).catch(function (e) {\n            return _this77.dmFailure(e, target, prevent);\n          });\n          break;\n\n        case 'insert':\n          if (newNode.length == 1) {\n            crud = data.insert(newNode[0], query.fromTable, query);\n          } else {\n            var arr = [];\n\n            for (var _i23 = 0, _len2 = newNode.length; _i23 < _len2; _i23++) {\n              arr.push(newNode[_i23]);\n            }\n\n            changes.addedRecords = arr;\n            crud = data.saveChanges(changes, key, query.fromTable, query);\n          }\n\n          crud.then(function (e) {\n            var dropLi = _this77.getElement(target);\n\n            _this77.addSuccess(newNode, dropLi, index);\n\n            _this77.preventExpand = false;\n          }).catch(function (e) {\n            return _this77.dmFailure(e);\n          });\n          break;\n      }\n    }\n  }, {\n    key: \"deleteSuccess\",\n    value: function deleteSuccess(nodes) {\n      for (var i = 0, len = nodes.length; i < len; i++) {\n        var liEle = this.getElement(nodes[i]);\n\n        if (isNullOrUndefined(liEle)) {\n          continue;\n        }\n\n        this.removeNode(liEle);\n      }\n\n      this.updateInstance();\n\n      if (this.dataType === 1) {\n        this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n      }\n\n      this.triggerEvent();\n    }\n  }, {\n    key: \"editSucess\",\n    value: function editSucess(target, newText, prevent) {\n      var liEle = this.getElement(target);\n\n      var txtEle = _select('.' + LISTTEXT, liEle);\n\n      this.appendNewText(liEle, txtEle, newText, prevent);\n    }\n  }, {\n    key: \"addSuccess\",\n    value: function addSuccess(nodes, dropLi, index) {\n      var dropUl;\n      var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n      var proxy = this;\n\n      if (dropLi && icon && icon.classList.contains(EXPANDABLE) && dropLi.querySelector('.' + PARENTITEM) === null) {\n        proxy.renderChildNodes(dropLi, null, function () {\n          dropUl = dropLi.querySelector('.' + PARENTITEM);\n          proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n          proxy.triggerEvent();\n        });\n      } else {\n        this.addGivenNodes(nodes, dropLi, index, true);\n        this.triggerEvent();\n      }\n    }\n  }, {\n    key: \"dmFailure\",\n    value: function dmFailure(e, target, prevent) {\n      if (target) {\n        this.updatePreviousText(target, prevent);\n      }\n\n      this.trigger('actionFailure', {\n        error: e\n      });\n    }\n  }, {\n    key: \"updatePreviousText\",\n    value: function updatePreviousText(target, prevent) {\n      var liEle = this.getElement(target);\n\n      var txtEle = _select('.' + LISTTEXT, liEle);\n\n      this.updateText(liEle, txtEle, this.oldText, prevent);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i24 = 0, _Object$keys10 = Object.keys(newProp); _i24 < _Object$keys10.length; _i24++) {\n        var prop = _Object$keys10[_i24];\n\n        switch (prop) {\n          case 'allowDragAndDrop':\n            this.setDragAndDrop(this.allowDragAndDrop);\n            break;\n\n          case 'dragArea':\n            if (this.allowDragAndDrop) {\n              this.dragObj.dragArea = this.dragArea;\n            }\n\n            break;\n\n          case 'allowEditing':\n            this.wireEditingEvents(this.allowEditing);\n            break;\n\n          case 'allowMultiSelection':\n            if (this.selectedNodes.length > 1) {\n              var sNode = this.getElement(this.selectedNodes[0]);\n              this.isLoaded = false;\n              this.removeSelectAll();\n              this.selectNode(sNode, null);\n              this.isLoaded = true;\n            }\n\n            this.setMultiSelect(this.allowMultiSelection);\n            this.addMultiSelect(this.allowMultiSelection);\n            break;\n\n          case 'checkedNodes':\n            if (this.showCheckBox) {\n              this.checkedNodes = oldProp.checkedNodes;\n              this.setCheckedNodes(newProp.checkedNodes);\n            }\n\n            break;\n\n          case 'autoCheck':\n            if (this.showCheckBox) {\n              this.autoCheck = newProp.autoCheck;\n              this.ensureIndeterminate();\n            }\n\n            break;\n\n          case 'cssClass':\n            this.setCssClass(oldProp.cssClass, newProp.cssClass);\n            break;\n\n          case 'enableRtl':\n            this.setEnableRtl();\n            break;\n\n          case 'expandedNodes':\n            this.isAnimate = false;\n            this.setProperties({\n              expandedNodes: []\n            }, true);\n            this.collapseAll();\n            this.isInitalExpand = true;\n            this.setProperties({\n              expandedNodes: isNullOrUndefined(newProp.expandedNodes) ? [] : newProp.expandedNodes\n            }, true);\n            this.doExpandAction();\n            this.isInitalExpand = false;\n            this.isAnimate = true;\n            break;\n\n          case 'expandOn':\n            this.wireExpandOnEvent(false);\n            this.setExpandOnType();\n\n            if (this.expandOnType !== 'None' && !this.disabled) {\n              this.wireExpandOnEvent(true);\n            }\n\n            break;\n\n          case 'disabled':\n            this.setDisabledMode();\n            this.dynamicState();\n            break;\n\n          case 'fields':\n            this.isAnimate = false;\n            this.isFieldChange = true;\n            this.initialRender = true;\n            this.reRenderNodes();\n            this.initialRender = false;\n            this.isAnimate = true;\n            this.isFieldChange = false;\n            break;\n\n          case 'fullRowSelect':\n            this.setFullRow(this.fullRowSelect);\n            this.addFullRow(this.fullRowSelect);\n            break;\n\n          case 'loadOnDemand':\n            if (this.loadOnDemand === false && !this.onLoaded) {\n              var nodes = this.element.querySelectorAll('li');\n              var i = 0;\n\n              while (i < nodes.length) {\n                if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                  this.renderChildNodes(nodes[i], true, null, true);\n                }\n\n                i++;\n              }\n\n              this.onLoaded = true;\n            }\n\n            break;\n\n          case 'nodeTemplate':\n            this.hasTemplate = false;\n            this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n            this.reRenderNodes();\n            break;\n\n          case 'selectedNodes':\n            this.removeSelectAll();\n            this.setProperties({\n              selectedNodes: newProp.selectedNodes\n            }, true);\n            this.doSelectionAction();\n            break;\n\n          case 'showCheckBox':\n            this.reRenderNodes();\n            break;\n\n          case 'sortOrder':\n            this.reRenderNodes();\n            break;\n\n          case 'fullRowNavigable':\n            this.setProperties({\n              fullRowNavigable: newProp.fullRowNavigable\n            }, true);\n            this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n            this.reRenderNodes();\n            break;\n        }\n      }\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.clearTemplate();\n      this.element.removeAttribute('aria-activedescendant');\n      this.element.removeAttribute('tabindex');\n      this.unWireEvents();\n      this.wireEditingEvents(false);\n\n      if (!this.disabled) {\n        this.rippleFn();\n        this.rippleIconFn();\n      }\n\n      this.setCssClass(this.cssClass, null);\n      this.setDragAndDrop(false);\n      this.setFullRow(false);\n\n      if (this.ulElement && this.ulElement.parentElement) {\n        this.ulElement.parentElement.removeChild(this.ulElement);\n      }\n\n      _get(_getPrototypeOf(TreeView.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n\n  }, {\n    key: \"addNodes\",\n    value: function addNodes(nodes, target, index, preventTargetExpand) {\n      if (isNullOrUndefined(nodes)) {\n        return;\n      }\n\n      nodes = JSON.parse(JSON.stringify(nodes));\n      var dropLi = this.getElement(target);\n      this.preventExpand = preventTargetExpand;\n\n      if (this.fields.dataSource instanceof DataManager) {\n        if (!this.isOffline) {\n          this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n        } else {\n          this.addSuccess(nodes, dropLi, index);\n        }\n      } else if (this.dataType === 2) {\n        this.addGivenNodes(nodes, dropLi, index);\n      } else {\n        if (dropLi) {\n          this.addGivenNodes(nodes, dropLi, index);\n        } else {\n          nodes = this.getSortedData(nodes);\n\n          for (var i = 0; i < nodes.length; i++) {\n            var pid = getValue(this.fields.parentID, nodes[i]);\n            dropLi = pid ? this.getElement(pid.toString()) : pid;\n            this.addGivenNodes([nodes[i]], dropLi, index);\n          }\n        }\n\n        this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n      }\n\n      this.updateCheckedStateFromDS();\n\n      if (this.showCheckBox && dropLi) {\n        this.ensureParentCheckState(dropLi);\n      }\n\n      if (this.fields.dataSource instanceof DataManager === false) {\n        this.preventExpand = false;\n        this.triggerEvent();\n      }\n    }\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n\n  }, {\n    key: \"beginEdit\",\n    value: function beginEdit(node) {\n      var ele = this.getElement(node);\n\n      if (isNullOrUndefined(ele) || this.disabled) {\n        return;\n      }\n\n      this.createTextbox(ele, null);\n    }\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n\n  }, {\n    key: \"checkAll\",\n    value: function checkAll(nodes) {\n      if (this.showCheckBox) {\n        this.doCheckBoxAction(nodes, true);\n      }\n    }\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n\n  }, {\n    key: \"collapseAll\",\n    value: function collapseAll(nodes, level, excludeHiddenNodes) {\n      if (!isNullOrUndefined(nodes)) {\n        this.doGivenAction(nodes, COLLAPSIBLE, false);\n      } else {\n        if (level > 0) {\n          this.collapseByLevel(_select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n        } else {\n          this.collapseAllNodes(excludeHiddenNodes);\n        }\n      }\n    }\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n\n  }, {\n    key: \"disableNodes\",\n    value: function disableNodes(nodes) {\n      if (!isNullOrUndefined(nodes)) {\n        this.doDisableAction(nodes);\n      }\n    }\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n\n  }, {\n    key: \"enableNodes\",\n    value: function enableNodes(nodes) {\n      if (!isNullOrUndefined(nodes)) {\n        this.doEnableAction(nodes);\n      }\n    }\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n\n  }, {\n    key: \"ensureVisible\",\n    value: function ensureVisible(node) {\n      var liEle = this.getElement(node);\n\n      if (isNullOrUndefined(liEle)) {\n        return;\n      }\n\n      var parents = this.parents(liEle, '.' + LISTITEM);\n      this.expandAll(parents);\n      setTimeout(function () {\n        liEle.scrollIntoView(true);\n      }, 450);\n    }\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n\n  }, {\n    key: \"expandAll\",\n    value: function expandAll(nodes, level, excludeHiddenNodes) {\n      if (!isNullOrUndefined(nodes)) {\n        this.doGivenAction(nodes, EXPANDABLE, true);\n      } else {\n        if (level > 0) {\n          this.expandByLevel(_select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n        } else {\n          this.expandAllNodes(excludeHiddenNodes);\n        }\n      }\n    }\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n\n  }, {\n    key: \"getAllCheckedNodes\",\n    value: function getAllCheckedNodes() {\n      var checkNodes = this.checkedNodes;\n      return checkNodes;\n    }\n    /**\n    * Gets all the disabled nodes including child, whether it is loaded or not.\n    */\n\n  }, {\n    key: \"getDisabledNodes\",\n    value: function getDisabledNodes() {\n      var disabledNodes = this.disableNode;\n      return disabledNodes;\n    }\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n\n  }, {\n    key: \"getNode\",\n    value: function getNode(node) {\n      var ele = this.getElement(node);\n      return this.getNodeData(ele, true);\n    }\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     * @isGenericType true\n     */\n\n  }, {\n    key: \"getTreeData\",\n    value: function getTreeData(node) {\n      var id = this.getId(node);\n      this.updatePersistProp();\n\n      if (isNullOrUndefined(id)) {\n        return this.treeData;\n      } else {\n        var data = this.getNodeObject(id);\n        return isNullOrUndefined(data) ? [] : [data];\n      }\n    }\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n\n  }, {\n    key: \"moveNodes\",\n    value: function moveNodes(sourceNodes, target, index, preventTargetExpand) {\n      var dropLi = this.getElement(target);\n\n      if (isNullOrUndefined(dropLi)) {\n        return;\n      }\n\n      for (var i = 0; i < sourceNodes.length; i++) {\n        var dragLi = this.getElement(sourceNodes[i]);\n\n        if (isNullOrUndefined(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n          continue;\n        }\n\n        this.preventExpand = preventTargetExpand;\n        this.dropAsChildNode(dragLi, dropLi, this, index);\n      }\n\n      if (this.fields.dataSource instanceof DataManager === false) {\n        this.preventExpand = false;\n      }\n\n      this.triggerEvent();\n    }\n    /**\n     * Refreshes a particular node of the TreeView.\n     * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n     * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n     */\n\n  }, {\n    key: \"refreshNode\",\n    value: function refreshNode(target, newData) {\n      if (isNullOrUndefined(target) || isNullOrUndefined(newData)) {\n        return;\n      }\n\n      var id;\n      var isRefreshChild = false;\n\n      if (this.dataType == 1 && newData.length > 1) {\n        isRefreshChild = true;\n      } else if (this.dataType == 2 && newData.length === 1) {\n        var updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n\n        if (!isNullOrUndefined(updatedChildValue)) {\n          isRefreshChild = true;\n        }\n      }\n\n      var liEle = this.getElement(target);\n      id = liEle ? liEle.getAttribute('data-uid') : target ? target.toString() : null;\n      this.refreshData = this.getNodeObject(id);\n      newData = JSON.parse(JSON.stringify(newData));\n      /* eslint-disable */\n\n      var newNodeData;\n      var parentData;\n\n      if (this.dataType == 1 && isRefreshChild) {\n        for (var k = 0; k < newData.length; k++) {\n          if (isNullOrUndefined(newData[k][this.fields.parentID])) {\n            parentData = newData[k];\n            newData.splice(k, 1);\n            break;\n          }\n        }\n\n        newNodeData = extend({}, this.refreshData, parentData);\n      } else {\n        newNodeData = extend({}, this.refreshData, newData[0]);\n      }\n\n      if (isNullOrUndefined(liEle)) {\n        this.updatePosition(id, newNodeData, isRefreshChild, newData);\n        return;\n      }\n\n      this.isRefreshed = true;\n      var level = parseFloat(liEle.getAttribute('aria-level'));\n      var newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n\n      var ul = _select('.' + PARENTITEM, liEle);\n\n      var childItems = getValue(this.fields.child.toString(), newNodeData);\n\n      if (isRefreshChild && ul || isRefreshChild && !isNullOrUndefined(childItems)) {\n        var parentEle = liEle.parentElement;\n        var index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n        remove(liEle);\n        parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n        this.updatePosition(id, newNodeData, isRefreshChild, newData);\n\n        if (isRefreshChild && ul) {\n          this.expandAll([id]);\n        }\n      } else {\n        var txtEle = _select('.' + TEXTWRAP, liEle);\n\n        var newTextEle = _select('.' + TEXTWRAP, newliEle[0]);\n\n        var icon = _select('div.' + ICON, txtEle);\n\n        var newIcon = _select('div.' + ICON, newTextEle);\n\n        if (icon && newIcon) {\n          if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n            removeClass([newIcon], EXPANDABLE);\n\n            _addClass([newIcon], COLLAPSIBLE);\n          } else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n            removeClass([newIcon], COLLAPSIBLE);\n\n            _addClass([newIcon], EXPANDABLE);\n          } else if (icon.classList.contains('interaction')) {\n            _addClass([newIcon], 'interaction');\n          }\n        }\n\n        remove(txtEle);\n\n        var fullEle = _select('.' + FULLROW, liEle);\n\n        fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n        this.updatePosition(id, newNodeData, isRefreshChild, newData);\n      }\n\n      liEle = this.getElement(target);\n\n      if (newNodeData[this.fields.tooltip]) {\n        liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n      }\n\n      if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n        var attr = {};\n        merge(attr, newNodeData[this.fields.htmlAttributes]);\n\n        if (attr.class) {\n          _addClass([liEle], attr.class.split(' '));\n\n          delete attr.class;\n        } else {\n          attributes(liEle, attr);\n        }\n      }\n\n      if (this.selectedNodes.indexOf(id) !== -1) {\n        liEle.setAttribute('aria-selected', 'true');\n\n        _addClass([liEle], ACTIVE);\n      }\n\n      this.isRefreshed = false;\n      this.triggerEvent();\n    }\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n\n  }, {\n    key: \"removeNodes\",\n    value: function removeNodes(nodes) {\n      if (!isNullOrUndefined(nodes)) {\n        if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n          this.crudOperation('delete', nodes);\n        } else {\n          this.deleteSuccess(nodes);\n        }\n      }\n    }\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n\n  }, {\n    key: \"updateNode\",\n    value: function updateNode(target, newText) {\n      var _this78 = this;\n\n      if (isNullOrUndefined(target) || isNullOrUndefined(newText) || !this.allowEditing) {\n        return;\n      }\n\n      var liEle = this.getElement(target);\n\n      if (isNullOrUndefined(liEle)) {\n        return;\n      }\n\n      var txtEle = _select('.' + LISTTEXT, liEle);\n\n      this.updateOldText(liEle);\n      var eventArgs = this.getEditEvent(liEle, null, null);\n      this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          if (_this78.fields.dataSource instanceof DataManager && !_this78.isOffline) {\n            _this78.crudOperation('update', null, target, newText, null, null, false);\n          } else {\n            _this78.appendNewText(liEle, txtEle, newText, false);\n          }\n        }\n      });\n    }\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n\n  }, {\n    key: \"uncheckAll\",\n    value: function uncheckAll(nodes) {\n      if (this.showCheckBox) {\n        this.doCheckBoxAction(nodes, false);\n      }\n    }\n  }]);\n\n  return TreeView;\n}(Component);\n\n__decorate$8([Property(false)], TreeView.prototype, \"allowDragAndDrop\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"allowEditing\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"allowMultiSelection\", void 0);\n\n__decorate$8([Complex({}, NodeAnimationSettings)], TreeView.prototype, \"animation\", void 0);\n\n__decorate$8([Property()], TreeView.prototype, \"checkedNodes\", void 0);\n\n__decorate$8([Property('')], TreeView.prototype, \"cssClass\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"disabled\", void 0);\n\n__decorate$8([Property(null)], TreeView.prototype, \"dragArea\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"enablePersistence\", void 0);\n\n__decorate$8([Property()], TreeView.prototype, \"expandedNodes\", void 0);\n\n__decorate$8([Property('Auto')], TreeView.prototype, \"expandOn\", void 0);\n\n__decorate$8([Complex({}, FieldsSettings)], TreeView.prototype, \"fields\", void 0);\n\n__decorate$8([Property(true)], TreeView.prototype, \"fullRowSelect\", void 0);\n\n__decorate$8([Property(true)], TreeView.prototype, \"loadOnDemand\", void 0);\n\n__decorate$8([Property()], TreeView.prototype, \"locale\", void 0);\n\n__decorate$8([Property()], TreeView.prototype, \"nodeTemplate\", void 0);\n\n__decorate$8([Property()], TreeView.prototype, \"selectedNodes\", void 0);\n\n__decorate$8([Property('None')], TreeView.prototype, \"sortOrder\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"showCheckBox\", void 0);\n\n__decorate$8([Property(true)], TreeView.prototype, \"autoCheck\", void 0);\n\n__decorate$8([Property(false)], TreeView.prototype, \"fullRowNavigable\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"actionFailure\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"created\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"dataBound\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"dataSourceChanged\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"drawNode\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"destroyed\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"keyPress\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeChecked\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeChecking\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeClicked\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeCollapsed\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeCollapsing\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeDragging\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeDragStart\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeDragStop\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeDropped\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeEdited\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeEditing\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeExpanded\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeExpanding\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeSelected\", void 0);\n\n__decorate$8([Event()], TreeView.prototype, \"nodeSelecting\", void 0);\n\nTreeView = TreeView_1 = __decorate$8([NotifyPropertyChanges], TreeView);\n/**\n * TreeView modules\n */\n\nvar __decorate$9 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CONTROL$1 = 'e-control';\nvar ROOT$1 = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL$2 = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar DISPLAY = 'e-sidebar-display';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\n\nvar Sidebar = /*#__PURE__*/function (_Component8) {\n  _inherits(Sidebar, _Component8);\n\n  var _super24 = _createSuper(Sidebar);\n\n  /* eslint-enable */\n  function Sidebar(options, element) {\n    _classCallCheck(this, Sidebar);\n\n    return _super24.call(this, options, element);\n  }\n\n  _createClass(Sidebar, [{\n    key: \"preRender\",\n    value: function preRender() {\n      this.setWidth();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n      this.wireEvents();\n      this.renderComplete();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this.setTarget();\n      this.addClass();\n      this.setZindex();\n\n      if (this.enableDock) {\n        this.setDock();\n      }\n\n      if (this.isOpen) {\n        this.show();\n      } else {\n        this.setMediaQuery();\n      }\n\n      this.checkType(true);\n      this.setType(this.type);\n      this.setCloseOnDocumentClick();\n      this.setEnableRTL();\n\n      if (Browser.isDevice) {\n        this.windowWidth = window.innerWidth;\n      }\n    }\n  }, {\n    key: \"setEnableRTL\",\n    value: function setEnableRTL() {\n      (this.enableRtl ? _addClass : removeClass)([this.element], RTL$2);\n    }\n  }, {\n    key: \"setTarget\",\n    value: function setTarget() {\n      this.targetEle = this.element.nextElementSibling;\n      this.sidebarEleCopy = this.element.cloneNode(true);\n\n      if (typeof this.target === 'string') {\n        this.setProperties({\n          target: document.querySelector(this.target)\n        }, true);\n      }\n\n      if (this.target) {\n        this.target.insertBefore(this.element, this.target.children[0]);\n\n        _addClass([this.element], SIDEBARABSOLUTE);\n\n        _addClass([this.target], CONTEXT);\n\n        this.targetEle = this.getTargetElement();\n      }\n    }\n  }, {\n    key: \"getTargetElement\",\n    value: function getTargetElement() {\n      var siblingElement = this.element.nextElementSibling;\n\n      while (!isNullOrUndefined(siblingElement)) {\n        if (!siblingElement.classList.contains(ROOT$1)) {\n          break;\n        }\n\n        siblingElement = siblingElement.nextElementSibling;\n      }\n\n      return siblingElement;\n    }\n  }, {\n    key: \"setCloseOnDocumentClick\",\n    value: function setCloseOnDocumentClick() {\n      if (this.closeOnDocumentClick) {\n        EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n      } else {\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n      }\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth() {\n      if (this.enableDock && this.position === 'Left') {\n        setStyleAttribute(this.element, {\n          'width': this.setDimension(this.dockSize)\n        });\n      } else if (this.enableDock && this.position === 'Right') {\n        setStyleAttribute(this.element, {\n          'width': this.setDimension(this.dockSize)\n        });\n      } else if (!this.enableDock) {\n        setStyleAttribute(this.element, {\n          'width': this.setDimension(this.width)\n        });\n      }\n    }\n  }, {\n    key: \"setDimension\",\n    value: function setDimension(width) {\n      if (typeof width === 'number') {\n        width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        width = width.match(/px|%|em/) ? width : formatUnit(width);\n      } else {\n        width = '100%';\n      }\n\n      return width;\n    }\n  }, {\n    key: \"setZindex\",\n    value: function setZindex() {\n      setStyleAttribute(this.element, {\n        'z-index': '' + this.zIndex\n      });\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass() {\n      if (this.element.tagName === \"EJS-SIDEBAR\") {\n        _addClass([this.element], DISPLAY);\n      }\n\n      var classELement = document.querySelector('.e-main-content');\n\n      if (!isNullOrUndefined(classELement || this.targetEle)) {\n        _addClass([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n      }\n\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n\n      if (!this.enableDock && this.type !== 'Auto') {\n        _addClass([this.element], [VISIBILITY]);\n      }\n\n      removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n      this.element.classList.add(ROOT$1);\n\n      _addClass([this.element], this.position === 'Right' ? RIGHT : LEFT);\n\n      if (this.enableDock) {\n        _addClass([this.element], DOCKER);\n      }\n\n      this.element.setAttribute('tabindex', this.tabIndex);\n\n      if (this.type === 'Auto' && !Browser.isDevice) {\n        this.show();\n      } else if (!this.isOpen) {\n        _addClass([this.element], CLOSE);\n      }\n    }\n  }, {\n    key: \"checkType\",\n    value: function checkType(val) {\n      if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n        this.type = 'Auto';\n      } else {\n        if (!this.element.classList.contains(CLOSE) && !val) {\n          this.hide();\n        }\n      }\n    }\n  }, {\n    key: \"transitionEnd\",\n    value: function transitionEnd(e) {\n      this.setDock();\n\n      if (!isNullOrUndefined(e)) {\n        this.triggerChange();\n      }\n\n      EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n    }\n  }, {\n    key: \"destroyBackDrop\",\n    value: function destroyBackDrop() {\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n      if (this.target && this.showBackdrop && sibling) {\n        removeClass([sibling], CONTEXTBACKDROP);\n      } else if (this.showBackdrop && this.modal) {\n        this.modal.style.display = 'none';\n        this.modal.outerHTML = '';\n        this.modal = null;\n      }\n    }\n    /* eslint-disable */\n\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     *\n     * @returns {void}\n     *\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide(e) {\n      var _this79 = this;\n\n      var closeArguments = {\n        model: this,\n        element: this.element,\n        cancel: false,\n        isInteracted: !isNullOrUndefined(e),\n        event: e || null\n      };\n      this.trigger('close', closeArguments, function (observedcloseArgs) {\n        if (!observedcloseArgs.cancel) {\n          if (_this79.element.classList.contains(CLOSE)) {\n            return;\n          }\n\n          if (_this79.element.classList.contains(OPEN) && !_this79.animate) {\n            _this79.triggerChange();\n          }\n\n          _addClass([_this79.element], CLOSE);\n\n          removeClass([_this79.element], OPEN);\n          setStyleAttribute(_this79.element, {\n            'width': formatUnit(_this79.enableDock ? _this79.dockSize : _this79.width)\n          });\n\n          _this79.setType(_this79.type);\n\n          var sibling = document.querySelector('.e-main-content') || _this79.targetEle;\n\n          if (!_this79.enableDock && sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            sibling.style[_this79.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n          }\n\n          _this79.destroyBackDrop();\n\n          _this79.setAnimation();\n\n          if (_this79.type === 'Slide') {\n            document.body.classList.remove('e-sidebar-overflow');\n          }\n\n          _this79.setProperties({\n            isOpen: false\n          }, true);\n\n          if (_this79.enableDock) {\n            setTimeout(function () {\n              return _this79.setTimeOut();\n            }, 50);\n          }\n\n          EventHandler.add(_this79.element, 'transitionend', _this79.transitionEnd, _this79);\n        }\n      });\n    }\n  }, {\n    key: \"setTimeOut\",\n    value: function setTimeOut() {\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n      var elementWidth = this.element.getBoundingClientRect().width;\n\n      if (this.element.classList.contains(OPEN) && sibling) {\n        if (this.position === 'Left') {\n          sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n        } else {\n          sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n        }\n      } else if (this.element.classList.contains(CLOSE) && sibling) {\n        if (this.position === 'Left') {\n          sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n        } else {\n          sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n        }\n      }\n    }\n    /* eslint-disable */\n\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"show\",\n    value: function show(e) {\n      var _this80 = this;\n\n      var openArguments = {\n        model: this,\n        element: this.element,\n        cancel: false,\n        isInteracted: !isNullOrUndefined(e),\n        event: e || null\n      };\n      this.trigger('open', openArguments, function (observedopenArgs) {\n        if (!observedopenArgs.cancel) {\n          removeClass([_this80.element], VISIBILITY);\n\n          if (_this80.element.classList.contains(OPEN)) {\n            return;\n          }\n\n          if (_this80.element.classList.contains(CLOSE) && !_this80.animate) {\n            _this80.triggerChange();\n          }\n\n          _addClass([_this80.element], [OPEN, TRASITION]);\n\n          setStyleAttribute(_this80.element, {\n            'transform': ''\n          });\n          removeClass([_this80.element], CLOSE);\n          setStyleAttribute(_this80.element, {\n            'width': formatUnit(_this80.width)\n          });\n\n          _this80.setType(_this80.type);\n\n          _this80.createBackDrop();\n\n          _this80.setAnimation();\n\n          if (_this80.type === 'Slide') {\n            document.body.classList.add('e-sidebar-overflow');\n          }\n\n          _this80.setProperties({\n            isOpen: true\n          }, true);\n\n          EventHandler.add(_this80.element, 'transitionend', _this80.transitionEnd, _this80);\n        }\n      });\n    }\n  }, {\n    key: \"setAnimation\",\n    value: function setAnimation() {\n      if (this.animate) {\n        removeClass([this.element], DISABLEANIMATION);\n      } else {\n        _addClass([this.element], DISABLEANIMATION);\n      }\n    }\n  }, {\n    key: \"triggerChange\",\n    value: function triggerChange() {\n      var changeArguments = {\n        name: 'change',\n        element: this.element\n      };\n      this.trigger('change', changeArguments);\n    }\n  }, {\n    key: \"setDock\",\n    value: function setDock() {\n      if (this.enableDock && this.position === 'Left' && !this.getState()) {\n        setStyleAttribute(this.element, {\n          'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')'\n        });\n      } else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n        setStyleAttribute(this.element, {\n          'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')'\n        });\n      }\n\n      if (this.element.classList.contains(CLOSE) && this.enableDock) {\n        setStyleAttribute(this.element, {\n          'width': this.setDimension(this.dockSize)\n        });\n      }\n    }\n  }, {\n    key: \"createBackDrop\",\n    value: function createBackDrop() {\n      if (this.target && this.showBackdrop && this.getState()) {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n        _addClass([sibling], CONTEXTBACKDROP);\n      } else if (this.showBackdrop && !this.modal && this.getState()) {\n        this.modal = this.createElement('div');\n        this.modal.className = DEFAULTBACKDROP;\n        this.modal.style.display = 'block';\n        document.body.appendChild(this.modal);\n      }\n    }\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      return this.addOnPersist(['type', 'position', 'isOpen']);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     *\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'sidebar';\n    }\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.element.classList.contains(OPEN)) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.element.classList.contains(OPEN) ? true : false;\n    }\n  }, {\n    key: \"setMediaQuery\",\n    value: function setMediaQuery() {\n      if (this.mediaQuery) {\n        var media = false;\n\n        if (typeof this.mediaQuery === 'string') {\n          media = window.matchMedia(this.mediaQuery).matches;\n        } else {\n          media = this.mediaQuery.matches;\n        }\n\n        if (media && this.windowWidth !== window.innerWidth) {\n          this.show();\n        } else if (this.getState() && this.windowWidth !== window.innerWidth) {\n          this.hide();\n        }\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      if (this.type === 'Auto') {\n        if (Browser.isDevice) {\n          _addClass([this.element], OVER);\n        } else {\n          _addClass([this.element], PUSH);\n        }\n      }\n\n      this.setMediaQuery();\n\n      if (Browser.isDevice) {\n        this.windowWidth = window.innerWidth;\n      }\n    }\n  }, {\n    key: \"documentclickHandler\",\n    value: function documentclickHandler(e) {\n      if (closest(e.target, '.' + CONTROL$1 + '' + '.' + ROOT$1)) {\n        return;\n      }\n\n      this.hide(e);\n    }\n  }, {\n    key: \"enableGestureHandler\",\n    value: function enableGestureHandler(args) {\n      if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' && args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5) {\n        this.show();\n      } else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n        this.hide();\n      } else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n        this.hide();\n      } else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left' && window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5) {\n        this.show();\n      }\n    }\n  }, {\n    key: \"setEnableGestures\",\n    value: function setEnableGestures() {\n      if (this.enableGestures) {\n        this.mainContentEle = new Touch(document.body, {\n          swipe: this.enableGestureHandler.bind(this)\n        });\n        this.sidebarEle = new Touch(this.element, {\n          swipe: this.enableGestureHandler.bind(this)\n        });\n      } else {\n        if (this.mainContentEle && this.sidebarEle) {\n          this.mainContentEle.destroy();\n          this.sidebarEle.destroy();\n        }\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      this.setEnableGestures();\n      EventHandler.add(window, 'resize', this.resize, this);\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      EventHandler.remove(window, 'resize', this.resize);\n      EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n\n      if (this.mainContentEle) {\n        this.mainContentEle.destroy();\n      }\n\n      if (this.sidebarEle) {\n        this.sidebarEle.destroy();\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {SidebarModel} newProp - specifies newProp value.\n     * @param {SidebarModel} oldProp - specifies oldProp value.\n     * @returns {void}\n     * @private\n     *\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n      var isRendered = this.isServerRendered;\n\n      for (var _i25 = 0, _Object$keys11 = Object.keys(newProp); _i25 < _Object$keys11.length; _i25++) {\n        var prop = _Object$keys11[_i25];\n\n        switch (prop) {\n          case 'isOpen':\n            if (this.isOpen) {\n              this.show();\n            } else {\n              this.hide();\n            }\n\n            break;\n\n          case 'width':\n            this.setWidth();\n\n            if (!this.getState()) {\n              this.setDock();\n            }\n\n            break;\n\n          case 'animate':\n            this.setAnimation();\n            break;\n\n          case 'type':\n            this.checkType(false);\n            removeClass([this.element], [VISIBILITY]);\n            this.addClass();\n\n            _addClass([this.element], this.type === 'Auto' ? Browser.isDevice ? ['e-over'] : ['e-push'] : ['e-' + this.type.toLowerCase()]);\n\n            break;\n\n          case 'position':\n            this.element.style.transform = '';\n            this.setDock();\n\n            if (sibling) {\n              sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n            }\n\n            if (this.position === 'Right') {\n              removeClass([this.element], LEFT);\n\n              _addClass([this.element], RIGHT);\n            } else {\n              removeClass([this.element], RIGHT);\n\n              _addClass([this.element], LEFT);\n            }\n\n            this.setType(this.type);\n            break;\n\n          case 'showBackdrop':\n            if (this.showBackdrop) {\n              this.createBackDrop();\n            } else {\n              if (this.modal) {\n                this.modal.style.display = 'none';\n                this.modal.outerHTML = '';\n                this.modal = null;\n              }\n            }\n\n            break;\n\n          case 'target':\n            if (typeof this.target === 'string') {\n              this.setProperties({\n                target: document.querySelector(this.target)\n              }, true);\n            }\n\n            if (isNullOrUndefined(this.target)) {\n              removeClass([this.element], SIDEBARABSOLUTE);\n              removeClass([oldProp.target], CONTEXT);\n              setStyleAttribute(sibling, {\n                'margin-left': 0,\n                'margin-right': 0\n              });\n              document.body.insertAdjacentElement('afterbegin', this.element);\n            }\n\n            this.isServerRendered = false;\n\n            _get(_getPrototypeOf(Sidebar.prototype), \"refresh\", this).call(this);\n\n            this.isServerRendered = isRendered;\n            break;\n\n          case 'closeOnDocumentClick':\n            this.setCloseOnDocumentClick();\n            break;\n\n          case 'enableDock':\n            if (!this.getState()) {\n              this.setDock();\n            }\n\n            break;\n\n          case 'zIndex':\n            this.setZindex();\n            break;\n\n          case 'mediaQuery':\n            this.setMediaQuery();\n            break;\n\n          case 'enableGestures':\n            this.setEnableGestures();\n            break;\n\n          case 'enableRtl':\n            this.setEnableRTL();\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"setType\",\n    value: function setType(type) {\n      var elementWidth = this.element.getBoundingClientRect().width;\n      this.setZindex();\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n      if (sibling) {\n        sibling.style.transform = 'translateX(' + 0 + 'px)';\n\n        if (!Browser.isDevice && this.type !== 'Auto') {\n          sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n        }\n      }\n\n      var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n      var eleWidth = this.position === 'Left' ? elementWidth : -elementWidth;\n      removeClass([this.element], [PUSH, OVER, SLIDE]);\n\n      switch (type) {\n        case 'Push':\n          _addClass([this.element], [PUSH]);\n\n          if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n          }\n\n          break;\n\n        case 'Slide':\n          _addClass([this.element], [SLIDE]);\n\n          if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n            sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n          }\n\n          break;\n\n        case 'Over':\n          _addClass([this.element], [OVER]);\n\n          if (this.enableDock && this.element.classList.contains(CLOSE)) {\n            if (sibling) {\n              sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n            }\n          }\n\n          break;\n\n        case 'Auto':\n          _addClass([this.element], [TRASITION]);\n\n          if (Browser.isDevice) {\n            if (sibling && this.enableDock && !this.getState()) {\n              sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n\n              _addClass([this.element], PUSH);\n            } else {\n              _addClass([this.element], OVER);\n            }\n          } else {\n            _addClass([this.element], PUSH);\n\n            if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n              sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n            }\n          }\n\n          this.createBackDrop();\n      }\n    }\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @returns {void}\n     *\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Sidebar.prototype), \"destroy\", this).call(this);\n\n      if (this.target) {\n        removeClass([this.target], CONTEXT);\n      }\n\n      this.destroyBackDrop();\n\n      if (this.element) {\n        removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n        removeClass([this.element], SIDEBARABSOLUTE);\n        this.element.style.width = '';\n        this.element.style.zIndex = '';\n        this.element.style.transform = '';\n\n        if (!isNullOrUndefined(this.sidebarEleCopy.getAttribute('tabindex'))) {\n          this.element.setAttribute('tabindex', this.tabIndex);\n        } else {\n          this.element.removeAttribute('tabindex');\n        }\n      }\n\n      this.windowWidth = null;\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n      if (!isNullOrUndefined(sibling)) {\n        sibling.style.margin = '';\n        sibling.style.transform = '';\n      }\n\n      this.unWireEvents();\n    }\n  }]);\n\n  return Sidebar;\n}(Component);\n\n__decorate$9([Property('auto')], Sidebar.prototype, \"dockSize\", void 0);\n\n__decorate$9([Property(null)], Sidebar.prototype, \"mediaQuery\", void 0);\n\n__decorate$9([Property(false)], Sidebar.prototype, \"enableDock\", void 0);\n\n__decorate$9([Property('en-US')], Sidebar.prototype, \"locale\", void 0);\n\n__decorate$9([Property(false)], Sidebar.prototype, \"enablePersistence\", void 0);\n\n__decorate$9([Property(true)], Sidebar.prototype, \"enableGestures\", void 0);\n\n__decorate$9([Property(false)], Sidebar.prototype, \"isOpen\", void 0);\n\n__decorate$9([Property(false)], Sidebar.prototype, \"enableRtl\", void 0);\n\n__decorate$9([Property(true)], Sidebar.prototype, \"animate\", void 0);\n\n__decorate$9([Property('auto')], Sidebar.prototype, \"height\", void 0);\n\n__decorate$9([Property(false)], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n\n__decorate$9([Property('Left')], Sidebar.prototype, \"position\", void 0);\n\n__decorate$9([Property(null)], Sidebar.prototype, \"target\", void 0);\n\n__decorate$9([Property(false)], Sidebar.prototype, \"showBackdrop\", void 0);\n\n__decorate$9([Property('Auto')], Sidebar.prototype, \"type\", void 0);\n\n__decorate$9([Property('auto')], Sidebar.prototype, \"width\", void 0);\n\n__decorate$9([Property(1000)], Sidebar.prototype, \"zIndex\", void 0);\n\n__decorate$9([Event()], Sidebar.prototype, \"created\", void 0);\n\n__decorate$9([Event()], Sidebar.prototype, \"close\", void 0);\n\n__decorate$9([Event()], Sidebar.prototype, \"open\", void 0);\n\n__decorate$9([Event()], Sidebar.prototype, \"change\", void 0);\n\n__decorate$9([Event()], Sidebar.prototype, \"destroyed\", void 0);\n\nSidebar = __decorate$9([NotifyPropertyChanges], Sidebar);\n/**\n * Sidebar modules\n */\n\nvar __decorate$10 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\n\nvar BreadcrumbItem = /*#__PURE__*/function (_ChildProperty15) {\n  _inherits(BreadcrumbItem, _ChildProperty15);\n\n  var _super25 = _createSuper(BreadcrumbItem);\n\n  function BreadcrumbItem() {\n    _classCallCheck(this, BreadcrumbItem);\n\n    return _super25.apply(this, arguments);\n  }\n\n  return BreadcrumbItem;\n}(ChildProperty);\n\n__decorate$10([Property('')], BreadcrumbItem.prototype, \"text\", void 0);\n\n__decorate$10([Property('')], BreadcrumbItem.prototype, \"url\", void 0);\n\n__decorate$10([Property(null)], BreadcrumbItem.prototype, \"iconCss\", void 0);\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\n\n\nvar Breadcrumb = /*#__PURE__*/function (_Component9) {\n  _inherits(Breadcrumb, _Component9);\n\n  var _super26 = _createSuper(Breadcrumb);\n\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n   * @param {string | HTMLElement} element - Specifies the element.\n   */\n  function Breadcrumb(options, element) {\n    _classCallCheck(this, Breadcrumb);\n\n    return _super26.call(this, options, element);\n  }\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  _createClass(Breadcrumb, [{\n    key: \"preRender\",\n    value: function preRender() {// pre render code\n    }\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n      this.renderItems(this.items);\n      this.wireEvents();\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this._maxItems = this.maxItems;\n      this.element.setAttribute('aria-label', 'breadcrumb');\n\n      if (this.cssClass) {\n        _addClass([this.element], this.cssClass.split(' '));\n      }\n\n      if (this.enableRtl) {\n        this.element.classList.add('e-rtl');\n      }\n\n      this.setWidth();\n      this.initItems();\n      this.initPvtProps();\n    }\n  }, {\n    key: \"initPvtProps\",\n    value: function initPvtProps() {\n      if (this.overflowMode === 'Default' && this._maxItems > 0) {\n        this.startIndex = this.items.length - (this._maxItems - 1);\n        this.endIndex = this.items.length - 1;\n      }\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth() {\n      if (this.width) {\n        this.element.style.width = this.width;\n      }\n    }\n  }, {\n    key: \"initItems\",\n    value: function initItems() {\n      if (!this.items.length) {\n        var baseUri;\n        var uri;\n        var items = [];\n\n        if (this.url) {\n          var url = new URL(this.url);\n          baseUri = url.origin + '/';\n          uri = url.href.split(baseUri)[1].split('/');\n        } else {\n          baseUri = window.location.origin + '/';\n          uri = window.location.href.split(baseUri)[1].split('/');\n        }\n\n        items.push({\n          iconCss: 'e-icons e-home',\n          url: baseUri\n        });\n\n        for (var i = 0; i < uri.length; i++) {\n          if (uri[i]) {\n            items.push({\n              text: uri[i],\n              url: baseUri + uri[i]\n            });\n            baseUri += uri[i] + '/';\n          }\n        }\n\n        this.setProperties({\n          items: items\n        }, true);\n      }\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(items) {\n      var _this81 = this;\n\n      var item;\n      var isSingleLevel;\n      var isIconRight = this.element.classList.contains(ICONRIGHT);\n      var itemsLength = items.length;\n\n      if (itemsLength) {\n        var isActiveItem;\n        var isLastItem;\n        var j = 0;\n        var len = itemsLength * 2 - 1;\n        var ol = this.createElement('ol');\n        var showIcon = this.hasField(items, 'iconCss');\n        var isDisabled = this.element.classList.contains('e-disabled');\n        var isCollasped = this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this.maxItems && !this.isExpanded;\n        var isDefaultOverflowMode = this.overflowMode === 'Default' && this._maxItems > 0;\n        var listBaseOptions = {\n          moduleName: this.getModuleName(),\n          showIcon: showIcon,\n          itemNavigable: true,\n          itemCreated: function itemCreated(args) {\n            var isLastItem = args.curData.isLastItem;\n\n            if (isLastItem && args.item.children.length && !_this81.itemTemplate) {\n              delete args.curData.isLastItem;\n              args.item.innerHTML = _this81.createElement('span', {\n                className: ITEMTEXTCLASS,\n                innerHTML: args.item.children[0].innerHTML\n              }).outerHTML;\n            }\n\n            if (args.curData.iconCss && !args.curData.text && !_this81.itemTemplate) {\n              args.item.classList.add('e-icon-item');\n            }\n\n            if (isDefaultOverflowMode) {\n              args.item.setAttribute('item-index', j.toString());\n            }\n\n            if (args.item.querySelector('.' + ITEMTEXTCLASS)) {\n              EventHandler.add(args.item.querySelector('.' + ITEMTEXTCLASS), 'focus', function () {\n                args.item.classList.add('e-focus');\n              }, _this81);\n              EventHandler.add(args.item.querySelector('.' + ITEMTEXTCLASS), 'focusout', function () {\n                args.item.classList.remove('e-focus');\n              }, _this81);\n            }\n\n            var eventArgs = {\n              item: extend({}, args.curData.properties ? args.curData.properties : args.curData),\n              element: args.item\n            };\n\n            _this81.trigger('beforeItemRender', eventArgs);\n\n            var isItemDisabled = isDisabled || eventArgs.element.classList.contains('e-disabled');\n            var containsRightIcon = isIconRight || eventArgs.element.classList.contains(ICONRIGHT);\n\n            if (containsRightIcon && args.curData.iconCss && !_this81.itemTemplate) {\n              args.item.querySelector('.e-anchor-wrap').append(args.item.querySelector('.' + ICONCLASS));\n            }\n\n            if (isItemDisabled) {\n              args.item.setAttribute('aria-disabled', 'true');\n            }\n\n            if (args.curData.isEmptyUrl) {\n              args.item.children[0].removeAttribute('href');\n\n              if ((!isLastItem || isLastItem && _this81.enableActiveItemNavigation) && !isItemDisabled) {\n                args.item.children[0].setAttribute('tabindex', '0');\n                EventHandler.add(args.item.children[0], 'keydown', _this81.keyDownHandler, _this81);\n              }\n            }\n\n            if (!_this81.itemTemplate) {\n              _this81.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n            }\n          }\n        };\n\n        for (var i = 0; i < len; i % 2 && j++, i++) {\n          isActiveItem = this.activeItem && this.activeItem === items[j].url;\n\n          if (isCollasped && i > 1 && i < len - 2) {\n            continue;\n          } else if (isDefaultOverflowMode && (j < this.startIndex || j > this.endIndex) && (i % 2 ? j !== this.startIndex - 1 : true) && j !== 0) {\n            continue;\n          }\n\n          if (i % 2) {\n            // separator item\n            listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n            listBaseOptions.itemClass = 'e-breadcrumb-separator';\n            isSingleLevel = false;\n            item = [{\n              previousItem: item.pop(),\n              nextItem: items[j]\n            }];\n          } else {\n            // list item\n            listBaseOptions.itemClass = '';\n\n            if (this.itemTemplate) {\n              listBaseOptions.template = this.itemTemplate;\n              isSingleLevel = false;\n            } else {\n              isSingleLevel = true;\n            }\n\n            item = [extend({}, items[j].properties ? items[j].properties : items[j])];\n\n            if (!item[0].url && !this.itemTemplate) {\n              item = [extend({}, item[0], {\n                isEmptyUrl: true,\n                url: '#'\n              })];\n            }\n\n            isLastItem = isDefaultOverflowMode && j === this.endIndex;\n\n            if (((i === len - 1 || isLastItem) && !this.itemTemplate || isActiveItem) && !this.enableActiveItemNavigation) {\n              item[0].isLastItem = true;\n            }\n          }\n\n          append(ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes, ol);\n\n          if (isCollasped && i === 1) {\n            var li = this.createElement('li', {\n              className: 'e-icons e-breadcrumb-collapsed',\n              attrs: {\n                'tabindex': '0'\n              }\n            });\n            EventHandler.add(li, 'keyup', this.expandHandler, this);\n            ol.append(li);\n          }\n\n          if (isActiveItem || isLastItem) {\n            break;\n          }\n        }\n\n        if (this.isReact) {\n          this.renderReactTemplates();\n        }\n\n        this.element.append(ol);\n        this.calculateMaxItems();\n      }\n    }\n  }, {\n    key: \"calculateMaxItems\",\n    value: function calculateMaxItems() {\n      if (!this._maxItems) {\n        if (this.overflowMode === 'Default' || this.overflowMode === 'Collapsed') {\n          var width = this.element.offsetWidth;\n          var liWidth = this.element.children[0].children[0].offsetWidth;\n          var liElems = [].slice.call(this.element.children[0].children).reverse();\n\n          for (var i = 0; i < liElems.length; i++) {\n            if (liWidth > width) {\n              this._maxItems = Math.ceil((i - 1) / 2) + 1;\n              this.initPvtProps();\n              return this.reRenderItems();\n            } else {\n              liWidth += liElems[i].offsetWidth;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"hasField\",\n    value: function hasField(items, field) {\n      for (var i = 0, len = items.length; i < len; i++) {\n        if (items[i][field]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"beforeItemRenderChanges\",\n    value: function beforeItemRenderChanges(prevItem, currItem, elem, isRightIcon) {\n      var wrapElem = elem.querySelector('.e-anchor-wrap');\n\n      if (currItem.text !== prevItem.text) {\n        wrapElem.childNodes.forEach(function (child) {\n          if (child.nodeType === Node.TEXT_NODE) {\n            child.textContent = currItem.text;\n          }\n        });\n      }\n\n      if (currItem.iconCss !== prevItem.iconCss) {\n        var iconElem = elem.querySelector('.' + ICONCLASS);\n\n        if (iconElem) {\n          if (currItem.iconCss) {\n            removeClass([iconElem], prevItem.iconCss.split(' '));\n\n            _addClass([iconElem], currItem.iconCss.split(' '));\n          } else {\n            iconElem.remove();\n          }\n        } else if (currItem.iconCss) {\n          var _iconElem = this.createElement('span', {\n            className: ICONCLASS + ' ' + currItem.iconCss\n          });\n\n          if (isRightIcon) {\n            append([_iconElem], wrapElem);\n          } else {\n            wrapElem.insertBefore(_iconElem, wrapElem.childNodes[0]);\n          }\n        }\n      }\n\n      if (currItem.url !== prevItem.url && this.enableNavigation) {\n        var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n\n        if (anchor) {\n          if (currItem.url) {\n            anchor.setAttribute('href', currItem.url);\n          } else {\n            anchor.removeAttribute('href');\n          }\n        }\n      }\n    }\n  }, {\n    key: \"reRenderItems\",\n    value: function reRenderItems() {\n      this.element.innerHTML = '';\n      this.renderItems(this.items);\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var li = closest(e.target, '.e-breadcrumb-item');\n\n      if (li && (closest(e.target, '.' + ITEMTEXTCLASS) || this.itemTemplate)) {\n        var idx = [].slice.call(li.parentElement.children).indexOf(li);\n        idx = Math.floor(idx / 2);\n\n        if (this.overflowMode === 'Default' && this._maxItems > 0 && this.endIndex !== 0) {\n          idx = parseInt(li.getAttribute('item-index'), 10);\n\n          if (this.startIndex > 1) {\n            this.startIndex -= this.endIndex - idx;\n          }\n\n          this.endIndex = idx;\n          this.reRenderItems();\n        }\n\n        this.trigger('itemClick', {\n          element: li,\n          item: this.items[idx],\n          event: e\n        });\n\n        if (this.items[idx].url) {\n          this.activeItem = this.items[idx].url;\n          this.dataBind();\n        }\n      }\n\n      if (!this.enableNavigation) {\n        e.preventDefault();\n      }\n\n      if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n        this.isExpanded = true;\n        this.reRenderItems();\n      }\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      this._maxItems = this.maxItems;\n      this.initPvtProps();\n      this.reRenderItems();\n    }\n  }, {\n    key: \"expandHandler\",\n    value: function expandHandler(e) {\n      if (e.key === 'Enter') {\n        this.isExpanded = true;\n        this.reRenderItems();\n      }\n    }\n  }, {\n    key: \"keyDownHandler\",\n    value: function keyDownHandler(e) {\n      if (e.key === 'Enter') {\n        this.clickHandler(e);\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {BreadcrumbModel} newProp - Specifies the new properties.\n     * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i26 = 0, _Object$keys12 = Object.keys(newProp); _i26 < _Object$keys12.length; _i26++) {\n        var prop = _Object$keys12[_i26];\n\n        switch (prop) {\n          case 'activeItem':\n          case 'items':\n          case 'enableActiveItemNavigation':\n            this.reRenderItems();\n            break;\n\n          case 'overflowMode':\n          case 'maxItems':\n            this.initPvtProps();\n            this.reRenderItems();\n            break;\n\n          case 'url':\n            this.initItems();\n            this.reRenderItems();\n            break;\n\n          case 'width':\n            this.setWidth();\n            this._maxItems = this.maxItems;\n            this.initPvtProps();\n            this.reRenderItems();\n            break;\n\n          case 'cssClass':\n            if (oldProp.cssClass) {\n              removeClass([this.element], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              _addClass([this.element], newProp.cssClass.split(' '));\n            }\n\n            if (oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1 && !(newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) {\n              this.reRenderItems();\n            }\n\n            break;\n\n          case 'enableRtl':\n            this.element.classList.toggle('e-rtl');\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      EventHandler.add(this.element, 'click', this.clickHandler, this);\n      window.addEventListener('resize', this.resize.bind(this));\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      EventHandler.remove(this.element, 'click', this.clickHandler);\n      window.removeEventListener('resize', this.resize.bind(this));\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      return this.addOnPersist(['activeItem']);\n    }\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'breadcrumb';\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unWireEvents();\n      this.element.innerHTML = '';\n\n      if (this.cssClass) {\n        removeClass([this.element], this.cssClass.split(' '));\n      }\n    }\n  }]);\n\n  return Breadcrumb;\n}(Component);\n\n__decorate$10([Property('')], Breadcrumb.prototype, \"url\", void 0);\n\n__decorate$10([Collection([], BreadcrumbItem)], Breadcrumb.prototype, \"items\", void 0);\n\n__decorate$10([Property('')], Breadcrumb.prototype, \"activeItem\", void 0);\n\n__decorate$10([Property(0)], Breadcrumb.prototype, \"maxItems\", void 0);\n\n__decorate$10([Property('Default')], Breadcrumb.prototype, \"overflowMode\", void 0);\n\n__decorate$10([Property('')], Breadcrumb.prototype, \"cssClass\", void 0);\n\n__decorate$10([Property('')], Breadcrumb.prototype, \"width\", void 0);\n\n__decorate$10([Property(null)], Breadcrumb.prototype, \"itemTemplate\", void 0);\n\n__decorate$10([Property('/')], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n\n__decorate$10([Property(true)], Breadcrumb.prototype, \"enableNavigation\", void 0);\n\n__decorate$10([Property(false)], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n\n__decorate$10([Property('')], Breadcrumb.prototype, \"locale\", void 0);\n\n__decorate$10([Event()], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n\n__decorate$10([Event()], Breadcrumb.prototype, \"itemClick\", void 0);\n\n__decorate$10([Event()], Breadcrumb.prototype, \"created\", void 0);\n\nBreadcrumb = __decorate$10([NotifyPropertyChanges], Breadcrumb);\n/**\n * Breadcrumb modules\n */\n\n/**\n * Navigation all modules\n */\n\nexport { MenuAnimationSettings, MenuItem, HScroll, VScroll, addScrolling, destroyScroll, Item, Toolbar, AccordionActionSettings, AccordionAnimationSettings, AccordionItem, Accordion, ContextMenu, Menu, TabActionSettings, TabAnimationSettings, Header, TabItem, Tab, FieldsSettings, ActionSettings, NodeAnimationSettings, TreeView, Sidebar, BreadcrumbItem, Breadcrumb };","map":{"version":3,"sources":["D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@syncfusion/ej2-navigations/dist/es6/ej2-navigations.es2015.js"],"names":["Animation","Browser","ChildProperty","Collection","Complex","Component","Draggable","Droppable","Event","EventHandler","KeyboardEvents","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","detach","extend","formatUnit","getElement","getInstance","getRandomId","getUniqueID","getValue","isBlazor","isNullOrUndefined","isRippleEnabled","isUndefined","isVisible","matches","merge","remove","removeClass","rippleEffect","select","selectAll","setStyleAttribute","setValue","ListBase","Popup","calculatePosition","createSpinner","fit","getScrollableParent","getZindexPartial","hideSpinner","isCollide","showSpinner","Button","createCheckBox","rippleMouseHandler","DataManager","Query","Input","__decorate","undefined","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","CLS_ROOT","CLS_RTL","CLS_DISABLE","CLS_HSCROLLBAR","CLS_HSCROLLCON","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","OVERLAY_MAXWID","HScroll","options","element","browser","info","name","browserCheck","isDevice","customStep","ieCheck","initialize","id","uniqueId","style","display","enableRtl","add","touchModule","scroll","touchHandler","bind","swipe","swipeHandler","scrollEle","scrollHandler","createNavIcon","createOverlay","setScrollState","scrollStep","offsetWidth","className","scrollDiv","setAttribute","ele","innerEle","slice","call","children","appendChild","overflowX","scrollItems","keyEntity","addOnPersist","nav","overlay","forEach","elem","removeAttribute","destroy","value","navEles","el","concat","rightOverlayEle","clsRight","rightEle","navItem","leftEle","insertBefore","firstChild","eventBinding","clsLeft","navEle","navLeftItem","e","timeoutFun","keyTimeout","eleScrolling","keyTimer","window","setTimeout","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","onKeyPress","onKeyUp","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","scrollDis","setInterval","isContinuous","rootEle","classList$$1","querySelector","frameScrollRequest","swipeEle","distance","velocity","distanceX","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","scrollLeft","requestAnimationFrame","scrollVal","action","scrollUpdating","scrollValue","scrollDirection","addDisable","removeDisable","arrowEle","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","arrowDisabling","disEle","newProp","oldProp","keys","prop","prototype","__decorate$1","CLS_ROOT$1","CLS_RTL$1","CLS_DISABLE$1","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVARROW$1","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_DEVICE$1","CLS_OVERLAY$1","CLS_UPOVERLAY","CLS_DOWNOVERLAY","OVERLAY_MAXWID$1","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","offsetHeight","scrollCnt","scrollBar","overflowY","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","scrollDistance","event","deltaY","swipeElement","distanceY","scrollTop","addDisableCls","removeDisableCls","height","navUpEle","navDownEle","upOverlay","downOverlay","scrollHeight","addScrolling","createElement$$1","container","content","scrollType","offset","containerOffset","contentOffset","parentElem","parentElement","getBoundingClientRect","createScrollbar","maxWidth","overflow","maxHeight","scrollObj","destroyScroll","skipEle","menu","__decorate$2","ENTER","ESCAPE","FOCUSED","HEADER","SELECTED","SEPARATOR","UPARROW","DOWNARROW","LEFTARROW","RIGHTARROW","HOME","END","CARET","ITEM","DISABLED","HIDE","ICONS","RTL","POPUP","TEMPLATE_PROPERTY","FieldSettings","MenuItem","MenuAnimationSettings","MenuBase","navIdx","animation","isTapHold","tempItem","showSubMenuOn","isMenu","ul","tagName","getModuleName","ejInst","clonedElement","cloneNode","refEle","nextElementSibling","ejInstance","wrapper","idx","len","nodeName","nodeValue","parentNode","renderItems","wireEvents","renderComplete","getWrapper","template","enableScrolling","isReact","isAngular","document","body","cssClass","split","hamburgerMode","createHeaderContainer","defaultOption","showItemOnClick","items","createJsonFromElement","fields","child","setProperties","removeChildElement","innerHTML","createItems","Array","setBlankIconStyle","targetElems","menuHeaderClickHandler","isIos","cmenuHandler","targetElement","parent","delegateMoverHandler","moverHandler","delegateMouseDownHandler","mouseDownHandler","delegateClickHandler","clickHandler","wireKeyboardEvent","rippleFn","selector","keyConfigs","downarrow","uparrow","enter","leftarrow","rightarrow","escape","home","end","keyAction","keyBoardHandler","closeMenu","actionName","actionNeeded","keyCode","removeLIStateByClass","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","getUlByNavIdx","defaultIdx","childElementCount","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","focus","index","navIdxLen","popup","eventArgs","item","getItem","push","keyType","openMenu","trigger","isCMenu","pageX","changedTouches","pageY","canOpen","ulIndex","isIterated","isMenuVisible","sli","beforeCloseArgs","popups","getPopups","isClose","cnt","liElem","getLI","parentItem","cancel","isFocused","observedCloseArgs","popupEle","closeArgs","popupId","popupObj","isOpen","minHeight","unWireKeyboardEvent","hide","toggleAnimation","pop","updateReactTemplate","trgtliId","closedLi","trgtLi","trgtpopUp","RegExp","exec","submenus","querySelectorAll","afterCloseMenu","getIndex","isMenusClosed","getAttribute","cliIdx","removeStateWrapper","portals","splice","clearTemplate","renderReactTemplates","level","getFields","text","separator","iconCss","url","valueOf","filter","li","top","left","lItem","elemId","uList","getField","lastChild","data","toString","hdata","hli","popupWrapper","isNestedOrVertical","generatePopup","calculateIndentSize","hoverDelay","timer","triggerBeforeOpen","zIndex","liStyle","getComputedStyle","liIndent","parseInt","textIndent","blankIconElem","menuIconElem","menuIconElemStyle","blankIconIndent","marginRight","actionOnScroll","relateTo","collision","X","Y","position","targetType","open","triggerOpen","spanElem","tempTitle","enableHtmlSanitizer","sanitize","title","spanTitle","spanIcon","attrs","observedHamburgerCloseArgs","x","y","type","menuType","observedOpenArgs","checkScrollOffset","refreshPosition","indexOf","pageXOffset","pageYOffset","animationOptions","animationSettings","effect","duration","timingFunction","easing","show","setPosition","collide","offWidth","callFit","blankIconList","getElementsByClassName","iconLi","icon","cssProp","padding","margin","iconCssProps","iconSize","fontSize","size","offsetEle","offsetLeft","offsetRight","px","toggleVisiblity","newTop","documentElement","clientHeight","Number","replace","xCollision","isVisible$$1","visibility","showIcon","hasField","listBaseOptions","moduleName","itemNavigable","itemCreating","args","curData","htmlAttributes","role","tabindex","itemCreated","span","templateID","createList","liTrgt","hdrWrapper","regex","ulId","isDifferentElem","isClosed","propName","fieldName","field","openHamburgerMenu","closeHamburgerMenu","cliWrapper","isInstLI","cliWrapperId","setLISelected","showSubMenu","culIdx","cIdx","isHeader","classname","isUniqueId","isText","newItem","getItems","newItems","skipHdr","count","updateItem","removeChild","toggle","unWireEvents","lastElementChild","getChangedItemIndex","insertAfter","removeItem","setItems","lis","popStr","uls","targetSelctor","keyboardModule","isMenuOpen","pUlHeight","pElement","begin","progress","nIndex","isCallBack","unshift","enable","disabled","skipItem","showHideItems","ishide","iitems","insertItems","isAfter","menuitem","removeProperty","refreshing","getElementById","removeAttributes","itemId","parentId","__decorate$3","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_RTL$2","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_DISABLE$2","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARBTN","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARRIGHT","CLS_TBARLEFT","CLS_TBARCENTER","CLS_TBARPOS","CLS_HSCROLLCNT","CLS_VSCROLLCNT","CLS_HSCROLLBAR$1","CLS_POPUPNAV","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARBTNTEXT","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDABLECLASS","CLS_EXTENDPOPUP","CLS_EXTENDEDPOPOPEN","Item","Toolbar","resizeContext","resize","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","btnItems","ej2_instances","isDestroyed","unwireEvents","tempId","trgtEle","ctrlTem","clearProperty","popObj","tbarAlign","attrb","enableCollision","scrollModule","tbarItemsCol","isVertical","isExtendedOpen","popupPriCount","allowKeyboard","keyModule","keyActionHandler","docKeyDown","popCheck","overflowMode","keyCheck","unwireKeyboardEvent","removeEventListener","docEvent","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","tbarItems","tempEle","popupRefresh","val","fChild","activeEleSwitch","tbrNavChk","clst","navChk","scrollChk","popAnimate","nodes","elementFocus","eleFocus","popupCheck","popFrstEle","activeEle","activeEleRemove","tbarScrollChk","clstElement","keyHandling","disable","closest$$1","pos","sib","eleContains","isPopupElement","clsList","popupNav","popupClickHandler","itemObj","clickedArgs","offsetX","dataBind","getElementOffsetY","renderControl","ariaAttr","renderLayout","renderOverflowMode","itemPositioning","checkPopupRefresh","itemEleDom","innerItem","innerPos","renderSubComponent","tbarItemAlign","align","toLowerCase","showAlwaysInPopup","notify","destroyMode","refreshOverflow","innerItems","checkOverflow","parseFloat","marginTop","marginBottom","marginLeft","trgClass","eleWidth","itemWidth","itemWidthCal","getScrollCntEle","popNav","scrollNav","navEleWidth","priorityCheck","offsetWid","initScroll","removePositioning","setOverflowAttributes","toolbarAlign","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","innerNav","vertical","createPopupIcon","innerNavDom","direction","checkPriority","createPopup","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodeIndex","nodePri","tbResize","childNodes","tbarElement","sepItem","extendEle","pushingPoppedEle","popupInit","getPropertyValue","eleStyles","offsetY","close","appendTo","borderRightWidth","toolEle","popupElePos","offsetTop","popIcon","tbarPopupHandler","scrollY","innerHeight","overflowHeight","tbEleData","bottom","popupOffset","right","clientWidth","inEle","pre","popPriority","eleWid","eleOffset","checkoffset","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","minWidth","sepEle","popedEle","indx","sepPri","des","elWid","wid","ig","ignoreCount","query","priEleCnt","eleSep","ignoreCheck","sepDisplay","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEle","ignoreInx","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","sepBeforePri","ignoreEleFetch","tbarPriRef","tbarWid","popWid","itemEle","alignDiv","alignEle","leftAlign","ctrlTemplate","itemsAlign","attr","keyVal","isEnable","elements","a","itemElement","getElementByIndex","extendedOpen","itemsDiv","itemsRerender","itemAgn","algIndex","refreshPositioning","removeItemByIndex","eleIdx","indexAgn","btnItem","templateProp","itemType","eleObj","isComponent","templateFn","trim","tempStr","outerHTML","tempArray","toolbarTemplateID","isStringTemplate","dom","textStr","iconPos","btnTxt","prefixIcon","suffixIcon","btnObj","iconPosition","tempDom","tooltipText","setAttr","textContent","templateRender","buttonRendering","itemClick","showTextOn","sTxt","visible","currentTarget","curEle","destroyItems","multirowele","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","addItems","isElement","eleIndex","initIndex","nextEle","setFlag","removeFlag","initELe","__decorate$4","CLS_ACRDN_ROOT","CLS_ROOT$2","CLS_ITEM$1","CLS_ITEMFOCUS","CLS_ITEMHIDE","CLS_HEADER","CLS_HEADERICN","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_COLLAPSEICN","CLS_EXPANDICN","CLS_RTL$3","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_ANIMATE","CLS_DISABLE$3","CLS_TOGANIMATE","CLS_NEST","CLS_EXPANDSTATE","CLS_CONTAINER","AccordionActionSettings","AccordionAnimationSettings","AccordionItem","Accordion","space","isDestroy","restoreContent","isNested","removeRippleEffect","nested","templateEle","initializeHeaderTemplate","initializeItemTemplate","initExpand","expandedIndices","expandMode","initItemExpand","acrdItem","headerEle","clearEvents","focusIn","focusOut","eventName","error","headerTemplate","headerTemplateFn","templateParser","itemTemplate","itemTemplateFn","innerEles","header","tglIcon","hdrColIcon","expandItem","innerDataSourceItem","dataSource","renderInnerItem","acrdEle","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","getIndexByItem","ctnCheck","contentRendering","ariaAttrUpdate","afterContentRender","acrdActive","cntclkCheck","inlineAcrdnSel","inlineEleAcrdn","nestContCheck","acrdcontainer","acrdnchild","acrdAniEle","sameContentCheck","sameHeader","acrdnRoot","expandState","collapse","expand","clstItem","eleMoveFocus","ctnEle","headerEleGenerate","hdrEle","getHeaderTemplate","toggleIconGenerate","angularnativeCondiCheck","fetchElement","hdr","expanded","enablePersistence","hdrIcnEle","hdrIcon","elementRef","nativeElement","parseddata","JSON","parse","temString","eleVal","HTMLElement","templateProps","templateName","itemcnt","ctn","getItemTemplate","trgtItemEle","isExpanded","expandArgs","expandedItemsPush","expandProgress","expandAnimation","ef","icn","lastActiveItemId","temp","getItemElements","itemCollection","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemLen","addItem","itemIndex","innerItemEle","itemAttribUpdate","expandedItemRefresh","isHidden","eleHeader","isExpand","itemExpand","expandedItem","ctnElePos","eleStr","toElement","templateCompile","childEle","acrdn","isRefresh","changedProp","j","oldVal","newVal","enableItem","activeContent","setTemplate","__decorate$5","ContextMenu","__decorate$6","VMENU","SCROLLABLE","HAMBURGER","Menu","tempItems","clearChanges","updateMenuItems","orientation","map","createMenuItems","pIdField","__decorate$7","CLS_TAB","CLS_HEADER$1","CLS_BLA_TEM","CLS_CONTENT$1","CLS_NEST$1","CLS_ITEMS$1","CLS_ITEM$2","CLS_TEMPLATE$1","CLS_RTL$4","CLS_ACTIVE$1","CLS_DISABLE$4","CLS_HIDDEN$1","CLS_FOCUS","CLS_ICONS","CLS_ICON","CLS_ICON_TAB","CLS_ICON_CLOSE","CLS_CLOSE_SHOW","CLS_TEXT","CLS_INDICATOR","CLS_WRAP","CLS_TEXT_WRAP","CLS_TAB_ICON","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POP","CLS_TB_POPUP","CLS_HOR_NAV","CLS_POPUP_OPEN","CLS_POPUP_CLOSE","CLS_PROGRESS","CLS_IGNORE","CLS_OVERLAY$2","CLS_HSCRCNT","CLS_VSCRCNT","CLS_VTAB","CLS_VERTICAL$1","CLS_VLEFT","CLS_VRIGHT","CLS_HBOTTOM","CLS_FILL","TABITEMPREFIX","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","lastIndex","isAdd","isIconAlone","draggableItems","refreshActElePosition","delete","tbObj","expTemplateContent","isTemplate","cntEle","prevIndex","isPopup","initRender","isSwipeed","itemIndexArray","css","setCssClass","updatePopAnimationConfig","btnCls","tabId","renderContainer","setOrientation","headerPlacement","renderHeader","tbItems","renderContent","bdrLine","scrCnt","scrCntClass","setContentHeight","selectedItem","tbItem","tabID","setRTL","enableAnimation","setActive","loadOn","triggerAnimation","getTabHeader","clicked","on","serverItemsChanged","setActiveContent","getTrgContent","extIndex","hdrPlace","tabItems","addVerticalClass","parseObject","hdrItems","txt","cont","wrap","tabIndex","updateOrientationAttribute","setCloseButton","showCloseButton","hdrItem","contents","tbCount","tItems","txtWrapEle","spliceArray","isReplace","tbId","num","substring","addIndex","hidden","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","attrObj","tItem","spliceItemIndex","tabHeader","node","tbPop","tbrItems","isOverflow","ripEle","actEleId","checkPopupOverflow","prevEle","trg","prev","current","checkRTL","previous","next","oldCnt","animateObj","prevCtnAnimation","prevActiveEle","newCnt","idNo","openEff","clsEff","setActiveBorder","triggerPrevAnimation","trgParent","trgIndex","getEleIndex","headers","compileElement","templateFUN","callType","no","findEle","tbPos","place","activeTab","changeToolbarOrientation","popupHandler","focusItem","curActItem","changeOrientation","headerPos","contentPos","list","heightAdjustMode","max","getHeight","getContent","cs","trgHdrEle","bar","tbHeight","tbWidth","skipDataBind","isNaN","allowServerDataBinding","serverDataBind","removeActiveClass","eleTrg","refreshItemVisibility","eventArg","previousItem","prevItem","previousIndex","selectedIndex","selectedContent","selectingID","isSwiped","refreshActiveBorder","config","tbPopObj","allowDragAndDrop","initializeDrag","bindDraggable","hoverHandler","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeTab","showPopup","stopPropagation","k","which","clstHead","actEle","activeElement","keyPressed","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","closeButtonTitle","locale","getConstant","properties","lastIndexOf","cntItem","textVal","arr","isHiddenEle","addTab","hideTab","strVal","enableTab","reRenderItems","isRect","selectElement","dragArea","dragObj","dragTarget","clone","helper","dragStart","itemDragStart","drag","dragIndex","dragItem","dropIndex","dropItem","dragArgs","draggedItem","droppedItem","cloneElement","isEqualNode","cursor","scrollRightNavEle","scrollLeftNavEle","hscrollBar","abs","pointerEvents","scrollContentWidth","isSameNode","dragAction","droppedIndex","dragStop","itemDragStop","draggingItems","tabitemDragArgs","dragsIndex","popupContainer","lastEle","dragStopArgs","tabItemDropArgs","addArgs","addedItems","tabAddingArgs","addingTabContent","lastEleIndex","itemsCount","textValue","removeArgs","removedItem","removedIndex","tabRemovingArgs","removeItems","cntTrg","selectedID","selectingItem","selectingIndex","selectingContent","selectArgs","tabItemId","evalOnPropertyChangeItems","txtWrap","tConts","wrapAtt","wraper","crElem","innerText","detachContent","mainContents","txtString","conte","__decorate$8","TreeView_1","ROOT","CONTROL","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","INPUT","INPUTGROUP","TREEINPUT","EDITING","RTL$1","INTERACTION","DRAGITEM","DROPPABLE","DRAGGING","SIBLING","DROPIN","DROPNEXT","DROPOUT","NODROP","FULLROWWRAP","FULLROW","SELECTED$1","EXPANDED","NODECOLLAPSED","DISABLE","DROPCOUNT","CHECK","INDETERMINATE","CHECKBOXWRAP","CHECKBOXFRAME","CHECKBOXRIPPLE","RIPPLE","RIPPLEELMENT","FOCUS","IMAGE","BIGGER","SMALL","CHILD","ITEM_ANIMATION_ACTIVE","DISABLED$1","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","isRefreshed","preventExpand","checkedElement","disableNode","validArr","validNodes","expandChildren","isFieldChange","changeDataSource","hasTemplate","mouseDownStatus","checkActionNodes","parentNodeCheck","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","fullRowNavigable","updateListProp","aniObj","treeList","isLoaded","isInitalExpand","setTouchClass","selectedNodes","checkedNodes","expandedNodes","initialRender","setDataBinding","setDisabledMode","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","iconModel","isCenterRipple","rippleIconFn","isEnabled","firstUl","isOffline","offline","ready","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","catch","executeQuery","getQuery","rootData","stringify","mapper","columns","getActualProperties","col","hasOwnProperty","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","sortedData","getSortedData","ulElement","rootNodes","loadOnDemand","renderChildNodes","parentEle","finalizeNode","parentCheckData","updateCheckedStateFromDS","autoCheck","showCheckBox","updateParentCheckState","resultData","executeLocal","isChecked","resultId","resultPId","hasChildren","childData","childId","checkState","getCheckedNodeDetails","checkIndeterminateState","checkedId","checkedData","fieldId","childItems","updateChildCheckState","checkNodes","preElement","check","changeState","indeterminate","childCheckedElement","nodeId","nodeCheck","ariaChecked","checkedParent","checkedChild","subChildItems","checkboxEle","touchClass","checkValue","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","dataId","renderNodeTemplate","nodeData","rippleSpan","actionValue","ds","groupBy","cusQuery","group","getDataSource","grpItem","iNodes","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","updateList","updateCheckedProp","liElement","ensureParentCheckState","ensureChildCheckState","indeterminateNodes","checkBoxEle","parentUL","currentParent","childElement","checkBoxes","parentCheck","childCheck","checkedState","currentLoadData","isNodeChecked","doCheck","liEle","setValidCheckedNode","dynamicCheckState","updateField","checkBox","validateCheckNode","updateFieldChecked","checkbox","currLi","nodeDetails","getNodeData","updateIndeterminate","subChild","updateChildIndeterminate","indeterminateData","getTreeData","subId","childElementCheck","innerChild","state","isPrevent","getCheckEvent","observedArgs","nodeCheckAction","ariaState","frameSpan","removeCheck","ensureStateChange","checked","isInteracted","setMultiSelect","firstNode","updateIdAttr","hasPid","doExpandAction","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","proxy","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","rippleElement","rippleIcons","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","isCheck","loaded","setHeight","animateHeight","expandedNode","addExpand","getExpandEvent","colArgs","nodeCollapseAction","collapsedNode","removeExpand","toRemove","remaining","timeStamp","currentHeight","parentLi","expandChild","eicon","parents","getChildFields","loadChild","expandNode","setSelectionForChildNodes","ensureCheckNode","disableTreeNodes","renderSubChild","getNodeObject","doDisableAction","nodeLevel","dataLevel","getChildMapper","obj","isRoot","getChildGroup","objlen","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","nodeSelectAction","removeSelectAll","shiftKey","startNode","startIndex","liList","endIndex","currNode","addSelect","nodeUnselectAction","removeSelect","focusedNode","getFocusedNode","selectedLI","expandOnType","expandOn","expandCollapseAction","nodeExpandAction","liEles","getId","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","isUp","focusNode","getScrollParent","parentPos","isVisibleInViewport","scrollIntoView","innerWidth","isTowards","nextNode","getNextNode","getPrevNode","navigateToFocus","checkWrap","nodeCheckingAction","allCheckNode","nodeCheckedEvent","parentIndex","getChildItems","childStateChange","childIsCheck","newCheck","validateCheck","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","previousSibling","prevNode","endNode","preNode","currentLi","setHover","hoveredNode","fromDS","getText","pNode","pid","nodeFields","tempArr","isIE","oldClass","newClass","oldInpEle","updateOldText","getEditEvent","inpWidth","destroyTemplate","innerHtml","inputObj","createInput","inputEle","setSelectionRange","wireInputEvents","editData","editFields","newText","txtEle","crudOperation","appendNewText","isInput","updateText","triggerEvent","newData","getChildNodeObject","newList","toBind","destroyDrag","virtualEle","enableTailMode","enableAutoScroll","sender","dragRoot","dragWrap","dragLi","cloneEle","nLen","cNode","dragData","listItem","getDragEvent","draggedNode","intDestroy","dragCancelAction","cursorAt","targetTouches","removeVirtualEle","dropTarget","preventTargetExpand","dropRoot","dragParent","draggedParentNode","dropObj","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","templateTarget","appendIndicator","renderVirtualEle","dropIndicator","virEle","dragInstance","draggable","droppedElement","appendNode","draggedElement","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","currPid","removeChildNodes","addChildData","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","iconClass","dropTar","hasAttribute","clonedNode","droppedNode","droppedNodeData","dropLevel","toAdd","rowDiv","excludeHiddenNodes","getVisibleNodes","collapseByLevel","expandByLevel","eIcons","vNodes","removeData","updateSelectedNodes","updateExpandedNodes","dm","newId","currId","toExpand","isRemote","dropEle","updateMapper","createListItemFromJson","refNode","navigateUrl","updated","childObj","nodeType","validID","checkValidId","strNodes","filterNestedChild","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","m","names","getMapperProp","remove$$1","inputFocusOut","touchEditObj","tap","isDoubleTapped","tapCount","editingHandler","touchClickObj","touchExpandObj","expandHandler","wireClickEvent","wireExpandOnEvent","onMouseOver","onMouseLeave","matched","secondTap","firstTap","uncheckAll","setIndeterminate","checkAll","setChildCheckState","isRefreshChild","childValue","updateChildPosition","currID","found","operation","newNode","prevent","matchedArr","crud","changes","addedRecords","deletedRecords","changedRecords","nodesID","fromTable","saveChanges","deleteSuccess","dmFailure","update","editSucess","insert","addSuccess","removeNode","addGivenNodes","updatePreviousText","addMultiSelect","setCheckedNodes","ensureIndeterminate","collapseAll","dynamicState","reRenderNodes","addFullRow","onLoaded","doCheckBoxAction","doGivenAction","collapseAllNodes","doEnableAction","expandAll","expandAllNodes","disabledNodes","updatePersistProp","sourceNodes","updatedChildValue","refreshData","newNodeData","parentData","updatePosition","newliEle","newTextEle","newIcon","fullEle","tooltip","class","__decorate$9","CONTROL$1","ROOT$1","DOCKER","CLOSE","OPEN","TRASITION","DEFAULTBACKDROP","CONTEXTBACKDROP","RTL$2","RIGHT","LEFT","OVER","PUSH","SLIDE","VISIBILITY","DISPLAY","MAINCONTENTANIMATION","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setTarget","setZindex","enableDock","setDock","setMediaQuery","checkType","setType","setCloseOnDocumentClick","setEnableRTL","windowWidth","targetEle","sidebarEleCopy","getTargetElement","siblingElement","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","match","classELement","triggerChange","transitionEnd","sibling","showBackdrop","modal","closeArguments","model","observedcloseArgs","transform","destroyBackDrop","setAnimation","setTimeOut","elementWidth","openArguments","observedopenArgs","createBackDrop","changeArguments","getState","mediaQuery","media","matchMedia","startX","enableGestures","mainContentEle","enableGestureHandler","sidebarEle","setEnableGestures","isRendered","isServerRendered","insertAdjacentElement","__decorate$10","ICONRIGHT","ITEMTEXTCLASS","ICONCLASS","BreadcrumbItem","Breadcrumb","_maxItems","maxItems","initItems","initPvtProps","baseUri","uri","URL","origin","href","location","isSingleLevel","isIconRight","itemsLength","isActiveItem","isLastItem","ol","isDisabled","isCollasped","isDefaultOverflowMode","isItemDisabled","containsRightIcon","isEmptyUrl","enableActiveItemNavigation","keyDownHandler","beforeItemRenderChanges","activeItem","separatorTemplate","itemClass","nextItem","calculateMaxItems","liWidth","liElems","reverse","currItem","isRightIcon","wrapElem","Node","TEXT_NODE","iconElem","enableNavigation","anchor","floor"],"mappings":"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","sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Droppable, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getElement, getInstance, getRandomId, getUniqueID, getValue, isBlazor, isNullOrUndefined, isRippleEnabled, isUndefined, isVisible, matches, merge, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup, calculatePosition, createSpinner, fit, getScrollableParent, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Button, createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input } from '@syncfusion/ej2-inputs';\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CLS_ROOT = 'e-hscroll';\nconst CLS_RTL = 'e-rtl';\nconst CLS_DISABLE = 'e-overlay';\nconst CLS_HSCROLLBAR = 'e-hscroll-bar';\nconst CLS_HSCROLLCON = 'e-hscroll-content';\nconst CLS_NAVARROW = 'e-nav-arrow';\nconst CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nconst CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nconst CLS_HSCROLLNAV = 'e-scroll-nav';\nconst CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nconst CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nconst CLS_DEVICE = 'e-scroll-device';\nconst CLS_OVERLAY = 'e-scroll-overlay';\nconst CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nconst CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nconst OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nlet HScroll = class HScroll extends Component {\n    /**\n     * Initializes a new instance of the HScroll class.\n     *\n     * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        const element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    }\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    }\n    setScrollState() {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    }\n    initialize() {\n        const scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        const scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        const ele = this.element;\n        const innerEle = [].slice.call(ele.children);\n        for (const ele of innerEle) {\n            scrollEle.appendChild(ele);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    }\n    getPersistData() {\n        const keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    getModuleName() {\n        return 'hScroll';\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        const ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        const nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        const overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach((ele) => {\n            detach(ele);\n        });\n        for (const elem of [].slice.call(this.scrollItems.children)) {\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        super.destroy();\n    }\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    disable(value) {\n        const navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEles).forEach((el) => {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    }\n    createOverlay(element) {\n        const id = element.id.concat('_nav');\n        const rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        const clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        const rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        const navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        const leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    }\n    createNavIcon(element) {\n        const id = element.id.concat('_nav');\n        const clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        const nav = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        nav.setAttribute('aria-disabled', 'false');\n        const navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        const clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        const navEle = this.createElement('div', { id: id.concat('_left'), className: clsLeft + ' ' + CLS_DISABLE });\n        navEle.setAttribute('aria-disabled', 'true');\n        const navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    }\n    onKeyPress(e) {\n        if (e.key === 'Enter') {\n            const timeoutFun = () => {\n                this.keyTimeout = true;\n                this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(() => {\n                timeoutFun();\n            }, 100);\n        }\n    }\n    onKeyUp(e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    }\n    eventBinding(ele) {\n        [].slice.call(ele).forEach((el) => {\n            new Touch(el, { tapHold: this.tabHoldHandler.bind(this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', this.onKeyPress.bind(this));\n            el.addEventListener('keyup', this.onKeyUp.bind(this));\n            el.addEventListener('mouseup', this.repeatScroll.bind(this));\n            el.addEventListener('touchend', this.repeatScroll.bind(this));\n            el.addEventListener('contextmenu', (e) => {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', this.clickEventHandler, this);\n        });\n    }\n    repeatScroll() {\n        clearInterval(this.timeout);\n    }\n    tabHoldHandler(e) {\n        let trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        const scrollDis = 10;\n        const timeoutFun = () => {\n            this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(() => {\n            timeoutFun();\n        }, 50);\n    }\n    contains(ele, className) {\n        return ele.classList.contains(className);\n    }\n    eleScrolling(scrollDis, trgt, isContinuous) {\n        const rootEle = this.element;\n        let classList$$1 = trgt.classList;\n        if (classList$$1.contains(CLS_HSCROLLNAV)) {\n            classList$$1 = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList$$1.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList$$1.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    }\n    clickEventHandler(e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    }\n    swipeHandler(e) {\n        const swipeEle = this.scrollEle;\n        let distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        let start = 0.5;\n        const animate = () => {\n            const step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    }\n    scrollUpdating(scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    }\n    frameScrollRequest(scrollVal, action, isContinuous) {\n        const step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach((el) => {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        const animate = () => {\n            let scrollValue;\n            let scrollStep;\n            if (this.contains(this.element, CLS_RTL) && this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    }\n    touchHandler(e) {\n        const ele = this.scrollEle;\n        let distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    }\n    arrowDisabling(addDisable, removeDisable) {\n        if (this.isDevice) {\n            const arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            const arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    }\n    scrollHandler(e) {\n        const target = e.target;\n        const width = target.offsetWidth;\n        const rootEle = this.element;\n        const navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        const navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        let leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        let rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        let scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            this.arrowDisabling(navLeftEle, navRightEle);\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            this.arrowDisabling(navRightEle, navLeftEle);\n        }\n        else {\n            const disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    }\n};\n__decorate([\n    Property(null)\n], HScroll.prototype, \"scrollStep\", void 0);\nHScroll = __decorate([\n    NotifyPropertyChanges\n], HScroll);\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CLS_ROOT$1 = 'e-vscroll';\nconst CLS_RTL$1 = 'e-rtl';\nconst CLS_DISABLE$1 = 'e-overlay';\nconst CLS_VSCROLLBAR = 'e-vscroll-bar';\nconst CLS_VSCROLLCON = 'e-vscroll-content';\nconst CLS_NAVARROW$1 = 'e-nav-arrow';\nconst CLS_NAVUPARROW = 'e-nav-up-arrow';\nconst CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nconst CLS_VSCROLLNAV = 'e-scroll-nav';\nconst CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nconst CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nconst CLS_DEVICE$1 = 'e-scroll-device';\nconst CLS_OVERLAY$1 = 'e-scroll-overlay';\nconst CLS_UPOVERLAY = 'e-scroll-up-overlay';\nconst CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nconst OVERLAY_MAXWID$1 = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nlet VScroll = class VScroll extends Component {\n    /**\n     * Initializes a new instance of the VScroll class.\n     *\n     * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        const ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL$1);\n        }\n    }\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE$1);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    }\n    setScrollState() {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    }\n    initialize() {\n        const scrollCnt = createElement('div', { className: CLS_VSCROLLCON });\n        const scrollBar = createElement('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        const ele = this.element;\n        const innerEle = [].slice.call(ele.children);\n        for (const ele of innerEle) {\n            scrollCnt.appendChild(ele);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflowY = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    }\n    getPersistData() {\n        const keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    getModuleName() {\n        return 'vScroll';\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        const el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT$1, CLS_DEVICE$1]);\n        const navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        const overlays = selectAll('.' + CLS_OVERLAY$1, el);\n        [].slice.call(overlays).forEach((ele) => {\n            detach(ele);\n        });\n        for (const elem of [].slice.call(this.scrollItems.children)) {\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        super.destroy();\n    }\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    disable(value) {\n        const navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE$1 + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE$1);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE$1);\n        }\n        [].slice.call(navEle).forEach((el) => {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    }\n    createOverlayElement(element) {\n        const id = element.id.concat('_nav');\n        const downOverlayEle = createElement('div', { className: CLS_OVERLAY$1 + ' ' + CLS_DOWNOVERLAY });\n        const clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        const downEle = createElement('div', { id: id.concat('down'), className: clsDown });\n        const navItem = createElement('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        downEle.appendChild(navItem);\n        const upEle = createElement('div', { className: CLS_OVERLAY$1 + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    }\n    createNavIcon(element) {\n        const id = element.id.concat('_nav');\n        const clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        const nav = createElement('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        const navItem = createElement('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        const clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        const navElement = createElement('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE$1 });\n        navElement.setAttribute('aria-disabled', 'true');\n        const navUpItem = createElement('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    }\n    onKeyPress(ev) {\n        if (ev.key === 'Enter') {\n            const timeoutFun = () => {\n                this.keyTimeout = true;\n                this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(() => {\n                timeoutFun();\n            }, 100);\n        }\n    }\n    onKeyUp(ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    }\n    eventBinding(element) {\n        [].slice.call(element).forEach((ele) => {\n            new Touch(ele, { tapHold: this.tabHoldHandler.bind(this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', this.onKeyPress.bind(this));\n            ele.addEventListener('keyup', this.onKeyUp.bind(this));\n            ele.addEventListener('mouseup', this.repeatScroll.bind(this));\n            ele.addEventListener('touchend', this.repeatScroll.bind(this));\n            ele.addEventListener('contextmenu', (e) => {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', this.clickEventHandler, this);\n        });\n    }\n    repeatScroll() {\n        clearInterval(this.timeout);\n    }\n    tabHoldHandler(ev) {\n        let trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        const scrollDistance = 10;\n        const timeoutFun = () => {\n            this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(() => {\n            timeoutFun();\n        }, 50);\n    }\n    contains(element, className) {\n        return element.classList.contains(className);\n    }\n    eleScrolling(scrollDis, trgt, isContinuous) {\n        let classList$$1 = trgt.classList;\n        if (classList$$1.contains(CLS_VSCROLLNAV)) {\n            classList$$1 = trgt.querySelector('.' + CLS_NAVARROW$1).classList;\n        }\n        if (classList$$1.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList$$1.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    }\n    clickEventHandler(event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    }\n    wheelEventHandler(e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    }\n    swipeHandler(e) {\n        const swipeElement = this.scrollEle;\n        let distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        let start = 0.5;\n        const animate = () => {\n            const step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    }\n    scrollUpdating(scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    }\n    frameScrollRequest(scrollValue, action, isContinuous) {\n        const step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY$1, this.element)).forEach((el) => {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        const animate = () => {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    }\n    touchHandler(e) {\n        const el = this.scrollEle;\n        const distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    }\n    arrowDisabling(addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            const arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            const arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW$1);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE$1);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE$1);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    }\n    scrollEventHandler(e) {\n        const target = e.target;\n        const height = target.offsetHeight;\n        const navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        const navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        const upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        const downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        let scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID$1) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID$1) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            const disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE$1);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE$1);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(CLS_RTL$1);\n                    }\n                    else {\n                        this.element.classList.remove(CLS_RTL$1);\n                    }\n                    break;\n            }\n        }\n    }\n};\n__decorate$1([\n    Property(null)\n], VScroll.prototype, \"scrollStep\", void 0);\nVScroll = __decorate$1([\n    NotifyPropertyChanges\n], VScroll);\n\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction addScrolling(createElement$$1, container, content, scrollType, enableRtl, offset) {\n    let containerOffset;\n    let contentOffset;\n    const parentElem = container.parentElement;\n    if (scrollType === 'vscroll') {\n        containerOffset = offset || container.getBoundingClientRect().height;\n        contentOffset = content.getBoundingClientRect().height;\n    }\n    else {\n        containerOffset = container.getBoundingClientRect().width;\n        contentOffset = content.getBoundingClientRect().width;\n    }\n    if (containerOffset < contentOffset) {\n        return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n    }\n    else if (parentElem) {\n        const width = parentElem.getBoundingClientRect().width;\n        if (width < containerOffset && scrollType === 'hscroll') {\n            contentOffset = width;\n            container.style.maxWidth = width + 'px';\n            return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n        }\n        return content;\n    }\n    else {\n        return content;\n    }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset) {\n    const scrollEle = createElement$$1('div', { className: 'e-menu-' + scrollType });\n    container.appendChild(scrollEle);\n    scrollEle.appendChild(content);\n    if (offset) {\n        scrollEle.style.overflow = 'hidden';\n        scrollEle.style.height = offset + 'px';\n    }\n    else {\n        scrollEle.style.maxHeight = container.style.maxHeight;\n        container.style.overflow = 'hidden';\n    }\n    let scrollObj;\n    if (scrollType === 'vscroll') {\n        scrollObj = new VScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n    }\n    else {\n        scrollObj = new HScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n    }\n    return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\nfunction destroyScroll(scrollObj, element, skipEle) {\n    if (scrollObj) {\n        const menu = select('.e-menu-parent', element);\n        if (menu) {\n            if (!skipEle || skipEle === menu) {\n                scrollObj.destroy();\n                element.parentElement.appendChild(menu);\n                detach(element);\n            }\n        }\n        else {\n            scrollObj.destroy();\n            detach(element);\n        }\n    }\n}\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst ENTER = 'enter';\nconst ESCAPE = 'escape';\nconst FOCUSED = 'e-focused';\nconst HEADER = 'e-menu-header';\nconst SELECTED = 'e-selected';\nconst SEPARATOR = 'e-separator';\nconst UPARROW = 'uparrow';\nconst DOWNARROW = 'downarrow';\nconst LEFTARROW = 'leftarrow';\nconst RIGHTARROW = 'rightarrow';\nconst HOME = 'home';\nconst END = 'end';\nconst CARET = 'e-caret';\nconst ITEM = 'e-menu-item';\nconst DISABLED = 'e-disabled';\nconst HIDE = 'e-menu-hide';\nconst ICONS = 'e-icons';\nconst RTL = 'e-rtl';\nconst POPUP = 'e-menu-popup';\nconst TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\nclass FieldSettings extends ChildProperty {\n}\n__decorate$2([\n    Property('id')\n], FieldSettings.prototype, \"itemId\", void 0);\n__decorate$2([\n    Property('parentId')\n], FieldSettings.prototype, \"parentId\", void 0);\n__decorate$2([\n    Property('text')\n], FieldSettings.prototype, \"text\", void 0);\n__decorate$2([\n    Property('iconCss')\n], FieldSettings.prototype, \"iconCss\", void 0);\n__decorate$2([\n    Property('url')\n], FieldSettings.prototype, \"url\", void 0);\n__decorate$2([\n    Property('separator')\n], FieldSettings.prototype, \"separator\", void 0);\n__decorate$2([\n    Property('items')\n], FieldSettings.prototype, \"children\", void 0);\n/**\n * Specifies menu items.\n */\nclass MenuItem extends ChildProperty {\n}\n__decorate$2([\n    Property(null)\n], MenuItem.prototype, \"iconCss\", void 0);\n__decorate$2([\n    Property('')\n], MenuItem.prototype, \"id\", void 0);\n__decorate$2([\n    Property(false)\n], MenuItem.prototype, \"separator\", void 0);\n__decorate$2([\n    Collection([], MenuItem)\n], MenuItem.prototype, \"items\", void 0);\n__decorate$2([\n    Property('')\n], MenuItem.prototype, \"text\", void 0);\n__decorate$2([\n    Property('')\n], MenuItem.prototype, \"url\", void 0);\n/**\n * Animation configuration settings.\n */\nclass MenuAnimationSettings extends ChildProperty {\n}\n__decorate$2([\n    Property('SlideDown')\n], MenuAnimationSettings.prototype, \"effect\", void 0);\n__decorate$2([\n    Property(400)\n], MenuAnimationSettings.prototype, \"duration\", void 0);\n__decorate$2([\n    Property('ease')\n], MenuAnimationSettings.prototype, \"easing\", void 0);\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\nlet MenuBase = class MenuBase extends Component {\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {MenuBaseModel} options - Specifies the menu base model\n     * @param {string | HTMLUListElement} element - Specifies the element\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.navIdx = [];\n        this.animation = new Animation({});\n        this.isTapHold = false;\n        this.tempItem = [];\n        this.showSubMenuOn = 'Auto';\n    }\n    /**\n     * Initialized third party configuration settings.\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        if (!this.isMenu) {\n            let ul;\n            if (this.element.tagName === 'EJS-CONTEXTMENU') {\n                ul = this.createElement('ul', {\n                    id: getUniqueID(this.getModuleName()), className: 'e-control e-lib e-' + this.getModuleName()\n                });\n                const ejInst = getValue('ej2_instances', this.element);\n                removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                this.clonedElement = this.element;\n                this.element = ul;\n                setValue('ej2_instances', ejInst, this.element);\n            }\n            else {\n                ul = this.createElement('ul', { id: getUniqueID(this.getModuleName()) });\n                append([].slice.call(this.element.cloneNode(true).children), ul);\n                const refEle = this.element.nextElementSibling;\n                if (refEle) {\n                    this.element.parentElement.insertBefore(ul, refEle);\n                }\n                else {\n                    this.element.parentElement.appendChild(ul);\n                }\n                this.clonedElement = ul;\n            }\n            this.clonedElement.style.display = 'none';\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            let ele = this.element;\n            const ejInstance = getValue('ej2_instances', ele);\n            const ul = this.createElement('ul');\n            const wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (let idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.clonedElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    }\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n        this.renderComplete();\n        const wrapper = this.getWrapper();\n        if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n            requestAnimationFrame(() => {\n                addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n            });\n        }\n    }\n    initialize() {\n        let wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        wrapper.appendChild(this.element);\n        if (this.isMenu && this.hamburgerMode) {\n            if (!this.target) {\n                this.createHeaderContainer(wrapper);\n            }\n        }\n        this.defaultOption = this.showItemOnClick;\n    }\n    renderItems() {\n        if (!this.items.length) {\n            const items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            if (isBlazor() && !this.isMenu) {\n                this.element = this.removeChildElement(this.element);\n            }\n            else {\n                this.element.innerHTML = '';\n            }\n        }\n        const ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n        if (this.isMenu) {\n            if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n                this.setBlankIconStyle(this.element);\n            }\n            if (this.enableScrolling) {\n                const wrapper = this.getWrapper();\n                if (this.element.classList.contains('e-vertical')) {\n                    addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n                }\n                else {\n                    addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n                }\n            }\n        }\n    }\n    wireEvents() {\n        const wrapper = this.getWrapper();\n        if (this.target) {\n            let target;\n            const targetElems = selectAll(this.target);\n            for (let i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n                }\n                else {\n                    if (Browser.isIos) {\n                        new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                    }\n                    else {\n                        EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                    }\n                }\n            }\n            this.targetElement = target;\n            if (!this.isMenu) {\n                EventHandler.add(this.targetElement, 'scroll', this.scrollHandler, this);\n                for (const parent of getScrollableParent(this.targetElement)) {\n                    EventHandler.add(parent, 'scroll', this.scrollHandler, this);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        this.wireKeyboardEvent(wrapper);\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    }\n    wireKeyboardEvent(element) {\n        const keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n        }\n        new KeyboardEvents(element, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n    }\n    mouseDownHandler(e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()\n            && (!closest(e.target, '.e-' + this.getModuleName() + '-popup'))) {\n            this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n        }\n    }\n    keyBoardHandler(e) {\n        let actionName = '';\n        const trgt = e.target;\n        let actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical')\n            && this.navIdx.length < 1;\n        e.preventDefault();\n        if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n        }\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    this.rightEnterKeyHandler(e);\n                }\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    }\n    upDownKeyHandler(e) {\n        const cul = this.getUlByNavIdx();\n        const defaultIdx = (e.action === DOWNARROW || e.action === HOME) ? 0 : cul.childElementCount - 1;\n        let fliIdx = defaultIdx;\n        const fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                if (e.action === DOWNARROW) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        const cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    }\n    isValidLI(cli, index, action) {\n        const cul = this.getUlByNavIdx();\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            if ((action === DOWNARROW) || (action === RIGHTARROW)) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    }\n    getUlByNavIdx(navIdxLen = this.navIdx.length) {\n        if (this.isMenu) {\n            const popup = [this.getWrapper()].concat([].slice.call(selectAll('.' + POPUP)))[navIdxLen];\n            return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n        }\n        else {\n            return this.getWrapper().children[navIdxLen];\n        }\n    }\n    rightEnterKeyHandler(e) {\n        let eventArgs;\n        const cul = this.getUlByNavIdx();\n        const fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            const fliIdx = this.getIdx(cul, fli);\n            const navIdx = this.navIdx.concat(fliIdx);\n            const item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.keyType = 'right';\n                this.action = e.action;\n                this.openMenu(fli, item, -1, -1, e);\n            }\n            else {\n                if (e.action === ENTER) {\n                    if (this.isMenu && this.navIdx.length === 0) {\n                        this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n                    }\n                    else {\n                        fli.classList.remove(FOCUSED);\n                    }\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item, event: e };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    }\n    leftEscKeyHandler(e) {\n        if (this.navIdx.length) {\n            this.keyType = 'left';\n            this.closeMenu(this.navIdx.length, e);\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    }\n    scrollHandler(e) {\n        this.closeMenu(null, e);\n    }\n    touchHandler(e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    }\n    cmenuHandler(e) {\n        e.preventDefault();\n        this.isCMenu = true;\n        this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n        this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n        this.closeMenu(null, e);\n        if (this.isCMenu) {\n            if (this.canOpen(e.target)) {\n                this.openMenu(null, null, this.pageY, this.pageX, e);\n            }\n            this.isCMenu = false;\n        }\n    }\n    // eslint:disable-next-line:max-func-body-length\n    closeMenu(ulIndex = 0, e = null, isIterated) {\n        if (this.isMenuVisible()) {\n            let sli;\n            let item;\n            const wrapper = this.getWrapper();\n            let beforeCloseArgs;\n            let items;\n            const popups = this.getPopups();\n            let isClose = false;\n            const cnt = this.isMenu ? popups.length + 1 : wrapper.childElementCount;\n            const ul = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2])\n                : selectAll('.e-menu-parent', wrapper)[cnt - 1];\n            if (this.isMenu && ul.classList.contains('e-menu')) {\n                sli = this.getLIByClass(ul, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                isClose = true;\n            }\n            if (!isClose) {\n                const liElem = e && e.target && this.getLI(e.target);\n                item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items = item ? item.items : this.items;\n                beforeCloseArgs = { element: ul, parentItem: item, items: items, event: e, cancel: false, isFocused: true };\n                this.trigger('beforeClose', beforeCloseArgs, (observedCloseArgs) => {\n                    let popupEle;\n                    let closeArgs;\n                    let popupId = '';\n                    let popupObj;\n                    const isOpen = !observedCloseArgs.cancel;\n                    if (isOpen || this.isCMenu) {\n                        if (this.isMenu) {\n                            popupEle = closest(ul, '.' + POPUP);\n                            if (this.hamburgerMode) {\n                                popupEle.parentElement.style.minHeight = '';\n                                closest(ul, '.e-menu-item').setAttribute('aria-expanded', 'false');\n                            }\n                            this.unWireKeyboardEvent(popupEle);\n                            destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n                            popupObj = getInstance(popupEle, Popup);\n                            popupObj.hide();\n                            popupId = popupEle.id;\n                            popupObj.destroy();\n                            detach(popupEle);\n                        }\n                        else {\n                            this.toggleAnimation(ul, false);\n                        }\n                        closeArgs = { element: ul, parentItem: item, items: items };\n                        this.trigger('onClose', closeArgs);\n                        this.navIdx.pop();\n                    }\n                    this.updateReactTemplate();\n                    let trgtliId;\n                    let closedLi;\n                    let trgtLi;\n                    const trgtpopUp = this.getWrapper() && this.getUlByNavIdx();\n                    if (this.isCMenu) {\n                        if (this.canOpen(e.target)) {\n                            this.openMenu(null, null, this.pageY, this.pageX, e);\n                        }\n                        this.isCMenu = false;\n                    }\n                    if (this.isMenu && trgtpopUp && popupId.length) {\n                        trgtliId = new RegExp('(.*)-ej2menu-' + this.element.id + '-popup').exec(popupId)[1];\n                        closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n                        trgtLi = (liElem && trgtpopUp.querySelector('[id=\"' + liElem.id + '\"]'));\n                    }\n                    const submenus = liElem && liElem.querySelectorAll('.e-menu-item');\n                    if (isOpen && this.hamburgerMode && ulIndex && !(submenus.length)) {\n                        this.afterCloseMenu(e);\n                    }\n                    else if (isOpen && !this.hamburgerMode && this.navIdx.length && closedLi && !trgtLi) {\n                        let ele = (e && e.target.classList.contains('e-vscroll'))\n                            ? closest(e.target, '.e-menu-wrapper') : null;\n                        if (ele) {\n                            ele = ele.querySelector('.e-menu-item');\n                            if (this.showItemOnClick || (ele && this.getIndex(ele.id, true).length <= this.navIdx.length)) {\n                                this.closeMenu(this.navIdx[this.navIdx.length - 1], e, true);\n                            }\n                        }\n                        else {\n                            this.closeMenu(this.navIdx[this.navIdx.length - 1], e);\n                        }\n                    }\n                    else if (isOpen && !isIterated && !ulIndex && ((this.hamburgerMode && this.navIdx.length) ||\n                        this.navIdx.length === 1)) {\n                        this.closeMenu(null, e);\n                    }\n                    else if (isOpen && isNullOrUndefined(ulIndex) && this.navIdx.length) {\n                        this.closeMenu(null, e);\n                    }\n                    else if (isOpen && !this.isMenu && !ulIndex && this.navIdx.length === 0 && !this.isMenusClosed) {\n                        this.isMenusClosed = true;\n                        this.closeMenu(0, e);\n                    }\n                    else if (isOpen && this.isMenu && e && e.target &&\n                        this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n                        this.closeMenu(0, e);\n                    }\n                    else {\n                        if (isOpen && (this.keyType === 'right' || this.keyType === 'click')) {\n                            this.afterCloseMenu(e);\n                        }\n                        else {\n                            const cul = this.getUlByNavIdx();\n                            const sli = this.getLIByClass(cul, SELECTED);\n                            if (sli) {\n                                sli.setAttribute('aria-expanded', 'false');\n                                sli.classList.remove(SELECTED);\n                                if (observedCloseArgs.isFocused && liElem) {\n                                    sli.classList.add(FOCUSED);\n                                    sli.focus();\n                                }\n                            }\n                            if (!isOpen && this.hamburgerMode && liElem && liElem.getAttribute('aria-expanded') === 'false' &&\n                                liElem.getAttribute('aria-haspopup') === 'true') {\n                                if (closest(liElem, '.e-menu-parent.e-control')) {\n                                    this.navIdx = [];\n                                }\n                                else {\n                                    this.navIdx.pop();\n                                }\n                                this.navIdx.push(this.cliIdx);\n                                const item = this.getItem(this.navIdx);\n                                liElem.setAttribute('aria-expanded', 'true');\n                                this.openMenu(liElem, item, -1, -1, e);\n                            }\n                        }\n                        if (this.navIdx.length < 1) {\n                            if (this.showSubMenuOn === 'Hover' || this.showSubMenuOn === 'Click') {\n                                this.showItemOnClick = this.defaultOption;\n                                this.showSubMenuOn = 'Auto';\n                            }\n                        }\n                    }\n                    this.removeStateWrapper();\n                });\n            }\n        }\n    }\n    updateReactTemplate() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact && this.template && this.navIdx.length === 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const portals = this.portals.splice(0, this.items.length);\n            this.clearTemplate(['template']);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.portals = portals;\n            this.renderReactTemplates();\n        }\n    }\n    getMenuItemModel(item, level) {\n        if (isNullOrUndefined(item)) {\n            return null;\n        }\n        if (isNullOrUndefined(level)) {\n            level = 0;\n        }\n        const fields = this.getFields(level);\n        return { text: item[fields.text], id: item[fields.id], items: item[fields.child], separator: item[fields.separator],\n            iconCss: item[fields.iconCss], url: item[fields.url] };\n    }\n    getPopups() {\n        const popups = [];\n        [].slice.call(document.querySelectorAll('.' + POPUP)).forEach((elem) => {\n            if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n                popups.push(elem);\n            }\n        });\n        return popups;\n    }\n    isMenuVisible() {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    }\n    canOpen(target) {\n        let canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            const filter = this.filter.split(' ');\n            for (let i = 0, len = filter.length; i < len; i++) {\n                if (closest(target, '.' + filter[i])) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    }\n    openMenu(li, item, top = 0, left = 0, e = null, target = this.targetElement) {\n        const wrapper = this.getWrapper();\n        this.lItem = li;\n        const elemId = this.element.id !== '' ? this.element.id : 'menu';\n        this.isMenusClosed = false;\n        if (isNullOrUndefined(top)) {\n            top = -1;\n        }\n        if (isNullOrUndefined(left)) {\n            left = -1;\n        }\n        if (li) {\n            this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                const data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                const hdata = new MenuItem(this.items[0], 'items', data, true);\n                const hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                this.uList.insertBefore(hli, this.uList.children[0]);\n            }\n            if (this.isMenu) {\n                this.popupWrapper = this.createElement('div', {\n                    className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP, id: li.id + '-ej2menu-' + elemId + '-popup'\n                });\n                if (this.hamburgerMode) {\n                    top = li.offsetHeight;\n                    li.appendChild(this.popupWrapper);\n                }\n                else {\n                    document.body.appendChild(this.popupWrapper);\n                }\n                this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n                this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n                if (this.template) {\n                    this.renderReactTemplates();\n                }\n                if (this.hamburgerMode) {\n                    this.calculateIndentSize(this.uList, li);\n                }\n                else {\n                    if (this.cssClass) {\n                        addClass([this.popupWrapper], this.cssClass.split(' '));\n                    }\n                    this.popupObj.hide();\n                }\n                if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(() => { this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n                }\n            }\n            else {\n                this.uList.style.zIndex = this.element.style.zIndex;\n                wrapper.appendChild(this.uList);\n                if (!this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(() => { this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n                }\n            }\n        }\n        else {\n            this.uList = this.element;\n            this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n            this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n        }\n    }\n    calculateIndentSize(ul, li) {\n        const liStyle = getComputedStyle(li);\n        let liIndent = parseInt(liStyle.textIndent, 10);\n        if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n            liIndent *= 2;\n        }\n        else {\n            liIndent += (liIndent / 4);\n        }\n        ul.style.textIndent = liIndent + 'px';\n        const blankIconElem = ul.querySelectorAll('.e-blankicon');\n        if (blankIconElem && blankIconElem.length) {\n            const menuIconElem = ul.querySelector('.e-menu-icon');\n            const menuIconElemStyle = getComputedStyle(menuIconElem);\n            const blankIconIndent = (parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent);\n            for (let i = 0; i < blankIconElem.length; i++) {\n                blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n            }\n        }\n    }\n    generatePopup(popupWrapper, ul, li, isNestedOrVertical) {\n        const popupObj = new Popup(popupWrapper, {\n            actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n            relateTo: li,\n            collision: this.hamburgerMode ? { X: 'none', Y: 'none' } : { X: isNestedOrVertical ||\n                    this.enableRtl ? 'none' : 'flip', Y: 'fit' },\n            position: (isNestedOrVertical && !this.hamburgerMode) ? { X: 'right', Y: 'top' } : { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            enableRtl: this.enableRtl,\n            content: ul,\n            open: () => {\n                const scrollEle = select('.e-menu-vscroll', popupObj.element);\n                if (scrollEle) {\n                    scrollEle.style.height = 'inherit';\n                    scrollEle.style.maxHeight = '';\n                }\n                const ul = select('.e-ul', popupObj.element);\n                popupObj.element.style.maxHeight = '';\n                ul.focus();\n                this.triggerOpen(ul);\n            }\n        });\n        return popupObj;\n    }\n    createHeaderContainer(wrapper) {\n        wrapper = wrapper || this.getWrapper();\n        const spanElem = this.createElement('span', { className: 'e-' + this.getModuleName() + '-header' });\n        const tempTitle = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n        const spanTitle = this.createElement('span', {\n            className: 'e-' + this.getModuleName() + '-title', innerHTML: tempTitle\n        });\n        const spanIcon = this.createElement('span', {\n            className: 'e-icons e-' + this.getModuleName() + '-icon', attrs: { 'tabindex': '0' }\n        });\n        spanElem.appendChild(spanTitle);\n        spanElem.appendChild(spanIcon);\n        wrapper.insertBefore(spanElem, this.element);\n    }\n    openHamburgerMenu(e) {\n        if (this.hamburgerMode) {\n            this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n        }\n    }\n    closeHamburgerMenu(e) {\n        const beforeCloseArgs = { element: this.element, parentItem: null, event: e,\n            items: this.items, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, (observedHamburgerCloseArgs) => {\n            if (!observedHamburgerCloseArgs.cancel) {\n                this.closeMenu(null, e);\n                this.element.classList.add('e-hide-menu');\n                this.trigger('onClose', { element: this.element, parentItem: null, items: this.items });\n            }\n        });\n    }\n    callFit(element, x, y, top, left) {\n        return fit(element, null, { X: x, Y: y }, { top: top, left: left });\n    }\n    triggerBeforeOpen(li, ul, item, e, top, left, type) {\n        const items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        const eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left, showSubMenuOn: 'Auto'\n        };\n        const menuType = type;\n        this.trigger('beforeOpen', eventArgs, (observedOpenArgs) => {\n            switch (menuType) {\n                case 'menu':\n                    if (!this.hamburgerMode) {\n                        if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n                            this.showItemOnClick = !this.defaultOption;\n                            this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n                        }\n                        this.top = observedOpenArgs.top;\n                        this.left = observedOpenArgs.left;\n                    }\n                    this.popupWrapper.style.display = 'block';\n                    if (!this.hamburgerMode) {\n                        this.popupWrapper.style.maxHeight = this.popupWrapper.getBoundingClientRect().height + 'px';\n                        if (this.enableScrolling) {\n                            addScrolling(this.createElement, this.popupWrapper, this.uList, 'vscroll', this.enableRtl);\n                        }\n                        this.checkScrollOffset(e);\n                    }\n                    if (!this.hamburgerMode && !this.left && !this.top) {\n                        this.popupObj.refreshPosition(this.lItem, true);\n                        this.left = parseInt(this.popupWrapper.style.left, 10);\n                        this.top = parseInt(this.popupWrapper.style.top, 10);\n                        if (this.enableRtl) {\n                            this.left =\n                                this.isNestedOrVertical ? this.left - this.popupWrapper.offsetWidth - this.lItem.parentElement.offsetWidth + 2\n                                    : this.left - this.popupWrapper.offsetWidth + this.lItem.offsetWidth;\n                        }\n                        if (this.template && (this.isReact || this.isAngular)) {\n                            requestAnimationFrame(() => {\n                                this.collision();\n                                this.popupWrapper.style.display = '';\n                            });\n                        }\n                        else {\n                            this.collision();\n                            this.popupWrapper.style.display = '';\n                        }\n                    }\n                    else {\n                        this.popupObj.collision = { X: 'none', Y: 'none' };\n                        this.popupWrapper.style.display = '';\n                    }\n                    break;\n                case 'none':\n                    this.top = observedOpenArgs.top;\n                    this.left = observedOpenArgs.left;\n                    break;\n                case 'hamburger':\n                    if (!observedOpenArgs.cancel) {\n                        this.element.classList.remove('e-hide-menu');\n                        this.triggerOpen(this.element);\n                    }\n                    break;\n            }\n            if (menuType !== 'hamburger') {\n                if (observedOpenArgs.cancel) {\n                    if (this.isMenu) {\n                        this.popupObj.destroy();\n                        detach(this.popupWrapper);\n                    }\n                    else if (ul.className.indexOf('e-ul') > -1) {\n                        detach(ul);\n                    }\n                    this.navIdx.pop();\n                }\n                else {\n                    if (this.isMenu) {\n                        if (this.hamburgerMode) {\n                            this.popupWrapper.style.top = this.top + 'px';\n                            this.popupWrapper.style.left = 0 + 'px';\n                            this.toggleAnimation(this.popupWrapper);\n                        }\n                        else {\n                            this.setBlankIconStyle(this.popupWrapper);\n                            this.wireKeyboardEvent(this.popupWrapper);\n                            rippleEffect(this.popupWrapper, { selector: '.' + ITEM });\n                            this.popupWrapper.style.left = this.left + pageXOffset + 'px';\n                            this.popupWrapper.style.top = this.top + pageYOffset + 'px';\n                            const animationOptions = this.animationSettings.effect !== 'None' ? {\n                                name: this.animationSettings.effect, duration: this.animationSettings.duration,\n                                timingFunction: this.animationSettings.easing\n                            } : null;\n                            this.popupObj.show(animationOptions, this.lItem);\n                        }\n                    }\n                    else {\n                        this.setBlankIconStyle(this.uList);\n                        this.setPosition(this.lItem, this.uList, this.top, this.left);\n                        this.toggleAnimation(this.uList);\n                    }\n                }\n            }\n            if (this.keyType === 'right') {\n                let cul = this.getUlByNavIdx();\n                li.classList.remove(FOCUSED);\n                if (this.isMenu && this.navIdx.length === 1) {\n                    this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n                }\n                li.classList.add(SELECTED);\n                if (this.action === ENTER) {\n                    const eventArgs = { element: li, item: item, event: e };\n                    this.trigger('select', eventArgs);\n                }\n                li.focus();\n                cul = this.getUlByNavIdx();\n                const index = this.isValidLI(cul.children[0], 0, this.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n        });\n    }\n    collision() {\n        let collide;\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1\n            || collide.indexOf('left') > -1)) {\n            this.popupObj.collision.X = 'none';\n            const offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n            this.left =\n                this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left\n                    : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n        }\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n            this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n        }\n        this.popupWrapper.style.left = this.left + 'px';\n    }\n    setBlankIconStyle(menu) {\n        const blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n        if (!blankIconList.length) {\n            return;\n        }\n        const iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n        const icon = iconLi.querySelector('.e-menu-icon');\n        if (!icon) {\n            return;\n        }\n        const cssProp = this.enableRtl ? { padding: 'paddingRight', margin: 'marginLeft' } :\n            { padding: 'paddingLeft', margin: 'marginRight' };\n        const iconCssProps = getComputedStyle(icon);\n        let iconSize = parseInt(iconCssProps.fontSize, 10);\n        if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n            iconSize = parseInt(iconCssProps.width, 10);\n        }\n        // eslint:disable\n        const size = `${iconSize + parseInt(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10)}px`;\n        blankIconList.forEach((li) => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            li.style[cssProp.padding] = size;\n        });\n        // eslint:enable\n    }\n    checkScrollOffset(e) {\n        const wrapper = this.getWrapper();\n        if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n            const trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n            const offsetEle = select('.e-hscroll-bar', wrapper);\n            if (offsetEle.scrollLeft > trgt.offsetLeft) {\n                offsetEle.scrollLeft -= (offsetEle.scrollLeft - trgt.offsetLeft);\n            }\n            const offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n            const offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n            if (offsetLeft < offsetRight) {\n                offsetEle.scrollLeft += (offsetRight - offsetLeft);\n            }\n        }\n    }\n    setPosition(li, ul, top, left) {\n        const px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (left > -1 && top > -1)) {\n            let collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                const offset = this.callFit(ul, false, true, top, left);\n                top = offset.top - 20;\n                if (top < 0) {\n                    const newTop = (pageYOffset + document.documentElement.clientHeight) - ul.getBoundingClientRect().height;\n                    if (newTop > -1) {\n                        top = newTop;\n                    }\n                }\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                const offset = this.callFit(ul, true, false, top, left);\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                const x = this.enableRtl ? 'left' : 'right';\n                let offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                const collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                const xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = this.callFit(ul, false, true, top, left);\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    }\n    toggleVisiblity(ul, isVisible$$1 = true) {\n        ul.style.visibility = isVisible$$1 ? 'hidden' : '';\n        ul.style.display = isVisible$$1 ? 'block' : 'none';\n    }\n    createItems(items) {\n        const level = this.navIdx ? this.navIdx.length : 0;\n        const fields = this.getFields(level);\n        const showIcon = this.hasField(items, this.getField('iconCss', level));\n        const listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: fields,\n            template: this.template,\n            itemNavigable: true,\n            itemCreating: (args) => {\n                if (!args.curData[args.fields[fields.id]]) {\n                    args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (this.isMenu && !args.curData[this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n                }\n                if (args.curData[args.fields[fields.iconCss]] === '') {\n                    args.curData[args.fields[fields.iconCss]] = null;\n                }\n            },\n            itemCreated: (args) => {\n                if (args.curData[this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    const span = this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (this.isMenu && this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                    if (args.item.classList.contains('e-level-1')) {\n                        args.item.classList.remove('e-level-1');\n                    }\n                    if (args.item.classList.contains('e-has-child')) {\n                        args.item.classList.remove('e-has-child');\n                    }\n                }\n                const eventArgs = { item: args.curData, element: args.item };\n                this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        this.setProperties({ 'items': this.items }, true);\n        if (this.isMenu) {\n            listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n        }\n        const ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    }\n    moverHandler(e) {\n        const trgt = e.target;\n        this.liTrgt = trgt;\n        const cli = this.getLI(trgt);\n        const wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n        const hdrWrapper = this.getWrapper();\n        const regex = new RegExp('-ej2menu-(.*)-popup');\n        let ulId;\n        let isDifferentElem = false;\n        if (!wrapper) {\n            return;\n        }\n        if (wrapper.id !== '') {\n            ulId = regex.exec(wrapper.id)[1];\n        }\n        else {\n            ulId = wrapper.querySelector('ul').id;\n        }\n        if (ulId !== this.element.id) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n            if (this.navIdx.length) {\n                isDifferentElem = true;\n            }\n            else {\n                return;\n            }\n        }\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        }\n        if (this.isMenu) {\n            if (!this.showItemOnClick && (trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup'))\n                && (!cli || (cli && !this.getIndex(cli.id, true).length)) && this.showSubMenuOn !== 'Hover') {\n                this.removeLIStateByClass([FOCUSED], [wrapper]);\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            else if (isDifferentElem && !this.showItemOnClick) {\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!this.isClosed) {\n                this.removeStateWrapper();\n            }\n            this.isClosed = false;\n        }\n    }\n    removeStateWrapper() {\n        if (this.liTrgt) {\n            const wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n            if (this.liTrgt.tagName === 'DIV' && wrapper) {\n                this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n            }\n        }\n    }\n    removeLIStateByClass(classList$$1, element) {\n        let li;\n        for (let i = 0; i < element.length; i++) {\n            classList$$1.forEach((className) => {\n                li = select('.' + className, element[i]);\n                if (li) {\n                    li.classList.remove(className);\n                }\n            });\n        }\n    }\n    getField(propName, level = 0) {\n        const fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString()\n                : fieldName[level].toString());\n    }\n    getFields(level = 0) {\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    }\n    hasField(items, field) {\n        for (let i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    }\n    menuHeaderClickHandler(e) {\n        if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n            return;\n        }\n        if (this.element.classList.contains('e-hide-menu')) {\n            this.openHamburgerMenu(e);\n        }\n        else {\n            this.closeHamburgerMenu(e);\n        }\n    }\n    clickHandler(e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            const wrapper = this.getWrapper();\n            const trgt = e.target;\n            const cli = this.cli = this.getLI(trgt);\n            const regex = new RegExp('-ej2menu-(.*)-popup');\n            const cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            const isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0\n                : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n            if (Browser.isDevice && this.isMenu) {\n                this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n                this.mouseDownHandler(e);\n            }\n            if (cli && cliWrapper && this.isMenu) {\n                const cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n                if (this.element.id !== cliWrapperId) {\n                    return;\n                }\n            }\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                const navIdx = this.getIndex(cli.id, true);\n                const item = this.getItem(navIdx);\n                const eventArgs = { element: cli, item: item, event: e };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                let ul;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    const sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        this.showSubMenu = true;\n                        const cul = cli.parentNode;\n                        this.cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            const culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper'))\n                                : this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === this.cliIdx) {\n                                this.showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                                const sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.isClosed = true;\n                                this.keyType = 'click';\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                            }\n                        }\n                        if (!this.isClosed) {\n                            this.afterCloseMenu(e);\n                        }\n                        this.isClosed = false;\n                    }\n                }\n            }\n            else {\n                if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n                    const popupEle = closest(trgt, '.' + POPUP);\n                    const cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n                    if (cIdx < this.navIdx.length) {\n                        this.closeMenu(cIdx + 1, e);\n                        if (popupEle) {\n                            this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n                        }\n                    }\n                }\n                else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN'\n                    && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') &&\n                        !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n                        if (!cli) {\n                            this.removeLIStateByClass([SELECTED], [wrapper]);\n                        }\n                        if (!cli || !cli.querySelector('.' + CARET)) {\n                            this.closeMenu(null, e);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    afterCloseMenu(e) {\n        let isHeader;\n        if (this.showSubMenu) {\n            if (this.showItemOnClick && this.navIdx.length === 0) {\n                isHeader = closest(e.target, '.e-menu-parent.e-control');\n            }\n            else {\n                isHeader = closest(this.element, '.e-menu-parent.e-control');\n            }\n            const idx = this.navIdx.concat(this.cliIdx);\n            const item = this.getItem(idx);\n            if (item && item[this.getField('children', idx.length - 1)] &&\n                item[this.getField('children', idx.length - 1)].length) {\n                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                    this.setLISelected(this.cli);\n                }\n                if ((!this.hamburgerMode && isHeader) || (this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false')) {\n                    this.cli.setAttribute('aria-expanded', 'true');\n                    this.navIdx.push(this.cliIdx);\n                    this.openMenu(this.cli, item, null, null, e);\n                }\n            }\n            else {\n                if (e.type !== 'mouseover') {\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!isHeader) {\n                const cul = this.getUlByNavIdx();\n                const sli = this.getLIByClass(cul, SELECTED);\n                if (sli) {\n                    sli.setAttribute('aria-expanded', 'false');\n                    sli.classList.remove(SELECTED);\n                }\n            }\n        }\n        this.keyType = '';\n    }\n    setLISelected(li) {\n        const sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        if (!this.isMenu) {\n            li.classList.remove(FOCUSED);\n        }\n        li.classList.add(SELECTED);\n    }\n    getLIByClass(ul, classname) {\n        for (let i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    }\n    /**\n     * This method is used to get the index of the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    getItemIndex(item, isUniqueId) {\n        let idx;\n        if (typeof item === 'string') {\n            idx = item;\n        }\n        else {\n            idx = item.id;\n        }\n        const isText = (isUniqueId === false) ? false : true;\n        const navIdx = this.getIndex(idx, isText);\n        return navIdx;\n    }\n    /**\n     * This method is used to set the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem} item - item need to be updated.\n     * @param {string} id - id to be passed to update the item.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    setItem(item, id, isUniqueId) {\n        const idx = id ? id : item.id;\n        const isText = (isUniqueId === false) ? false : true;\n        const navIdx = this.getIndex(idx, isText);\n        const newItem = this.getItem(navIdx);\n        newItem.iconCss = item.iconCss;\n        newItem.id = item.id;\n        newItem.text = item.text;\n        newItem.url = item.url;\n        newItem.separator = item.separator;\n        newItem.items = item.items;\n    }\n    getItem(navIdx) {\n        navIdx = navIdx.slice();\n        const idx = navIdx.pop();\n        const items = this.getItems(navIdx);\n        return items[idx];\n    }\n    getItems(navIdx) {\n        let items = this.items;\n        for (let i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    }\n    setItems(newItems, navIdx) {\n        const items = this.getItems(navIdx);\n        items.splice(0, items.length);\n        for (let i = 0; i < newItems.length; i++) {\n            items.splice(i, 0, newItems[i]);\n        }\n    }\n    getIdx(ul, li, skipHdr = true) {\n        let idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    }\n    getLI(elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    }\n    updateItemsByNavIdx() {\n        let items = this.items;\n        let count = 0;\n        for (let index = 0; index < this.navIdx.length; index++) {\n            items = items[index].items;\n            if (!items) {\n                break;\n            }\n            count++;\n            const ul = this.getUlByNavIdx(count);\n            if (!ul) {\n                break;\n            }\n            this.updateItem(ul, items);\n        }\n    }\n    removeChildElement(elem) {\n        while (elem.firstElementChild) {\n            elem.removeChild(elem.firstElementChild);\n        }\n        return elem;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuBaseModel} newProp - Specifies the new properties\n     * @param {MenuBaseModel} oldProp - Specifies the old properties\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const wrapper = this.getWrapper();\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this.unWireEvents();\n                    this.showItemOnClick = newProp.showItemOnClick;\n                    this.wireEvents();\n                    break;\n                case 'enableScrolling':\n                    if (newProp.enableScrolling) {\n                        let ul;\n                        if (this.element.classList.contains('e-vertical')) {\n                            addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n                        }\n                        else {\n                            addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n                        }\n                        this.getPopups().forEach((wrapper) => {\n                            ul = select('.e-ul', wrapper);\n                            addScrolling(this.createElement, wrapper, ul, 'vscroll', this.enableRtl);\n                        });\n                    }\n                    else {\n                        let ul = wrapper.children[0];\n                        if (this.element.classList.contains('e-vertical')) {\n                            destroyScroll(getInstance(ul, VScroll), ul);\n                        }\n                        else {\n                            destroyScroll(getInstance(ul, HScroll), ul);\n                        }\n                        wrapper.style.overflow = '';\n                        wrapper.appendChild(this.element);\n                        this.getPopups().forEach((wrapper) => {\n                            ul = wrapper.children[0];\n                            destroyScroll(getInstance(ul, VScroll), ul);\n                            wrapper.style.overflow = '';\n                        });\n                    }\n                    break;\n                case 'items': {\n                    let idx;\n                    let navIdx;\n                    let item;\n                    if (!Object.keys(oldProp.items).length) {\n                        this.updateItem(this.element, this.items);\n                        if (!this.hamburgerMode) {\n                            for (let i = 1, count = wrapper.childElementCount; i < count; i++) {\n                                detach(wrapper.lastElementChild);\n                            }\n                        }\n                        this.navIdx = [];\n                    }\n                    else {\n                        const keys = Object.keys(newProp.items);\n                        for (let i = 0; i < keys.length; i++) {\n                            navIdx = this.getChangedItemIndex(newProp, [], Number(keys[i]));\n                            if (navIdx.length <= this.getWrapper().children.length) {\n                                idx = navIdx.pop();\n                                item = this.getItems(navIdx);\n                                this.insertAfter([item[idx]], item[idx].text);\n                                this.removeItem(item, navIdx, idx);\n                                this.setItems(item, navIdx);\n                            }\n                            navIdx.length = 0;\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n    }\n    updateItem(ul, items) {\n        if (isBlazor() && !this.isMenu) {\n            ul = this.removeChildElement(ul);\n        }\n        else {\n            ul.innerHTML = '';\n        }\n        const lis = [].slice.call(this.createItems(items).children);\n        lis.forEach((li) => {\n            ul.appendChild(li);\n        });\n    }\n    getChangedItemIndex(newProp, index, idx) {\n        index.push(idx);\n        const key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            const item = newProp.items[idx];\n            const popStr = Object.keys(item.items).pop();\n            if (popStr) {\n                this.getChangedItemIndex(item, index, Number(popStr));\n            }\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    }\n    removeItem(item, navIdx, idx) {\n        item.splice(idx, 1);\n        const uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    }\n    /**\n     * Used to unwire the bind events.\n     *\n     * @private\n     * @param {string} targetSelctor - Specifies the target selector\n     * @returns {void}\n     */\n    unWireEvents(targetSelctor = this.target) {\n        const wrapper = this.getWrapper();\n        if (targetSelctor) {\n            let target;\n            let touchModule;\n            const targetElems = selectAll(targetSelctor);\n            for (let i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n                }\n                else {\n                    if (Browser.isIos) {\n                        touchModule = getInstance(target, Touch);\n                        if (touchModule) {\n                            touchModule.destroy();\n                        }\n                    }\n                    else {\n                        EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                    }\n                }\n            }\n            if (!this.isMenu) {\n                EventHandler.remove(this.targetElement, 'scroll', this.scrollHandler);\n                for (const parent of getScrollableParent(this.targetElement)) {\n                    EventHandler.remove(parent, 'scroll', this.scrollHandler);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        this.unWireKeyboardEvent(wrapper);\n        this.rippleFn();\n    }\n    unWireKeyboardEvent(element) {\n        const keyboardModule = getInstance(element, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    }\n    toggleAnimation(ul, isMenuOpen = true) {\n        let pUlHeight;\n        let pElement;\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: (options) => {\n                    if (this.hamburgerMode) {\n                        pElement = options.element.parentElement;\n                        options.element.style.position = 'absolute';\n                        pUlHeight = pElement.offsetHeight;\n                        options.element.style.maxHeight = options.element.offsetHeight + 'px';\n                        pElement.style.maxHeight = '';\n                    }\n                    else {\n                        options.element.style.display = 'block';\n                        options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                    }\n                },\n                progress: (options) => {\n                    if (this.hamburgerMode) {\n                        pElement.style.minHeight = (pUlHeight + options.element.offsetHeight) + 'px';\n                    }\n                },\n                end: (options) => {\n                    if (this.hamburgerMode) {\n                        options.element.style.position = '';\n                        options.element.style.maxHeight = '';\n                        pElement.style.minHeight = '';\n                        options.element.style.top = 0 + 'px';\n                        options.element.children[0].focus();\n                        this.triggerOpen(options.element.children[0]);\n                    }\n                    else {\n                        this.end(options.element, isMenuOpen);\n                    }\n                }\n            });\n        }\n    }\n    triggerOpen(ul) {\n        const item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        const eventArgs = {\n            element: ul, parentItem: item, items: item ? item.items : this.items\n        };\n        this.trigger('onOpen', eventArgs);\n    }\n    end(ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            this.triggerOpen(ul);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                const ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                const fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                const sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    getPersistData() {\n        return '';\n    }\n    /**\n     * Get wrapper element.\n     *\n     * @returns {Element} - Wrapper element\n     * @private\n     */\n    getWrapper() {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    }\n    getIndex(data, isUniqueId, items = this.items, nIndex = [], isCallBack = false, level = 0) {\n        let item;\n        level = isCallBack ? level + 1 : 0;\n        for (let i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    }\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    enableItems(items, enable = true, isUniqueId) {\n        let ul;\n        let idx;\n        let navIdx;\n        const disabled = DISABLED;\n        let skipItem;\n        for (let i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            if (this.navIdx.length) {\n                if (navIdx.length !== 1) {\n                    skipItem = false;\n                    for (let i = 0, len = navIdx.length - 1; i < len; i++) {\n                        if (navIdx[i] !== this.navIdx[i]) {\n                            skipItem = true;\n                            break;\n                        }\n                    }\n                    if (skipItem) {\n                        continue;\n                    }\n                }\n            }\n            else {\n                if (navIdx.length !== 1) {\n                    continue;\n                }\n            }\n            idx = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be shown.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    showItems(items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    }\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be hidden.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    hideItems(items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    }\n    showHideItems(items, ishide, isUniqueId) {\n        let ul;\n        let index;\n        let navIdx;\n        for (let i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     *\n     * @param {string[]} items Text items that needs to be removed.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    removeItems(items, isUniqueId) {\n        let idx;\n        let navIdx;\n        let iitems;\n        for (let i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    }\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item after that the element to be inserted.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    insertAfter(items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    }\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item before that the element to be inserted.\n     * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    insertBefore(items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    }\n    insertItems(items, text, isUniqueId, isAfter = true) {\n        let li;\n        let idx;\n        let navIdx;\n        let iitems;\n        let menuitem;\n        for (let i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            const uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                li = this.createItems(iitems).children[idx];\n                const ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n                ul.insertBefore(li, ul.children[idx]);\n            }\n        }\n    }\n    removeAttributes() {\n        ['top', 'left', 'display', 'z-index'].forEach((key) => {\n            this.element.style.removeProperty(key);\n        });\n        ['role', 'tabindex', 'class', 'style'].forEach((key) => {\n            if (key === 'class' && this.element.classList.contains('e-menu-parent')) {\n                this.element.classList.remove('e-menu-parent');\n            }\n            if (['class', 'style'].indexOf(key) === -1 || !this.element.getAttribute(key)) {\n                this.element.removeAttribute(key);\n            }\n            if (this.isMenu && key === 'class' && this.element.classList.contains('e-vertical')) {\n                this.element.classList.remove('e-vertical');\n            }\n        });\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        const wrapper = this.getWrapper();\n        if (wrapper) {\n            this.unWireEvents();\n            if (!this.isMenu) {\n                this.clonedElement.style.display = '';\n                if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n                    addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                    this.element = this.clonedElement;\n                }\n                else {\n                    if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n                        this.setProperties({ 'items': [] }, true);\n                    }\n                    if (document.getElementById(this.clonedElement.id)) {\n                        const refEle = this.clonedElement.nextElementSibling;\n                        if (refEle && refEle !== wrapper) {\n                            this.clonedElement.parentElement.insertBefore(this.element, refEle);\n                        }\n                        else {\n                            this.clonedElement.parentElement.appendChild(this.element);\n                        }\n                        if (isBlazor() && !this.isMenu) {\n                            this.element = this.removeChildElement(this.element);\n                        }\n                        else {\n                            this.element.innerHTML = '';\n                        }\n                        append([].slice.call(this.clonedElement.children), this.element);\n                        detach(this.clonedElement);\n                        this.removeAttributes();\n                    }\n                }\n                this.clonedElement = null;\n            }\n            else {\n                this.closeMenu();\n                if (isBlazor() && !this.isMenu) {\n                    this.element = this.removeChildElement(this.element);\n                }\n                else {\n                    this.element.innerHTML = '';\n                }\n                this.removeAttributes();\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n                this.clonedElement = null;\n            }\n            if (this.isMenu && this.clonedElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n            super.destroy();\n            if (this.template) {\n                this.clearTemplate(['template']);\n            }\n        }\n    }\n};\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"beforeItemRender\", void 0);\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"beforeOpen\", void 0);\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"onOpen\", void 0);\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"beforeClose\", void 0);\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"onClose\", void 0);\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"select\", void 0);\n__decorate$2([\n    Event()\n], MenuBase.prototype, \"created\", void 0);\n__decorate$2([\n    Property('')\n], MenuBase.prototype, \"cssClass\", void 0);\n__decorate$2([\n    Property(0)\n], MenuBase.prototype, \"hoverDelay\", void 0);\n__decorate$2([\n    Property(false)\n], MenuBase.prototype, \"showItemOnClick\", void 0);\n__decorate$2([\n    Property('')\n], MenuBase.prototype, \"target\", void 0);\n__decorate$2([\n    Property('')\n], MenuBase.prototype, \"filter\", void 0);\n__decorate$2([\n    Property(null)\n], MenuBase.prototype, \"template\", void 0);\n__decorate$2([\n    Property(false)\n], MenuBase.prototype, \"enableScrolling\", void 0);\n__decorate$2([\n    Property(false)\n], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$2([\n    Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n], MenuBase.prototype, \"fields\", void 0);\n__decorate$2([\n    Collection([], MenuItem)\n], MenuBase.prototype, \"items\", void 0);\n__decorate$2([\n    Complex({ duration: 400, easing: 'ease', effect: 'SlideDown' }, MenuAnimationSettings)\n], MenuBase.prototype, \"animationSettings\", void 0);\nMenuBase = __decorate$2([\n    NotifyPropertyChanges\n], MenuBase);\n\n/**\n * Navigation Common modules\n */\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CLS_VERTICAL = 'e-vertical';\nconst CLS_ITEMS = 'e-toolbar-items';\nconst CLS_ITEM = 'e-toolbar-item';\nconst CLS_RTL$2 = 'e-rtl';\nconst CLS_SEPARATOR = 'e-separator';\nconst CLS_POPUPICON = 'e-popup-up-icon';\nconst CLS_POPUPDOWN = 'e-popup-down-icon';\nconst CLS_POPUPOPEN = 'e-popup-open';\nconst CLS_TEMPLATE = 'e-template';\nconst CLS_DISABLE$2 = 'e-overlay';\nconst CLS_POPUPTEXT = 'e-toolbar-text';\nconst CLS_TBARTEXT = 'e-popup-text';\nconst CLS_TBAROVERFLOW = 'e-overflow-show';\nconst CLS_POPOVERFLOW = 'e-overflow-hide';\nconst CLS_TBARBTN = 'e-tbar-btn';\nconst CLS_TBARNAV = 'e-hor-nav';\nconst CLS_TBARSCRLNAV = 'e-scroll-nav';\nconst CLS_TBARRIGHT = 'e-toolbar-right';\nconst CLS_TBARLEFT = 'e-toolbar-left';\nconst CLS_TBARCENTER = 'e-toolbar-center';\nconst CLS_TBARPOS = 'e-tbar-pos';\nconst CLS_HSCROLLCNT = 'e-hscroll-content';\nconst CLS_VSCROLLCNT = 'e-vscroll-content';\nconst CLS_HSCROLLBAR$1 = 'e-hscroll-bar';\nconst CLS_POPUPNAV = 'e-hor-nav';\nconst CLS_POPUPCLASS = 'e-toolbar-pop';\nconst CLS_POPUP = 'e-toolbar-popup';\nconst CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nconst CLS_TBARNAVACT = 'e-nav-active';\nconst CLS_TBARIGNORE = 'e-ignore';\nconst CLS_POPPRI = 'e-popup-alone';\nconst CLS_HIDDEN = 'e-hidden';\nconst CLS_MULTIROW = 'e-toolbar-multirow';\nconst CLS_MULTIROWPOS = 'e-multirow-pos';\nconst CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nconst CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nconst CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nconst CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nconst CLS_EXTENDPOPUP = 'e-expended-nav';\nconst CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nclass Item extends ChildProperty {\n}\n__decorate$3([\n    Property('')\n], Item.prototype, \"id\", void 0);\n__decorate$3([\n    Property('')\n], Item.prototype, \"text\", void 0);\n__decorate$3([\n    Property('auto')\n], Item.prototype, \"width\", void 0);\n__decorate$3([\n    Property('')\n], Item.prototype, \"cssClass\", void 0);\n__decorate$3([\n    Property(false)\n], Item.prototype, \"showAlwaysInPopup\", void 0);\n__decorate$3([\n    Property(false)\n], Item.prototype, \"disabled\", void 0);\n__decorate$3([\n    Property('')\n], Item.prototype, \"prefixIcon\", void 0);\n__decorate$3([\n    Property('')\n], Item.prototype, \"suffixIcon\", void 0);\n__decorate$3([\n    Property(true)\n], Item.prototype, \"visible\", void 0);\n__decorate$3([\n    Property('None')\n], Item.prototype, \"overflow\", void 0);\n__decorate$3([\n    Property('')\n], Item.prototype, \"template\", void 0);\n__decorate$3([\n    Property('Button')\n], Item.prototype, \"type\", void 0);\n__decorate$3([\n    Property('Both')\n], Item.prototype, \"showTextOn\", void 0);\n__decorate$3([\n    Property(null)\n], Item.prototype, \"htmlAttributes\", void 0);\n__decorate$3([\n    Property('')\n], Item.prototype, \"tooltipText\", void 0);\n__decorate$3([\n    Property('Left')\n], Item.prototype, \"align\", void 0);\n__decorate$3([\n    Event()\n], Item.prototype, \"click\", void 0);\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nlet Toolbar = class Toolbar extends Component {\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.resizeContext = this.resize.bind(this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    destroy() {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        const btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach((el) => {\n            if (!isNullOrUndefined(el) && !isNullOrUndefined(el.ej2_instances) && !isNullOrUndefined(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        super.destroy();\n        this.unwireEvents();\n        this.tempId.forEach((ele) => {\n            if (!isNullOrUndefined(this.element.querySelector(ele))) {\n                document.body.appendChild(this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n        }\n        this.clearProperty();\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach((attrb) => this.element.removeAttribute(attrb));\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        const eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL$2);\n        }\n    }\n    wireEvents() {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    }\n    wireKeyboardEvent() {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    }\n    unwireKeyboardEvent() {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    }\n    docKeyDown(e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        const popCheck = !isNullOrUndefined(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        const keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    }\n    unwireEvents() {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    }\n    clearProperty() {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    }\n    docEvent(e) {\n        const popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    }\n    destroyScroll() {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    }\n    destroyItems() {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach((el) => { detach(el); });\n        }\n        const tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n        if (this.tbarAlign) {\n            [].slice.call(tbarItems.children).forEach((el) => {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    }\n    destroyMode() {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL$2);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        const tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    }\n    add(ele, val) {\n        ele.classList.add(val);\n    }\n    remove(ele, val) {\n        ele.classList.remove(val);\n    }\n    elementFocus(ele) {\n        const fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    }\n    clstElement(tbrNavChk, trgt) {\n        let clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    }\n    keyHandling(clst, e, trgt, navChk, scrollChk) {\n        const popObj = this.popObj;\n        const rootEle = this.element;\n        const popAnimate = { name: 'FadeOut', duration: 100 };\n        const value = e.action === 'moveUp' ? 'previous' : 'next';\n        let ele;\n        let nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    const popupCheck = closest(clst, '.e-popup');\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM);\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        const popEle = popObj.element;\n                        const popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    const ele = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele);\n                            ele.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    }\n    keyActionHandler(e) {\n        const trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE$2)) {\n            return;\n        }\n        e.preventDefault();\n        const tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        const tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        const clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    }\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    disable(value) {\n        const rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE$2);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE$2);\n        }\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    }\n    eleContains(el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE$2) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    }\n    eleFocus(closest$$1, pos) {\n        const sib = Object(closest$$1)[pos + 'ElementSibling'];\n        if (sib) {\n            const skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            let elem = Object(closest$$1.parentElement)[pos + 'ElementSibling'];\n            if (!isNullOrUndefined(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNullOrUndefined(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    const el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    const el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    }\n    clickHandler(e) {\n        const trgt = e.target;\n        const ele = this.element;\n        const isPopupElement = !isNullOrUndefined(closest(trgt, '.' + CLS_POPUPCLASS));\n        let clsList = trgt.classList;\n        let popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL$2);\n        }\n        let itemObj;\n        const clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNullOrUndefined(clst) || clst.classList.contains(CLS_DISABLE$2)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            const tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        const eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNullOrUndefined(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, (clickedArgs) => {\n                if (!isNullOrUndefined(this.popObj) && isPopupElement && !clickedArgs.cancel && this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    }\n    popupClickHandler(ele, popupNav, CLS_RTL) {\n        const popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    }\n    initialize() {\n        const width = formatUnit(this.width);\n        const height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyleAttribute(this.element, { 'height': height });\n        }\n        setStyleAttribute(this.element, { 'width': width });\n        const ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    }\n    renderControl() {\n        const ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    }\n    renderLayout() {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    }\n    itemsAlign(items, itemEleDom) {\n        let innerItem;\n        let innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (let i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[i], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            const portals = 'portals';\n            this.notify('render-react-toolbar-template', this[portals]);\n            this.renderReactTemplates();\n        }\n    }\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    changeOrientation() {\n        const ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyleAttribute(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    }\n    initScroll(element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyleAttribute(this.element, { overflow: 'hidden' });\n        }\n    }\n    itemWidthCal(items) {\n        let width = 0;\n        let style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach((el) => {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    }\n    getScrollCntEle(innerItem) {\n        const trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    }\n    checkOverflow(element, innerItem) {\n        if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        const eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        let itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        const popNav = element.querySelector('.' + CLS_TBARNAV);\n        const scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        let navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    refreshOverflow() {\n        this.resize();\n    }\n    toolbarAlign(innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    }\n    renderOverflowMode() {\n        const ele = this.element;\n        const innerItems = ele.querySelector('.' + CLS_ITEMS);\n        const priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNullOrUndefined(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    }\n    setOverflowAttributes(ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    }\n    separator() {\n        const element = this.element;\n        const eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        const multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        const extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        const eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (let i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    }\n    createPopupEle(ele, innerEle) {\n        let innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        const vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        const innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        const eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyleAttribute(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    }\n    pushingPoppedEle(tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        const element = tbarObj.element;\n        const poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        let nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        let nodeIndex = 0;\n        let nodePri = 0;\n        poppedEle.forEach((el, index) => {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyleAttribute(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyleAttribute(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach((el) => {\n            ele.appendChild(el);\n        });\n        const tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (let i = tbarEle.length - 1; i >= 0; i--) {\n            const tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyleAttribute(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    }\n    createPopup() {\n        const element = this.element;\n        let sepHeight;\n        let sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        const eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        const eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        let ele;\n        const popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            const extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            const popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    }\n    getElementOffsetY() {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    }\n    popupInit(element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyleAttribute(this.element, { overflow: '' });\n            const eleStyles = window.getComputedStyle(this.element);\n            const popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                const popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            const popupEle = this.popObj.element;\n            setStyleAttribute(popupEle, { maxHeight: '', display: 'block' });\n            setStyleAttribute(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    }\n    tbarPopupHandler(isOpen) {\n        if (this.overflowMode === 'Extended') {\n            isOpen ? this.add(this.element, CLS_EXTENDEDPOPOPEN) : this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        }\n    }\n    popupOpen(e) {\n        const popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        const popupEle = this.popObj.element;\n        const toolEle = this.popObj.element.parentElement;\n        const popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyleAttribute(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        const popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        const popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        const scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            let overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (let i = 0; i <= popupEle.childElementCount; i++) {\n                const ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyleAttribute(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            const tbEleData = this.element.getBoundingClientRect();\n            setStyleAttribute(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            const popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    }\n    popupClose(e) {\n        const element = this.element;\n        const popupNav = element.querySelector('.' + CLS_TBARNAV);\n        const popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    }\n    checkPriority(ele, inEle, eleWidth, pre) {\n        const popPriority = this.popupPriCount > 0;\n        const len = inEle.length;\n        const eleWid = eleWidth;\n        let eleOffset;\n        let checkoffset;\n        let sepCheck = 0;\n        let itemCount = 0;\n        let itemPopCount = 0;\n        const checkClass = (ele, val) => {\n            let rVal = false;\n            val.forEach((cls) => {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (let i = len - 1; i >= 0; i--) {\n            let mrgn;\n            const compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            const fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            const eleWid = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyleAttribute(inEle[i], { display: 'none', minHeight: eleWid + 'px' });\n                }\n                else {\n                    setStyleAttribute(inEle[i], { display: 'none', minWidth: eleWid + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            const sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            const sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyleAttribute(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyleAttribute(inEle[i], { display: 'none', minHeight: eleWid + 'px' });\n                    }\n                    else {\n                        setStyleAttribute(inEle[i], { display: 'none', minWidth: eleWid + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            const popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    }\n    createPopupIcon(element) {\n        const id = element.id.concat('_nav');\n        let className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        const nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        const navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    }\n    tbarPriRef(inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        const ignoreCount = ig;\n        const popEle = this.popObj.element;\n        const query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        const priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        const checkClass = (ele, val) => {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            const eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            const ignoreCheck = (!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                const sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                const eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                const prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNullOrUndefined(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    }\n    popupRefresh(popupEle, destroy) {\n        const ele = this.element;\n        const isVer = this.isVertical;\n        const innerEle = ele.querySelector('.' + CLS_ITEMS);\n        let popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNullOrUndefined(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        let dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        let popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach((el) => {\n            popupEleWidth += this.popupEleWidth(el);\n            setStyleAttribute(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    }\n    ignoreEleFetch(index, innerEle) {\n        const ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        const ignoreInx = [];\n        let count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach((ele) => {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach((val) => {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    }\n    checkPopupRefresh(root, popEle) {\n        popEle.style.display = 'block';\n        const elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        const tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        const tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    }\n    popupEleWidth(el) {\n        el.style.position = 'absolute';\n        let elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        const btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            const btn = el.children[0];\n            if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNullOrUndefined(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    }\n    popupEleRefresh(width, popupEle, destroy) {\n        const popPriority = this.popupPriCount > 0;\n        let eleSplice = this.tbarEle;\n        let priEleCnt;\n        let index;\n        let innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        let ignoreCount = 0;\n        for (const el of [].slice.call(popupEle.children)) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                continue;\n            }\n            let elWidth = this.popupEleWidth(el);\n            if (el === this.tbarEle[0]) {\n                elWidth += this.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyleAttribute(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this.tbarEle.indexOf(el);\n                if (this.tbarAlign) {\n                    const pos = this.items[index].align;\n                    index = this.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                let sepBeforePri = 0;\n                if (this.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach((el) => {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri++;\n                        }\n                    });\n                }\n                ignoreCount = this.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this.tbarPriRef(innerEle, index, sepBeforePri, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                break;\n            }\n        }\n        const checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    }\n    removePositioning() {\n        const item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        const innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    }\n    refreshPositioning() {\n        const item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    }\n    itemPositioning() {\n        const item = this.element.querySelector('.' + CLS_ITEMS);\n        let margin;\n        if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        const popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        let innerItem;\n        if (this.scrollModule) {\n            const trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        let tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            const popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                this.enableRtl ? innerItem[2].style.top = popWid : innerItem[2].style.bottom = popWid;\n            }\n            else {\n                this.enableRtl ? innerItem[2].style.left = popWid : innerItem[2].style.right = popWid;\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        const value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        const mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            this.enableRtl ? innerItem[1].style.marginBottom = mrgn : innerItem[1].style.marginTop = mrgn;\n        }\n        else {\n            this.enableRtl ? innerItem[1].style.marginRight = mrgn : innerItem[1].style.marginLeft = mrgn;\n        }\n    }\n    tbarItemAlign(item, itemEle, pos) {\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        const alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach((ele) => {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            const alignEle = itemEle.childNodes;\n            const leftAlign = alignDiv[0];\n            [].slice.call(alignEle).forEach((el) => {\n                this.tbarAlgEle.lefts.push(el);\n                leftAlign.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    }\n    ctrlTemplate() {\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        const innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach((ele) => {\n            if (ele.tagName === 'DIV') {\n                this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                this.add(ele, CLS_ITEM);\n            }\n        });\n    }\n    renderItems() {\n        const ele = this.element;\n        const items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            let itemEleDom;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    }\n    setAttr(attr, element) {\n        const key = Object.keys(attr);\n        let keyVal;\n        for (let i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            keyVal === 'class' ? this.add(element, attr[keyVal]) : element.setAttribute(keyVal, attr[keyVal]);\n        }\n    }\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    enableItems(items, isEnable) {\n        const elements = items;\n        const len = elements.length;\n        let ele;\n        if (isNullOrUndefined(isEnable)) {\n            isEnable = true;\n        }\n        const enable = (isEnable, ele) => {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE$2);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE$2);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNullOrUndefined(len) && len >= 1) {\n            for (let a = 0, element = [].slice.call(elements); a < len; a++) {\n                const itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNullOrUndefined(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            isEnable ? removeClass(elements, CLS_DISABLE$2) : addClass(elements, CLS_DISABLE$2);\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNullOrUndefined(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    }\n    getElementByIndex(index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    }\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    addItems(items, index) {\n        let innerItems;\n        this.extendedOpen();\n        const itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNullOrUndefined(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        let innerEle;\n        let itemAgn = 'Left';\n        if (isNullOrUndefined(index)) {\n            index = 0;\n        }\n        items.forEach((e) => {\n            if (!isNullOrUndefined(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (const item of items) {\n            if (isNullOrUndefined(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNullOrUndefined(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                const algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                let ele;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    removeItems(args) {\n        const elements = args;\n        let index;\n        let innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (const ele of [].slice.call(elements)) {\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                const ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    }\n    removeItemByIndex(index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            const eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                const indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            const btnItem = innerItems[index].querySelector('.e-control.e-btn');\n            if (!isNullOrUndefined(btnItem) && !isNullOrUndefined(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    }\n    templateRender(templateProp, innerEle, item, index) {\n        const itemType = item.type;\n        const eleObj = templateProp;\n        let isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            let templateFn;\n            let val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNullOrUndefined(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    const ele = document.querySelector(val);\n                    const tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNullOrUndefined(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = compile(val);\n            }\n            let tempArray;\n            if (!isNullOrUndefined(templateFn)) {\n                const toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNullOrUndefined(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach((ele) => {\n                    if (!isNullOrUndefined(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            const ele = this.createElement('input');\n            item.id ? (ele.id = item.id) : (ele.id = getUniqueID('tbr-ipt'));\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    }\n    buttonRendering(item, innerEle) {\n        const dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        const textStr = item.text;\n        let iconCss;\n        let iconPos;\n        item.id ? (dom.id = item.id) : dom.id = getUniqueID('e-tbr-btn');\n        const btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        const btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyleAttribute(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    }\n    renderSubComponent(item, index) {\n        let dom;\n        const innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        const tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            const sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            const overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE$2);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    }\n    itemClick(e) {\n        this.activeEleSwitch(e.currentTarget);\n    }\n    activeEleSwitch(ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    }\n    activeEleRemove(curEle) {\n        if (!isNullOrUndefined(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    }\n    getPersistData() {\n        return this.addOnPersist([]);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    getModuleName() {\n        return 'toolbar';\n    }\n    itemsRerender(newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    resize() {\n        const ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        const checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            const multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNullOrUndefined(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                const eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR$1)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR$1).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    }\n    extendedOpen() {\n        const sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const tEle = this.element;\n        const wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        const changedProb = Object.keys(newProp.items);\n                        for (let i = 0; i < changedProb.length; i++) {\n                            const index = parseInt(Object.keys(newProp.items)[i], 10);\n                            const property = Object.keys(newProp.items[index])[0];\n                            const newProperty = Object(newProp.items[index])[property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                const popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                const booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNullOrUndefined(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                const itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[index]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[index]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[index].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL$2);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.add(tEle, CLS_RTL$2) : this.remove(tEle, CLS_RTL$2);\n                    if (!isNullOrUndefined(this.scrollModule)) {\n                        newProp.enableRtl ? this.add(this.scrollModule.element, CLS_RTL$2) : this.remove(this.scrollModule.element, CLS_RTL$2);\n                    }\n                    if (!isNullOrUndefined(this.popObj)) {\n                        newProp.enableRtl ? this.add(this.popObj.element, CLS_RTL$2) : this.remove(this.popObj.element, CLS_RTL$2);\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    }\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    hideItem(index, value) {\n        const isElement = (typeof (index) === 'object') ? true : false;\n        let eleIndex = index;\n        let initIndex;\n        let ele;\n        const innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            const innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems[eleIndex];\n        }\n        if (ele) {\n            value ? ele.classList.add(CLS_HIDDEN) : ele.classList.remove(CLS_HIDDEN);\n            if (value && isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNullOrUndefined(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    const innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems.indexOf(ele);\n                    }\n                    let nextEle = innerItems[++eleIndex];\n                    while (nextEle) {\n                        const skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems[++eleIndex];\n                    }\n                }\n            }\n            else if (isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                let setFlag = false;\n                let removeFlag = false;\n                let initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNullOrUndefined(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            const skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    }\n};\n__decorate$3([\n    Collection([], Item)\n], Toolbar.prototype, \"items\", void 0);\n__decorate$3([\n    Property('auto')\n], Toolbar.prototype, \"width\", void 0);\n__decorate$3([\n    Property('auto')\n], Toolbar.prototype, \"height\", void 0);\n__decorate$3([\n    Property('')\n], Toolbar.prototype, \"cssClass\", void 0);\n__decorate$3([\n    Property('Scrollable')\n], Toolbar.prototype, \"overflowMode\", void 0);\n__decorate$3([\n    Property()\n], Toolbar.prototype, \"scrollStep\", void 0);\n__decorate$3([\n    Property(true)\n], Toolbar.prototype, \"enableCollision\", void 0);\n__decorate$3([\n    Property(true)\n], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$3([\n    Property(true)\n], Toolbar.prototype, \"allowKeyboard\", void 0);\n__decorate$3([\n    Event()\n], Toolbar.prototype, \"clicked\", void 0);\n__decorate$3([\n    Event()\n], Toolbar.prototype, \"created\", void 0);\n__decorate$3([\n    Event()\n], Toolbar.prototype, \"destroyed\", void 0);\n__decorate$3([\n    Event()\n], Toolbar.prototype, \"beforeCreate\", void 0);\nToolbar = __decorate$3([\n    NotifyPropertyChanges\n], Toolbar);\n\n/**\n * Toolbar modules\n */\n\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CLS_ACRDN_ROOT = 'e-acrdn-root';\nconst CLS_ROOT$2 = 'e-accordion';\nconst CLS_ITEM$1 = 'e-acrdn-item';\nconst CLS_ITEMFOCUS = 'e-item-focus';\nconst CLS_ITEMHIDE = 'e-hide';\nconst CLS_HEADER = 'e-acrdn-header';\nconst CLS_HEADERICN = 'e-acrdn-header-icon';\nconst CLS_HEADERCTN = 'e-acrdn-header-content';\nconst CLS_CONTENT = 'e-acrdn-panel';\nconst CLS_CTENT = 'e-acrdn-content';\nconst CLS_TOOGLEICN = 'e-toggle-icon';\nconst CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nconst CLS_EXPANDICN = 'e-expand-icon';\nconst CLS_RTL$3 = 'e-rtl';\nconst CLS_CTNHIDE = 'e-content-hide';\nconst CLS_SLCT = 'e-select';\nconst CLS_SLCTED = 'e-selected';\nconst CLS_ACTIVE = 'e-active';\nconst CLS_ANIMATE = 'e-animate';\nconst CLS_DISABLE$3 = 'e-overlay';\nconst CLS_TOGANIMATE = 'e-toggle-animation';\nconst CLS_NEST = 'e-nested';\nconst CLS_EXPANDSTATE = 'e-expand-state';\nconst CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\nclass AccordionActionSettings extends ChildProperty {\n}\n__decorate$4([\n    Property('SlideDown')\n], AccordionActionSettings.prototype, \"effect\", void 0);\n__decorate$4([\n    Property(400)\n], AccordionActionSettings.prototype, \"duration\", void 0);\n__decorate$4([\n    Property('linear')\n], AccordionActionSettings.prototype, \"easing\", void 0);\n/**\n * Objects used for configuring the Accordion animation properties.\n */\nclass AccordionAnimationSettings extends ChildProperty {\n}\n__decorate$4([\n    Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n__decorate$4([\n    Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n], AccordionAnimationSettings.prototype, \"expand\", void 0);\n/**\n * An item object that is used to configure Accordion items.\n */\nclass AccordionItem extends ChildProperty {\n}\n__decorate$4([\n    Property(null)\n], AccordionItem.prototype, \"content\", void 0);\n__decorate$4([\n    Property(null)\n], AccordionItem.prototype, \"header\", void 0);\n__decorate$4([\n    Property(null)\n], AccordionItem.prototype, \"cssClass\", void 0);\n__decorate$4([\n    Property(null)\n], AccordionItem.prototype, \"iconCss\", void 0);\n__decorate$4([\n    Property(false)\n], AccordionItem.prototype, \"expanded\", void 0);\n__decorate$4([\n    Property(true)\n], AccordionItem.prototype, \"visible\", void 0);\n__decorate$4([\n    Property(false)\n], AccordionItem.prototype, \"disabled\", void 0);\n__decorate$4([\n    Property()\n], AccordionItem.prototype, \"id\", void 0);\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nlet Accordion = class Accordion extends Component {\n    /**\n     * Initializes a new instance of the Accordion class.\n     *\n     * @param {AccordionModel} options  - Specifies Accordion model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as an Accordion.\n     */\n    constructor(options, element) {\n        super(options, element);\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end'\n        };\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        const ele = this.element;\n        super.destroy();\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.restoreContent(null);\n        [].slice.call(ele.children).forEach((el) => {\n            ele.removeChild(el);\n        });\n        if (this.trgtEle) {\n            while (this.ctrlTem.firstElementChild) {\n                ele.appendChild(this.ctrlTem.firstElementChild);\n            }\n        }\n        ele.classList.remove(CLS_ACRDN_ROOT);\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach((attrb) => {\n            this.element.removeAttribute(attrb);\n        });\n        if (!this.isNested && isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    }\n    preRender() {\n        const nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (!isNullOrUndefined(nested)) {\n            nested.classList.add(CLS_NEST);\n            this.isNested = true;\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL$3);\n        }\n    }\n    add(ele, val) {\n        ele.classList.add(val);\n    }\n    remove(ele, val) {\n        ele.classList.remove(val);\n    }\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initializeHeaderTemplate();\n        this.initializeItemTemplate();\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    }\n    initialize() {\n        const width = formatUnit(this.width);\n        const height = formatUnit(this.height);\n        setStyleAttribute(this.element, { 'width': width, 'height': height });\n        const ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (isNullOrUndefined(this.initExpand)) {\n            this.initExpand = [];\n        }\n        if (this.expandedIndices.length > 0) {\n            this.initExpand = this.expandedIndices;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    }\n    renderControl() {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    }\n    wireFocusEvents() {\n        const acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1));\n        for (const item of acrdItem) {\n            const headerEle = item.querySelector('.' + CLS_HEADER);\n            if (item.childElementCount > 0 && headerEle) {\n                EventHandler.clearEvents(headerEle);\n                EventHandler.add(headerEle, 'focus', this.focusIn, this);\n                EventHandler.add(headerEle, 'blur', this.focusOut, this);\n            }\n        }\n    }\n    unwireEvents() {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNullOrUndefined(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    }\n    wireEvents() {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    }\n    templateParser(template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    }\n    initializeHeaderTemplate() {\n        if (this.headerTemplate) {\n            this.headerTemplateFn = this.templateParser(this.headerTemplate);\n        }\n    }\n    initializeItemTemplate() {\n        if (this.itemTemplate) {\n            this.itemTemplateFn = this.templateParser(this.itemTemplate);\n        }\n    }\n    /* eslint-disable */\n    getHeaderTemplate() {\n        return this.headerTemplateFn;\n    }\n    /* eslint-disable */\n    getItemTemplate() {\n        return this.itemTemplateFn;\n    }\n    focusIn(e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    }\n    focusOut(e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    }\n    ctrlTemplate() {\n        this.ctrlTem = this.element.cloneNode(true);\n        let innerEles;\n        const rootEle = select('.' + CLS_CONTAINER, this.element);\n        if (rootEle) {\n            innerEles = rootEle.children;\n        }\n        else {\n            innerEles = this.element.children;\n        }\n        const items = [];\n        /* eslint-disable */\n        [].slice.call(innerEles).forEach((el) => {\n            items.push({\n                header: (el.childElementCount > 0 && el.children[0]) ? (el.children[0]) : '',\n                content: (el.childElementCount > 1 && el.children[1]) ? (el.children[1]) : ''\n            });\n            el.parentNode.removeChild(el);\n        });\n        /* eslint-enable */\n        if (rootEle) {\n            this.element.removeChild(rootEle);\n        }\n        this.setProperties({ items: items }, true);\n    }\n    toggleIconGenerate() {\n        const tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        const hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    }\n    initItemExpand() {\n        const len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (let i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    renderItems() {\n        const ele = this.element;\n        let innerItem;\n        let innerDataSourceItem;\n        if (!isNullOrUndefined(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        if (this.dataSource.length > 0) {\n            this.dataSource.forEach((item, index) => {\n                innerDataSourceItem = this.renderInnerItem(item, index);\n                ele.appendChild(innerDataSourceItem);\n                if (innerDataSourceItem.childElementCount > 0) {\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n                }\n            });\n        }\n        else {\n            const items = this.items;\n            if (ele && items.length > 0) {\n                items.forEach((item, index) => {\n                    innerItem = this.renderInnerItem(item, index);\n                    ele.appendChild(innerItem);\n                    if (innerItem.childElementCount > 0) {\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n                    }\n                });\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    clickHandler(e) {\n        const trgt = e.target;\n        const items = this.getItems();\n        const eventArgs = {};\n        let tglIcon;\n        const acrdEle = closest(trgt, '.' + CLS_ROOT$2);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        const acrdnItem = closest(trgt, '.' + CLS_ITEM$1);\n        let acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        let acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNullOrUndefined(acrdnHdr) || isNullOrUndefined(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        let acrdnCtnItem;\n        if (acrdnHdr) {\n            acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM$1);\n        }\n        else if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM$1);\n        }\n        const index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        const ctnCheck = !isNullOrUndefined(tglIcon) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNullOrUndefined(acrdnCtn) || !isNullOrUndefined(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        else {\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n        const acrdActive = [];\n        this.trigger('clicked', eventArgs);\n        let cntclkCheck = (acrdnCtn && !isNullOrUndefined(select('.e-target', acrdnCtn)));\n        const inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT$2;\n        const inlineEleAcrdn = acrdnCtn && !isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) && isNullOrUndefined(closest(trgt, inlineAcrdnSel));\n        const nestContCheck = acrdnCtn && isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT$2) === this.element);\n        cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        const acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n        const acrdnchild = (acrdcontainer) ? acrdcontainer.children : this.element.children;\n        [].slice.call(acrdnchild).forEach((el) => {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        const acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1 + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (const el of acrdAniEle) {\n                acrdActive.push(el.parentElement);\n            }\n        }\n        const sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        let sameHeader = false;\n        if (!isNullOrUndefined(acrdnItem) && !isNullOrUndefined(acrdnHdr)) {\n            const acrdnCtn = select('.' + CLS_CONTENT, acrdnItem);\n            const acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            const expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNullOrUndefined(acrdnCtn)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach((el) => {\n                        this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn);\n            }\n            if (!isNullOrUndefined(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    }\n    eleMoveFocus(action, root, trgt) {\n        let clst;\n        let clstItem = closest(trgt, '.' + CLS_ITEM$1);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    }\n    keyActionHandler(e) {\n        const trgt = e.target;\n        const header = closest(e.target, CLS_HEADER);\n        if (isNullOrUndefined(header) && !trgt.classList.contains(CLS_ROOT$2) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        let clst;\n        const root = this.element;\n        let content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNullOrUndefined(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                break;\n        }\n    }\n    headerEleGenerate() {\n        const header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        const items = this.getItems();\n        const ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-selected': 'false', 'aria-label': 'collapsed',\n            'aria-disabled': 'false', 'aria-level': items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    }\n    renderInnerItem(item, index) {\n        const innerEle = this.createElement('div', { className: CLS_ITEM$1 });\n        innerEle.id = getUniqueID('acrdn_item');\n        if (isNullOrUndefined(item.id)) {\n            item.id = innerEle.id;\n        }\n        attributes(innerEle, { 'aria-expanded': 'false', 'role': 'row' });\n        if (this.headerTemplate) {\n            const ctnEle = this.headerEleGenerate();\n            const hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            append(this.getHeaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n            innerEle.appendChild(ctnEle);\n            ctnEle.appendChild(this.toggleIconGenerate());\n            this.add(innerEle, CLS_SLCT);\n            return innerEle;\n        }\n        if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n            if (this.enableHtmlSanitizer && typeof (item.header) === 'string') {\n                item.header = SanitizeHtmlHelper.sanitize(item.header);\n            }\n            const ctnEle = this.headerEleGenerate();\n            const hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        let hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNullOrUndefined(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            addClass([innerEle], item.cssClass.split(' '));\n        }\n        if (item.disabled) {\n            addClass([innerEle], CLS_DISABLE$3);\n        }\n        if (item.visible === false) {\n            addClass([innerEle], CLS_ITEMHIDE);\n        }\n        if (item.iconCss) {\n            const hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            const icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNullOrUndefined(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n            const hdrIcon = this.toggleIconGenerate();\n            if (isNullOrUndefined(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    }\n    angularnativeCondiCheck(item, prop) {\n        const property = prop === 'content' ? item.content : item.header;\n        const content = property;\n        if (this.isAngular && !isNullOrUndefined(content.elementRef)) {\n            const data = content.elementRef.nativeElement.data;\n            if (isNullOrUndefined(data) || data === '' || (data.indexOf('bindings=') === -1)) {\n                return true;\n            }\n            const parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n            if (!isNullOrUndefined(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    fetchElement(ele, value, index, isHeader) {\n        /* eslint-disable */\n        let templateFn;\n        let temString;\n        try {\n            if (document.querySelectorAll(value).length && value !== 'Button') {\n                const eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n        }\n        catch (e) {\n            if (typeof (value) === 'string') {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n                /* eslint-disable */\n            }\n            else if (!isNullOrUndefined(this.trgtEle) && (value instanceof (HTMLElement))) {\n                ele.appendChild(value);\n                ele.firstElementChild.style.display = '';\n                /* eslint-enable */\n            }\n            else {\n                templateFn = compile(value);\n            }\n        }\n        let tempArray;\n        if (!isNullOrUndefined(templateFn)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            let templateProps;\n            let templateName;\n            if (ele.classList.contains(CLS_HEADERCTN)) {\n                templateProps = this.element.id + index + '_header';\n                templateName = 'header';\n            }\n            else if (ele.classList.contains(CLS_CTENT)) {\n                templateProps = this.element.id + index + '_content';\n                templateName = 'content';\n            }\n            tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n        }\n        if (!isNullOrUndefined(tempArray) && tempArray.length > 0 && !(isNullOrUndefined(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach((el) => {\n                if (!isNullOrUndefined(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        }\n        if (!isNullOrUndefined(temString)) {\n            if (this.templateEle.indexOf(value) === -1) {\n                this.templateEle.push(value);\n            }\n        }\n        return ele;\n    }\n    ariaAttrUpdate(itemEle) {\n        const header = select('.' + CLS_HEADER, itemEle);\n        const content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n        content.setAttribute('role', 'definition');\n    }\n    contentRendering(index) {\n        const itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        const ctn = this.createElement('div', { className: CLS_CTENT });\n        if (this.dataSource.length > 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n            itemcnt.appendChild(ctn);\n        }\n        else {\n            if (this.enableHtmlSanitizer && typeof (this.items[index].content)) {\n                this.items[index].content = SanitizeHtmlHelper.sanitize(this.items[index].content);\n            }\n            itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n        }\n        return itemcnt;\n    }\n    expand(trgt) {\n        const items = this.getItems();\n        const trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n        if (isNullOrUndefined(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        const acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        const expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        const animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        const icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        const eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: true\n        };\n        this.trigger('expanding', eventArgs, (expandArgs) => {\n            if (!expandArgs.cancel) {\n                icon.classList.add(CLS_TOGANIMATE);\n                this.expandedItemsPush(trgtItemEle);\n                if (!isNullOrUndefined(expandState)) {\n                    expandState.classList.remove(CLS_EXPANDSTATE);\n                }\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                if ((animation.name === 'None')) {\n                    this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n                }\n            }\n        });\n    }\n    expandAnimation(ef, icn, trgt, trgtItemEle, animate, args) {\n        let height;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = () => {\n                this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = () => {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = () => {\n                setStyleAttribute(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = () => {\n                this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = () => {\n                this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    }\n    expandProgress(progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgtItemEle, { 'aria-expanded': 'true' });\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'true', 'aria-label': 'expanded' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    }\n    expandedItemsPush(item) {\n        const index = this.getIndexByItem(item);\n        if (this.expandedIndices.indexOf(index) === -1) {\n            const temp = [].slice.call(this.expandedIndices);\n            temp.push(index);\n            this.setProperties({ expandedIndices: temp }, true);\n        }\n    }\n    getIndexByItem(item) {\n        const itemEle = this.getItemElements();\n        return [].slice.call(itemEle).indexOf(item);\n    }\n    getItemElements() {\n        const itemEle = [];\n        const itemCollection = this.element.children;\n        [].slice.call(itemCollection).forEach((el) => {\n            if (el.classList.contains(CLS_ITEM$1)) {\n                itemEle.push(el);\n            }\n        });\n        return itemEle;\n    }\n    expandedItemsPop(item) {\n        const index = this.getIndexByItem(item);\n        const temp = [].slice.call(this.expandedIndices);\n        temp.splice(temp.indexOf(index), 1);\n        this.setProperties({ expandedIndices: temp }, true);\n    }\n    collapse(trgt) {\n        const items = this.getItems();\n        const trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n        if (isNullOrUndefined(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        const animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing\n        };\n        const icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        const eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: false\n        };\n        this.trigger('expanding', eventArgs, (expandArgs) => {\n            if (!expandArgs.cancel) {\n                this.expandedItemsPop(trgtItemEle);\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                icon.classList.add(CLS_TOGANIMATE);\n                if ((animation.name === 'None')) {\n                    this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n                }\n            }\n        });\n    }\n    collapseAnimation(ef, trgt, trgtItEl, icn, animate, args) {\n        let height;\n        let trgtHeight;\n        let itemHeight;\n        let remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = () => {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = () => {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = () => {\n                trgt.style.display = 'none';\n                this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyleAttribute(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = () => {\n                this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = () => {\n                this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    }\n    collapseProgress(progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgtItemEle, { 'aria-expanded': 'false' });\n            attributes(trgt.previousElementSibling, { 'aria-selected': 'false', 'aria-label': 'collapsed' });\n            this.trigger('expanded', eventArgs);\n        }\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    getModuleName() {\n        return 'accordion';\n    }\n    itemAttribUpdate() {\n        const items = this.getItems();\n        const itemEle = this.getItemElements();\n        const itemLen = items.length;\n        itemEle.forEach((ele) => {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    }\n    getItems() {\n        let items;\n        if (this.itemTemplate && this.headerTemplate) {\n            items = this.dataSource;\n        }\n        else {\n            items = this.items;\n        }\n        return items;\n    }\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     *\n     * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns {void}\n     */\n    addItem(item, index) {\n        const ele = this.element;\n        const itemEle = this.getItemElements();\n        const items = this.getItems();\n        if (isNullOrUndefined(index)) {\n            index = items.length;\n        }\n        if (ele.childElementCount >= index) {\n            const addItems = (item instanceof Array) ? item : [item];\n            addItems.forEach((addItem, i) => {\n                const itemIndex = index + i;\n                items.splice(itemIndex, 0, addItem);\n                const innerItemEle = this.renderInnerItem(addItem, itemIndex);\n                if (ele.childElementCount === itemIndex) {\n                    ele.appendChild(innerItemEle);\n                }\n                else {\n                    ele.insertBefore(innerItemEle, itemEle[itemIndex]);\n                }\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', this.focusIn, this);\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', this.focusOut, this);\n                this.itemAttribUpdate();\n                this.expandedIndices = [];\n                this.expandedItemRefresh(ele);\n                if (addItem && addItem.expanded) {\n                    this.expandItem(true, itemIndex);\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    expandedItemRefresh(ele) {\n        const itemEle = this.getItemElements();\n        [].slice.call(itemEle).forEach((el) => {\n            if (el.classList.contains(CLS_SLCTED)) {\n                this.expandedItemsPush(el);\n            }\n        });\n    }\n    /**\n     * Dynamically removes item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns {void}.\n     */\n    removeItem(index) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n        }\n        const itemEle = this.getItemElements();\n        const ele = itemEle[index];\n        const items = this.getItems();\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        this.restoreContent(index);\n        detach(ele);\n        items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedIndices = [];\n        this.expandedItemRefresh(this.element);\n    }\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns {void}.\n     */\n    select(index) {\n        const itemEle = this.getItemElements();\n        const ele = itemEle[index];\n        if (isNullOrUndefined(ele) || isNullOrUndefined(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    }\n    /**\n     * Shows or hides the specified item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     * If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns {void}.\n     */\n    hideItem(index, isHidden) {\n        const itemEle = this.getItemElements();\n        const ele = itemEle[index];\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        if (isNullOrUndefined(isHidden)) {\n            isHidden = true;\n        }\n        if (isHidden) {\n            this.add(ele, CLS_ITEMHIDE);\n        }\n        else {\n            this.remove(ele, CLS_ITEMHIDE);\n        }\n    }\n    /**\n     * Enables/Disables the specified Accordion item.\n     *\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns {void}.\n     */\n    enableItem(index, isEnable) {\n        const itemEle = this.getItemElements();\n        const ele = itemEle[index];\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        const eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE$3);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE$3);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    }\n    /**\n     * Expands/Collapses the specified Accordion item.\n     *\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     * Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns {void}.\n     */\n    expandItem(isExpand, index) {\n        const itemEle = this.getItemElements();\n        if (isNullOrUndefined(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                const ele = itemEle[itemEle.length - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                const item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(itemEle).forEach((el) => {\n                    this.itemExpand(isExpand, el, this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                const expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            const ele = itemEle[index];\n            if (isNullOrUndefined(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    }\n    itemExpand(isExpand, ele, index) {\n        let ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        if (isNullOrUndefined(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n            this.expand(ctn);\n        }\n        else if (!isNullOrUndefined(ctn)) {\n            if (isExpand) {\n                this.expand(ctn);\n            }\n            else {\n                this.collapse(ctn);\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    destroyItems() {\n        this.restoreContent(null);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1)).forEach((el) => {\n            detach(el);\n        });\n    }\n    restoreContent(index) {\n        let ctnElePos;\n        if (isNullOrUndefined(index)) {\n            ctnElePos = this.element;\n        }\n        else {\n            ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM$1)[index];\n        }\n        this.templateEle.forEach((eleStr) => {\n            if (!isNullOrUndefined(ctnElePos.querySelector(eleStr))) {\n                document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    }\n    updateItem(item, index) {\n        if (!isNullOrUndefined(item)) {\n            const items = this.getItems();\n            const itemObj = items[index];\n            items.splice(index, 1);\n            this.restoreContent(index);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    }\n    setTemplate(template, toElement, index) {\n        toElement.innerHTML = '';\n        this.templateCompile(toElement, template, index);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    // eslint-disable-next-line\n    templateCompile(ele, cnt, index) {\n        const tempEle = this.createElement('div');\n        this.fetchElement(tempEle, cnt, index, false);\n        if (tempEle.childNodes.length !== 0) {\n            [].slice.call(tempEle.childNodes).forEach((childEle) => {\n                ele.appendChild(childEle);\n            });\n        }\n    }\n    getPersistData() {\n        const keyEntity = ['expandedIndices'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {AccordionModel} newProp - It contains the new value of data.\n     * @param  {AccordionModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const acrdn = this.element;\n        let isRefresh = false;\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        const changedProp = Object.keys(newProp.items);\n                        for (let j = 0; j < changedProp.length; j++) {\n                            const index = parseInt(Object.keys(newProp.items)[j], 10);\n                            const property = Object.keys(newProp.items[index])[0];\n                            const item = selectAll('.' + CLS_ITEM$1, this.element)[index];\n                            const oldVal = Object(oldProp.items[index])[property];\n                            const newVal = Object(newProp.items[index])[property];\n                            const temp = property;\n                            if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || ((temp === 'content') && (oldVal === ''))) {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNullOrUndefined(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'visible' && !isNullOrUndefined(item)) {\n                                if (Object(newProp.items[index])[property] === false) {\n                                    item.classList.add(CLS_ITEMHIDE);\n                                }\n                                else {\n                                    item.classList.remove(CLS_ITEMHIDE);\n                                }\n                            }\n                            if (property === 'disabled' && !isNullOrUndefined(item)) {\n                                this.enableItem(index, !newVal);\n                            }\n                            if (property === 'content' && !isNullOrUndefined(item) && item.children.length === 2) {\n                                if (typeof newVal === 'function') {\n                                    const activeContent = item.querySelector('.' + CLS_CTENT);\n                                    activeContent.innerHTML = '';\n                                    this.setTemplate(newVal, activeContent, index);\n                                }\n                                else {\n                                    if (item.classList.contains(CLS_SLCTED)) {\n                                        this.expandItem(false, index);\n                                    }\n                                    detach(item.querySelector('.' + CLS_CONTENT));\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'dataSource':\n                case 'expandedIndices':\n                    if (this.expandedIndices === null) {\n                        this.expandedIndices = [];\n                    }\n                    isRefresh = true;\n                    break;\n                case 'headerTemplate':\n                    this.initializeHeaderTemplate();\n                    isRefresh = true;\n                    break;\n                case 'itemTemplate':\n                    this.initializeItemTemplate();\n                    isRefresh = true;\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(acrdn, CLS_RTL$3);\n                    }\n                    else {\n                        this.remove(acrdn, CLS_RTL$3);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedIndices.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n        if (isRefresh) {\n            this.initExpand = [];\n            if (this.expandedIndices.length > 0) {\n                this.initExpand = this.expandedIndices;\n            }\n            this.destroyItems();\n            this.renderItems();\n            this.initItemExpand();\n        }\n    }\n};\n__decorate$4([\n    Collection([], AccordionItem)\n], Accordion.prototype, \"items\", void 0);\n__decorate$4([\n    Property([])\n], Accordion.prototype, \"dataSource\", void 0);\n__decorate$4([\n    Property()\n], Accordion.prototype, \"itemTemplate\", void 0);\n__decorate$4([\n    Property()\n], Accordion.prototype, \"headerTemplate\", void 0);\n__decorate$4([\n    Property('100%')\n], Accordion.prototype, \"width\", void 0);\n__decorate$4([\n    Property('auto')\n], Accordion.prototype, \"height\", void 0);\n__decorate$4([\n    Property([])\n], Accordion.prototype, \"expandedIndices\", void 0);\n__decorate$4([\n    Property('Multiple')\n], Accordion.prototype, \"expandMode\", void 0);\n__decorate$4([\n    Property(false)\n], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$4([\n    Complex({}, AccordionAnimationSettings)\n], Accordion.prototype, \"animation\", void 0);\n__decorate$4([\n    Event()\n], Accordion.prototype, \"clicked\", void 0);\n__decorate$4([\n    Event()\n], Accordion.prototype, \"expanding\", void 0);\n__decorate$4([\n    Event()\n], Accordion.prototype, \"expanded\", void 0);\n__decorate$4([\n    Event()\n], Accordion.prototype, \"created\", void 0);\n__decorate$4([\n    Event()\n], Accordion.prototype, \"destroyed\", void 0);\nAccordion = __decorate$4([\n    NotifyPropertyChanges\n], Accordion);\n\n/**\n * Accordion all modules\n */\n\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nlet ContextMenu = class ContextMenu extends MenuBase {\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {ContextMenuModel} options - Specifies the context menu model\n     * @param {string} element - Specifies the element\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        this.isMenu = false;\n        this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n        super.preRender();\n    }\n    initialize() {\n        super.initialize();\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    }\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     *\n     * @param {number} top - To specify ContextMenu vertical positioning.\n     * @param {number} left - To specify ContextMenu horizontal positioning.\n     * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n     * @function open\n     * @returns {void}\n     */\n    open(top, left, target) {\n        super.openMenu(null, null, top, left, null, target);\n    }\n    /**\n     * Closes the ContextMenu if it is opened.\n     *\n     * @function close\n     * @returns {void}\n     */\n    close() {\n        super.closeMenu();\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {ContextMenuModel} newProp - Specifies new properties\n     * @param {ContextMenuModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        super.onPropertyChanged(newProp, oldProp);\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents(oldProp.target);\n                    this.wireEvents();\n                    break;\n            }\n        }\n    }\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    getModuleName() {\n        return 'contextmenu';\n    }\n};\n__decorate$5([\n    Property('')\n], ContextMenu.prototype, \"target\", void 0);\n__decorate$5([\n    Property('')\n], ContextMenu.prototype, \"filter\", void 0);\n__decorate$5([\n    Collection([], MenuItem)\n], ContextMenu.prototype, \"items\", void 0);\nContextMenu = __decorate$5([\n    NotifyPropertyChanges\n], ContextMenu);\n\n/**\n * ContextMenu modules\n */\n\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\nconst VMENU = 'e-vertical';\nconst SCROLLABLE = 'e-scrollable';\nconst HAMBURGER = 'e-hamburger';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\nlet Menu = class Menu extends MenuBase {\n    /**\n     * Constructor for creating the component.\n     *\n     * @private\n     * @param {MenuModel} options - Specifies the menu model\n     * @param {string} element - Specifies the element\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.tempItems = [];\n    }\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    getModuleName() {\n        return 'menu';\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        this.isMenu = true;\n        this.element.id = this.element.id || getUniqueID('ej2-menu');\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.template = document.querySelector(this.template).innerHTML.trim();\n                    this.clearChanges();\n                }\n            }\n            catch (e) {\n                /* action on catch */\n            }\n        }\n        else {\n            this.updateMenuItems(this.items);\n        }\n        super.preRender();\n    }\n    initialize() {\n        super.initialize();\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        if (this.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n            if (this.hamburgerMode && !this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n            }\n            this.element.setAttribute('aria-orientation', 'vertical');\n        }\n        else {\n            if (Browser.isDevice && !this.enableScrolling) {\n                this.element.parentElement.classList.add(SCROLLABLE);\n            }\n        }\n        if (this.hamburgerMode) {\n            this.element.parentElement.classList.add(HAMBURGER);\n            if (this.orientation === 'Horizontal') {\n                this.element.classList.add('e-hide-menu');\n            }\n        }\n    }\n    updateMenuItems(items) {\n        this.tempItems = items;\n        this.items = [];\n        this.tempItems.map(this.createMenuItems, this);\n        this.setProperties({ items: this.items }, true);\n        this.tempItems = [];\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuModel} newProp - Specifies the new properties.\n     * @param {MenuModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'orientation':\n                    if (newProp.orientation === 'Vertical') {\n                        this.element.classList.add(VMENU);\n                        if (this.hamburgerMode) {\n                            if (!this.target) {\n                                this.element.previousElementSibling.classList.add(VMENU);\n                            }\n                            this.element.classList.remove('e-hide-menu');\n                        }\n                        this.element.setAttribute('aria-orientation', 'vertical');\n                    }\n                    else {\n                        this.element.classList.remove(VMENU);\n                        if (this.hamburgerMode) {\n                            if (!this.target) {\n                                this.element.previousElementSibling.classList.remove(VMENU);\n                            }\n                            this.element.classList.add('e-hide-menu');\n                        }\n                        this.element.removeAttribute('aria-orientation');\n                    }\n                    break;\n                case 'items':\n                    if (!Object.keys(oldProp.items).length) {\n                        this.updateMenuItems(newProp.items);\n                    }\n                    break;\n                case 'hamburgerMode':\n                    if (!this.element.previousElementSibling) {\n                        super.createHeaderContainer();\n                    }\n                    if (newProp.hamburgerMode) {\n                        this.element.parentElement.classList.add(HAMBURGER);\n                        [].slice.call(this.element.getElementsByClassName('e-blankicon')).forEach((li) => {\n                            li.style[this.enableRtl ? 'paddingRight' : 'paddingLeft'] = '';\n                        });\n                    }\n                    else {\n                        this.element.parentElement.classList.remove(HAMBURGER);\n                        if (this.orientation === 'Vertical') {\n                            this.setBlankIconStyle(this.element);\n                        }\n                    }\n                    if (this.orientation === 'Vertical') {\n                        if (!this.target) {\n                            this.element.previousElementSibling.classList.add(VMENU);\n                        }\n                        this.element.classList.remove('e-hide-menu');\n                    }\n                    else {\n                        if (this.target) {\n                            this.element.previousElementSibling.classList.add(VMENU);\n                        }\n                        else {\n                            this.element.previousElementSibling.classList.remove(VMENU);\n                        }\n                        this.element.classList[newProp.hamburgerMode ? 'add' : 'remove']('e-hide-menu');\n                    }\n                    break;\n                case 'title':\n                    if (this.hamburgerMode && this.element.previousElementSibling) {\n                        newProp.title = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(newProp.title) : newProp.title;\n                        this.element.previousElementSibling.querySelector('.e-menu-title').innerHTML = newProp.title;\n                    }\n                    break;\n                case 'target':\n                    if (this.hamburgerMode) {\n                        this.unWireEvents(oldProp.target);\n                        this.wireEvents();\n                        if (this.orientation === 'Horizontal') {\n                            if (!newProp.target) {\n                                if (!this.element.previousElementSibling) {\n                                    super.createHeaderContainer();\n                                }\n                                this.element.previousElementSibling.classList.remove(VMENU);\n                            }\n                            else {\n                                this.element.previousElementSibling.classList.add(VMENU);\n                            }\n                            this.element.classList.add('e-hide-menu');\n                        }\n                    }\n                    break;\n            }\n        }\n        super.onPropertyChanged(newProp, oldProp);\n    }\n    createMenuItems(item) {\n        let idx;\n        let i;\n        let items = this.items;\n        const pIdField = this.getField('parentId');\n        if (item[pIdField]) {\n            idx = this.getIndex(item[pIdField].toString(), true);\n            for (i = 0; i < idx.length; i++) {\n                if (!items[idx[i]].items) {\n                    items[idx[i]].items = [];\n                }\n                items = items[idx[i]].items;\n            }\n            items.push(item);\n        }\n        else {\n            this.items.push(item);\n        }\n    }\n    /**\n     * This method is used to open the Menu in hamburger mode.\n     *\n     * @function open\n     * @returns {void}\n     */\n    open() {\n        super.openHamburgerMenu();\n    }\n    /**\n     * Closes the Menu if it is opened in hamburger mode.\n     *\n     * @function close\n     * @returns {void}\n     */\n    close() {\n        super.closeHamburgerMenu();\n    }\n};\n__decorate$6([\n    Property('Horizontal')\n], Menu.prototype, \"orientation\", void 0);\n__decorate$6([\n    Property('')\n], Menu.prototype, \"target\", void 0);\n__decorate$6([\n    Property(null)\n], Menu.prototype, \"template\", void 0);\n__decorate$6([\n    Property(false)\n], Menu.prototype, \"enableScrolling\", void 0);\n__decorate$6([\n    Property(false)\n], Menu.prototype, \"hamburgerMode\", void 0);\n__decorate$6([\n    Property('Menu')\n], Menu.prototype, \"title\", void 0);\n__decorate$6([\n    Property(false)\n], Menu.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$6([\n    Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n], Menu.prototype, \"fields\", void 0);\nMenu = __decorate$6([\n    NotifyPropertyChanges\n], Menu);\n\n/**\n * Menu modules\n */\n\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CLS_TAB = 'e-tab';\nconst CLS_HEADER$1 = 'e-tab-header';\nconst CLS_BLA_TEM = 'blazor-template';\nconst CLS_CONTENT$1 = 'e-content';\nconst CLS_NEST$1 = 'e-nested';\nconst CLS_ITEMS$1 = 'e-items';\nconst CLS_ITEM$2 = 'e-item';\nconst CLS_TEMPLATE$1 = 'e-template';\nconst CLS_RTL$4 = 'e-rtl';\nconst CLS_ACTIVE$1 = 'e-active';\nconst CLS_DISABLE$4 = 'e-disable';\nconst CLS_HIDDEN$1 = 'e-hidden';\nconst CLS_FOCUS = 'e-focused';\nconst CLS_ICONS = 'e-icons';\nconst CLS_ICON = 'e-icon';\nconst CLS_ICON_TAB = 'e-icon-tab';\nconst CLS_ICON_CLOSE = 'e-close-icon';\nconst CLS_CLOSE_SHOW = 'e-close-show';\nconst CLS_TEXT = 'e-tab-text';\nconst CLS_INDICATOR = 'e-indicator';\nconst CLS_WRAP = 'e-tab-wrap';\nconst CLS_TEXT_WRAP = 'e-text-wrap';\nconst CLS_TAB_ICON = 'e-tab-icon';\nconst CLS_TB_ITEMS = 'e-toolbar-items';\nconst CLS_TB_ITEM = 'e-toolbar-item';\nconst CLS_TB_POP = 'e-toolbar-pop';\nconst CLS_TB_POPUP = 'e-toolbar-popup';\nconst CLS_HOR_NAV = 'e-hor-nav';\nconst CLS_POPUP_OPEN = 'e-popup-open';\nconst CLS_POPUP_CLOSE = 'e-popup-close';\nconst CLS_PROGRESS = 'e-progress';\nconst CLS_IGNORE = 'e-ignore';\nconst CLS_OVERLAY$2 = 'e-overlay';\nconst CLS_HSCRCNT = 'e-hscroll-content';\nconst CLS_VSCRCNT = 'e-vscroll-content';\nconst CLS_VTAB = 'e-vertical-tab';\nconst CLS_VERTICAL$1 = 'e-vertical';\nconst CLS_VLEFT = 'e-vertical-left';\nconst CLS_VRIGHT = 'e-vertical-right';\nconst CLS_HBOTTOM = 'e-horizontal-bottom';\nconst CLS_FILL = 'e-fill-mode';\nconst TABITEMPREFIX = 'tabitem_';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\nclass TabActionSettings extends ChildProperty {\n}\n__decorate$7([\n    Property('SlideLeftIn')\n], TabActionSettings.prototype, \"effect\", void 0);\n__decorate$7([\n    Property(600)\n], TabActionSettings.prototype, \"duration\", void 0);\n__decorate$7([\n    Property('ease')\n], TabActionSettings.prototype, \"easing\", void 0);\n/**\n * Objects used for configuring the Tab animation properties.\n */\nclass TabAnimationSettings extends ChildProperty {\n}\n__decorate$7([\n    Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n], TabAnimationSettings.prototype, \"previous\", void 0);\n__decorate$7([\n    Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n], TabAnimationSettings.prototype, \"next\", void 0);\n/**\n * Objects used for configuring the Tab item header properties.\n */\nclass Header extends ChildProperty {\n}\n__decorate$7([\n    Property('')\n], Header.prototype, \"text\", void 0);\n__decorate$7([\n    Property('')\n], Header.prototype, \"iconCss\", void 0);\n__decorate$7([\n    Property('left')\n], Header.prototype, \"iconPosition\", void 0);\n/**\n * An array of object that is used to configure the Tab.\n */\nclass TabItem extends ChildProperty {\n}\n__decorate$7([\n    Complex({}, Header)\n], TabItem.prototype, \"header\", void 0);\n__decorate$7([\n    Property(null)\n], TabItem.prototype, \"headerTemplate\", void 0);\n__decorate$7([\n    Property('')\n], TabItem.prototype, \"content\", void 0);\n__decorate$7([\n    Property('')\n], TabItem.prototype, \"cssClass\", void 0);\n__decorate$7([\n    Property(false)\n], TabItem.prototype, \"disabled\", void 0);\n__decorate$7([\n    Property(true)\n], TabItem.prototype, \"visible\", void 0);\n__decorate$7([\n    Property()\n], TabItem.prototype, \"id\", void 0);\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nlet Tab = class Tab extends Component {\n    /**\n     * Initializes a new instance of the Tab class.\n     *\n     * @param {TabModel} options  - Specifies Tab model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.show = {};\n        this.hide = {};\n        this.maxHeight = 0;\n        this.title = 'Close';\n        this.lastIndex = 0;\n        this.isAdd = false;\n        this.isIconAlone = false;\n        this.draggableItems = [];\n        this.resizeContext = this.refreshActElePosition.bind(this);\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (!isNullOrUndefined(this.tbObj)) {\n            this.tbObj.destroy();\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation'].forEach((val) => {\n            this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            while (this.element.firstElementChild) {\n                remove(this.element.firstElementChild);\n            }\n        }\n        else {\n            const cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n            this.element.classList.remove(CLS_TEMPLATE$1);\n            if (!isNullOrUndefined(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        super.destroy();\n        this.trigger('destroyed');\n    }\n    /**\n     * Refresh the tab component\n     *\n     * @returns {void}\n     */\n    refresh() {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        super.refresh();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    /**\n     * Initialize component\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        const nested = closest(this.element, '.' + CLS_CONTENT$1);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (!isNullOrUndefined(nested)) {\n            nested.parentElement.classList.add(CLS_NEST$1);\n            this.isNested = true;\n        }\n        const name = Browser.info.name;\n        const css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '' });\n        this.setCssClass(this.element, css, true);\n        this.updatePopAnimationConfig();\n    }\n    /**\n     * Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.tabId = this.element.id.length > 0 ? ('-' + this.element.id) : getRandomId();\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    }\n    renderContainer() {\n        const ele = this.element;\n        this.items.forEach((item, index) => {\n            if (isNullOrUndefined(item.id) && !isNullOrUndefined(item.setProperties)) {\n                item.setProperties({ id: TABITEMPREFIX + index.toString() }, true);\n            }\n        });\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT$1 }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER$1 }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE$1);\n            const header = ele.querySelector('.' + CLS_HEADER$1);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNullOrUndefined(select('.' + CLS_HEADER$1, this.element)) && !isNullOrUndefined(select('.' + CLS_CONTENT$1, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNullOrUndefined(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN$1 + ' ' + CLS_IGNORE });\n                const scrCnt = select('.' + this.scrCntClass, this.tbItems);\n                if (!isNullOrUndefined(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            if (!isNullOrUndefined(this.tbItem)) {\n                for (let i = 0; i < this.items.length; i++) {\n                    const tabID = this.items[i].id;\n                    this.tbItem[i].setAttribute('data-id', tabID);\n                }\n            }\n            this.setRTL(this.enableRtl);\n        }\n    }\n    serverItemsChanged() {\n        this.enableAnimation = false;\n        this.setActive(this.selectedItem, true);\n        if (this.loadOn !== 'Dynamic' && !isNullOrUndefined(this.cntEle)) {\n            const itemCollection = [].slice.call(this.cntEle.children);\n            const content = CLS_CONTENT$1 + this.tabId + '_' + this.selectedItem;\n            itemCollection.forEach((item) => {\n                if (item.classList.contains(CLS_ACTIVE$1) && item.id !== content) {\n                    item.classList.remove(CLS_ACTIVE$1);\n                }\n                if (item.id === content) {\n                    item.classList.add(CLS_ACTIVE$1);\n                }\n            });\n            this.prevIndex = this.selectedItem;\n            this.triggerAnimation(CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, false);\n        }\n        this.enableAnimation = true;\n    }\n    headerReady() {\n        this.initRender = true;\n        this.hdrEle = this.getTabHeader();\n        this.setOrientation(this.headerPlacement, this.hdrEle);\n        if (!isNullOrUndefined(this.hdrEle)) {\n            this.tbObj = (this.hdrEle && this.hdrEle.ej2_instances[0]);\n        }\n        this.tbObj.clicked = this.clickHandler.bind(this);\n        this.tbObj.on('onItemsChanged', this.serverItemsChanged.bind(this));\n        this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n        if (!isNullOrUndefined(this.tbItems)) {\n            rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n        }\n        if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n            this.bdrLine = select('.' + CLS_INDICATOR + '.' + CLS_IGNORE, this.element);\n            const scrollCnt = select('.' + this.scrCntClass, this.tbItems);\n            if (!isNullOrUndefined(scrollCnt)) {\n                scrollCnt.insertBefore(this.bdrLine, scrollCnt.firstElementChild);\n            }\n            else {\n                this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstElementChild);\n            }\n            this.select(this.selectedItem);\n        }\n        this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        if (this.loadOn === 'Demand') {\n            const id = this.setActiveContent();\n            this.triggerAnimation(id, false);\n        }\n        this.initRender = false;\n        this.renderComplete();\n    }\n    setActiveContent() {\n        const id = CLS_ITEM$2 + this.tabId + '_' + this.selectedItem;\n        const item = this.getTrgContent(this.cntEle, this.extIndex(id));\n        if (!isNullOrUndefined(item)) {\n            item.classList.add(CLS_ACTIVE$1);\n        }\n        return id;\n    }\n    renderHeader() {\n        const hdrPlace = this.headerPlacement;\n        let tabItems = [];\n        this.hdrEle = this.getTabHeader();\n        this.addVerticalClass();\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER$1)) {\n                this.setProperties({ headerPlacement: 'Bottom' }, true);\n            }\n            const count = this.hdrEle.children.length;\n            const hdrItems = [];\n            for (let i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                while (this.hdrEle.firstElementChild) {\n                    detach(this.hdrEle.firstElementChild);\n                }\n                const tabItems = this.createElement('div', { className: CLS_ITEMS$1 });\n                this.hdrEle.appendChild(tabItems);\n                hdrItems.forEach((item, index) => {\n                    this.lastIndex = index;\n                    const attr = {\n                        className: CLS_ITEM$2, id: CLS_ITEM$2 + this.tabId + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index, 'aria-selected': 'false' }\n                    };\n                    const txt = this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    const cont = this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + this.btnCls.outerHTML\n                    }).outerHTML;\n                    const wrap = this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    tabItems.appendChild(this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM$2, tabItems)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: (hdrPlace === 'Left' || hdrPlace === 'Right') ? 'auto' : '100%',\n            height: (hdrPlace === 'Left' || hdrPlace === 'Right') ? '100%' : 'auto',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this),\n            scrollStep: this.scrollStep,\n            enableHtmlSanitizer: this.enableHtmlSanitizer\n        });\n        this.tbObj.isStringTemplate = true;\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.hdrEle, { 'aria-label': 'tab-header' });\n        this.updateOrientationAttribute();\n        this.setCloseButton(this.showCloseButton);\n    }\n    renderContent() {\n        this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n        const hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            const contents = this.cntEle.children;\n            for (let i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    addClass([contents.item(i)], CLS_ITEM$2);\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + i });\n                    contents.item(i).id = CLS_CONTENT$1 + this.tabId + '_' + i;\n                }\n            }\n        }\n    }\n    reRenderItems() {\n        this.renderContainer();\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    }\n    parseObject(items, index) {\n        const tbCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n        const tItems = [];\n        let txtWrapEle;\n        const spliceArray = [];\n        items.forEach((item, i) => {\n            const pos = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            const css = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss)) ? '' : item.header.iconCss;\n            if ((isNullOrUndefined(item.headerTemplate)) && (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.text) ||\n                ((item.header.text.length === 0)) && (css === ''))) {\n                spliceArray.push(i);\n                return;\n            }\n            let txt = item.headerTemplate || item.header.text;\n            if (typeof txt === 'string' && this.enableHtmlSanitizer) {\n                txt = SanitizeHtmlHelper.sanitize(txt);\n            }\n            let itemIndex;\n            if (this.isReplace && !isNullOrUndefined(this.tbId) && this.tbId !== '') {\n                const num = (this.tbId.indexOf('_'));\n                itemIndex = parseInt(this.tbId.substring(num + 1), 10);\n                this.tbId = '';\n            }\n            else {\n                itemIndex = index + i;\n            }\n            const addIndex = this.isAdd ? tbCount + i : this.lastIndex + 1;\n            this.lastIndex = ((tbCount === 0) ? i : ((this.isReplace) ? (itemIndex) : (addIndex)));\n            const disabled = (item.disabled) ? ' ' + CLS_DISABLE$4 + ' ' + CLS_OVERLAY$2 : '';\n            const hidden = (item.visible === false) ? ' ' + CLS_HIDDEN$1 : '';\n            txtWrapEle = this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            const tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            const txtEmpty = (!isNullOrUndefined(tHtml) && tHtml !== '');\n            if (!isNullOrUndefined(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                this.headerTextCompile(txtWrapEle, txt, i);\n            }\n            let tEle;\n            const icon = this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            const tCont = this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt !== '' && txt !== undefined) && css !== '') {\n                if ((pos === 'left' || pos === 'top')) {\n                    tCont.insertBefore(icon, tCont.firstElementChild);\n                }\n                else {\n                    tCont.appendChild(icon);\n                }\n                tEle = txtWrapEle;\n                this.isIconAlone = false;\n            }\n            else {\n                tEle = ((css === '') ? txtWrapEle : icon);\n                if (tEle === icon) {\n                    detach(txtWrapEle);\n                    tCont.appendChild(icon);\n                    this.isIconAlone = true;\n                }\n            }\n            const wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(this.btnCls.cloneNode(true));\n            const wrap = this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (this.itemIndexArray === []) {\n                this.itemIndexArray.push(CLS_ITEM$2 + this.tabId + '_' + this.lastIndex);\n            }\n            else {\n                this.itemIndexArray.splice((index + i), 0, CLS_ITEM$2 + this.tabId + '_' + this.lastIndex);\n            }\n            const attrObj = {\n                id: CLS_ITEM$2 + this.tabId + '_' + this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            const tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = ((item.cssClass !== undefined) ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' '\n                + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n            i++;\n        });\n        if (!this.isAdd) {\n            spliceArray.forEach((spliceItemIndex) => {\n                this.items.splice(spliceItemIndex, 1);\n            });\n        }\n        if (this.isIconAlone) {\n            this.element.classList.add(CLS_ICON_TAB);\n        }\n        else {\n            this.element.classList.remove(CLS_ICON_TAB);\n        }\n        return tItems;\n    }\n    removeActiveClass() {\n        const tabHeader = this.getTabHeader();\n        if (tabHeader) {\n            const tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, tabHeader);\n            [].slice.call(tabItems).forEach((node) => node.classList.remove(CLS_ACTIVE$1));\n        }\n    }\n    checkPopupOverflow(ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        const popIcon = select('.e-hor-nav', this.element);\n        const tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        const lastChild = tbrItems.lastChild;\n        let isOverflow = false;\n        if (!this.isVertical() && ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth))) {\n            isOverflow = true;\n        }\n        else if (this.isVertical() && (popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight)) {\n            isOverflow = true;\n        }\n        if (isOverflow) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n        }\n        return true;\n    }\n    popupHandler(target) {\n        const ripEle = target.querySelector('.e-ripple-element');\n        if (!isNullOrUndefined(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        const lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            target.removeAttribute('style');\n            this.tbItems.appendChild(target);\n            this.actEleId = target.id;\n            if (this.checkPopupOverflow(lastChild)) {\n                const prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    }\n    updateOrientationAttribute() {\n        attributes(this.element, { 'aria-orientation': (this.isVertical() ? 'vertical' : 'horizontal') });\n    }\n    setCloseButton(val) {\n        const trg = select('.' + CLS_HEADER$1, this.element);\n        if (val === true) {\n            trg.classList.add(CLS_CLOSE_SHOW);\n        }\n        else {\n            trg.classList.remove(CLS_CLOSE_SHOW);\n        }\n        this.tbObj.refreshOverflow();\n        this.refreshActElePosition();\n    }\n    prevCtnAnimation(prev, current) {\n        let animation;\n        const checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL$4);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = {\n                    name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = {\n                    name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    }\n    triggerPrevAnimation(oldCnt, prevIndex) {\n        const animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNullOrUndefined(animateObj)) {\n            animateObj.begin = () => {\n                setStyleAttribute(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = () => {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE$1);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyleAttribute(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE$1);\n        }\n    }\n    triggerAnimation(id, value) {\n        const prevIndex = this.prevIndex;\n        let oldCnt;\n        const itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT$1).children);\n        itemCollection.forEach((item) => {\n            if (item.id === this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        const prevEle = this.tbItem[prevIndex];\n        const newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n        if (isNullOrUndefined(oldCnt) && !isNullOrUndefined(prevEle)) {\n            const idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        if (!isNullOrUndefined(newCnt)) {\n            this.prevActiveEle = newCnt.id;\n        }\n        if (this.initRender || value === false || this.animation === {} || isNullOrUndefined(this.animation)) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE$1);\n            }\n            return;\n        }\n        const cnt = select('.' + CLS_CONTENT$1, this.element);\n        let animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            const openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            const clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = () => {\n            cnt.classList.add(CLS_PROGRESS);\n            this.setActiveBorder();\n        };\n        animateObj.end = () => {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE$1);\n        };\n        if (!this.initRender && !isNullOrUndefined(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE$1);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    }\n    keyPressed(trg) {\n        const trgParent = closest(trg, '.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEM);\n        const trgIndex = this.getEleIndex(trgParent);\n        if (!isNullOrUndefined(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNullOrUndefined(trgParent) && trgParent.classList.contains(CLS_ACTIVE$1) === false) {\n                this.select(trgIndex);\n                if (!isNullOrUndefined(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    }\n    getTabHeader() {\n        if (isNullOrUndefined(this.element)) {\n            return undefined;\n        }\n        const headers = [].slice.call(this.element.children).filter((e) => e.classList.contains(CLS_HEADER$1));\n        if (headers.length > 0) {\n            return headers[0];\n        }\n        else {\n            const wrap = [].slice.call(this.element.children).filter((e) => !e.classList.contains(CLS_BLA_TEM))[0];\n            if (!wrap) {\n                return undefined;\n            }\n            return [].slice.call(wrap.children).filter((e) => e.classList.contains(CLS_HEADER$1))[0];\n        }\n    }\n    getEleIndex(item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n    }\n    extIndex(id) {\n        return id.replace(CLS_ITEM$2 + this.tabId + '_', '');\n    }\n    expTemplateContent() {\n        this.templateEle.forEach((eleStr) => {\n            if (!isNullOrUndefined(this.element.querySelector(eleStr))) {\n                document.body.appendChild(this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    }\n    templateCompile(ele, cnt, index) {\n        const tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content', index);\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    compileElement(ele, val, prop, index) {\n        let templateFn;\n        if (typeof val === 'string') {\n            val = val.trim();\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n        }\n        else {\n            templateFn = compile(val);\n        }\n        let templateFUN;\n        if (!isNullOrUndefined(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNullOrUndefined(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach((el) => {\n                ele.appendChild(el);\n            });\n        }\n    }\n    headerTextCompile(element, text, index) {\n        this.compileElement(element, text, 'headerTemplate', index);\n    }\n    getContent(ele, cnt, callType, index) {\n        let eleStr;\n        if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n            if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                cnt = SanitizeHtmlHelper.sanitize(cnt);\n            }\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    const eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt, index);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt, index);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNullOrUndefined(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    }\n    getTrgContent(cntEle, no) {\n        let ele;\n        if (this.element.classList.contains(CLS_NEST$1)) {\n            ele = select('.' + CLS_NEST$1 + '> .' + CLS_CONTENT$1 + ' > #' + CLS_CONTENT$1 + this.tabId + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT$1 + this.tabId + '_' + no);\n        }\n        return ele;\n    }\n    findEle(items, key) {\n        let ele;\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    }\n    isVertical() {\n        const isVertical = (this.headerPlacement === 'Left' || this.headerPlacement === 'Right') ? true : false;\n        this.scrCntClass = (isVertical) ? CLS_VSCRCNT : CLS_HSCRCNT;\n        return isVertical;\n    }\n    addVerticalClass() {\n        if (this.isVertical()) {\n            const tbPos = (this.headerPlacement === 'Left') ? CLS_VLEFT : CLS_VRIGHT;\n            addClass([this.hdrEle], [CLS_VERTICAL$1, tbPos]);\n            if (!this.element.classList.contains(CLS_NEST$1)) {\n                addClass([this.element], [CLS_VTAB, tbPos]);\n            }\n            else {\n                addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n            }\n        }\n        if (this.headerPlacement === 'Bottom') {\n            addClass([this.hdrEle], [CLS_HBOTTOM]);\n        }\n    }\n    updatePopAnimationConfig() {\n        this.show = { name: (this.isVertical() ? 'FadeIn' : 'SlideDown'), duration: 100 };\n        this.hide = { name: (this.isVertical() ? 'FadeOut' : 'SlideUp'), duration: 100 };\n    }\n    changeOrientation(place) {\n        this.setOrientation(place, this.hdrEle);\n        const activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE$1);\n        const isVertical = this.hdrEle.classList.contains(CLS_VERTICAL$1) ? true : false;\n        removeClass([this.element], [CLS_VTAB]);\n        removeClass([this.hdrEle], [CLS_VERTICAL$1, CLS_VLEFT, CLS_VRIGHT]);\n        if (isVertical !== this.isVertical()) {\n            this.changeToolbarOrientation();\n            if (!isNullOrUndefined(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n                this.popupHandler(activeTab);\n            }\n        }\n        this.addVerticalClass();\n        this.updateOrientationAttribute();\n        this.setActiveBorder();\n        this.focusItem();\n    }\n    focusItem() {\n        const curActItem = select(' #' + CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, this.hdrEle);\n        if (!isNullOrUndefined(curActItem)) {\n            curActItem.firstElementChild.focus();\n        }\n    }\n    changeToolbarOrientation() {\n        this.tbObj.setProperties({ height: (this.isVertical() ? '100%' : 'auto'), width: (this.isVertical() ? 'auto' : '100%') }, true);\n        this.tbObj.changeOrientation();\n        this.updatePopAnimationConfig();\n    }\n    setOrientation(place, ele) {\n        const headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n        const contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT$1));\n        if (place === 'Bottom' && (contentPos > headerPos)) {\n            this.element.appendChild(ele);\n        }\n        else {\n            removeClass([ele], [CLS_HBOTTOM]);\n            this.element.insertBefore(ele, select('.' + CLS_CONTENT$1, this.element));\n        }\n    }\n    setCssClass(ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        const list = cls.split(' ');\n        for (let i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    }\n    setContentHeight(val) {\n        if (this.element.classList.contains(CLS_FILL)) {\n            removeClass([this.element], [CLS_FILL]);\n        }\n        if (isNullOrUndefined(this.cntEle)) {\n            return;\n        }\n        const hdrEle = this.getTabHeader();\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                if (!this.isVertical()) {\n                    setStyleAttribute(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n                }\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            addClass([this.element], [CLS_FILL]);\n            setStyleAttribute(this.element, { 'height': '100%' });\n            setStyleAttribute(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            if (this.isTemplate === true) {\n                const cnt = selectAll('.' + CLS_CONTENT$1 + ' > .' + CLS_ITEM$2, this.element);\n                for (let i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT$1 + this.tabId + '_' + 0), className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + 0 }\n                    }));\n                }\n                const ele = this.cntEle.children.item(0);\n                for (let i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone', i);\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                if (this.isReact) {\n                    this.clearTemplate(['content']);\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render', 0);\n                if (this.prevIndex !== this.selectedItem) {\n                    ele.classList.remove(CLS_ACTIVE$1);\n                }\n            }\n            setStyleAttribute(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyleAttribute(this.cntEle, { 'height': 'auto' });\n        }\n    }\n    getHeight(ele) {\n        const cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    }\n    setActiveBorder() {\n        const trgHdrEle = this.getTabHeader();\n        const trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, trgHdrEle);\n        if (trg === null) {\n            return;\n        }\n        const root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n        const bar = select('.' + CLS_INDICATOR, trgHdrEle);\n        const scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n        if (this.isVertical()) {\n            setStyleAttribute(bar, { 'left': '', 'right': '' });\n            const tbHeight = (isNullOrUndefined(scrollCnt)) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n            if (tbHeight !== 0) {\n                setStyleAttribute(bar, { 'top': trg.offsetTop + 'px', 'height': trg.offsetHeight + 'px' });\n            }\n            else {\n                setStyleAttribute(bar, { 'top': 0, 'height': 0 });\n            }\n        }\n        else {\n            if (this.overflowMode === 'MultiRow') {\n                let bar = select('.' + CLS_INDICATOR, this.element);\n                setStyleAttribute(bar, { 'top': trg.offsetHeight + trg.offsetTop + 'px', 'height': '' });\n            }\n            else {\n                setStyleAttribute(bar, { 'top': '', 'height': '' });\n            }\n            let tbWidth = (isNullOrUndefined(scrollCnt)) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n            if (tbWidth !== 0) {\n                setStyleAttribute(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n            }\n            else {\n                setStyleAttribute(bar, { 'left': 'auto', 'right': 'auto' });\n            }\n        }\n        if (!isNullOrUndefined(this.bdrLine)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN$1);\n        }\n    }\n    setActive(value, skipDataBind = false) {\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n        const trg = this.tbItem[value];\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (value >= 0 && !skipDataBind) {\n            this.allowServerDataBinding = false;\n            this.setProperties({ selectedItem: value }, true);\n            this.allowServerDataBinding = true;\n            if (!this.initRender) {\n                this.serverDataBind();\n            }\n        }\n        if (trg.classList.contains(CLS_ACTIVE$1)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            const prev = this.tbItem[this.prevIndex];\n            if (!isNullOrUndefined(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + value });\n        }\n        const id = trg.id;\n        this.removeActiveClass();\n        trg.classList.add(CLS_ACTIVE$1);\n        this.tbItem[this.prevIndex].setAttribute('aria-selected', 'false');\n        trg.setAttribute('aria-selected', 'true');\n        const no = Number(this.extIndex(id));\n        if (isNullOrUndefined(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT$1 + this.tabId + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT$1, this.element).children.length > 0) {\n                const trg = this.findEle(select('.' + CLS_CONTENT$1, this.element).children, CLS_CONTENT$1 + this.tabId + '_' + no);\n                if (!isNullOrUndefined(trg)) {\n                    trg.classList.add(CLS_ACTIVE$1);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n            const item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNullOrUndefined(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(id), className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + this.extIndex(id) }\n                }));\n                const eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                const itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n            }\n            else {\n                item.classList.add(CLS_ACTIVE$1);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        this.refreshItemVisibility(trg);\n        if (!this.initRender && !skipDataBind) {\n            trg.firstElementChild.focus();\n            const eventArg = {\n                previousItem: this.prevItem,\n                previousIndex: this.prevIndex,\n                selectedItem: trg,\n                selectedIndex: value,\n                selectedContent: select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content),\n                isSwiped: this.isSwipeed\n            };\n            this.trigger('selected', eventArg);\n        }\n    }\n    contentReady() {\n        const id = this.setActiveContent();\n        this.triggerAnimation(id, this.enableAnimation);\n    }\n    setItems(items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    }\n    setRTL(value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL$4, value);\n        this.refreshActiveBorder();\n    }\n    refreshActiveBorder() {\n        if (!isNullOrUndefined(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN$1);\n        }\n        this.setActiveBorder();\n    }\n    showPopup(config) {\n        const tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n        if (tbPop.classList.contains('e-popup-close')) {\n            const tbPopObj = (tbPop && tbPop.ej2_instances[0]);\n            tbPopObj.position.X = (this.headerPlacement === 'Left') ? 'left' : 'right';\n            tbPopObj.dataBind();\n            tbPopObj.show(config);\n        }\n    }\n    bindDraggable() {\n        if (this.allowDragAndDrop) {\n            const tabHeader = this.element.querySelector('.' + CLS_HEADER$1);\n            const items = tabHeader.querySelectorAll('.' + CLS_TB_ITEM);\n            items.forEach((element) => {\n                this.initializeDrag(element);\n            });\n        }\n    }\n    wireEvents() {\n        this.bindDraggable();\n        window.addEventListener('resize', this.resizeContext);\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    }\n    unWireEvents() {\n        if (!isNullOrUndefined(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n        if (!isNullOrUndefined(this.tabKeyModule)) {\n            this.tabKeyModule.destroy();\n        }\n        if (!isNullOrUndefined(this.cntEle) && !isNullOrUndefined(this.touchModule)) {\n            this.touchModule.destroy();\n        }\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n        this.element.classList.remove(CLS_RTL$4);\n        this.element.classList.remove(CLS_FOCUS);\n    }\n    clickHandler(args) {\n        this.element.classList.remove(CLS_FOCUS);\n        const trg = args.originalEvent.target;\n        const trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        const trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n            this.showPopup(this.show);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNullOrUndefined(trgParent) && (trgIndex !== this.selectedItem || trgIndex !== this.prevIndex)) {\n                this.select(trgIndex, args.originalEvent);\n            }\n        }\n    }\n    swipeHandler(e) {\n        if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) {\n            return;\n        }\n        if (e.originalEvent && this.isNested) {\n            e.originalEvent.stopPropagation();\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (let k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                    this.select(k);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (let i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                    this.select(i);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    }\n    spaceKeyDown(e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            const clstHead = closest(e.target, '.' + CLS_HEADER$1);\n            if (!isNullOrUndefined(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    }\n    keyHandler(e) {\n        if (this.element.classList.contains(CLS_DISABLE$4)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        const trg = e.target;\n        const tabHeader = this.getTabHeader();\n        const actEle = select('.' + CLS_ACTIVE$1, tabHeader);\n        this.popEle = select('.' + CLS_TB_POP, tabHeader);\n        if (!isNullOrUndefined(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        const item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n        const trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE$4)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    this.showPopup(this.show);\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE$1) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                if (!isNullOrUndefined(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNullOrUndefined(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                if (this.showCloseButton === true && !isNullOrUndefined(trgParent)) {\n                    const nxtSib = trgParent.nextSibling;\n                    if (!isNullOrUndefined(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstElementChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    }\n    refreshActElePosition() {\n        const activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE$1, this.element);\n        if (!isNullOrUndefined(activeEle)) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    }\n    refreshItemVisibility(target) {\n        const scrCnt = select('.' + this.scrCntClass, this.tbItems);\n        if (!this.isVertical() && !isNullOrUndefined(scrCnt)) {\n            const scrBar = select('.e-hscroll-bar', this.tbItems);\n            const scrStart = scrBar.scrollLeft;\n            const scrEnd = scrStart + scrBar.offsetWidth;\n            const eleStart = target.offsetLeft;\n            const eleWidth = target.offsetWidth;\n            const eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                const eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    const eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    }\n    hoverHandler(e) {\n        const trg = e.target;\n        if (!isNullOrUndefined(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    }\n    evalOnPropertyChangeItems(newProp, oldProp) {\n        if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            const changedProp = Object.keys(newProp.items);\n            for (let i = 0; i < changedProp.length; i++) {\n                const index = parseInt(Object.keys(newProp.items)[i], 10);\n                const properties = Object.keys(newProp.items[index]);\n                for (let j = 0; j < properties.length; j++) {\n                    const oldVal = Object(oldProp.items[index])[properties[j]];\n                    const newVal = Object(newProp.items[index])[properties[j]];\n                    const hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n                    let itemIndex;\n                    if (hdr && !isNullOrUndefined(hdr.id) && hdr.id !== '') {\n                        const num = (hdr.id.lastIndexOf('_'));\n                        itemIndex = parseInt(hdr.id.substring(num + 1), 10);\n                    }\n                    else {\n                        itemIndex = index;\n                    }\n                    const hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM$2 + this.tabId + '_' + itemIndex, this.element);\n                    const cntItem = select('.' + CLS_CONTENT$1 + ' #' + CLS_CONTENT$1 + this.tabId + '_' + itemIndex, this.element);\n                    if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n                        const icon = (isNullOrUndefined(this.items[index].header) ||\n                            isNullOrUndefined(this.items[index].header.iconCss)) ? '' : this.items[index].header.iconCss;\n                        const textVal = this.items[index].headerTemplate || this.items[index].header.text;\n                        if ((textVal === '') && (icon === '')) {\n                            this.removeTab(index);\n                        }\n                        else {\n                            this.tbId = hdr.id;\n                            const arr = [];\n                            arr.push(this.items[index]);\n                            this.items.splice(index, 1);\n                            this.itemIndexArray.splice(index, 1);\n                            this.tbObj.items.splice(index, 1);\n                            const isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN$1);\n                            detach(hdrItem);\n                            this.isReplace = true;\n                            this.addTab(arr, index);\n                            if (isHiddenEle) {\n                                this.hideTab(index);\n                            }\n                            this.isReplace = false;\n                        }\n                    }\n                    if (properties[j] === 'content' && !isNullOrUndefined(cntItem)) {\n                        const strVal = typeof newVal === 'string' || isNullOrUndefined(newVal.innerHTML);\n                        if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                            const eleVal = document.querySelector(newVal);\n                            cntItem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else if (newVal === '' && oldVal[0] === '#') {\n                            document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                            cntItem.innerHTML = newVal;\n                        }\n                        else if (this.isReact) {\n                            cntItem.innerHTML = '';\n                            this.templateCompile(cntItem, newVal, index);\n                        }\n                        else if (typeof newVal !== 'function') {\n                            cntItem.innerHTML = newVal;\n                        }\n                    }\n                    if (properties[j] === 'cssClass') {\n                        if (!isNullOrUndefined(hdrItem)) {\n                            hdrItem.classList.remove(oldVal);\n                            hdrItem.classList.add(newVal);\n                        }\n                        if (!isNullOrUndefined(cntItem)) {\n                            cntItem.classList.remove(oldVal);\n                            cntItem.classList.add(newVal);\n                        }\n                    }\n                    if (properties[j] === 'disabled') {\n                        this.enableTab(index, ((newVal === true) ? false : true));\n                    }\n                    if (properties[j] === 'visible') {\n                        this.hideTab(index, ((newVal === true) ? false : true));\n                    }\n                }\n            }\n        }\n        else {\n            this.lastIndex = 0;\n            if (isNullOrUndefined(this.tbObj)) {\n                this.reRenderItems();\n            }\n            else {\n                if (this.isRect) {\n                    this.clearTemplate();\n                }\n                this.setItems(newProp.items);\n                if (this.templateEle.length > 0) {\n                    this.expTemplateContent();\n                }\n                this.templateEle = [];\n                const selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n                while (selectElement.firstElementChild) {\n                    detach(selectElement.firstElementChild);\n                }\n                this.select(this.selectedItem);\n            }\n        }\n    }\n    initializeDrag(target) {\n        this.dragArea = !isNullOrUndefined(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER$1);\n        let dragObj = new Draggable(target, {\n            dragArea: this.dragArea,\n            dragTarget: '.' + CLS_TB_ITEM,\n            clone: true,\n            helper: this.helper.bind(this),\n            dragStart: this.itemDragStart.bind(this),\n            drag: (e) => {\n                let dragIndex = this.getEleIndex(this.dragItem);\n                let dropIndex;\n                let dropItem;\n                let dragArgs = {\n                    draggedItem: this.dragItem,\n                    event: e.event,\n                    target: e.target,\n                    droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n                    clonedElement: this.cloneElement,\n                    index: dragIndex\n                };\n                if (!isNullOrUndefined(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(this.element) &&\n                    this.dragArea !== '.' + CLS_HEADER$1) {\n                    this.trigger('dragging', dragArgs);\n                }\n                else {\n                    if (!(e.target.closest(this.dragArea)) && this.overflowMode !== 'Popup') {\n                        document.body.style.cursor = 'not-allowed';\n                        addClass([this.cloneElement], CLS_HIDDEN$1);\n                        if (this.dragItem.classList.contains(CLS_HIDDEN$1)) {\n                            removeClass([this.dragItem], CLS_HIDDEN$1);\n                        }\n                        this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n                    }\n                    else {\n                        document.body.style.cursor = '';\n                        this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n                        if (this.cloneElement.classList.contains(CLS_HIDDEN$1)) {\n                            removeClass([this.cloneElement], CLS_HIDDEN$1);\n                        }\n                    }\n                    if (this.overflowMode === 'Scrollable' && !isNullOrUndefined(this.element.querySelector('.e-hscroll'))) {\n                        let scrollRightNavEle = this.element.querySelector('.e-scroll-right-nav');\n                        let scrollLeftNavEle = this.element.querySelector('.e-scroll-left-nav');\n                        let hscrollBar = this.element.querySelector('.e-hscroll-bar');\n                        if (!isNullOrUndefined(scrollRightNavEle) && Math.abs((scrollRightNavEle.offsetWidth / 2) +\n                            scrollRightNavEle.offsetLeft) > this.cloneElement.offsetLeft + this.cloneElement.offsetWidth) {\n                            hscrollBar.scrollLeft -= 10;\n                        }\n                        if (!isNullOrUndefined(scrollLeftNavEle) && Math.abs((scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth) -\n                            this.cloneElement.offsetLeft) > (scrollLeftNavEle.offsetWidth / 2)) {\n                            hscrollBar.scrollLeft += 10;\n                        }\n                    }\n                    this.cloneElement.style.pointerEvents = 'none';\n                    dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n                    let scrollContentWidth = 0;\n                    if (this.overflowMode === 'Scrollable' && !isNullOrUndefined(this.element.querySelector('.e-hscroll'))) {\n                        scrollContentWidth = this.element.querySelector('.e-hscroll-content').offsetWidth;\n                    }\n                    if (dropItem != null && !dropItem.isSameNode(this.dragItem) &&\n                        dropItem.closest('.' + CLS_TAB).isSameNode(this.dragItem.closest('.' + CLS_TAB))) {\n                        dropIndex = this.getEleIndex(dropItem);\n                        if (dropIndex < dragIndex &&\n                            (Math.abs((dropItem.offsetLeft + dropItem.offsetWidth) -\n                                this.cloneElement.offsetLeft) > (dropItem.offsetWidth / 2))) {\n                            this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                        if (dropIndex > dragIndex &&\n                            (Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft -\n                                scrollContentWidth) < this.cloneElement.offsetLeft + this.cloneElement.offsetWidth) {\n                            this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                    }\n                    this.droppedIndex = this.getEleIndex(this.dragItem);\n                    this.trigger('dragging', dragArgs);\n                }\n            },\n            dragStop: this.itemDragStop.bind(this)\n        });\n        this.draggableItems.push(dragObj);\n    }\n    helper(e) {\n        this.cloneElement = this.createElement('div');\n        if (e.element) {\n            this.cloneElement = (e.element.cloneNode(true));\n            addClass([this.cloneElement], 'e-tab-clone-element');\n            if (this.element.querySelector('.' + CLS_HEADER$1).classList.contains(CLS_CLOSE_SHOW)) {\n                addClass([this.cloneElement], CLS_CLOSE_SHOW);\n            }\n            removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n            if (!isNullOrUndefined(this.cloneElement.querySelector('.e-ripple-element'))) {\n                remove(this.cloneElement.querySelector('.e-ripple-element'));\n            }\n            document.body.appendChild(this.cloneElement);\n        }\n        return this.cloneElement;\n    }\n    itemDragStart(e) {\n        this.draggingItems = this.items.map((x) => x);\n        this.dragItem = e.element;\n        let dragArgs = {\n            draggedItem: e.element,\n            event: e.event,\n            target: e.target,\n            droppedItem: null,\n            index: this.getEleIndex(this.dragItem),\n            clonedElement: this.cloneElement,\n            cancel: false\n        };\n        this.trigger('onDragStart', dragArgs, (tabitemDragArgs) => {\n            if (tabitemDragArgs.cancel) {\n                detach(this.cloneElement);\n            }\n            else {\n                this.removeActiveClass();\n                addClass([this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n                this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n            }\n        });\n    }\n    dragAction(dropItem, dragsIndex, dropIndex) {\n        if (this.items.length > 0) {\n            let item = this.draggingItems[dragsIndex];\n            this.draggingItems.splice(dragsIndex, 1);\n            this.draggingItems.splice(dropIndex, 0, item);\n        }\n        if (this.overflowMode === 'MultiRow') {\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n        }\n        if (dragsIndex > dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n                        let popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement.lastChild), this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n                else {\n                    let lastEle = (dropItem.parentElement).lastChild;\n                    if (dropItem.isSameNode(lastEle)) {\n                        let popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n            }\n        }\n        if (dragsIndex < dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n                }\n                else {\n                    this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(dropItem, this.dragItem);\n            }\n        }\n    }\n    itemDragStop(e) {\n        detach(this.cloneElement);\n        this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n        document.body.style.cursor = '';\n        let dragStopArgs = {\n            draggedItem: this.dragItem,\n            event: e.event,\n            target: e.target,\n            droppedItem: this.tbItem[this.droppedIndex],\n            clonedElement: null,\n            index: this.droppedIndex,\n            cancel: false\n        };\n        this.trigger('dragged', dragStopArgs, (tabItemDropArgs) => {\n            if (tabItemDropArgs.cancel) {\n                this.refresh();\n            }\n            else {\n                if (this.items.length > 0 && this.draggingItems.length > 0) {\n                    this.items = this.draggingItems;\n                    this.selectedItem = this.droppedIndex;\n                    this.refresh();\n                }\n                else {\n                    this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n                    removeClass([this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n                    this.select(this.droppedIndex);\n                }\n            }\n        });\n    }\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     *\n     * @param  {number} index - Index value of target Tab item.\n     * @param  {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns {void}.\n     */\n    enableTab(index, value) {\n        const tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE$4, CLS_OVERLAY$2);\n            tbItems.firstElementChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE$4, CLS_OVERLAY$2);\n            tbItems.firstElementChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE$1)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNullOrUndefined(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    }\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     *\n     * @param  {TabItemModel[]} items - An array of item that is added to the Tab.\n     * @param  {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    addTab(items, index) {\n        const addArgs = { addedItems: items, cancel: false };\n        if (!this.isReplace) {\n            this.trigger('adding', addArgs, (tabAddingArgs) => {\n                if (!tabAddingArgs.cancel) {\n                    this.addingTabContent(items, index);\n                }\n            });\n        }\n        else {\n            this.addingTabContent(items, index);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    addingTabContent(items, index) {\n        let lastEleIndex = 0;\n        this.hdrEle = select('.' + CLS_HEADER$1, this.element);\n        if (isNullOrUndefined(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n        }\n        else {\n            const itemsCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n            if (itemsCount !== 0) {\n                lastEleIndex = this.lastIndex + 1;\n            }\n            if (isNullOrUndefined(index)) {\n                index = itemsCount - 1;\n            }\n            if (itemsCount < index || index < 0 || isNaN(index)) {\n                return;\n            }\n            if (itemsCount === 0 && !isNullOrUndefined(this.hdrEle)) {\n                this.hdrEle.style.display = '';\n            }\n            if (!isNullOrUndefined(this.bdrLine)) {\n                this.bdrLine.classList.add(CLS_HIDDEN$1);\n            }\n            this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n            this.isAdd = true;\n            const tabItems = this.parseObject(items, index);\n            this.isAdd = false;\n            let i = 0;\n            let textValue;\n            items.forEach((item, place) => {\n                textValue = item.headerTemplate || item.header.text;\n                if (!(isNullOrUndefined(item.headerTemplate || item.header) ||\n                    isNullOrUndefined(textValue) || (textValue.length === 0) && isNullOrUndefined(item.header.iconCss))) {\n                    this.items.splice((index + i), 0, item);\n                    i++;\n                }\n                if (this.isTemplate && !isNullOrUndefined(item.header) && !isNullOrUndefined(item.header.text)) {\n                    const no = lastEleIndex + place;\n                    const ele = this.createElement('div', {\n                        id: CLS_CONTENT$1 + this.tabId + '_' + no, className: CLS_ITEM$2,\n                        attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + '_' + no }\n                    });\n                    this.cntEle.insertBefore(ele, this.cntEle.children[(index + place)]);\n                    const eleTrg = this.getTrgContent(this.cntEle, no.toString());\n                    this.getContent(eleTrg, item.content, 'render', index);\n                }\n            });\n            this.tbObj.addItems(tabItems, index);\n            if (!this.isReplace) {\n                this.trigger('added', { addedItems: items });\n            }\n            if (this.selectedItem === index) {\n                this.select(index);\n            }\n            else {\n                this.setActiveBorder();\n            }\n            this.bindDraggable();\n        }\n    }\n    /**\n     * Removes the items in the Tab from the specified index.\n     *\n     * @param  {number} index - Index of target item that is going to be removed.\n     * @returns {void}.\n     */\n    removeTab(index) {\n        const trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(trg)) {\n            return;\n        }\n        const removeArgs = { removedItem: trg, removedIndex: index, cancel: false };\n        this.trigger('removing', removeArgs, (tabRemovingArgs) => {\n            if (!tabRemovingArgs.cancel) {\n                this.tbObj.removeItems(index);\n                if (this.allowDragAndDrop && (index !== Array.prototype.indexOf.call(this.itemIndexArray, trg.id))) {\n                    index = Array.prototype.indexOf.call(this.itemIndexArray, trg.id);\n                }\n                this.items.splice(index, 1);\n                this.itemIndexArray.splice(index, 1);\n                this.refreshActiveBorder();\n                const cntTrg = select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(trg.id), select('.' + CLS_CONTENT$1, this.element));\n                if (!isNullOrUndefined(cntTrg)) {\n                    detach(cntTrg);\n                }\n                this.trigger('removed', tabRemovingArgs);\n                if (trg.classList.contains(CLS_ACTIVE$1)) {\n                    index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', this.element).length - 1) ? index - 1 : index;\n                    this.enableAnimation = false;\n                    this.selectedItem = index;\n                    this.select(index);\n                }\n                if (selectAll('.' + CLS_TB_ITEM, this.element).length === 0) {\n                    this.hdrEle.style.display = 'none';\n                }\n                this.enableAnimation = true;\n            }\n        });\n    }\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     *\n     * @param  {number} index - Index value of target item.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns {void}.\n     */\n    hideTab(index, value) {\n        let items;\n        const item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(item)) {\n            return;\n        }\n        if (isNullOrUndefined(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN$1);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE$1)) {\n                if (index !== 0) {\n                    for (let i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (let k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (let k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN$1);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN$1);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n            item.classList.remove(CLS_HIDDEN$1);\n            if (items.length === 0) {\n                this.select(index);\n            }\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n        if (this.overflowMode === 'Popup' && this.tbObj) {\n            this.tbObj.refreshOverflow();\n        }\n    }\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     *\n     * @param  {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @param {Event} event - An event which takes place in DOM.\n     * @returns {void}.\n     */\n    select(args, event) {\n        const tabHeader = this.getTabHeader();\n        this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n        this.content = select('.' + CLS_CONTENT$1, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (isNullOrUndefined(this.selectedItem) || (this.selectedItem < 0) || (this.tbItem.length <= this.selectedItem) || isNaN(this.selectedItem)) {\n            this.selectedItem = 0;\n        }\n        else {\n            this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n        }\n        const trg = this.tbItem[args];\n        if (isNullOrUndefined(trg)) {\n            this.selectedID = '0';\n        }\n        else {\n            this.selectingID = this.extIndex(trg.id);\n        }\n        if (!isNullOrUndefined(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE$4)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        const eventArg = {\n            event: event,\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectedContent: !isNullOrUndefined(this.content) ?\n                select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectedID, this.content) : null,\n            selectingItem: trg,\n            selectingIndex: args,\n            selectingContent: !isNullOrUndefined(this.content) ?\n                select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content) : null,\n            isSwiped: this.isSwipeed,\n            cancel: false\n        };\n        if (!this.initRender) {\n            this.trigger('selecting', eventArg, (selectArgs) => {\n                if (!selectArgs.cancel) {\n                    this.selectingContent(args);\n                }\n            });\n        }\n        else {\n            this.selectingContent(args);\n        }\n    }\n    selectingContent(args) {\n        if (typeof args === 'number') {\n            if (!isNullOrUndefined(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE$4) ||\n                this.tbItem[args].classList.contains(CLS_HIDDEN$1))) {\n                for (let i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false && this.items[i].visible === true) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP)) {\n                    this.setActive(this.popupHandler(this.tbItem[args]));\n                    if ((!isNullOrUndefined(this.items) && this.items.length > 0) && this.allowDragAndDrop) {\n                        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n                        let item = this.items[args];\n                        this.items.splice(args, 1);\n                        this.items.splice(this.tbItem.length - 1, 0, item);\n                    }\n                }\n                else {\n                    this.setActive(args);\n                }\n            }\n            else {\n                this.setActive(0);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args));\n        }\n    }\n    /**\n     * Gets the item index from the Tab.\n     *\n     * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n     * @returns {number} - It returns item index.\n     */\n    getItemIndex(tabItemId) {\n        let tabIndex;\n        for (let i = 0; i < this.tbItem.length; i++) {\n            const value = this.tbItem[i].getAttribute('data-id');\n            if (tabItemId === value) {\n                tabIndex = i;\n                break;\n            }\n        }\n        return tabIndex;\n    }\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    disable(value) {\n        this.setCssClass(this.element, CLS_DISABLE$4, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - It returns the persisted state.\n     */\n    getPersistData() {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    getModuleName() {\n        return 'tab';\n    }\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {TabModel} newProp - It contains the new value of data.\n     * @param  {TabModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n                        this.setCssClass(this.element, oldProp.cssClass, false);\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                    }\n                    else {\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                    }\n                    break;\n                case 'items':\n                    this.evalOnPropertyChangeItems(newProp, oldProp);\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    this.changeOrientation(newProp.headerPlacement);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActElePosition();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n                case 'scrollStep':\n                    if (this.tbObj) {\n                        this.tbObj.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'allowDragAndDrop':\n                    this.bindDraggable();\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.draggableItems.forEach((item) => {\n                            item.dragArea = this.dragArea;\n                        });\n                        this.refresh();\n                    }\n                    break;\n            }\n        }\n    }\n    refreshActiveTab() {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (!this.isTemplate) {\n            if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1)) {\n                detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).children[0]);\n                detach(this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0]);\n                const item = this.items[this.selectedItem];\n                const pos = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition)) ? '' : item.header.iconPosition;\n                const css = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss)) ? '' : item.header.iconCss;\n                const text = item.headerTemplate || item.header.text;\n                const txtWrap = this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n                if (!isNullOrUndefined(text.tagName)) {\n                    txtWrap.appendChild(text);\n                }\n                else {\n                    this.headerTextCompile(txtWrap, text, this.selectedItem);\n                }\n                let tEle;\n                const icon = this.createElement('span', {\n                    className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n                });\n                const tConts = this.createElement('div', { className: CLS_TEXT_WRAP });\n                tConts.appendChild(txtWrap);\n                if ((text !== '' && text !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tConts.insertBefore(icon, tConts.firstElementChild);\n                    }\n                    else {\n                        tConts.appendChild(icon);\n                    }\n                    tEle = txtWrap;\n                    this.isIconAlone = false;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrap : icon);\n                    if (tEle === icon) {\n                        detach(txtWrap);\n                        tConts.appendChild(icon);\n                        this.isIconAlone = true;\n                    }\n                }\n                const wrapAtt = (item.disabled) ? {} : { tabIndex: '-1' };\n                tConts.appendChild(this.btnCls.cloneNode(true));\n                const wraper = this.createElement('div', { className: CLS_WRAP, attrs: wrapAtt });\n                wraper.appendChild(tConts);\n                if (pos === 'top' || pos === 'bottom') {\n                    this.element.classList.add('e-vertical-icon');\n                }\n                this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wraper);\n                const crElem = this.createElement('div');\n                let cnt = item.content;\n                let eleStr;\n                if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n                    if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                        cnt = SanitizeHtmlHelper.sanitize(cnt);\n                    }\n                    if (cnt[0] === '.' || cnt[0] === '#') {\n                        if (document.querySelectorAll(cnt).length) {\n                            const eleVal = document.querySelector(cnt);\n                            eleStr = eleVal.outerHTML.trim();\n                            crElem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else {\n                            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                        }\n                    }\n                    else {\n                        this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                    }\n                }\n                else {\n                    crElem.appendChild(cnt);\n                }\n                if (!isNullOrUndefined(eleStr)) {\n                    if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                        this.templateEle.push(cnt.toString());\n                    }\n                }\n                this.element.querySelector('.' + CLS_ITEM$2 + '.' + CLS_ACTIVE$1).appendChild(crElem);\n            }\n        }\n        else {\n            const tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n            const element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1);\n            const id = element.id;\n            const num = (id.indexOf('_'));\n            const index = parseInt(id.substring(num + 1), 10);\n            const header = element.innerText;\n            const detachContent = this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0];\n            const mainContents = detachContent.innerHTML;\n            detach(element);\n            detach(detachContent);\n            const attr = {\n                className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE$1 + ' ' + CLS_ACTIVE$1, id: CLS_ITEM$2 + this.tabId + '_' + index,\n                attrs: {\n                    role: 'tab', 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index,\n                    'aria-disabled': 'false', 'aria-selected': 'true'\n                }\n            };\n            const txtString = this.createElement('span', {\n                className: CLS_TEXT, innerHTML: header, attrs: { 'role': 'presentation' }\n            }).outerHTML;\n            const conte = this.createElement('div', {\n                className: CLS_TEXT_WRAP, innerHTML: txtString + this.btnCls.outerHTML\n            }).outerHTML;\n            const wrap = this.createElement('div', { className: CLS_WRAP, innerHTML: conte, attrs: { tabIndex: '-1' } });\n            tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n            this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wrap);\n            const crElem = this.createElement('div', { innerHTML: mainContents });\n            this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).appendChild(crElem);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n};\n__decorate$7([\n    Collection([], TabItem)\n], Tab.prototype, \"items\", void 0);\n__decorate$7([\n    Property('100%')\n], Tab.prototype, \"width\", void 0);\n__decorate$7([\n    Property('auto')\n], Tab.prototype, \"height\", void 0);\n__decorate$7([\n    Property('')\n], Tab.prototype, \"cssClass\", void 0);\n__decorate$7([\n    Property(0)\n], Tab.prototype, \"selectedItem\", void 0);\n__decorate$7([\n    Property('Top')\n], Tab.prototype, \"headerPlacement\", void 0);\n__decorate$7([\n    Property('Content')\n], Tab.prototype, \"heightAdjustMode\", void 0);\n__decorate$7([\n    Property('Scrollable')\n], Tab.prototype, \"overflowMode\", void 0);\n__decorate$7([\n    Property('Dynamic')\n], Tab.prototype, \"loadOn\", void 0);\n__decorate$7([\n    Property(false)\n], Tab.prototype, \"enablePersistence\", void 0);\n__decorate$7([\n    Property(false)\n], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$7([\n    Property(false)\n], Tab.prototype, \"showCloseButton\", void 0);\n__decorate$7([\n    Property()\n], Tab.prototype, \"scrollStep\", void 0);\n__decorate$7([\n    Property()\n], Tab.prototype, \"dragArea\", void 0);\n__decorate$7([\n    Property(false)\n], Tab.prototype, \"allowDragAndDrop\", void 0);\n__decorate$7([\n    Complex({}, TabAnimationSettings)\n], Tab.prototype, \"animation\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"created\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"adding\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"added\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"selecting\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"selected\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"removing\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"removed\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"onDragStart\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"dragging\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"dragged\", void 0);\n__decorate$7([\n    Event()\n], Tab.prototype, \"destroyed\", void 0);\nTab = __decorate$7([\n    NotifyPropertyChanges\n], Tab);\n\n/**\n * Tab modules\n */\n\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TreeView_1;\nconst ROOT = 'e-treeview';\nconst CONTROL = 'e-control';\nconst COLLAPSIBLE = 'e-icon-collapsible';\nconst EXPANDABLE = 'e-icon-expandable';\nconst LISTITEM = 'e-list-item';\nconst LISTTEXT = 'e-list-text';\nconst PARENTITEM = 'e-list-parent';\nconst HOVER = 'e-hover';\nconst ACTIVE = 'e-active';\nconst LOAD = 'e-icons-spinner';\nconst PROCESS = 'e-process';\nconst ICON = 'e-icons';\nconst TEXTWRAP = 'e-text-content';\nconst INPUT = 'e-input';\nconst INPUTGROUP = 'e-input-group';\nconst TREEINPUT = 'e-tree-input';\nconst EDITING = 'e-editing';\nconst RTL$1 = 'e-rtl';\nconst INTERACTION = 'e-interaction';\nconst DRAGITEM = 'e-drag-item';\nconst DROPPABLE = 'e-droppable';\nconst DRAGGING = 'e-dragging';\nconst SIBLING = 'e-sibling';\nconst DROPIN = 'e-drop-in';\nconst DROPNEXT = 'e-drop-next';\nconst DROPOUT = 'e-drop-out';\nconst NODROP = 'e-no-drop';\nconst FULLROWWRAP = 'e-fullrow-wrap';\nconst FULLROW = 'e-fullrow';\nconst SELECTED$1 = 'e-selected';\nconst EXPANDED = 'e-expanded';\nconst NODECOLLAPSED = 'e-node-collapsed';\nconst DISABLE = 'e-disable';\nconst DROPCOUNT = 'e-drop-count';\nconst CHECK = 'e-check';\nconst INDETERMINATE = 'e-stop';\nconst CHECKBOXWRAP = 'e-checkbox-wrapper';\nconst CHECKBOXFRAME = 'e-frame';\nconst CHECKBOXRIPPLE = 'e-ripple-container';\nconst RIPPLE = 'e-ripple';\nconst RIPPLEELMENT = 'e-ripple-element';\nconst FOCUS = 'e-node-focus';\nconst IMAGE = 'e-list-img';\nconst BIGGER = 'e-bigger';\nconst SMALL = 'e-small';\nconst CHILD = 'e-has-child';\nconst ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nconst DISABLED$1 = 'e-disabled';\nconst treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nclass FieldsSettings extends ChildProperty {\n}\n__decorate$8([\n    Property('child')\n], FieldsSettings.prototype, \"child\", void 0);\n__decorate$8([\n    Property([])\n], FieldsSettings.prototype, \"dataSource\", void 0);\n__decorate$8([\n    Property('expanded')\n], FieldsSettings.prototype, \"expanded\", void 0);\n__decorate$8([\n    Property('hasChildren')\n], FieldsSettings.prototype, \"hasChildren\", void 0);\n__decorate$8([\n    Property('htmlAttributes')\n], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n__decorate$8([\n    Property('iconCss')\n], FieldsSettings.prototype, \"iconCss\", void 0);\n__decorate$8([\n    Property('id')\n], FieldsSettings.prototype, \"id\", void 0);\n__decorate$8([\n    Property('imageUrl')\n], FieldsSettings.prototype, \"imageUrl\", void 0);\n__decorate$8([\n    Property('isChecked')\n], FieldsSettings.prototype, \"isChecked\", void 0);\n__decorate$8([\n    Property('parentID')\n], FieldsSettings.prototype, \"parentID\", void 0);\n__decorate$8([\n    Property(null)\n], FieldsSettings.prototype, \"query\", void 0);\n__decorate$8([\n    Property('selected')\n], FieldsSettings.prototype, \"selected\", void 0);\n__decorate$8([\n    Property(null)\n], FieldsSettings.prototype, \"tableName\", void 0);\n__decorate$8([\n    Property('text')\n], FieldsSettings.prototype, \"text\", void 0);\n__decorate$8([\n    Property('tooltip')\n], FieldsSettings.prototype, \"tooltip\", void 0);\n__decorate$8([\n    Property('navigateUrl')\n], FieldsSettings.prototype, \"navigateUrl\", void 0);\n/**\n * Configures animation settings for the TreeView component.\n */\nclass ActionSettings extends ChildProperty {\n}\n__decorate$8([\n    Property('SlideDown')\n], ActionSettings.prototype, \"effect\", void 0);\n__decorate$8([\n    Property(400)\n], ActionSettings.prototype, \"duration\", void 0);\n__decorate$8([\n    Property('linear')\n], ActionSettings.prototype, \"easing\", void 0);\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nclass NodeAnimationSettings extends ChildProperty {\n}\n__decorate$8([\n    Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n], NodeAnimationSettings.prototype, \"collapse\", void 0);\n__decorate$8([\n    Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n], NodeAnimationSettings.prototype, \"expand\", void 0);\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nlet TreeView = TreeView_1 = class TreeView extends Component {\n    constructor(options, element) {\n        super(options, element);\n        this.isRefreshed = false;\n        this.preventExpand = false;\n        this.checkedElement = [];\n        this.disableNode = [];\n        // eslint-disable-next-line\n        this.validArr = [];\n        this.validNodes = [];\n        this.expandChildren = [];\n        this.isFieldChange = false;\n        this.changeDataSource = false;\n        this.hasTemplate = false;\n        this.mouseDownStatus = false;\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    getModuleName() {\n        return 'treeview';\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    preRender() {\n        this.checkActionNodes = [];\n        this.parentNodeCheck = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space'\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: (e) => {\n                this.beforeNodeCreate(e);\n            },\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            itemNavigable: this.fullRowNavigable\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.expandChildren = [];\n        this.index = 0;\n        this.setTouchClass();\n        if (isNullOrUndefined(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNullOrUndefined(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNullOrUndefined(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - returns the persisted data\n     * @hidden\n     */\n    getPersistData() {\n        const keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding(false);\n        this.setDisabledMode();\n        this.setExpandOnType();\n        if (!this.disabled) {\n            this.setRipple();\n        }\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.initialRender = false;\n        this.renderComplete();\n    }\n    initialize() {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    }\n    setDisabledMode() {\n        if (this.disabled) {\n            this.element.classList.add(DISABLED$1);\n        }\n        else {\n            this.element.classList.remove(DISABLED$1);\n        }\n    }\n    setEnableRtl() {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL$1);\n    }\n    setRipple() {\n        const tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        const rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        const iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    }\n    setFullRow(isEnabled) {\n        (isEnabled ? addClass : removeClass)([this.element], FULLROWWRAP);\n    }\n    setMultiSelect(isEnabled) {\n        const firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    }\n    // eslint-disable-next-line\n    templateComplier(template) {\n        if (template) {\n            this.hasTemplate = true;\n            // eslint-disable-next-line\n            this.element.classList.add(INTERACTION);\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        this.element.classList.remove(INTERACTION);\n        return undefined;\n    }\n    setDataBinding(changeDataSource) {\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            /* eslint-disable */\n            this.isOffline = this.fields.dataSource.dataSource.offline;\n            if (this.fields.dataSource.ready) {\n                this.fields.dataSource.ready.then((e) => {\n                    /* eslint-disable */\n                    this.isOffline = this.fields.dataSource.dataSource.offline;\n                    if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n                        this.treeList.pop();\n                        this.treeData = e.result;\n                        this.isNumberTypeId = this.getType();\n                        this.setRootData();\n                        this.renderItems(true);\n                        if (this.treeList.length === 0 && !this.isLoaded) {\n                            this.finalize();\n                        }\n                    }\n                }).catch((e) => {\n                    this.trigger('actionFailure', { error: e });\n                });\n            }\n            else {\n                this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then((e) => {\n                    this.treeList.pop();\n                    this.treeData = e.result;\n                    this.isNumberTypeId = this.getType();\n                    this.setRootData();\n                    if (changeDataSource) {\n                        this.changeDataSource = true;\n                    }\n                    this.renderItems(true);\n                    this.changeDataSource = false;\n                    if (this.treeList.length === 0 && !this.isLoaded) {\n                        this.finalize();\n                    }\n                }).catch((e) => {\n                    this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            this.treeList.pop();\n            if (isNullOrUndefined(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    }\n    getQuery(mapper, value = null) {\n        let columns = [];\n        let query;\n        if (!mapper.query) {\n            query = new Query();\n            let prop = this.getActualProperties(mapper);\n            for (let col of Object.keys(prop)) {\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNullOrUndefined(value) && !isNullOrUndefined(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    }\n    getType() {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    }\n    setRootData() {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            let rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNullOrUndefined(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    }\n    renderItems(isSorted) {\n        /* eslint-disable */\n        this.listBaseOption.ariaAttributes.level = 1;\n        let sortedData = this.getSortedData(this.rootData);\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        let rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n        if (this.loadOnDemand === false) {\n            let i = 0;\n            while (i < rootNodes.length) {\n                this.renderChildNodes(rootNodes[i], true, null, true);\n                i++;\n            }\n        }\n        let parentEle = selectAll('.' + PARENTITEM, this.element);\n        if ((parentEle.length === 1 && (rootNodes && rootNodes.length !== 0)) || this.loadOnDemand) {\n            this.finalizeNode(this.element);\n        }\n        this.parentNodeCheck = [];\n        this.parentCheckData = [];\n        this.updateCheckedStateFromDS();\n        if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n            this.updateParentCheckState();\n        }\n    }\n    /**\n     * Update the checkedNodes from datasource at initial rendering\n     */\n    updateCheckedStateFromDS(id) {\n        this.validNodes = [];\n        if (this.treeData && this.showCheckBox) {\n            if (this.dataType === 1) {\n                let mapper = this.fields;\n                let resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (let i = 0; i < resultData.length; i++) {\n                    let resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                    let resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n                    if (this.checkedNodes.indexOf(resultId) === -1 && !(this.isLoaded)) {\n                        this.checkedNodes.push(resultId);\n                    }\n                    if (resultData[i][this.fields.hasChildren]) {\n                        let id = resultData[i][this.fields.id];\n                        let childData = new DataManager(this.treeData).\n                            executeLocal(new Query().where(mapper.parentID, 'equal', id, false));\n                        for (let child = 0; child < childData.length; child++) {\n                            let childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n                            if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                                this.checkedNodes.push(childId);\n                            }\n                        }\n                    }\n                }\n                for (let i = 0; i < this.checkedNodes.length; i++) {\n                    let mapper = this.fields;\n                    let checkState = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper.id, 'equal', this.checkedNodes[i], true));\n                    if (checkState[0] && this.autoCheck) {\n                        this.getCheckedNodeDetails(mapper, checkState);\n                        this.checkIndeterminateState(checkState[0]);\n                    }\n                    if (checkState.length > 0) {\n                        let checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                    let checkedData = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper.parentID, 'equal', this.checkedNodes[i], true));\n                    for (let index = 0; index < checkedData.length; index++) {\n                        let checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) === -1 && this.autoCheck) {\n                            this.checkedNodes.push(checkedId);\n                        }\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                }\n            }\n            else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n                this.isOffline)) {\n                for (let index = 0; index < this.treeData.length; index++) {\n                    let fieldId = this.treeData[index][this.fields.id] ? this.treeData[index][this.fields.id].toString() : '';\n                    if (this.treeData[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(fieldId) === -1) {\n                        this.checkedNodes.push(fieldId);\n                    }\n                    if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n                        this.validNodes.push(fieldId);\n                    }\n                    let childItems = getValue(this.fields.child.toString(), this.treeData[index]);\n                    if (childItems) {\n                        this.updateChildCheckState(childItems, this.treeData[index]);\n                    }\n                }\n            }\n            this.setProperties({ checkedNodes: this.validNodes }, true);\n        }\n    }\n    /**\n     * To check whether the list data has sub child and to change the parent check state accordingly\n     */\n    getCheckedNodeDetails(mapper, checkNodes) {\n        let id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n        let count = 0;\n        let element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n        let parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n        if (!element && !parentEle) {\n            let len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(id) === -1) {\n                this.parentNodeCheck.push(id);\n            }\n            let childNodes = this.getChildNodes(this.treeData, id);\n            for (let i = 0; i < childNodes.length; i++) {\n                let childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n                if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n                    this.checkedNodes.push(id);\n                }\n            }\n            let preElement = new DataManager(this.treeData).\n                executeLocal(new Query().where(mapper.id, 'equal', id, true));\n            this.getCheckedNodeDetails(mapper, preElement);\n        }\n        else if (parentEle) {\n            let check = select('.' + CHECK, parentEle);\n            if (!check) {\n                this.changeState(parentEle, 'indeterminate', null, true, true);\n            }\n        }\n    }\n    /**\n     * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n     */\n    updateParentCheckState() {\n        let indeterminate = selectAll('.' + INDETERMINATE, this.element);\n        let childCheckedElement;\n        for (let i = 0; i < indeterminate.length; i++) {\n            let node = closest(indeterminate[i], '.' + LISTITEM);\n            let nodeId = node.getAttribute('data-uid').toString();\n            if (this.dataType === 1) {\n                childCheckedElement = new DataManager(this.treeData).\n                    executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n            }\n            else {\n                childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n            }\n            let count = 0;\n            if (childCheckedElement) {\n                for (let j = 0; j < childCheckedElement.length; j++) {\n                    let childId = childCheckedElement[j][this.fields.id].toString();\n                    if (this.checkedNodes.indexOf(childId) !== -1) {\n                        count++;\n                    }\n                }\n                if (count === childCheckedElement.length) {\n                    let nodeCheck = node.getAttribute('data-uid');\n                    if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n                        this.checkedNodes.push(nodeCheck);\n                    }\n                    this.changeState(node, 'check', null, true, true);\n                }\n                else if (count === 0 && this.checkedNodes.length === 0) {\n                    this.changeState(node, 'uncheck', null, true, true);\n                }\n            }\n        }\n    }\n    /**\n     * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n     */\n    checkIndeterminateState(data) {\n        let element;\n        if (this.dataType === 1) {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n        }\n        else {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n        }\n        if (element) {\n            let ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n            if (ariaChecked !== 'true') {\n                this.changeState(element, 'indeterminate', null, true, true);\n            }\n        }\n        else if (this.dataType === 2) {\n            let len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n                this.parentNodeCheck.push(data[this.fields.id].toString());\n            }\n        }\n    }\n    /**\n     * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n     */\n    updateChildCheckState(childItems, treeData) {\n        let count = 0;\n        let checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n        for (let index = 0; index < childItems.length; index++) {\n            let checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n            if (childItems[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(checkedChild) === -1) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                count++;\n            }\n            if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n                this.validNodes.push(checkedChild);\n            }\n            let subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n            if (subChildItems) {\n                this.parentCheckData.push(treeData);\n                this.updateChildCheckState(subChildItems, childItems[index]);\n            }\n            if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n                this.checkedNodes.push(checkedParent);\n            }\n        }\n        if (count !== 0 && this.autoCheck) {\n            this.checkIndeterminateState(treeData);\n            for (let len = 0; len < this.parentCheckData.length; len++) {\n                if ((treeData !== this.parentCheckData[len]) && (this.parentCheckData[len])) {\n                    this.checkIndeterminateState(this.parentCheckData[len]);\n                }\n            }\n        }\n        this.parentCheckData = [];\n    }\n    beforeNodeCreate(e) {\n        if (this.showCheckBox) {\n            let checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            checkboxEle.setAttribute('role', 'checkbox');\n            let icon = select('div.' + ICON, e.item);\n            let id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            let checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNullOrUndefined(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            let frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED$1)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        let fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED$1);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            let textEle = e.item.querySelector('.' + LISTTEXT);\n            let dataId = e.item.getAttribute('data-uid');\n            textEle.innerHTML = '';\n            this.renderNodeTemplate(e.curData, textEle, dataId);\n        }\n        let eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        if (!this.isRefreshed) {\n            this.trigger('drawNode', eventArgs);\n        }\n    }\n    frameMouseHandler(e) {\n        let rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    }\n    addActionClass(e, action, cssClass) {\n        let data = e.curData;\n        let actionValue = getValue(action, data);\n        if (!isNullOrUndefined(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    }\n    getDataType(ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (let i = 0; i < ds.length; i++) {\n                if (this.isOffline) {\n                    if ((typeof mapper.child === 'string') && isNullOrUndefined(getValue(mapper.child, ds[i])) && !isNullOrUndefined(getValue(mapper.parentID, ds[i]))) {\n                        return 1;\n                    }\n                }\n                else if ((typeof mapper.child === 'string') && isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (let i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNullOrUndefined(getValue(mapper.parentID, ds[i])) || !isNullOrUndefined(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    }\n    getGroupedData(dataSource, groupBy) {\n        let cusQuery = new Query().group(groupBy);\n        let ds = ListBase.getDataSource(dataSource, cusQuery);\n        let grpItem = [];\n        for (let j = 0; j < ds.length; j++) {\n            let itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    }\n    getSortedData(list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    }\n    finalizeNode(element) {\n        let iNodes = selectAll('.' + IMAGE, element);\n        for (let k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            let sNodes = selectAll('.' + SELECTED$1, element);\n            for (let i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED$1);\n        }\n        let cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (let j = 0; j < cNodes.length; j++) {\n            let icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        let eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (let i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    }\n    updateCheckedProp() {\n        if (this.showCheckBox) {\n            let nodes = [].concat([], this.checkedNodes);\n            this.setProperties({ checkedNodes: nodes }, true);\n        }\n    }\n    ensureIndeterminate() {\n        if (this.autoCheck) {\n            let liElement = selectAll('li', this.element);\n            let ulElement;\n            for (let i = 0; i < liElement.length; i++) {\n                if (liElement[i].classList.contains(LISTITEM)) {\n                    ulElement = select('.' + PARENTITEM, liElement[i]);\n                    if (ulElement) {\n                        this.ensureParentCheckState(liElement[i]);\n                    }\n                    else {\n                        this.ensureChildCheckState(liElement[i]);\n                    }\n                }\n            }\n        }\n        else {\n            let indeterminate = selectAll('.' + INDETERMINATE, this.element);\n            for (let i = 0; i < indeterminate.length; i++) {\n                indeterminate[i].classList.remove(INDETERMINATE);\n            }\n        }\n    }\n    ensureParentCheckState(element) {\n        if (!isNullOrUndefined(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            let ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            let checkedNodes = selectAll('.' + CHECK, ulElement);\n            let indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n            let nodes = selectAll('.' + LISTITEM, ulElement);\n            let checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            let parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNullOrUndefined(parentUL)) {\n                let currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    }\n    ensureChildCheckState(element, e) {\n        if (!isNullOrUndefined(element)) {\n            let childElement = select('.' + PARENTITEM, element);\n            let checkBoxes;\n            if (!isNullOrUndefined(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                let isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                let parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n                let childCheck = childElement.querySelectorAll('li');\n                let expandState = childElement.parentElement.getAttribute('aria-expanded');\n                let checkedState;\n                for (let index = 0; index < checkBoxes.length; index++) {\n                    let childId = childCheck[index].getAttribute('data-uid');\n                    if (!isNullOrUndefined(this.currentLoadData) && !isNullOrUndefined(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                        if ((checkedState === 'uncheck') && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                            checkedState = 'indeterminate';\n                        }\n                    }\n                    else {\n                        let isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        if (isChecked) {\n                            checkedState = 'check';\n                        }\n                        else if (isNodeChecked && !this.isLoaded) {\n                            checkedState = 'check';\n                        }\n                        else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n                            checkedState = 'check';\n                        }\n                        else if (childCheck[index].classList.contains(CHILD) && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else if (this.dataType === 1 && (!isUndefined(this.parentNodeCheck) && this.autoCheck &&\n                            (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else {\n                            checkedState = 'uncheck';\n                        }\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n            if (this.autoCheck && this.isLoaded) {\n                this.updateParentCheckState();\n            }\n        }\n    }\n    doCheckBoxAction(nodes, doCheck) {\n        let li = selectAll('.' + LISTITEM, this.element);\n        if (!isNullOrUndefined(nodes)) {\n            for (let len = nodes.length; len >= 0; len--) {\n                let liEle;\n                if (nodes.length === 1) {\n                    liEle = this.getElement(nodes[len - 1]);\n                }\n                else {\n                    liEle = this.getElement(nodes[len]);\n                }\n                if (isNullOrUndefined(liEle)) {\n                    let node;\n                    node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n                    if (node !== '' && doCheck && node) {\n                        this.setValidCheckedNode(node);\n                        this.dynamicCheckState(node, doCheck);\n                    }\n                    else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n                        let childItems = this.getChildNodes(this.treeData, node);\n                        if (childItems) {\n                            for (let i = 0; i < childItems.length; i++) {\n                                let id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n                                if (this.checkedNodes.indexOf(id) !== -1) {\n                                    this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                                }\n                            }\n                            if (this.parentNodeCheck.indexOf(node) !== -1) {\n                                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n                            }\n                        }\n                        if (node) {\n                            this.dynamicCheckState(node, doCheck);\n                        }\n                        this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                    }\n                    continue;\n                }\n                let checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            let checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            if (this.loadOnDemand) {\n                for (let index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n                }\n            }\n            else {\n                for (let index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n                }\n            }\n        }\n        if (nodes) {\n            for (let j = 0; j < nodes.length; j++) {\n                let node = nodes[j] ? nodes[j].toString() : '';\n                if (!doCheck) {\n                    this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                }\n            }\n        }\n        if (this.autoCheck) {\n            this.updateParentCheckState();\n        }\n    }\n    updateFieldChecked(checkbox, doCheck) {\n        let currLi = closest(checkbox, '.' + LISTITEM);\n        let id = currLi.getAttribute('data-uid');\n        let nodeDetails = this.getNodeData(currLi);\n        if (nodeDetails.isChecked === 'true' && !doCheck) {\n            this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n        }\n    }\n    /**\n     * Changes the parent and child  check state while changing the checkedNodes via setmodel\n     */\n    dynamicCheckState(node, doCheck) {\n        if (this.dataType === 1) {\n            let count = 0;\n            let resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n            if (resultId[0]) {\n                let id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n                let parent = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n                let parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n                let indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n                let check = parentElement ? select('.' + CHECK, parentElement) : null;\n                let element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                let childNodes = this.getChildNodes(this.treeData, parent);\n                if (childNodes) {\n                    for (let i = 0; i < childNodes.length; i++) {\n                        let childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                }\n                if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (id === node) && this.autoCheck) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && element && (id === node) && !doCheck) {\n                    this.changeState(element, 'uncheck', null);\n                }\n                else if (this.checkedNodes.indexOf(node) !== -1 && element && (id === node) && doCheck) {\n                    this.changeState(element, 'check', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count !== 0) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count === 0) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else if (!element && !parentElement && (id === node) && this.autoCheck) {\n                    this.updateIndeterminate(node, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n            this.isOffline)) {\n            let id;\n            let parentElement;\n            let check;\n            for (let i = 0; i < this.treeData.length; i++) {\n                id = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : '';\n                parentElement = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                check = parentElement ? select('.' + CHECK, parentElement) : null;\n                if (this.checkedNodes.indexOf(id) === -1 && parentElement && check && !doCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                let subChild = getValue(this.fields.child.toString(), this.treeData[i]);\n                if (subChild) {\n                    this.updateChildIndeterminate(subChild, id, node, doCheck, id);\n                }\n            }\n        }\n    }\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n     */\n    updateIndeterminate(node, doCheck) {\n        let indeterminateData = this.getTreeData(node);\n        let count = 0;\n        let parent;\n        if (this.dataType === 1) {\n            parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n        }\n        let childNodes = this.getChildNodes(this.treeData, parent);\n        if (childNodes) {\n            for (let i = 0; i < childNodes.length; i++) {\n                let childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n            }\n        }\n        let parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n        if (parentElement && doCheck) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n            this.changeState(parentElement, 'uncheck', null);\n        }\n        else if (!parentElement) {\n            if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n            }\n            else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n                this.parentNodeCheck.push(parent);\n            }\n            else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1\n                && count !== 0) {\n                this.parentNodeCheck.push(parent);\n            }\n            this.updateIndeterminate(parent, doCheck);\n            if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n            }\n        }\n    }\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n     */\n    updateChildIndeterminate(subChild, parent, node, doCheck, child) {\n        let count = 0;\n        for (let j = 0; j < subChild.length; j++) {\n            let subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n            if (this.checkedNodes.indexOf(subId) !== -1) {\n                count++;\n            }\n            let parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n            let indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n            let check = parentElement ? select('.' + CHECK, parentElement) : null;\n            let element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n            let childElementCheck = element ? select('.' + CHECK, element) : null;\n            if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (subId === node) && this.autoCheck) {\n                this.changeState(parentElement, 'indeterminate', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && (subId === node) && !doCheck) {\n                if (this.autoCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else {\n                    if (count !== 0) {\n                        this.changeState(parentElement, 'indeterminate', null);\n                    }\n                    else {\n                        this.changeState(parentElement, 'uncheck', null);\n                    }\n                }\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && element && (subId === node) && !doCheck) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && (subId === node) && this.autoCheck && count === 0\n                && !doCheck) {\n                indeterminate.classList.remove(INDETERMINATE);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && !element && check && (subId === node) && count === 0) {\n                this.changeState(parentElement, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (!element && !parentElement && (subId === node) || (this.parentNodeCheck.indexOf(parent) !== -1) && this.autoCheck) {\n                let childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n                if (doCheck && count !== 0) {\n                    this.changeState(childElement, 'indeterminate', null);\n                }\n                else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n                    this.checkedNodes.push(parent);\n                }\n                else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                    this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n                }\n                if (this.parentNodeCheck.indexOf(parent) === -1) {\n                    this.parentNodeCheck.push(parent);\n                }\n            }\n            let innerChild = getValue(this.fields.child.toString(), subChild[j]);\n            if (innerChild) {\n                this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n            }\n        }\n    }\n    changeState(wrapper, state, e, isPrevent, isAdd, doCheck) {\n        let eventArgs;\n        let currLi = closest(wrapper, '.' + LISTITEM);\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs, (observedArgs) => {\n                if (!observedArgs.cancel) {\n                    this.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n                }\n            });\n        }\n        else {\n            this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n        }\n    }\n    nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n        let ariaState;\n        let frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && this.autoCheck) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            let data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (doCheck !== undefined) {\n            this.ensureStateChange(currLi, doCheck);\n        }\n        if (!isPrevent) {\n            if (!isNullOrUndefined(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    }\n    addCheck(liEle) {\n        let id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    }\n    removeCheck(liEle) {\n        let index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    }\n    getCheckEvent(currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        let nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, data: nodeData };\n    }\n    finalize() {\n        let firstUl = select('.' + PARENTITEM, this.element);\n        if (!isNullOrUndefined(firstUl)) {\n            firstUl.setAttribute('role', treeAriaAttr.treeRole);\n            this.setMultiSelect(this.allowMultiSelection);\n            let firstNode = select('.' + LISTITEM, this.element);\n            if (firstNode) {\n                addClass([firstNode], FOCUS);\n                this.updateIdAttr(null, firstNode);\n            }\n            this.renderReactTemplates();\n            this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n            this.doExpandAction();\n        }\n    }\n    doExpandAction() {\n        let eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            /* eslint-disable */\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (let i = 0; i < eUids.length; i++) {\n                    let eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNullOrUndefined(eNode)) {\n                        let icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNullOrUndefined(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                    else {\n                        if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n                            this.expandChildren.push(eUids[i].toString());\n                        }\n                        continue;\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    }\n    expandGivenNodes(arr) {\n        let proxy = this;\n        this.expandCallback(arr[this.index], () => {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    }\n    expandCallback(eUid, callback) {\n        let eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNullOrUndefined(eNode)) {\n            let icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNullOrUndefined(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    }\n    afterFinalized() {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        if (!this.isLoaded || this.isFieldChange) {\n            let eventArgs = { data: this.treeData };\n            this.trigger('dataBound', eventArgs);\n        }\n        this.isLoaded = true;\n    }\n    doSelectionAction() {\n        let sNodes = selectAll('.' + SELECTED$1, this.element);\n        let sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (let i = 0; i < sUids.length; i++) {\n                let sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                if (sNode && !(sNode.classList.contains('e-active'))) {\n                    this.selectNode(sNode, null, true);\n                }\n                else {\n                    this.selectedNodes.push(sUids[i]);\n                }\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED$1);\n    }\n    selectGivenNodes(sNodes) {\n        for (let i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    }\n    clickHandler(event) {\n        let target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            let classList$$1 = target.classList;\n            let li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else if (event.originalEvent.which !== 3) {\n                let rippleElement = select('.' + RIPPLEELMENT, li);\n                let rippleIcons = select('.' + ICON, li);\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    let checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNullOrUndefined(checkWrapper)) {\n                        let checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList$$1.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList$$1.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else if (rippleElement && rippleIcons) {\n                    if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n                        this.expandAction(li, rippleIcons, event);\n                    }\n                    else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n                        this.collapseNode(li, rippleIcons, event);\n                    }\n                    else if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                else {\n                    if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n            }\n            this.triggerClickEvent(event.originalEvent, li);\n        }\n    }\n    nodeCheckedEvent(wrapper, isCheck, e) {\n        let currLi = closest(wrapper, '.' + LISTITEM);\n        let eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    }\n    triggerClickEvent(e, li) {\n        let eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    }\n    expandNode(currLi, icon, loaded) {\n        this.renderReactTemplates();\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (loaded !== true || (loaded === true && currLi.classList.contains('e-expanded'))) {\n            if (this.preventExpand !== true) {\n                removeClass([icon], EXPANDABLE);\n                addClass([icon], COLLAPSIBLE);\n                let start = 0;\n                let end = 0;\n                let proxy = this;\n                let ul = select('.' + PARENTITEM, currLi);\n                let liEle = currLi;\n                this.setHeight(liEle, ul);\n                let activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n                if (this.isAnimate && !this.isRefreshed) {\n                    this.aniObj.animate(ul, {\n                        name: this.animation.expand.effect,\n                        duration: this.animation.expand.duration,\n                        timingFunction: this.animation.expand.easing,\n                        begin: (args) => {\n                            liEle.style.overflow = 'hidden';\n                            if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                                activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n                            }\n                            start = liEle.offsetHeight;\n                            end = select('.' + TEXTWRAP, currLi).offsetHeight;\n                        },\n                        progress: (args) => {\n                            args.element.style.display = 'block';\n                            proxy.animateHeight(args, start, end);\n                        },\n                        end: (args) => {\n                            args.element.style.display = 'block';\n                            if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                                activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n                            }\n                            this.expandedNode(liEle, ul, icon);\n                        }\n                    });\n                }\n                else {\n                    this.expandedNode(liEle, ul, icon);\n                }\n            }\n        }\n        else {\n            let ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    }\n    expandedNode(currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    }\n    addExpand(liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        let id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    }\n    collapseNode(currLi, icon, e) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        let colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs, (observedArgs) => {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    this.nodeCollapseAction(currLi, icon, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeCollapseAction(currLi, icon, colArgs);\n        }\n    }\n    nodeCollapseAction(currLi, icon, colArgs) {\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        let start = 0;\n        let end = 0;\n        let proxy = this;\n        let ul = select('.' + PARENTITEM, currLi);\n        let liEle = currLi;\n        let activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: (args) => {\n                    liEle.style.overflow = 'hidden';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n                    }\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: (args) => {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: (args) => {\n                    args.element.style.display = 'none';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n                    }\n                    this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    }\n    collapsedNode(liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(liEle, null);\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    }\n    removeExpand(liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        let index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    }\n    disableExpandAttr(liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    }\n    setHeight(currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    }\n    animateHeight(args, start, end) {\n        let remaining = (args.duration - args.timeStamp) / args.duration;\n        let currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    }\n    renderChildNodes(parentLi, expandChild, callback, loaded) {\n        let eicon = select('div.' + ICON, parentLi);\n        if (isNullOrUndefined(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        let childItems;\n        /* eslint-disable */\n        if (this.fields.dataSource instanceof DataManager) {\n            let level = this.parents(parentLi, '.' + PARENTITEM).length;\n            let mapper = this.getChildFields(this.fields, level, 1);\n            if (isNullOrUndefined(mapper) || isNullOrUndefined(mapper.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n                this.treeList.pop();\n                childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n                this.loadChild(childItems, mapper, eicon, parentLi, expandChild, callback, loaded);\n            }\n            else {\n                mapper.dataSource.executeQuery(this.getQuery(mapper, parentLi.getAttribute('data-uid'))).then((e) => {\n                    this.treeList.pop();\n                    childItems = e.result;\n                    if (this.dataType === 1) {\n                        this.dataType = 2;\n                    }\n                    this.loadChild(childItems, mapper, eicon, parentLi, expandChild, callback, loaded);\n                }).catch((e) => {\n                    this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = this.getSortedData(childItems);\n            if (isNullOrUndefined(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n                this.expandNode(parentLi, eicon, loaded);\n                this.setSelectionForChildNodes(childItems);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.disableTreeNodes(childItems);\n                this.renderSubChild(parentLi, expandChild, loaded);\n            }\n        }\n    }\n    loadChild(childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n        this.currentLoadData = childItems;\n        if (isNullOrUndefined(childItems) || childItems.length === 0) {\n            detach(eicon);\n            this.removeExpand(parentLi, true);\n        }\n        else {\n            this.updateListProp(mapper);\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                let id = parentLi.getAttribute('data-uid');\n                let nodeData = this.getNodeObject(id);\n                setValue('child', childItems, nodeData);\n            }\n            this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n            parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n            this.expandNode(parentLi, eicon, loaded);\n            this.setSelectionForChildNodes(childItems);\n            this.ensureCheckNode(parentLi);\n            this.finalizeNode(parentLi);\n            this.disableTreeNodes(childItems);\n            this.renderSubChild(parentLi, expandChild, loaded);\n        }\n        if (callback) {\n            callback();\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    }\n    disableTreeNodes(childItems) {\n        let i = 0;\n        while (i < childItems.length) {\n            let id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n                this.doDisableAction([id]);\n            }\n            i++;\n        }\n    }\n    /**\n     * Sets the child Item in selectedState while rendering the child node\n     */\n    setSelectionForChildNodes(nodes) {\n        let i;\n        for (i = 0; i < nodes.length; i++) {\n            let id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n            if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n                this.doSelectionAction();\n            }\n        }\n    }\n    ensureCheckNode(element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            if (this.autoCheck) {\n                this.ensureChildCheckState(element);\n                this.ensureParentCheckState(element);\n            }\n        }\n        this.currentLoadData = null;\n    }\n    getFields(mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    }\n    getChildFields(mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    }\n    getChildMapper(mapper) {\n        return (typeof mapper.child === 'string' || isNullOrUndefined(mapper.child)) ? mapper : mapper.child;\n    }\n    getChildNodes(obj, parentId, isRoot = false) {\n        let childNodes;\n        if (isNullOrUndefined(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (let i = 0, objlen = obj.length; i < objlen; i++) {\n                    let dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNullOrUndefined(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    }\n    getChildGroup(data, parentId, isRoot) {\n        let childNodes;\n        if (isNullOrUndefined(data)) {\n            return childNodes;\n        }\n        for (let i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNullOrUndefined(data[i][0]) && !isNullOrUndefined(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    }\n    renderSubChild(element, expandChild, loaded) {\n        if (expandChild) {\n            let cIcons = selectAll('.' + EXPANDABLE, element);\n            for (let i = 0, len = cIcons.length; i < len; i++) {\n                let icon = cIcons[i];\n                if (element.querySelector('.e-icons') !== cIcons[i]) {\n                    let curLi = closest(icon, '.' + LISTITEM);\n                    this.expandArgs = this.getExpandEvent(curLi, null);\n                    if (loaded !== true) {\n                        this.trigger('nodeExpanding', this.expandArgs);\n                    }\n                    this.renderChildNodes(curLi, expandChild, null, loaded);\n                }\n            }\n        }\n    }\n    toggleSelect(li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    }\n    isActive(li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    }\n    selectNode(li, e, multiSelect) {\n        if (isNullOrUndefined(li) || (!this.allowMultiSelection && this.isActive(li) && !isNullOrUndefined(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        let eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs, (observedArgs) => {\n                if (!observedArgs.cancel) {\n                    this.nodeSelectAction(li, e, observedArgs, multiSelect);\n                }\n            });\n        }\n        else {\n            this.nodeSelectAction(li, e, eventArgs, multiSelect);\n        }\n    }\n    nodeSelectAction(li, e, eventArgs, multiSelect) {\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            let startIndex = this.liList.indexOf(this.startNode);\n            let endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                let temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (let i = startIndex; i <= endIndex; i++) {\n                let currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    }\n    unselectNode(li, e) {\n        let eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs, (observedArgs) => {\n                if (!observedArgs.cancel) {\n                    this.nodeUnselectAction(li, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeUnselectAction(li, eventArgs);\n        }\n    }\n    nodeUnselectAction(li, eventArgs) {\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    }\n    setFocusElement(li) {\n        if (!isNullOrUndefined(li)) {\n            let focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    }\n    addSelect(liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        let id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    }\n    removeSelect(liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        let index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    }\n    removeSelectAll() {\n        let selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (let ele of selectedLI) {\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    }\n    getSelectEvent(currLi, action, e) {\n        let nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, nodeData: nodeData };\n    }\n    setExpandOnType() {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    }\n    expandHandler(e) {\n        let target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    }\n    expandCollapseAction(currLi, e) {\n        let icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            let classList$$1 = icon.classList;\n            if (classList$$1.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else if (classList$$1.contains(COLLAPSIBLE)) {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    }\n    expandAction(currLi, icon, e, expandChild, callback) {\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs, (observedArgs) => {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    this.nodeExpandAction(currLi, icon, expandChild, callback);\n                }\n            });\n        }\n        else {\n            this.nodeExpandAction(currLi, icon, expandChild, callback);\n        }\n    }\n    nodeExpandAction(currLi, icon, expandChild, callback) {\n        let ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.renderChildNodes(currLi, expandChild, callback);\n            let liEles = selectAll('.' + LISTITEM, currLi);\n            for (let i = 0; i < liEles.length; i++) {\n                let id = this.getId(liEles[i]);\n                if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n                    let icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEles[i]));\n                    if (!isNullOrUndefined(icon)) {\n                        this.expandAction(liEles[i], icon, null);\n                    }\n                    this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n                }\n            }\n        }\n    }\n    keyActionHandler(e) {\n        let target = e.target;\n        let focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            let inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        let eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        if (this.showCheckBox) {\n                            this.checkNode(e);\n                        }\n                        break;\n                    case 'moveRight':\n                        this.openNode(this.enableRtl ? false : true, e);\n                        break;\n                    case 'moveLeft':\n                        this.openNode(this.enableRtl ? true : false, e);\n                        break;\n                    case 'shiftDown':\n                        this.shiftKeySelect(true, e);\n                        break;\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                        this.navigateNode(true);\n                        break;\n                    case 'shiftUp':\n                        this.shiftKeySelect(false, e);\n                        break;\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                        this.navigateNode(false);\n                        break;\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                        this.navigateRootNode(true);\n                        break;\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                        this.navigateRootNode(false);\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        this.toggleSelect(focusedNode, e);\n                        break;\n                    case 'f2':\n                        if (this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                            this.createTextbox(focusedNode, e);\n                        }\n                        break;\n                    case 'ctrlA':\n                        if (this.allowMultiSelection) {\n                            let sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', this.element);\n                            this.selectGivenNodes(sNodes);\n                        }\n                        break;\n                }\n            }\n        });\n    }\n    navigateToFocus(isUp) {\n        let focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        let pos = focusNode.getBoundingClientRect();\n        let parent = this.getScrollParent(this.element);\n        if (!isNullOrUndefined(parent)) {\n            let parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        let isVisible$$1 = this.isVisibleInViewport(focusNode);\n        if (!isVisible$$1) {\n            focusNode.scrollIntoView(isUp);\n        }\n    }\n    isVisibleInViewport(txtWrap) {\n        let pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    }\n    getScrollParent(node) {\n        if (isNullOrUndefined(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    }\n    shiftKeySelect(isTowards, e) {\n        if (this.allowMultiSelection) {\n            let focusedNode = this.getFocusedNode();\n            let nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    }\n    checkNode(e) {\n        let focusedNode = this.getFocusedNode();\n        let checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        let isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n                this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n            }\n        }\n    }\n    validateCheckNode(checkWrap, isCheck, li, e) {\n        let currLi = closest(checkWrap, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        let ariaState = !isCheck ? 'true' : 'false';\n        if (!isNullOrUndefined(ariaState)) {\n            checkWrap.setAttribute('aria-checked', ariaState);\n        }\n        let eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                this.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n            }\n        });\n    }\n    nodeCheckingAction(checkWrap, isCheck, li, eventArgs, e) {\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            let child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n            (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        if (this.autoCheck) {\n            this.ensureChildCheckState(li);\n            this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n            let doCheck;\n            if (eventArgs.action === 'check') {\n                doCheck = true;\n            }\n            else if (eventArgs.action === 'uncheck') {\n                doCheck = false;\n            }\n            this.ensureStateChange(li, doCheck);\n        }\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    }\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM\n     */\n    ensureStateChange(li, doCheck) {\n        let childElement = select('.' + PARENTITEM, li);\n        let parentIndex = li.getAttribute('data-uid');\n        let mapper = this.fields;\n        if (this.dataType === 1 && this.autoCheck) {\n            let resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n            for (let i = 0; i < resultData.length; i++) {\n                let resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                let isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n                if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n                    this.checkedNodes.push(resultId);\n                    let childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                    if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null &&\n                    this.checkedNodes.indexOf(resultId) !== -1) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n                    }\n                    if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null ||\n                        this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        let childNodes = this.getChildNodes(this.treeData, resultId);\n                        this.getChildItems(childNodes, doCheck);\n                        if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                        }\n                    }\n                }\n                else {\n                    let childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 1 && !this.autoCheck) {\n            if (!doCheck) {\n                let checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (let i = 0; i < checkedData.length; i++) {\n                    let id = checkedData[i][this.fields.id] ? checkedData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(id) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n                }\n                this.checkedNodes = [];\n            }\n            else {\n                for (let i = 0; i < this.treeData.length; i++) {\n                    let checkedId = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(checkedId) === -1) {\n                        this.checkedNodes.push(checkedId);\n                    }\n                }\n            }\n        }\n        else {\n            let childItems = this.getChildNodes(this.treeData, parentIndex);\n            if (childItems) {\n                this.childStateChange(childItems, parentIndex, childElement, doCheck);\n            }\n        }\n    }\n    getChildItems(childItems, doCheck) {\n        for (let i = 0; i < childItems.length; i++) {\n            let childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            let childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() :\n                null;\n            if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n            }\n            if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n                this.checkedNodes.push(childId);\n            }\n            if (childIsCheck === 'true' && !doCheck) {\n                this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n            }\n            let subChildItems = this.getChildNodes(this.treeData, childId);\n            if (subChildItems.length > 0) {\n                this.getChildItems(subChildItems, doCheck);\n            }\n        }\n    }\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n     */\n    childStateChange(childItems, parent, childElement, doCheck) {\n        for (let i = 0; i < childItems.length; i++) {\n            let checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n            let isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n            if (this.autoCheck) {\n                if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                    this.checkedNodes.push(checkedChild);\n                    if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    }\n                }\n            }\n            else if (!this.autoCheck) {\n                if (!doCheck) {\n                    if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    this.checkedNodes = [];\n                }\n                else {\n                    if (this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n            }\n            let subChild = this.getChildNodes([childItems[i]], checkedChild);\n            if (subChild) {\n                this.childStateChange(subChild, parent, childElement, doCheck);\n            }\n        }\n    }\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    allCheckNode(child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (let length = 0; length < child.length; length++) {\n                let childId = getValue(this.fields.id, child[length]);\n                let check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNullOrUndefined(child[length][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNullOrUndefined(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length]) === true ||\n                    getValue(this.fields.child.toString(), child[length])) {\n                    let id = getValue(this.fields.id, child[length]);\n                    let childId = this.getChildNodes(this.treeData, id.toString());\n                    if (childId) {\n                        (isNullOrUndefined(validateCheck)) ? this.allCheckNode(childId, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    }\n    openNode(toBeOpened, e) {\n        let focusedNode = this.getFocusedNode();\n        let icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                let parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    }\n    navigateNode(isTowards) {\n        let focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    }\n    navigateRootNode(isBackwards) {\n        let focusedNode = this.getFocusedNode();\n        let rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    }\n    getFocusedNode() {\n        let selectedItem;\n        let fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNullOrUndefined(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNullOrUndefined(fNode) ? (isNullOrUndefined(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    }\n    focusNextNode(li, isTowards) {\n        let nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            let lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    }\n    getNextNode(li) {\n        let index = this.liList.indexOf(li);\n        let nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNullOrUndefined(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    }\n    getPrevNode(li) {\n        let index = this.liList.indexOf(li);\n        let prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNullOrUndefined(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    }\n    getRootNode() {\n        let index = 0;\n        let rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    }\n    getEndNode() {\n        let index = this.liList.length - 1;\n        let endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    }\n    setFocus(preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    }\n    updateIdAttr(preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    }\n    focusIn() {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    }\n    focusOut() {\n        removeClass([this.getFocusedNode()], HOVER);\n    }\n    onMouseOver(e) {\n        let target = e.target;\n        let classList$$1 = target.classList;\n        let currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList$$1.contains(PARENTITEM) || classList$$1.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    }\n    setHover(li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    }\n    ;\n    onMouseLeave(e) {\n        this.removeHover();\n    }\n    removeHover() {\n        let hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    }\n    ;\n    getNodeData(currLi, fromDS) {\n        if (!isNullOrUndefined(currLi) && currLi.classList.contains(LISTITEM) &&\n            !isNullOrUndefined(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            let id = currLi.getAttribute('data-uid');\n            let text = this.getText(currLi, fromDS);\n            let pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            let pid = pNode ? pNode.getAttribute('data-uid') : null;\n            let selected = currLi.classList.contains(ACTIVE);\n            let expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            let hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (select('.' + EXPANDABLE, currLi) || select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n            let checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return {\n                id: id, text: text, parentID: pid, selected: selected, expanded: expanded,\n                isChecked: checked, hasChildren: hasChildren\n            };\n        }\n        return { id: '', text: '', parentID: '', selected: false, expanded: false, isChecked: '', hasChildren: false };\n    }\n    getText(currLi, fromDS) {\n        if (fromDS) {\n            let nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            let level = parseFloat(currLi.getAttribute('aria-level'));\n            let nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    }\n    getExpandEvent(currLi, e) {\n        let nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    }\n    renderNodeTemplate(data, textEle, dataId) {\n        let tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, textEle);\n        }\n    }\n    destroyTemplate(liEle) {\n        this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n    }\n    reRenderNodes() {\n        this.updateListProp(this.fields);\n        if (Browser.isIE) {\n            this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        else {\n            this.element.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            this.clearTemplate();\n        }\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.checkedElement = [];\n        this.isLoaded = false;\n        this.setDataBinding(true);\n    }\n    setCssClass(oldClass, newClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    }\n    editingHandler(e) {\n        let target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            let liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    }\n    createTextbox(liEle, e) {\n        let oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        let textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        let innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        let eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                let inpWidth = textEle.offsetWidth + 5;\n                let style = 'width:' + inpWidth + 'px';\n                addClass([liEle], EDITING);\n                if (!isNullOrUndefined(this.nodeTemplateFn)) {\n                    this.destroyTemplate(liEle);\n                }\n                textEle.innerHTML = eventArgs.innerHtml;\n                let inpEle = select('.' + TREEINPUT, textEle);\n                this.inputObj = Input.createInput({\n                    element: inpEle,\n                    properties: {\n                        enableRtl: this.enableRtl,\n                    }\n                }, this.createElement);\n                this.inputObj.container.setAttribute('style', style);\n                inpEle.focus();\n                let inputEle = inpEle;\n                inputEle.setSelectionRange(0, inputEle.value.length);\n                this.wireInputEvents(inpEle);\n            }\n        });\n    }\n    updateOldText(liEle) {\n        let id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        let level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    }\n    inputFocusOut(e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        let target = e.target;\n        let newText = target.value;\n        let txtEle = closest(target, '.' + LISTTEXT);\n        let liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n            this.crudOperation('update', null, liEle, newText, null, null, true);\n        }\n        else {\n            this.appendNewText(liEle, txtEle, newText, true);\n        }\n    }\n    appendNewText(liEle, txtEle, newText, isInput) {\n        let eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs, (observedArgs) => {\n            newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n            this.updateText(liEle, txtEle, newText, isInput);\n            if (observedArgs.oldText !== newText) {\n                this.triggerEvent();\n            }\n        });\n    }\n    updateText(liEle, txtEle, newText, isInput) {\n        let newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            txtEle.innerText = '';\n            let dataId = liEle.getAttribute('data-uid');\n            this.renderNodeTemplate(newData, txtEle, dataId);\n            this.renderReactTemplates();\n        }\n        else {\n            txtEle.innerText = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n    }\n    getElement(ele) {\n        if (isNullOrUndefined(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return getElement(ele);\n        }\n        else {\n            return null;\n        }\n    }\n    getId(ele) {\n        if (isNullOrUndefined(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return (getElement(ele)).getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    }\n    getEditEvent(liEle, newText, inpEle) {\n        let data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    }\n    getNodeObject(id) {\n        let childNodes;\n        if (isNullOrUndefined(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (let i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                let dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNullOrUndefined(this.treeData[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    }\n    getChildNodeObject(obj, mapper, id) {\n        let newList;\n        if (isNullOrUndefined(obj)) {\n            return newList;\n        }\n        for (let i = 0, objlen = obj.length; i < objlen; i++) {\n            let dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                let childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                let child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    }\n    setDragAndDrop(toBind) {\n        if (toBind && !this.disabled) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    }\n    initializeDrag() {\n        let virtualEle;\n        let proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true, enableAutoScroll: true,\n            dragArea: this.dragArea,\n            dragTarget: '.' + TEXTWRAP,\n            helper: (e) => {\n                this.dragTarget = e.sender.target;\n                let dragRoot = closest(this.dragTarget, '.' + ROOT);\n                let dragWrap = closest(this.dragTarget, '.' + TEXTWRAP);\n                this.dragLi = closest(this.dragTarget, '.' + LISTITEM);\n                if (this.fullRowSelect && !dragWrap && this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = this.dragTarget.nextElementSibling;\n                }\n                if (!this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    this.dragTarget.classList.contains(ROOT) || this.dragTarget.classList.contains(PARENTITEM) ||\n                    this.dragTarget.classList.contains(LISTITEM) || this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                let cloneEle = (dragWrap.cloneNode(true));\n                if (isNullOrUndefined(select('div.' + ICON, cloneEle))) {\n                    let icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                let cssClass = DRAGITEM + ' ' + ROOT + ' ' + this.cssClass + ' ' + (this.enableRtl ? RTL$1 : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                let nLen = this.selectedNodes.length;\n                if (nLen > 1 && this.allowMultiSelection && this.dragLi.classList.contains(ACTIVE)) {\n                    let cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                this.dragData = this.getNodeData(this.dragLi);\n                return virtualEle;\n            },\n            dragStart: (e) => {\n                addClass([this.element], DRAGGING);\n                let listItem = closest(e.target, '.e-list-item');\n                let level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                let eventArgs = this.getDragEvent(e.event, this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    this.dragObj.intDestroy(e.event);\n                    this.dragCancelAction(virtualEle);\n                }\n                else {\n                    this.trigger('nodeDragStart', eventArgs, (observedArgs) => {\n                        if (observedArgs.cancel) {\n                            this.dragObj.intDestroy(e.event);\n                            this.dragCancelAction(virtualEle);\n                        }\n                        else {\n                            this.dragStartAction = true;\n                        }\n                    });\n                }\n            },\n            drag: (e) => {\n                this.dragObj.setProperties({ cursorAt: { top: (!isNullOrUndefined(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                this.dragAction(e, virtualEle);\n            },\n            dragStop: (e) => {\n                removeClass([this.element], DRAGGING);\n                this.removeVirtualEle();\n                let dropTarget = e.target;\n                let preventTargetExpand = false;\n                let dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                    \n                }\n                let listItem = closest(dropTarget, '.e-list-item');\n                let level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                let eventArgs = this.getDragEvent(e.event, this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                this.trigger('nodeDragStop', eventArgs, (observedArgs) => {\n                    this.dragParent = observedArgs.draggedParentNode;\n                    this.preventExpand = observedArgs.preventTargetExpand;\n                    if (observedArgs.cancel) {\n                        if (e.helper.parentNode) {\n                            detach(e.helper);\n                        }\n                        document.body.style.cursor = '';\n                        \n                    }\n                    this.dragStartAction = false;\n                });\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: (e) => {\n                if (!isNullOrUndefined(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: (e) => {\n                document.body.style.cursor = '';\n            },\n            drop: (e) => {\n                this.dropAction(e);\n            }\n        });\n    }\n    dragCancelAction(virtualEle) {\n        detach(virtualEle);\n        removeClass([this.element], DRAGGING);\n        this.dragStartAction = false;\n    }\n    dragAction(e, virtualEle) {\n        let dropRoot = closest(e.target, '.' + DROPPABLE);\n        let dropWrap = closest(e.target, '.' + TEXTWRAP);\n        let icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        let classList$$1 = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNullOrUndefined(classList$$1) && classList$$1.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            let dropLi = closest(e.target, '.' + LISTITEM);\n            let checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n            let collapse = closest(e.target, '.' + COLLAPSIBLE);\n            let expand = closest(e.target, '.' + EXPANDABLE);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (this.hasTemplate && dropLi) {\n                    let templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n                    if ((e && (!expand && !collapse) && e.event.offsetY < 7 && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        let index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((e && (!expand && !collapse) && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10) || ((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19))) {\n                        let index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n                else {\n                    if ((dropLi && e && (!expand && !collapse) && (e.event.offsetY < 7) && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        let index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((dropLi && e && (!expand && !collapse) && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10)) && !checkWrapper) || (((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19)))) {\n                        let index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        let listItem = closest(e.target, '.e-list-item');\n        let level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        let eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    }\n    appendIndicator(dropLi, icon, index) {\n        addClass([icon], DROPNEXT);\n        let virEle = this.createElement('div', { className: SIBLING });\n        dropLi.insertBefore(virEle, dropLi.children[index]);\n    }\n    /* eslint-disable */\n    dropAction(e) {\n        let offsetY = e.event.offsetY;\n        let dropTarget = e.target;\n        let dragObj;\n        let level;\n        let drop = false;\n        let dragInstance;\n        dragInstance = e.dragData.draggable;\n        for (let i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            let dragTarget = dragObj.dragTarget;\n            let dragLi = (closest(dragTarget, '.' + LISTITEM));\n            let dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                let sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n                    for (let i = sNodes.length - 1; i >= 0; i--) {\n                        if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                    }\n                }\n                else {\n                    for (let i = 0; i < sNodes.length; i++) {\n                        if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                    }\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        if (dragObj.element.id !== this.element.id) {\n            dragObj.triggerEvent();\n        }\n        this.triggerEvent();\n    }\n    appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        let checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n        let collapse = closest(e.target, '.' + COLLAPSIBLE);\n        let expand = closest(e.target, '.' + EXPANDABLE);\n        if (!dragLi.classList.contains('e-disable') && !checkWrapper && ((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3) || (expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19) || (!expand && !collapse))) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else if ((dropTarget.classList.contains('e-icon-collapsible')) || (dropTarget.classList.contains('e-icon-expandable'))) {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n        }\n    }\n    dropAsSiblingNode(dragLi, dropLi, e, dragObj) {\n        let dropUl = closest(dropLi, '.' + PARENTITEM);\n        let dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        let dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        let pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        else if (e.target.classList.contains('e-icon-expandable') || (e.target.classList.contains('e-icon-collapsible'))) {\n            if ((e.event.offsetY < 5) || (e.event.offsetX < 3)) {\n                pre = true;\n            }\n            else if ((e.event.offsetY > 15) || (e.event.offsetX > 17)) {\n                pre = false;\n            }\n        }\n        if ((e.target.classList.contains('e-icon-expandable')) || (e.target.classList.contains('e-icon-collapsible'))) {\n            let target = e.target.closest('li');\n            dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n        }\n        else {\n            dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        }\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    }\n    dropAsChildNode(dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n        let dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        let dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        let dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        let templateTarget;\n        if (e && e.target) {\n            templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n        }\n        if (e && (pos < 7) && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10)) && !isCheck && !this.hasTemplate) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            let dropUl = this.expandParent(dropLi);\n            let childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    }\n    moveData(dragLi, dropLi, dropUl, pre, dragObj) {\n        let dropParentLi = closest(dropUl, '.' + LISTITEM);\n        let id = this.getId(dragLi);\n        let removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        let refId = this.getId(dropLi);\n        let index = this.getDataPos(this.treeData, this.fields, refId);\n        let parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            let pos = isNullOrUndefined(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNullOrUndefined(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                let currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                let childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (let i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    }\n    expandParent(dropLi) {\n        let dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        let dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (!isNullOrUndefined(dropUl) && this.preventExpand === true) {\n            dropUl.style.display = 'none';\n        }\n        if (!isNullOrUndefined(dropUl) && this.preventExpand === false) {\n            dropUl.style.display = 'block';\n        }\n        if (isNullOrUndefined(dropUl) && this.preventExpand === true) {\n            if (isNullOrUndefined(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            let icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                icon.classList.add('e-icon-expandable');\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            if (icon) {\n                removeClass([icon], COLLAPSIBLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNullOrUndefined(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNullOrUndefined(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            let icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                removeClass([icon], EXPANDABLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n                icon = select('div.' + ICON, dropLi);\n                removeClass([icon], EXPANDABLE);\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    }\n    updateElement(dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            let dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            let parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n            this.removeExpand(dragParentLi, true);\n        }\n    }\n    updateAriaLevel(dragLi) {\n        let level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    }\n    updateChildAriaLevel(element, level) {\n        if (!isNullOrUndefined(element)) {\n            let cNodes = element.childNodes;\n            for (let i = 0, len = cNodes.length; i < len; i++) {\n                let liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    }\n    renderVirtualEle(e) {\n        let pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        let virEle = this.createElement('div', { className: SIBLING });\n        let index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    }\n    removeVirtualEle() {\n        let sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    }\n    destroyDrag() {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    }\n    getDragEvent(event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        let dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        let dropData = dropLi ? this.getNodeData(dropLi) : null;\n        let draggedNode = obj ? obj.dragLi : dragNode;\n        let draggedNodeData = obj ? obj.dragData : null;\n        let newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        let dragLiParent = obj.dragLi.parentElement;\n        let dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        let targetParent = null;\n        let indexValue = null;\n        let iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        let iconClass = null;\n        let node = (drop === true) ? draggedNode : dropLi;\n        let index = node ? closest(node, '.e-list-parent') : null;\n        let i = 0;\n        let position = null;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            let dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n            position = (iconClass == \"e-drop-in\") ? \"Inside\" : ((event.offsetY < 7) ? \"Before\" : \"After\");\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                let parent = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent) ? parent.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent === null && targetParent) {\n                    let parent = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent) ? parent.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n            position: position,\n        };\n    }\n    addFullRow(toAdd) {\n        let len = this.liList.length;\n        if (toAdd) {\n            for (let i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (let i = 0; i < len; i++) {\n                let rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    }\n    createFullRow(item) {\n        let rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    }\n    addMultiSelect(toAdd) {\n        if (toAdd) {\n            let liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (let ele of liEles) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            let liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (let ele of liEles) {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    }\n    collapseByLevel(element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNullOrUndefined(element)) {\n            let cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (let i = 0, len = cNodes.length; i < len; i++) {\n                let liEle = cNodes[i];\n                let icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNullOrUndefined(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    }\n    collapseAllNodes(excludeHiddenNodes) {\n        let cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (let i = 0, len = cIcons.length; i < len; i++) {\n            let icon = cIcons[i];\n            let liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    }\n    expandByLevel(element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNullOrUndefined(element)) {\n            let eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (let i = 0, len = eNodes.length; i < len; i++) {\n                let liEle = eNodes[i];\n                let icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNullOrUndefined(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    }\n    expandAllNodes(excludeHiddenNodes) {\n        let eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (let i = 0, len = eIcons.length; i < len; i++) {\n            let icon = eIcons[i];\n            let liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    }\n    getVisibleNodes(excludeHiddenNodes, nodes) {\n        let vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (let i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    }\n    removeNode(node) {\n        let dragParentUl = closest(node, '.' + PARENTITEM);\n        let dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            this.destroyTemplate(node);\n        }\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.removeData(node);\n    }\n    updateInstance() {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    }\n    updateList() {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    }\n    updateSelectedNodes() {\n        this.setProperties({ selectedNodes: [] }, true);\n        let sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    }\n    updateExpandedNodes() {\n        this.setProperties({ expandedNodes: [] }, true);\n        let eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (let i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    }\n    removeData(node) {\n        if (this.dataType === 1) {\n            let dm = new DataManager(this.treeData);\n            let id = this.getId(node);\n            let data = {};\n            let newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            let id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    }\n    removeChildNodes(parentId) {\n        let cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        let childData = [];\n        if (cNodes) {\n            for (let i = 0, len = cNodes.length; i < len; i++) {\n                let dm = new DataManager(this.treeData);\n                let id = getValue(this.fields.id, cNodes[i]).toString();\n                let data = {};\n                let currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                let nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    }\n    doGivenAction(nodes, selector, toExpand) {\n        for (let i = 0, len = nodes.length; i < len; i++) {\n            let liEle = this.getElement(nodes[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            let icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNullOrUndefined(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    }\n    addGivenNodes(nodes, dropLi, index, isRemote, dropEle) {\n        if (nodes.length === 0) {\n            return;\n        }\n        let sNodes = this.getSortedData(nodes);\n        let level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        let li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        let dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        let refNode = dropUl.childNodes[index];\n        for (let i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        let id = this.getId(dropLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            let refId = this.getId(refNode);\n            let pos = isNullOrUndefined(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (let j = 0; j < nodes.length; j++) {\n                if (!isNullOrUndefined(id)) {\n                    let currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n        }\n        this.finalizeNode(dropUl);\n    }\n    updateMapper(level) {\n        let mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    }\n    updateListProp(mapper) {\n        let prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    }\n    getDataPos(obj, mapper, id) {\n        let pos = null;\n        for (let i = 0, objlen = obj.length; i < objlen; i++) {\n            let nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                let data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                let items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    }\n    addChildData(obj, mapper, id, data, index) {\n        let updated;\n        if (isNullOrUndefined(id)) {\n            index = isNullOrUndefined(index) ? obj.length : index;\n            for (let k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (let i = 0, objlen = obj.length; i < objlen; i++) {\n            let nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && (obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null)) ||\n                    ((this.fields.dataSource instanceof DataManager) && obj[i].hasOwnProperty('child'))) {\n                    let key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    let childData = getValue(key, obj[i]);\n                    if (isNullOrUndefined(childData)) {\n                        childData = [];\n                    }\n                    index = isNullOrUndefined(index) ? childData.length : index;\n                    for (let k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    let key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                let childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if ((this.fields.dataSource instanceof DataManager) && !isNullOrUndefined(getValue('child', obj[i]))) {\n                let childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    }\n    doDisableAction(nodes) {\n        let validNodes = this.nodeType(nodes);\n        let validID = this.checkValidId(validNodes);\n        this.validArr = [];\n        for (let i = 0, len = validID.length; i < len; i++) {\n            let id = validID[i][this.fields.id].toString();\n            if (id && this.disableNode.indexOf(id) === -1) {\n                this.disableNode.push(id);\n            }\n            let liEle = this.getElement(id);\n            if (liEle) {\n                liEle.setAttribute('aria-disabled', 'true');\n                addClass([liEle], DISABLE);\n            }\n        }\n    }\n    doEnableAction(nodes) {\n        let strNodes = this.nodeType(nodes);\n        for (let i = 0, len = strNodes.length; i < len; i++) {\n            let liEle = this.getElement(strNodes[i]);\n            let id = strNodes[i];\n            if (id && this.disableNode.indexOf(id) !== -1) {\n                this.disableNode.splice(this.disableNode.indexOf(id), 1);\n            }\n            if (liEle) {\n                liEle.removeAttribute('aria-disabled');\n                removeClass([liEle], DISABLE);\n            }\n        }\n    }\n    nodeType(nodes) {\n        let validID = [];\n        for (let i = 0, len = nodes.length; i < len; i++) {\n            let id;\n            if (typeof nodes[i] == \"string\") {\n                id = (nodes[i]) ? nodes[i].toString() : null;\n            }\n            else if (typeof nodes[i] === \"object\") {\n                id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n            }\n            if (validID.indexOf(id) == -1) {\n                validID.push(id);\n            }\n        }\n        return validID;\n    }\n    checkValidId(node) {\n        if (this.dataType === 1) {\n            this.validArr = this.treeData.filter((data) => {\n                return node.indexOf(data[this.fields.id] ? data[this.fields.id].toString() : null) !== -1;\n            });\n        }\n        else if (this.dataType === 2) {\n            for (let k = 0; k < this.treeData.length; k++) {\n                let id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n                if (node.indexOf(id) !== -1) {\n                    this.validArr.push(this.treeData[k]);\n                }\n                let childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n                if (childItems) {\n                    this.filterNestedChild(childItems, node);\n                }\n            }\n        }\n        return this.validArr;\n    }\n    filterNestedChild(treeData, nodes) {\n        for (let k = 0; k < treeData.length; k++) {\n            let id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n            if (nodes.indexOf(id) !== -1) {\n                this.validArr.push(treeData[k]);\n            }\n            let childItems = getValue(this.fields.child.toString(), treeData[k]);\n            if (childItems) {\n                this.filterNestedChild(childItems, nodes);\n            }\n        }\n    }\n    setTouchClass() {\n        let ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n    }\n    updatePersistProp() {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        let sleNodes = this.selectedNodes;\n        for (let l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        let enodes = this.expandedNodes;\n        for (let k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            let cnodes = this.checkedNodes;\n            for (let m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    }\n    removeField(obj, mapper, names) {\n        if (isNullOrUndefined(obj) || isNullOrUndefined(mapper)) {\n            return;\n        }\n        for (let i = 0, objlen = obj.length; i < objlen; i++) {\n            for (let j = 0; j < names.length; j++) {\n                let field = this.getMapperProp(mapper, names[j]);\n                if (!isNullOrUndefined(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    }\n    getMapperProp(mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNullOrUndefined(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNullOrUndefined(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNullOrUndefined(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNullOrUndefined(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    }\n    updateField(obj, mapper, id, key, value) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            let newId = this.isNumberTypeId ? parseFloat(id) : id;\n            let resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    }\n    updateChildField(obj, mapper, id, key, value, remove$$1) {\n        let removedData;\n        if (isNullOrUndefined(obj)) {\n            return removedData;\n        }\n        for (let i = 0, objlen = obj.length; i < objlen; i++) {\n            let nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove$$1) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                let childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove$$1);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                let childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove$$1);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    }\n    triggerEvent() {\n        this.renderReactTemplates();\n        let eventArgs = { data: this.treeData };\n        this.trigger('dataSourceChanged', eventArgs);\n    }\n    wireInputEvents(inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    }\n    wireEditingEvents(toBind) {\n        if (toBind && !this.disabled) {\n            let proxy = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: (e) => {\n                    if (this.isDoubleTapped(e) && e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    }\n    wireClickEvent(toBind) {\n        if (toBind) {\n            let proxy = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: (e) => {\n                    proxy.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    }\n    wireExpandOnEvent(toBind) {\n        if (toBind) {\n            let proxy = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: (e) => {\n                    if ((this.expandOnType === 'Click' || (this.expandOnType === 'DblClick' && this.isDoubleTapped(e) && e.tapCount === 2))\n                        && e.originalEvent.which !== 3) {\n                        proxy.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    }\n    mouseDownHandler(e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    }\n    ;\n    preventContextMenu(e) {\n        e.preventDefault();\n    }\n    wireEvents() {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    }\n    unWireEvents() {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        if (!this.disabled) {\n            this.keyboardModule.destroy();\n        }\n    }\n    parents(element, selector) {\n        let matched = [];\n        let el = element.parentNode;\n        while (!isNullOrUndefined(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    }\n    isDoubleTapped(e) {\n        let target = e.originalEvent.target;\n        let secondTap;\n        if (target && e.tapCount) {\n            if (e.tapCount === 1) {\n                this.firstTap = closest(target, '.' + LISTITEM);\n            }\n            else if (e.tapCount === 2) {\n                secondTap = closest(target, '.' + LISTITEM);\n            }\n        }\n        return (this.firstTap === secondTap);\n    }\n    isDescendant(parent, child) {\n        let node = child.parentNode;\n        while (!isNullOrUndefined(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    }\n    showSpinner(element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    }\n    hideSpinner(element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    }\n    setCheckedNodes(nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        this.setIndeterminate(nodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    }\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n     */\n    setValidCheckedNode(node) {\n        if (this.dataType === 1) {\n            let mapper = this.fields;\n            let resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n            if (resultData[0]) {\n                this.setChildCheckState(resultData, node, resultData[0]);\n                if (this.autoCheck) {\n                    let parent = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n                    let childNodes = this.getChildNodes(this.treeData, parent);\n                    let count = 0;\n                    for (let len = 0; len < childNodes.length; len++) {\n                        let childId = childNodes[len][this.fields.id].toString();\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                    if (count === childNodes.length && this.checkedNodes.indexOf(parent) === -1 && parent) {\n                        this.checkedNodes.push(parent);\n                    }\n                }\n            }\n        }\n        else if (this.dataType === 2) {\n            for (let a = 0; a < this.treeData.length; a++) {\n                let index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n                if (index === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                    break;\n                }\n                let childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n                if (childItems) {\n                    this.setChildCheckState(childItems, node, this.treeData[a]);\n                }\n            }\n        }\n    }\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n     */\n    setChildCheckState(childItems, node, treeData) {\n        let checkedParent;\n        let count = 0;\n        if (this.dataType === 1) {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n            }\n            for (let index = 0; index < childItems.length; index++) {\n                let checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n                        this.checkedNodes.push(checkNode);\n                    }\n                }\n                if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                let subChildItems = this.getChildNodes(this.treeData, checkNode);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, treeData);\n                }\n            }\n        }\n        else {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n            }\n            for (let index = 0; index < childItems.length; index++) {\n                let checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n                if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                let subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, childItems[index]);\n                }\n                if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                    count++;\n                }\n                if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n                    this.checkedNodes.push(checkedParent);\n                }\n            }\n        }\n    }\n    setIndeterminate(nodes) {\n        for (let i = 0; i < nodes.length; i++) {\n            this.setValidCheckedNode(nodes[i]);\n        }\n    }\n    updatePosition(id, newData, isRefreshChild, childValue) {\n        if (this.dataType === 1) {\n            let pos = this.getDataPos(this.treeData, this.fields, id);\n            this.treeData.splice(pos, 1, newData);\n            if (isRefreshChild) {\n                this.removeChildNodes(id);\n                for (let j = 0; j < childValue.length; j++) {\n                    this.treeData.splice(pos, 0, childValue[j]);\n                    pos++;\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n        }\n    }\n    updateChildPosition(treeData, mapper, currID, newData, index) {\n        let found;\n        for (let i = 0, objlen = treeData.length; i < objlen; i++) {\n            let nodeId = getValue(mapper.id, treeData[i]);\n            if (treeData[i] && nodeId && nodeId.toString() === currID) {\n                treeData[i] = newData[0];\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, treeData[i]))) {\n                let childObj = getValue(mapper.child, treeData[i]);\n                found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', treeData[i]))) {\n                let childData = getValue('child', treeData[i]);\n                found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n        }\n        return found;\n    }\n    dynamicState() {\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEditingEvents(this.allowEditing);\n        if (!this.disabled) {\n            this.wireEvents();\n            this.setRipple();\n        }\n        else {\n            this.unWireEvents();\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n    }\n    crudOperation(operation, nodes, target, newText, newNode, index, prevent) {\n        let data = this.fields.dataSource;\n        let matchedArr = [];\n        let query = this.getQuery(this.fields);\n        let key = this.fields.id;\n        let crud;\n        let changes = {\n            addedRecords: [],\n            deletedRecords: [],\n            changedRecords: []\n        };\n        let nodesID = [];\n        if (nodes) {\n            nodesID = this.nodeType(nodes);\n        }\n        else if (target) {\n            if (typeof target == \"string\") {\n                nodesID[0] = target.toString();\n            }\n            else if (typeof target === \"object\") {\n                nodesID[0] = target.getAttribute(\"data-uid\").toString();\n            }\n        }\n        for (let i = 0, len = nodesID.length; i < len; i++) {\n            let liEle = this.getElement(nodesID[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            let removedData = this.getNodeObject(nodesID[i]);\n            matchedArr.push(removedData);\n        }\n        switch (operation) {\n            case 'delete':\n                if (nodes.length == 1) {\n                    crud = data.remove(key, matchedArr[0], query.fromTable, query);\n                }\n                else {\n                    changes.deletedRecords = matchedArr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then((e) => this.deleteSuccess(nodesID))\n                    .catch((e) => this.dmFailure(e));\n                break;\n            case 'update':\n                matchedArr[0][this.fields.text] = newText;\n                crud = data.update(key, matchedArr[0], query.fromTable, query);\n                crud.then((e) => this.editSucess(target, newText, prevent))\n                    .catch((e) => this.dmFailure(e, target, prevent));\n                break;\n            case 'insert':\n                if (newNode.length == 1) {\n                    crud = data.insert(newNode[0], query.fromTable, query);\n                }\n                else {\n                    let arr = [];\n                    for (let i = 0, len = newNode.length; i < len; i++) {\n                        arr.push(newNode[i]);\n                    }\n                    changes.addedRecords = arr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then((e) => {\n                    let dropLi = this.getElement(target);\n                    this.addSuccess(newNode, dropLi, index);\n                    this.preventExpand = false;\n                }).catch((e) => this.dmFailure(e));\n                break;\n        }\n    }\n    deleteSuccess(nodes) {\n        for (let i = 0, len = nodes.length; i < len; i++) {\n            let liEle = this.getElement(nodes[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            this.removeNode(liEle);\n        }\n        this.updateInstance();\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.triggerEvent();\n    }\n    editSucess(target, newText, prevent) {\n        let liEle = this.getElement(target);\n        let txtEle = select('.' + LISTTEXT, liEle);\n        this.appendNewText(liEle, txtEle, newText, prevent);\n    }\n    addSuccess(nodes, dropLi, index) {\n        let dropUl;\n        let icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n        let proxy = this;\n        if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n            dropLi.querySelector('.' + PARENTITEM) === null) {\n            proxy.renderChildNodes(dropLi, null, () => {\n                dropUl = dropLi.querySelector('.' + PARENTITEM);\n                proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n                proxy.triggerEvent();\n            });\n        }\n        else {\n            this.addGivenNodes(nodes, dropLi, index, true);\n            this.triggerEvent();\n        }\n    }\n    dmFailure(e, target, prevent) {\n        if (target) {\n            this.updatePreviousText(target, prevent);\n        }\n        this.trigger('actionFailure', { error: e });\n    }\n    updatePreviousText(target, prevent) {\n        let liEle = this.getElement(target);\n        let txtEle = select('.' + LISTTEXT, liEle);\n        this.updateText(liEle, txtEle, this.oldText, prevent);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (let prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.dragObj.dragArea = this.dragArea;\n                    }\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        let sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'autoCheck':\n                    if (this.showCheckBox) {\n                        this.autoCheck = newProp.autoCheck;\n                        this.ensureIndeterminate();\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNullOrUndefined(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None' && !this.disabled) {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'disabled':\n                    this.setDisabledMode();\n                    this.dynamicState();\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.isFieldChange = true;\n                    this.initialRender = true;\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    this.isFieldChange = false;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    break;\n                case 'loadOnDemand':\n                    if (this.loadOnDemand === false && !this.onLoaded) {\n                        let nodes = this.element.querySelectorAll('li');\n                        let i = 0;\n                        while (i < nodes.length) {\n                            if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                                this.renderChildNodes(nodes[i], true, null, true);\n                            }\n                            i++;\n                        }\n                        this.onLoaded = true;\n                    }\n                    break;\n                case 'nodeTemplate':\n                    this.hasTemplate = false;\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowNavigable':\n                    this.setProperties({ fullRowNavigable: newProp.fullRowNavigable }, true);\n                    this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    destroy() {\n        this.clearTemplate();\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        if (!this.disabled) {\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        if (this.ulElement && this.ulElement.parentElement) {\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        super.destroy();\n    }\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    addNodes(nodes, target, index, preventTargetExpand) {\n        if (isNullOrUndefined(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        let dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            if (!this.isOffline) {\n                this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n            }\n            else {\n                this.addSuccess(nodes, dropLi, index);\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (let i = 0; i < nodes.length; i++) {\n                    let pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.updateCheckedStateFromDS();\n        if (this.showCheckBox && dropLi) {\n            this.ensureParentCheckState(dropLi);\n        }\n        if ((this.fields.dataSource instanceof DataManager === false)) {\n            this.preventExpand = false;\n            this.triggerEvent();\n        }\n    }\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    beginEdit(node) {\n        let ele = this.getElement(node);\n        if (isNullOrUndefined(ele) || this.disabled) {\n            return;\n        }\n        this.createTextbox(ele, null);\n    }\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    checkAll(nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    }\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    collapseAll(nodes, level, excludeHiddenNodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    }\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    disableNodes(nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    }\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    enableNodes(nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    }\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    ensureVisible(node) {\n        let liEle = this.getElement(node);\n        if (isNullOrUndefined(liEle)) {\n            return;\n        }\n        let parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(() => { liEle.scrollIntoView(true); }, 450);\n    }\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    expandAll(nodes, level, excludeHiddenNodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    }\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    getAllCheckedNodes() {\n        let checkNodes = this.checkedNodes;\n        return checkNodes;\n    }\n    /**\n    * Gets all the disabled nodes including child, whether it is loaded or not.\n    */\n    getDisabledNodes() {\n        let disabledNodes = this.disableNode;\n        return disabledNodes;\n    }\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    getNode(node) {\n        let ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    }\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     * @isGenericType true\n     */\n    getTreeData(node) {\n        let id = this.getId(node);\n        this.updatePersistProp();\n        if (isNullOrUndefined(id)) {\n            return this.treeData;\n        }\n        else {\n            let data = this.getNodeObject(id);\n            return isNullOrUndefined(data) ? [] : [data];\n        }\n    }\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    moveNodes(sourceNodes, target, index, preventTargetExpand) {\n        let dropLi = this.getElement(target);\n        if (isNullOrUndefined(dropLi)) {\n            return;\n        }\n        for (let i = 0; i < sourceNodes.length; i++) {\n            let dragLi = this.getElement(sourceNodes[i]);\n            if (isNullOrUndefined(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent();\n    }\n    /**\n     * Refreshes a particular node of the TreeView.\n     * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n     * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n     */\n    refreshNode(target, newData) {\n        if (isNullOrUndefined(target) || isNullOrUndefined(newData)) {\n            return;\n        }\n        let id;\n        let isRefreshChild = false;\n        if (this.dataType == 1 && newData.length > 1) {\n            isRefreshChild = true;\n        }\n        else if (this.dataType == 2 && newData.length === 1) {\n            let updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n            if (!isNullOrUndefined(updatedChildValue)) {\n                isRefreshChild = true;\n            }\n        }\n        let liEle = this.getElement(target);\n        id = liEle ? liEle.getAttribute('data-uid') : ((target) ? target.toString() : null);\n        this.refreshData = this.getNodeObject(id);\n        newData = JSON.parse(JSON.stringify(newData));\n        /* eslint-disable */\n        let newNodeData;\n        let parentData;\n        if (this.dataType == 1 && isRefreshChild) {\n            for (let k = 0; k < newData.length; k++) {\n                if (isNullOrUndefined(newData[k][this.fields.parentID])) {\n                    parentData = newData[k];\n                    newData.splice(k, 1);\n                    break;\n                }\n            }\n            newNodeData = extend({}, this.refreshData, parentData);\n        }\n        else {\n            newNodeData = extend({}, this.refreshData, newData[0]);\n        }\n        if (isNullOrUndefined(liEle)) {\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            return;\n        }\n        this.isRefreshed = true;\n        let level = parseFloat(liEle.getAttribute('aria-level'));\n        let newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n        let ul = select('.' + PARENTITEM, liEle);\n        let childItems = getValue(this.fields.child.toString(), newNodeData);\n        if ((isRefreshChild && ul) || (isRefreshChild && !isNullOrUndefined(childItems))) {\n            let parentEle = liEle.parentElement;\n            let index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n            remove(liEle);\n            parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            if (isRefreshChild && ul) {\n                this.expandAll([id]);\n            }\n        }\n        else {\n            let txtEle = select('.' + TEXTWRAP, liEle);\n            let newTextEle = select('.' + TEXTWRAP, newliEle[0]);\n            let icon = select('div.' + ICON, txtEle);\n            let newIcon = select('div.' + ICON, newTextEle);\n            if (icon && newIcon) {\n                if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n                    removeClass([newIcon], EXPANDABLE);\n                    addClass([newIcon], COLLAPSIBLE);\n                }\n                else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n                    removeClass([newIcon], COLLAPSIBLE);\n                    addClass([newIcon], EXPANDABLE);\n                }\n                else if (icon.classList.contains('interaction')) {\n                    addClass([newIcon], 'interaction');\n                }\n            }\n            remove(txtEle);\n            let fullEle = select('.' + FULLROW, liEle);\n            fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n        }\n        liEle = this.getElement(target);\n        if (newNodeData[this.fields.tooltip]) {\n            liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n        }\n        if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n            let attr = {};\n            merge(attr, newNodeData[this.fields.htmlAttributes]);\n            if (attr.class) {\n                addClass([liEle], attr.class.split(' '));\n                delete attr.class;\n            }\n            else {\n                attributes(liEle, attr);\n            }\n        }\n        if (this.selectedNodes.indexOf(id) !== -1) {\n            liEle.setAttribute('aria-selected', 'true');\n            addClass([liEle], ACTIVE);\n        }\n        this.isRefreshed = false;\n        this.triggerEvent();\n    }\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    removeNodes(nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                this.crudOperation('delete', nodes);\n            }\n            else {\n                this.deleteSuccess(nodes);\n            }\n        }\n    }\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    updateNode(target, newText) {\n        if (isNullOrUndefined(target) || isNullOrUndefined(newText) || !this.allowEditing) {\n            return;\n        }\n        let liEle = this.getElement(target);\n        if (isNullOrUndefined(liEle)) {\n            return;\n        }\n        let txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        let eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                    this.crudOperation('update', null, target, newText, null, null, false);\n                }\n                else {\n                    this.appendNewText(liEle, txtEle, newText, false);\n                }\n            }\n        });\n    }\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    uncheckAll(nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    }\n};\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"allowDragAndDrop\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"allowEditing\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"allowMultiSelection\", void 0);\n__decorate$8([\n    Complex({}, NodeAnimationSettings)\n], TreeView.prototype, \"animation\", void 0);\n__decorate$8([\n    Property()\n], TreeView.prototype, \"checkedNodes\", void 0);\n__decorate$8([\n    Property('')\n], TreeView.prototype, \"cssClass\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"disabled\", void 0);\n__decorate$8([\n    Property(null)\n], TreeView.prototype, \"dragArea\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"enablePersistence\", void 0);\n__decorate$8([\n    Property()\n], TreeView.prototype, \"expandedNodes\", void 0);\n__decorate$8([\n    Property('Auto')\n], TreeView.prototype, \"expandOn\", void 0);\n__decorate$8([\n    Complex({}, FieldsSettings)\n], TreeView.prototype, \"fields\", void 0);\n__decorate$8([\n    Property(true)\n], TreeView.prototype, \"fullRowSelect\", void 0);\n__decorate$8([\n    Property(true)\n], TreeView.prototype, \"loadOnDemand\", void 0);\n__decorate$8([\n    Property()\n], TreeView.prototype, \"locale\", void 0);\n__decorate$8([\n    Property()\n], TreeView.prototype, \"nodeTemplate\", void 0);\n__decorate$8([\n    Property()\n], TreeView.prototype, \"selectedNodes\", void 0);\n__decorate$8([\n    Property('None')\n], TreeView.prototype, \"sortOrder\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"showCheckBox\", void 0);\n__decorate$8([\n    Property(true)\n], TreeView.prototype, \"autoCheck\", void 0);\n__decorate$8([\n    Property(false)\n], TreeView.prototype, \"fullRowNavigable\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"actionFailure\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"created\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"dataBound\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"dataSourceChanged\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"drawNode\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"destroyed\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"keyPress\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeChecked\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeChecking\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeClicked\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeCollapsed\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeCollapsing\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeDragging\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeDragStart\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeDragStop\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeDropped\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeEdited\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeEditing\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeExpanded\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeExpanding\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeSelected\", void 0);\n__decorate$8([\n    Event()\n], TreeView.prototype, \"nodeSelecting\", void 0);\nTreeView = TreeView_1 = __decorate$8([\n    NotifyPropertyChanges\n], TreeView);\n\n/**\n * TreeView modules\n */\n\nvar __decorate$9 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst CONTROL$1 = 'e-control';\nconst ROOT$1 = 'e-sidebar';\nconst DOCKER = 'e-dock';\nconst CLOSE = 'e-close';\nconst OPEN = 'e-open';\nconst TRASITION = 'e-transition';\nconst DEFAULTBACKDROP = 'e-sidebar-overlay';\nconst CONTEXTBACKDROP = 'e-backdrop';\nconst RTL$2 = 'e-rtl';\nconst RIGHT = 'e-right';\nconst LEFT = 'e-left';\nconst OVER = 'e-over';\nconst PUSH = 'e-push';\nconst SLIDE = 'e-slide';\nconst VISIBILITY = 'e-visibility';\nconst DISPLAY = 'e-sidebar-display';\nconst MAINCONTENTANIMATION = 'e-content-animation';\nconst DISABLEANIMATION = 'e-disable-animation';\nconst CONTEXT = 'e-sidebar-context';\nconst SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nlet Sidebar = class Sidebar extends Component {\n    /* eslint-enable */\n    constructor(options, element) {\n        super(options, element);\n    }\n    preRender() {\n        this.setWidth();\n    }\n    render() {\n        this.initialize();\n        this.wireEvents();\n        this.renderComplete();\n    }\n    initialize() {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.checkType(true);\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n        if (Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    }\n    setEnableRTL() {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL$2);\n    }\n    setTarget() {\n        this.targetEle = this.element.nextElementSibling;\n        this.sidebarEleCopy = this.element.cloneNode(true);\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n            this.targetEle = this.getTargetElement();\n        }\n    }\n    getTargetElement() {\n        let siblingElement = this.element.nextElementSibling;\n        while (!isNullOrUndefined(siblingElement)) {\n            if (!siblingElement.classList.contains(ROOT$1)) {\n                break;\n            }\n            siblingElement = siblingElement.nextElementSibling;\n        }\n        return siblingElement;\n    }\n    setCloseOnDocumentClick() {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    }\n    setWidth() {\n        if (this.enableDock && this.position === 'Left') {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.width) });\n        }\n    }\n    setDimension(width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    }\n    setZindex() {\n        setStyleAttribute(this.element, { 'z-index': '' + this.zIndex });\n    }\n    addClass() {\n        if (this.element.tagName === \"EJS-SIDEBAR\") {\n            addClass([this.element], DISPLAY);\n        }\n        const classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined(classELement || this.targetEle)) {\n            addClass([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT$1);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        this.element.setAttribute('tabindex', this.tabIndex);\n        if (this.type === 'Auto' && !Browser.isDevice) {\n            this.show();\n        }\n        else if (!this.isOpen) {\n            addClass([this.element], CLOSE);\n        }\n    }\n    checkType(val) {\n        if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n            this.type = 'Auto';\n        }\n        else {\n            if (!this.element.classList.contains(CLOSE) && !val) {\n                this.hide();\n            }\n        }\n    }\n    transitionEnd(e) {\n        this.setDock();\n        if (!isNullOrUndefined(e)) {\n            this.triggerChange();\n        }\n        EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n    }\n    destroyBackDrop() {\n        const sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    }\n    /* eslint-disable */\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     *\n     * @returns {void}\n     *\n     */\n    hide(e) {\n        const closeArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !isNullOrUndefined(e),\n            event: (e || null)\n        };\n        this.trigger('close', closeArguments, (observedcloseArgs) => {\n            if (!observedcloseArgs.cancel) {\n                if (this.element.classList.contains(CLOSE)) {\n                    return;\n                }\n                if (this.element.classList.contains(OPEN) && !this.animate) {\n                    this.triggerChange();\n                }\n                addClass([this.element], CLOSE);\n                removeClass([this.element], OPEN);\n                setStyleAttribute(this.element, { 'width': formatUnit(this.enableDock ? this.dockSize : this.width) });\n                this.setType(this.type);\n                const sibling = document.querySelector('.e-main-content') || this.targetEle;\n                if (!this.enableDock && sibling) {\n                    sibling.style.transform = 'translateX(' + 0 + 'px)';\n                    sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n                }\n                this.destroyBackDrop();\n                this.setAnimation();\n                if (this.type === 'Slide') {\n                    document.body.classList.remove('e-sidebar-overflow');\n                }\n                this.setProperties({ isOpen: false }, true);\n                if (this.enableDock) {\n                    setTimeout(() => this.setTimeOut(), 50);\n                }\n                EventHandler.add(this.element, 'transitionend', this.transitionEnd, this);\n            }\n        });\n    }\n    setTimeOut() {\n        const sibling = document.querySelector('.e-main-content') || this.targetEle;\n        const elementWidth = this.element.getBoundingClientRect().width;\n        if (this.element.classList.contains(OPEN) && sibling) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n        }\n        else if (this.element.classList.contains(CLOSE) && sibling) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n        }\n    }\n    /* eslint-disable */\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     *\n     * @returns {void}\n     */\n    show(e) {\n        const openArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !isNullOrUndefined(e),\n            event: (e || null)\n        };\n        this.trigger('open', openArguments, (observedopenArgs) => {\n            if (!observedopenArgs.cancel) {\n                removeClass([this.element], VISIBILITY);\n                if (this.element.classList.contains(OPEN)) {\n                    return;\n                }\n                if (this.element.classList.contains(CLOSE) && !this.animate) {\n                    this.triggerChange();\n                }\n                addClass([this.element], [OPEN, TRASITION]);\n                setStyleAttribute(this.element, { 'transform': '' });\n                removeClass([this.element], CLOSE);\n                setStyleAttribute(this.element, { 'width': formatUnit(this.width) });\n                this.setType(this.type);\n                this.createBackDrop();\n                this.setAnimation();\n                if (this.type === 'Slide') {\n                    document.body.classList.add('e-sidebar-overflow');\n                }\n                this.setProperties({ isOpen: true }, true);\n                EventHandler.add(this.element, 'transitionend', this.transitionEnd, this);\n            }\n        });\n    }\n    setAnimation() {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    }\n    triggerChange() {\n        const changeArguments = { name: 'change', element: this.element };\n        this.trigger('change', changeArguments);\n    }\n    setDock() {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyleAttribute(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyleAttribute(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    }\n    createBackDrop() {\n        if (this.target && this.showBackdrop && this.getState()) {\n            const sibling = document.querySelector('.e-main-content') || this.targetEle;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    }\n    getPersistData() {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    }\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     *\n     */\n    getModuleName() {\n        return 'sidebar';\n    }\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     *\n     * @returns {void}\n     */\n    toggle() {\n        if (this.element.classList.contains(OPEN)) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    }\n    getState() {\n        return this.element.classList.contains(OPEN) ? true : false;\n    }\n    setMediaQuery() {\n        if (this.mediaQuery) {\n            let media = false;\n            if (typeof (this.mediaQuery) === 'string') {\n                media = window.matchMedia(this.mediaQuery).matches;\n            }\n            else {\n                media = (this.mediaQuery).matches;\n            }\n            if (media && this.windowWidth !== window.innerWidth) {\n                this.show();\n            }\n            else if (this.getState() && this.windowWidth !== window.innerWidth) {\n                this.hide();\n            }\n        }\n    }\n    resize() {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n        if (Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    }\n    documentclickHandler(e) {\n        if (closest(e.target, '.' + CONTROL$1 + '' + '.' + ROOT$1)) {\n            return;\n        }\n        this.hide(e);\n    }\n    enableGestureHandler(args) {\n        if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    }\n    setEnableGestures() {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    }\n    wireEvents() {\n        this.setEnableGestures();\n        EventHandler.add(window, 'resize', this.resize, this);\n    }\n    unWireEvents() {\n        EventHandler.remove(window, 'resize', this.resize);\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {SidebarModel} newProp - specifies newProp value.\n     * @param {SidebarModel} oldProp - specifies oldProp value.\n     * @returns {void}\n     * @private\n     *\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const sibling = document.querySelector('.e-main-content') || this.targetEle;\n        const isRendered = this.isServerRendered;\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'isOpen':\n                    if (this.isOpen) {\n                        this.show();\n                    }\n                    else {\n                        this.hide();\n                    }\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    this.checkType(false);\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    addClass([this.element], this.type === 'Auto' ? (Browser.isDevice ? ['e-over'] :\n                        ['e-push']) : ['e-' + this.type.toLowerCase()]);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyleAttribute(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    this.isServerRendered = false;\n                    super.refresh();\n                    this.isServerRendered = isRendered;\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    }\n    setType(type) {\n        const elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        const sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto') {\n                sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n            }\n        }\n        const margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        const eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && this.element.classList.contains(CLOSE)) {\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    }\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @returns {void}\n     *\n     */\n    destroy() {\n        super.destroy();\n        if (this.target) {\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        if (this.element) {\n            removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n            removeClass([this.element], SIDEBARABSOLUTE);\n            this.element.style.width = '';\n            this.element.style.zIndex = '';\n            this.element.style.transform = '';\n            if (!isNullOrUndefined(this.sidebarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        this.windowWidth = null;\n        const sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    }\n};\n__decorate$9([\n    Property('auto')\n], Sidebar.prototype, \"dockSize\", void 0);\n__decorate$9([\n    Property(null)\n], Sidebar.prototype, \"mediaQuery\", void 0);\n__decorate$9([\n    Property(false)\n], Sidebar.prototype, \"enableDock\", void 0);\n__decorate$9([\n    Property('en-US')\n], Sidebar.prototype, \"locale\", void 0);\n__decorate$9([\n    Property(false)\n], Sidebar.prototype, \"enablePersistence\", void 0);\n__decorate$9([\n    Property(true)\n], Sidebar.prototype, \"enableGestures\", void 0);\n__decorate$9([\n    Property(false)\n], Sidebar.prototype, \"isOpen\", void 0);\n__decorate$9([\n    Property(false)\n], Sidebar.prototype, \"enableRtl\", void 0);\n__decorate$9([\n    Property(true)\n], Sidebar.prototype, \"animate\", void 0);\n__decorate$9([\n    Property('auto')\n], Sidebar.prototype, \"height\", void 0);\n__decorate$9([\n    Property(false)\n], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n__decorate$9([\n    Property('Left')\n], Sidebar.prototype, \"position\", void 0);\n__decorate$9([\n    Property(null)\n], Sidebar.prototype, \"target\", void 0);\n__decorate$9([\n    Property(false)\n], Sidebar.prototype, \"showBackdrop\", void 0);\n__decorate$9([\n    Property('Auto')\n], Sidebar.prototype, \"type\", void 0);\n__decorate$9([\n    Property('auto')\n], Sidebar.prototype, \"width\", void 0);\n__decorate$9([\n    Property(1000)\n], Sidebar.prototype, \"zIndex\", void 0);\n__decorate$9([\n    Event()\n], Sidebar.prototype, \"created\", void 0);\n__decorate$9([\n    Event()\n], Sidebar.prototype, \"close\", void 0);\n__decorate$9([\n    Event()\n], Sidebar.prototype, \"open\", void 0);\n__decorate$9([\n    Event()\n], Sidebar.prototype, \"change\", void 0);\n__decorate$9([\n    Event()\n], Sidebar.prototype, \"destroyed\", void 0);\nSidebar = __decorate$9([\n    NotifyPropertyChanges\n], Sidebar);\n\n/**\n * Sidebar modules\n */\n\nvar __decorate$10 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst ICONRIGHT = 'e-icon-right';\nconst ITEMTEXTCLASS = 'e-breadcrumb-text';\nconst ICONCLASS = 'e-breadcrumb-icon';\nclass BreadcrumbItem extends ChildProperty {\n}\n__decorate$10([\n    Property('')\n], BreadcrumbItem.prototype, \"text\", void 0);\n__decorate$10([\n    Property('')\n], BreadcrumbItem.prototype, \"url\", void 0);\n__decorate$10([\n    Property(null)\n], BreadcrumbItem.prototype, \"iconCss\", void 0);\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\nlet Breadcrumb = class Breadcrumb extends Component {\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        // pre render code\n    }\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialize();\n        this.renderItems(this.items);\n        this.wireEvents();\n    }\n    initialize() {\n        this._maxItems = this.maxItems;\n        this.element.setAttribute('aria-label', 'breadcrumb');\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.setWidth();\n        this.initItems();\n        this.initPvtProps();\n    }\n    initPvtProps() {\n        if (this.overflowMode === 'Default' && this._maxItems > 0) {\n            this.startIndex = this.items.length - (this._maxItems - 1);\n            this.endIndex = this.items.length - 1;\n        }\n    }\n    setWidth() {\n        if (this.width) {\n            this.element.style.width = this.width;\n        }\n    }\n    initItems() {\n        if (!this.items.length) {\n            let baseUri;\n            let uri;\n            const items = [];\n            if (this.url) {\n                const url = new URL(this.url);\n                baseUri = url.origin + '/';\n                uri = url.href.split(baseUri)[1].split('/');\n            }\n            else {\n                baseUri = window.location.origin + '/';\n                uri = window.location.href.split(baseUri)[1].split('/');\n            }\n            items.push({ iconCss: 'e-icons e-home', url: baseUri });\n            for (let i = 0; i < uri.length; i++) {\n                if (uri[i]) {\n                    items.push({ text: uri[i], url: baseUri + uri[i] });\n                    baseUri += uri[i] + '/';\n                }\n            }\n            this.setProperties({ items: items }, true);\n        }\n    }\n    renderItems(items) {\n        let item;\n        let isSingleLevel;\n        const isIconRight = this.element.classList.contains(ICONRIGHT);\n        const itemsLength = items.length;\n        if (itemsLength) {\n            let isActiveItem;\n            let isLastItem;\n            let j = 0;\n            const len = (itemsLength * 2) - 1;\n            const ol = this.createElement('ol');\n            const showIcon = this.hasField(items, 'iconCss');\n            const isDisabled = this.element.classList.contains('e-disabled');\n            const isCollasped = (this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this.maxItems && !this.isExpanded);\n            const isDefaultOverflowMode = (this.overflowMode === 'Default' && this._maxItems > 0);\n            const listBaseOptions = {\n                moduleName: this.getModuleName(),\n                showIcon: showIcon,\n                itemNavigable: true,\n                itemCreated: (args) => {\n                    const isLastItem = args.curData.isLastItem;\n                    if (isLastItem && args.item.children.length && !this.itemTemplate) {\n                        delete args.curData.isLastItem;\n                        args.item.innerHTML = this.createElement('span', { className: ITEMTEXTCLASS, innerHTML: args.item.children[0].innerHTML }).outerHTML;\n                    }\n                    if (args.curData.iconCss && !args.curData.text && !this.itemTemplate) {\n                        args.item.classList.add('e-icon-item');\n                    }\n                    if (isDefaultOverflowMode) {\n                        args.item.setAttribute('item-index', j.toString());\n                    }\n                    if (args.item.querySelector('.' + ITEMTEXTCLASS)) {\n                        EventHandler.add(args.item.querySelector('.' + ITEMTEXTCLASS), 'focus', () => {\n                            args.item.classList.add('e-focus');\n                        }, this);\n                        EventHandler.add(args.item.querySelector('.' + ITEMTEXTCLASS), 'focusout', () => {\n                            args.item.classList.remove('e-focus');\n                        }, this);\n                    }\n                    const eventArgs = {\n                        item: extend({}, args.curData.properties ?\n                            args.curData.properties : args.curData), element: args.item\n                    };\n                    this.trigger('beforeItemRender', eventArgs);\n                    const isItemDisabled = isDisabled || eventArgs.element.classList.contains('e-disabled');\n                    const containsRightIcon = (isIconRight || eventArgs.element.classList.contains(ICONRIGHT));\n                    if (containsRightIcon && args.curData.iconCss && !this.itemTemplate) {\n                        args.item.querySelector('.e-anchor-wrap').append(args.item.querySelector('.' + ICONCLASS));\n                    }\n                    if (isItemDisabled) {\n                        args.item.setAttribute('aria-disabled', 'true');\n                    }\n                    if (args.curData.isEmptyUrl) {\n                        args.item.children[0].removeAttribute('href');\n                        if ((!isLastItem || (isLastItem && this.enableActiveItemNavigation)) && !isItemDisabled) {\n                            args.item.children[0].setAttribute('tabindex', '0');\n                            EventHandler.add(args.item.children[0], 'keydown', this.keyDownHandler, this);\n                        }\n                    }\n                    if (!this.itemTemplate) {\n                        this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n                    }\n                }\n            };\n            for (let i = 0; i < len; i % 2 && j++, i++) {\n                isActiveItem = (this.activeItem && this.activeItem === items[j].url);\n                if (isCollasped && i > 1 && i < len - 2) {\n                    continue;\n                }\n                else if (isDefaultOverflowMode && ((j < this.startIndex || j > this.endIndex)\n                    && (i % 2 ? j !== this.startIndex - 1 : true)) && j !== 0) {\n                    continue;\n                }\n                if (i % 2) {\n                    // separator item\n                    listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n                    listBaseOptions.itemClass = 'e-breadcrumb-separator';\n                    isSingleLevel = false;\n                    item = [{ previousItem: item.pop(), nextItem: items[j] }];\n                }\n                else {\n                    // list item\n                    listBaseOptions.itemClass = '';\n                    if (this.itemTemplate) {\n                        listBaseOptions.template = this.itemTemplate;\n                        isSingleLevel = false;\n                    }\n                    else {\n                        isSingleLevel = true;\n                    }\n                    item = [extend({}, items[j].properties ? items[j].properties\n                            : items[j])];\n                    if (!item[0].url && !this.itemTemplate) {\n                        item = [extend({}, item[0], { isEmptyUrl: true, url: '#' })];\n                    }\n                    isLastItem = isDefaultOverflowMode && (j === this.endIndex);\n                    if ((((i === len - 1 || isLastItem) && !this.itemTemplate) || isActiveItem) && !this.enableActiveItemNavigation) {\n                        item[0].isLastItem = true;\n                    }\n                }\n                append(ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this)\n                    .childNodes, ol);\n                if (isCollasped && i === 1) {\n                    const li = this.createElement('li', { className: 'e-icons e-breadcrumb-collapsed', attrs: { 'tabindex': '0' } });\n                    EventHandler.add(li, 'keyup', this.expandHandler, this);\n                    ol.append(li);\n                }\n                if (isActiveItem || isLastItem) {\n                    break;\n                }\n            }\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            this.element.append(ol);\n            this.calculateMaxItems();\n        }\n    }\n    calculateMaxItems() {\n        if (!this._maxItems) {\n            if (this.overflowMode === 'Default' || this.overflowMode === 'Collapsed') {\n                const width = this.element.offsetWidth;\n                let liWidth = this.element.children[0].children[0].offsetWidth;\n                const liElems = [].slice.call(this.element.children[0].children).reverse();\n                for (let i = 0; i < liElems.length; i++) {\n                    if (liWidth > width) {\n                        this._maxItems = Math.ceil((i - 1) / 2) + 1;\n                        this.initPvtProps();\n                        return this.reRenderItems();\n                    }\n                    else {\n                        liWidth += liElems[i].offsetWidth;\n                    }\n                }\n            }\n        }\n    }\n    hasField(items, field) {\n        for (let i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    }\n    beforeItemRenderChanges(prevItem, currItem, elem, isRightIcon) {\n        const wrapElem = elem.querySelector('.e-anchor-wrap');\n        if (currItem.text !== prevItem.text) {\n            wrapElem.childNodes.forEach((child) => {\n                if (child.nodeType === Node.TEXT_NODE) {\n                    child.textContent = currItem.text;\n                }\n            });\n        }\n        if (currItem.iconCss !== prevItem.iconCss) {\n            const iconElem = elem.querySelector('.' + ICONCLASS);\n            if (iconElem) {\n                if (currItem.iconCss) {\n                    removeClass([iconElem], prevItem.iconCss.split(' '));\n                    addClass([iconElem], currItem.iconCss.split(' '));\n                }\n                else {\n                    iconElem.remove();\n                }\n            }\n            else if (currItem.iconCss) {\n                const iconElem = this.createElement('span', { className: ICONCLASS + ' ' + currItem.iconCss });\n                if (isRightIcon) {\n                    append([iconElem], wrapElem);\n                }\n                else {\n                    wrapElem.insertBefore(iconElem, wrapElem.childNodes[0]);\n                }\n            }\n        }\n        if (currItem.url !== prevItem.url && this.enableNavigation) {\n            const anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n            if (anchor) {\n                if (currItem.url) {\n                    anchor.setAttribute('href', currItem.url);\n                }\n                else {\n                    anchor.removeAttribute('href');\n                }\n            }\n        }\n    }\n    reRenderItems() {\n        this.element.innerHTML = '';\n        this.renderItems(this.items);\n    }\n    clickHandler(e) {\n        const li = closest(e.target, '.e-breadcrumb-item');\n        if (li && (closest(e.target, '.' + ITEMTEXTCLASS) || this.itemTemplate)) {\n            let idx = [].slice.call(li.parentElement.children).indexOf(li);\n            idx = Math.floor(idx / 2);\n            if (this.overflowMode === 'Default' && this._maxItems > 0 && this.endIndex !== 0) {\n                idx = parseInt(li.getAttribute('item-index'), 10);\n                if (this.startIndex > 1) {\n                    this.startIndex -= (this.endIndex - idx);\n                }\n                this.endIndex = idx;\n                this.reRenderItems();\n            }\n            this.trigger('itemClick', { element: li, item: this.items[idx], event: e });\n            if (this.items[idx].url) {\n                this.activeItem = this.items[idx].url;\n                this.dataBind();\n            }\n        }\n        if (!this.enableNavigation) {\n            e.preventDefault();\n        }\n        if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n    }\n    resize() {\n        this._maxItems = this.maxItems;\n        this.initPvtProps();\n        this.reRenderItems();\n    }\n    expandHandler(e) {\n        if (e.key === 'Enter') {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n    }\n    keyDownHandler(e) {\n        if (e.key === 'Enter') {\n            this.clickHandler(e);\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {BreadcrumbModel} newProp - Specifies the new properties.\n     * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'activeItem':\n                case 'items':\n                case 'enableActiveItemNavigation':\n                    this.reRenderItems();\n                    break;\n                case 'overflowMode':\n                case 'maxItems':\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    break;\n                case 'url':\n                    this.initItems();\n                    this.reRenderItems();\n                    break;\n                case 'width':\n                    this.setWidth();\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    if ((oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && !(newProp.cssClass &&\n                        newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) &&\n                        (newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1)) {\n                        this.reRenderItems();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle('e-rtl');\n                    break;\n            }\n        }\n    }\n    wireEvents() {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n    }\n    unWireEvents() {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        window.removeEventListener('resize', this.resize.bind(this));\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    getPersistData() {\n        return this.addOnPersist(['activeItem']);\n    }\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    getModuleName() {\n        return 'breadcrumb';\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n    }\n};\n__decorate$10([\n    Property('')\n], Breadcrumb.prototype, \"url\", void 0);\n__decorate$10([\n    Collection([], BreadcrumbItem)\n], Breadcrumb.prototype, \"items\", void 0);\n__decorate$10([\n    Property('')\n], Breadcrumb.prototype, \"activeItem\", void 0);\n__decorate$10([\n    Property(0)\n], Breadcrumb.prototype, \"maxItems\", void 0);\n__decorate$10([\n    Property('Default')\n], Breadcrumb.prototype, \"overflowMode\", void 0);\n__decorate$10([\n    Property('')\n], Breadcrumb.prototype, \"cssClass\", void 0);\n__decorate$10([\n    Property('')\n], Breadcrumb.prototype, \"width\", void 0);\n__decorate$10([\n    Property(null)\n], Breadcrumb.prototype, \"itemTemplate\", void 0);\n__decorate$10([\n    Property('/')\n], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n__decorate$10([\n    Property(true)\n], Breadcrumb.prototype, \"enableNavigation\", void 0);\n__decorate$10([\n    Property(false)\n], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n__decorate$10([\n    Property('')\n], Breadcrumb.prototype, \"locale\", void 0);\n__decorate$10([\n    Event()\n], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n__decorate$10([\n    Event()\n], Breadcrumb.prototype, \"itemClick\", void 0);\n__decorate$10([\n    Event()\n], Breadcrumb.prototype, \"created\", void 0);\nBreadcrumb = __decorate$10([\n    NotifyPropertyChanges\n], Breadcrumb);\n\n/**\n * Breadcrumb modules\n */\n\n/**\n * Navigation all modules\n */\n\nexport { MenuAnimationSettings, MenuItem, HScroll, VScroll, addScrolling, destroyScroll, Item, Toolbar, AccordionActionSettings, AccordionAnimationSettings, AccordionItem, Accordion, ContextMenu, Menu, TabActionSettings, TabAnimationSettings, Header, TabItem, Tab, FieldsSettings, ActionSettings, NodeAnimationSettings, TreeView, Sidebar, BreadcrumbItem, Breadcrumb };\n"]},"metadata":{},"sourceType":"module"}