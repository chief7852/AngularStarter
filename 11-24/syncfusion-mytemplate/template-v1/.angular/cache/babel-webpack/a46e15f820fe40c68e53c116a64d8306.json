{"ast":null,"code":"import _defineProperty from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _createClass from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Animation, ChildProperty, Collection, Complex, Component, Event, EventHandler, KeyboardEvents, NotifyPropertyChanges, Property, SanitizeHtmlHelper, addClass, attributes, classList, closest, createElement, deleteObject, detach, extend, getInstance, getUniqueID, getValue, isNullOrUndefined, remove, removeClass, rippleEffect, select, setValue } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, createSpinner as _createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * @param {Object} props - Specifies the properties\n * @param {string[]} model - Specifies the model\n * @returns {Object} Component Model\n */\n\n\nfunction getModel(props, model) {\n  var obj = extend({}, props);\n\n  for (var _i = 0, _Object$keys = Object.keys(obj); _i < _Object$keys.length; _i++) {\n    var prop = _Object$keys[_i];\n\n    if (model.indexOf(prop) < 0) {\n      deleteObject(obj, prop);\n    }\n  }\n\n  return obj;\n}\n/** @hidden\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {number} keyCode - Specifies the keycode\n * @returns {void}\n */\n\n\nfunction _upDownKeyHandler(ul, keyCode) {\n  var defaultIdx = keyCode === 40 ? 0 : ul.childElementCount - 1;\n  var liIdx = defaultIdx;\n  var li;\n  var selectedLi = ul.querySelector('.e-selected');\n\n  if (selectedLi) {\n    selectedLi.classList.remove('e-selected');\n  }\n\n  for (var i = 0, len = ul.children.length; i < len; i++) {\n    if (ul.children[i].classList.contains('e-focused')) {\n      li = ul.children[i];\n      liIdx = i;\n      li.classList.remove('e-focused');\n\n      if (keyCode === 40) {\n        liIdx++;\n      } else {\n        liIdx--;\n      }\n\n      if (liIdx === (keyCode === 40 ? ul.childElementCount : -1)) {\n        liIdx = defaultIdx;\n      }\n    }\n  }\n\n  li = ul.children[liIdx];\n  liIdx = isValidLI(ul, li, liIdx, keyCode);\n\n  if (liIdx !== -1) {\n    addClass([ul.children[liIdx]], 'e-focused');\n    ul.children[liIdx].focus();\n  }\n}\n/**\n * Get Valid LI element\n *\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {Element} li - Specifies the LI element\n * @param {number} index - Specifies the index\n * @param {number} keyCode - Specifies the keycode\n * @param {number} count - Specifies the count\n * @returns {number} - Index\n */\n\n\nfunction isValidLI(ul, li, index, keyCode) {\n  var count = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n\n  if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n    if (index === (keyCode === 40 ? ul.childElementCount - 1 : 0)) {\n      index = keyCode === 40 ? 0 : ul.childElementCount - 1;\n    } else {\n      if (keyCode === 40) {\n        index++;\n      } else {\n        index--;\n      }\n    }\n  }\n\n  li = ul.children[index];\n\n  if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n    count++;\n\n    if (count === ul.childElementCount) {\n      return index = -1;\n    }\n\n    index = isValidLI(ul, li, index, keyCode, count);\n  }\n\n  return index;\n}\n/** @hidden\n * @param {HTMLElement} popup - Specifies the popup element.\n * @returns {void}\n */\n\n\nfunction setBlankIconStyle(popup) {\n  var blankIconList = [].slice.call(popup.getElementsByClassName('e-blank-icon'));\n\n  if (!blankIconList.length) {\n    return;\n  }\n\n  var iconLi = popup.querySelector('.e-item:not(.e-blank-icon):not(.e-separator)');\n\n  if (iconLi.classList.contains('e-url')) {\n    iconLi = iconLi.querySelector('.e-menu-url');\n  }\n\n  var icon = iconLi.querySelector('.e-menu-icon');\n  var cssProp;\n  var enableRtl = popup.classList.contains('e-rtl');\n\n  if (enableRtl) {\n    cssProp = {\n      padding: 'paddingRight',\n      margin: 'marginLeft'\n    };\n  } else {\n    cssProp = {\n      padding: 'paddingLeft',\n      margin: 'marginRight'\n    };\n  }\n  /* eslint-disable */\n\n\n  var size = \"\".concat(parseInt(getComputedStyle(icon).fontSize, 10) + parseInt(enableRtl ? getComputedStyle(icon)[cssProp.margin] : getComputedStyle(icon)[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi).paddingLeft, 10), \"px\");\n  blankIconList.forEach(function (li) {\n    if (li.classList.contains('e-url')) {\n      li.querySelector('.e-menu-url').style[cssProp.padding] = size;\n    } else {\n      li.style[cssProp.padding] = size;\n    }\n  });\n  /* eslint-enable */\n}\n/**\n * Defines the items of Split Button/DropDownButton.\n */\n\n\nvar Item = /*#__PURE__*/function (_ChildProperty) {\n  _inherits(Item, _ChildProperty);\n\n  var _super = _createSuper(Item);\n\n  function Item() {\n    _classCallCheck(this, Item);\n\n    return _super.apply(this, arguments);\n  }\n\n  return Item;\n}(ChildProperty);\n\n__decorate([Property('')], Item.prototype, \"iconCss\", void 0);\n\n__decorate([Property('')], Item.prototype, \"id\", void 0);\n\n__decorate([Property(false)], Item.prototype, \"separator\", void 0);\n\n__decorate([Property('')], Item.prototype, \"text\", void 0);\n\n__decorate([Property('')], Item.prototype, \"url\", void 0);\n\n__decorate([Property(false)], Item.prototype, \"disabled\", void 0);\n/**\n * Common modules\n */\n\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar classNames = {\n  DISABLED: 'e-disabled',\n  FOCUS: 'e-focused',\n  ICON: 'e-menu-icon',\n  ITEM: 'e-item',\n  POPUP: 'e-dropdown-popup',\n  RTL: 'e-rtl',\n  SEPARATOR: 'e-separator',\n  VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ```html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\n\nvar DropDownButton = /*#__PURE__*/function (_Component) {\n  _inherits(DropDownButton, _Component);\n\n  var _super2 = _createSuper(DropDownButton);\n\n  /**\n   * Constructor for creating the widget\n   *\n   * @param  {DropDownButtonModel} options - Specifies dropdown button model\n   * @param  {string|HTMLButtonElement} element - Specifies element\n   * @hidden\n   */\n  function DropDownButton(options, element) {\n    var _this;\n\n    _classCallCheck(this, DropDownButton);\n\n    _this = _super2.call(this, options, element);\n    _this.isPopupCreated = true;\n    return _this;\n  }\n\n  _createClass(DropDownButton, [{\n    key: \"preRender\",\n    value: function preRender() {\n      /** */\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      return this.addOnPersist([]);\n    }\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      if (this.canOpen()) {\n        this.openPopUp();\n      } else {\n        this.closePopup();\n      }\n    }\n    /**\n     * Initialize the Component rendering\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n\n      if (!this.disabled) {\n        this.wireEvents();\n      }\n\n      this.renderComplete();\n    }\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"addItems\",\n    value: function addItems(items, text) {\n      var newItem;\n      var idx = this.items.length;\n\n      for (var j = 0, len = this.items.length; j < len; j++) {\n        if (text === this.items[j].text) {\n          idx = j;\n          break;\n        }\n      }\n\n      for (var i = items.length - 1; i >= 0; i--) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        newItem = new Item(this, 'items', items[i], true);\n        this.items.splice(idx, 0, newItem);\n      }\n\n      if (!this.canOpen()) {\n        this.createItems();\n      }\n    }\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(items, isUniqueId) {\n      var refresh = false;\n\n      for (var i = 0, len = items.length; i < len; i++) {\n        for (var j = 0, _len = this.items.length; j < _len; j++) {\n          if (items[i] === (isUniqueId ? this.items[j].id : this.items[j].text)) {\n            this.items.splice(j, 1);\n            refresh = true;\n            break;\n          }\n        }\n      }\n\n      if (refresh && this.getULElement()) {\n        this.createItems();\n      }\n    }\n  }, {\n    key: \"createPopup\",\n    value: function createPopup() {\n      var _attributes;\n\n      var div = this.createElement('div', {\n        className: classNames.POPUP,\n        id: this.element.id + '-popup'\n      });\n      document.body.appendChild(div);\n      this.dropDown = new Popup(div, {\n        relateTo: this.element,\n        collision: {\n          X: 'fit',\n          Y: 'flip'\n        },\n        position: {\n          X: 'left',\n          Y: 'bottom'\n        },\n        targetType: 'relative',\n        content: this.target ? this.getTargetElement() : '',\n        enableRtl: this.enableRtl\n      });\n\n      if (this.dropDown.element.style.position === 'fixed') {\n        this.dropDown.refreshPosition(this.element);\n      }\n\n      this.dropDown.hide();\n      attributes(this.element, (_attributes = {}, _defineProperty(_attributes, 'aria-haspopup', this.items.length || this.target ? 'true' : 'false'), _defineProperty(_attributes, 'aria-expanded', 'false'), _defineProperty(_attributes, 'aria-owns', this.getPopUpElement().id), _defineProperty(_attributes, 'type', 'button'), _defineProperty(_attributes, 'aria-label', this.element.textContent + ' dropdownbutton'), _attributes));\n\n      if (this.cssClass) {\n        addClass([div], this.cssClass.split(' '));\n      }\n\n      this.isPopupCreated = true;\n    }\n  }, {\n    key: \"getTargetElement\",\n    value: function getTargetElement() {\n      return typeof this.target === 'string' ? select(this.target) : this.target;\n    }\n  }, {\n    key: \"createItems\",\n    value: function createItems(appendItems) {\n      var items = this.items;\n      var showIcon = this.hasIcon(this.items, 'iconCss');\n      var span;\n      var item;\n      var li;\n      var eventArgs;\n      var ul = this.getULElement();\n\n      if (ul) {\n        ul.innerHTML = '';\n      } else {\n        ul = this.createElement('ul', {\n          attrs: {\n            'role': 'menu',\n            'tabindex': '0'\n          }\n        });\n      }\n\n      for (var i = 0; i < items.length; i++) {\n        item = items[i];\n        var tempItem = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n        li = this.createElement('li', {\n          innerHTML: item.url ? '' : tempItem,\n          className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n          attrs: {\n            'role': 'menuItem',\n            'tabindex': '-1'\n          },\n          id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n        });\n\n        if (item.url) {\n          li.appendChild(this.createAnchor(item));\n          li.classList.add('e-url');\n        }\n\n        if (item.iconCss) {\n          span = this.createElement('span', {\n            className: classNames.ICON + ' ' + item.iconCss\n          });\n\n          if (item.url) {\n            li.childNodes[0].appendChild(span);\n          } else {\n            li.insertBefore(span, li.childNodes[0]);\n          }\n        } else {\n          if (showIcon && !item.separator) {\n            li.classList.add('e-blank-icon');\n          }\n        }\n\n        if (item.disabled) {\n          li.classList.add('e-disabled');\n        }\n\n        eventArgs = {\n          item: item,\n          element: li\n        };\n        this.trigger('beforeItemRender', eventArgs);\n        ul.appendChild(li);\n      }\n\n      if (appendItems) {\n        this.getPopUpElement().appendChild(ul);\n      }\n\n      if (showIcon) {\n        setBlankIconStyle(this.getPopUpElement());\n      }\n    }\n  }, {\n    key: \"hasIcon\",\n    value: function hasIcon(items, field) {\n      for (var i = 0, len = items.length; i < len; i++) {\n        if (items[i][field]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"createAnchor\",\n    value: function createAnchor(item) {\n      var tempItem = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n      return this.createElement('a', {\n        className: 'e-menu-text e-menu-url',\n        innerHTML: tempItem,\n        attrs: {\n          'href': item.url\n        }\n      });\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this.button = new Button({\n        iconCss: this.iconCss,\n        iconPosition: this.iconPosition,\n        cssClass: this.cssClass,\n        content: this.content,\n        disabled: this.disabled,\n        enableRtl: this.enableRtl,\n        enablePersistence: this.enablePersistence\n      });\n      this.button.createElement = this.createElement;\n      this.button.appendTo(this.element);\n\n      if (!this.element.id) {\n        this.element.id = getUniqueID('e-' + this.getModuleName());\n      }\n\n      this.appendArrowSpan();\n      this.setActiveElem([this.element]);\n\n      if (this.target && !this.isColorPicker() || !this.createPopupOnClick) {\n        this.createPopup();\n      } else {\n        this.isPopupCreated = false;\n      }\n    }\n  }, {\n    key: \"isColorPicker\",\n    value: function isColorPicker() {\n      if (!this.element) {\n        return false;\n      }\n\n      var prevElem = this.element.previousSibling;\n\n      if (prevElem && prevElem.classList && prevElem.classList.contains('e-split-colorpicker')) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"appendArrowSpan\",\n    value: function appendArrowSpan() {\n      this.element.appendChild(this.createElement('span', {\n        className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1 ? 'bottom' : 'right') + ' e-caret'\n      }));\n    }\n  }, {\n    key: \"setActiveElem\",\n    value: function setActiveElem(elem) {\n      this.activeElem = elem;\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'dropdown-btn';\n    }\n  }, {\n    key: \"canOpen\",\n    value: function canOpen() {\n      var val = false;\n\n      if (this.isPopupCreated) {\n        val = this.getPopUpElement().classList.contains('e-popup-close');\n      }\n\n      return val;\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(DropDownButton.prototype), \"destroy\", this).call(this);\n\n      if (this.getModuleName() === 'dropdown-btn') {\n        var classList$$1;\n\n        if (this.element.querySelector('span.e-caret')) {\n          detach(this.element.querySelector('span.e-caret'));\n        }\n\n        if (this.cssClass) {\n          classList$$1 = this.cssClass.split(' ');\n        }\n\n        this.button.destroy();\n\n        if (classList$$1) {\n          removeClass([this.element], classList$$1);\n        }\n\n        removeClass(this.activeElem, ['e-active']);\n        var attrList = this.element.getAttribute('class') ? ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type'] : ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type', 'class'];\n        attrList.forEach(function (key) {\n          _this2.element.removeAttribute(key);\n        });\n        this.popupUnWireEvents();\n        this.destroyPopup();\n        this.isPopupCreated = false;\n\n        if (!this.disabled) {\n          this.unWireEvents();\n        }\n      }\n    }\n  }, {\n    key: \"destroyPopup\",\n    value: function destroyPopup() {\n      if (this.isPopupCreated) {\n        this.dropDown.destroy();\n\n        if (this.getPopUpElement()) {\n          var popupEle = document.getElementById(this.getPopUpElement().id);\n\n          if (popupEle) {\n            removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n            detach(popupEle);\n          }\n        }\n\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n\n        if (this.isPopupCreated) {\n          this.dropDown = undefined;\n        }\n      }\n\n      this.isPopupCreated = false;\n    }\n  }, {\n    key: \"getPopUpElement\",\n    value: function getPopUpElement() {\n      var val = null;\n\n      if (this.dropDown) {\n        val = this.dropDown.element;\n      }\n\n      return val;\n    }\n  }, {\n    key: \"getULElement\",\n    value: function getULElement() {\n      var val = null;\n\n      if (this.getPopUpElement()) {\n        val = this.getPopUpElement().children[0];\n      }\n\n      return val;\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n\n      if (!this.createPopupOnClick) {\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n      }\n\n      EventHandler.add(this.element, 'click', this.clickHandler, this);\n      EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n    }\n  }, {\n    key: \"popupWireEvents\",\n    value: function popupWireEvents() {\n      var popupElement = this.getPopUpElement();\n\n      if (this.createPopupOnClick) {\n        EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n      }\n\n      if (popupElement) {\n        EventHandler.add(popupElement, 'click', this.clickHandler, this);\n        EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n      }\n\n      this.rippleFn = rippleEffect(popupElement, {\n        selector: '.' + classNames.ITEM\n      });\n    }\n  }, {\n    key: \"popupUnWireEvents\",\n    value: function popupUnWireEvents() {\n      var popupElement = this.getPopUpElement();\n\n      if (this.createPopupOnClick) {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n      }\n\n      if (popupElement && popupElement.parentElement) {\n        EventHandler.remove(popupElement, 'click', this.clickHandler);\n        EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n      }\n    }\n    /**\n     * Handles the keyboard interactions.\n     *\n     * @param {KeyboardEventArgs} e - Specifies keyboard event args.\n     * @returns {void}\n     * @hidden\n     */\n\n  }, {\n    key: \"keyBoardHandler\",\n    value: function keyBoardHandler(e) {\n      if (e.target === this.element && (e.keyCode === 9 || !e.altKey && e.keyCode === 40 || e.keyCode === 38)) {\n        return;\n      }\n\n      switch (e.keyCode) {\n        case 38:\n        case 40:\n          if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n            this.keyEventHandler(e);\n          } else {\n            this.upDownKeyHandler(e);\n          }\n\n          break;\n\n        case 9:\n        case 13:\n        case 27:\n        case 32:\n          this.keyEventHandler(e);\n          break;\n      }\n    }\n  }, {\n    key: \"upDownKeyHandler\",\n    value: function upDownKeyHandler(e) {\n      if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n        return;\n      }\n\n      e.preventDefault();\n\n      _upDownKeyHandler(this.getULElement(), e.keyCode);\n    }\n  }, {\n    key: \"keyEventHandler\",\n    value: function keyEventHandler(e) {\n      if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n        return;\n      }\n\n      if (e.target && e.target.className.indexOf('e-edit-template') > -1 && e.keyCode === 32) {\n        return;\n      }\n\n      if (e.keyCode !== 9) {\n        e.preventDefault();\n      }\n\n      if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n        if (!this.canOpen()) {\n          this.closePopup(e, this.element);\n        }\n      } else {\n        this.clickHandler(e);\n      }\n    }\n  }, {\n    key: \"getLI\",\n    value: function getLI(elem) {\n      return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    }\n  }, {\n    key: \"mousedownHandler\",\n    value: function mousedownHandler(e) {\n      var trgt = e.target;\n\n      if (this.dropDown && !this.canOpen() && !(closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]') || closest(trgt, '[id=\"' + this.element.id + '\"]'))) {\n        this.closePopup(e);\n      }\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var trgt = e.target;\n\n      if (closest(trgt, '[id=\"' + this.element.id + '\"]')) {\n        if (!this.createPopupOnClick || this.target && !this.isColorPicker()) {\n          if (this.getPopUpElement().classList.contains('e-popup-close')) {\n            this.openPopUp(e);\n          } else {\n            this.closePopup(e);\n          }\n        } else if (this.isPopupCreated) {\n          this.closePopup(e, this.activeElem[0]);\n        } else {\n          this.createPopup();\n          this.openPopUp(e);\n        }\n      } else {\n        if (closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')) {\n          var eventArgs;\n          var liIdx;\n          var item;\n          var li = this.getLI(trgt);\n\n          if (li) {\n            liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n            item = this.items[liIdx];\n\n            if (item) {\n              eventArgs = {\n                element: li,\n                item: item\n              };\n              this.trigger('select', eventArgs);\n            }\n\n            this.closePopup(e, this.activeElem[0]);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"openPopUp\",\n    value: function openPopUp() {\n      var _this3 = this;\n\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      if (!this.target) {\n        this.createItems(true);\n      }\n\n      var ul = this.getULElement();\n      this.popupWireEvents();\n      var beforeOpenArgs = {\n        element: ul,\n        items: this.items,\n        event: e,\n        cancel: false\n      };\n      this.trigger('beforeOpen', beforeOpenArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          var _ul = _this3.getULElement();\n\n          _this3.dropDown.show(null, _this3.element);\n\n          addClass([_this3.element], 'e-active');\n\n          _this3.element.setAttribute('aria-expanded', 'true');\n\n          _ul.focus();\n\n          var openArgs = {\n            element: _ul,\n            items: _this3.items\n          };\n\n          _this3.trigger('open', openArgs);\n        }\n      });\n    }\n  }, {\n    key: \"closePopup\",\n    value: function closePopup() {\n      var _this4 = this;\n\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var focusEle = arguments.length > 1 ? arguments[1] : undefined;\n      var ul = this.getULElement();\n      var beforeCloseArgs = {\n        element: ul,\n        items: this.items,\n        event: e,\n        cancel: false\n      };\n      var popupElement = this.getPopUpElement();\n\n      if (popupElement) {\n        EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n      }\n\n      this.trigger('beforeClose', beforeCloseArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this4.popupUnWireEvents();\n\n          var _ul2 = _this4.getULElement();\n\n          var selectedLi = _ul2.querySelector('.e-selected');\n\n          if (selectedLi) {\n            selectedLi.classList.remove('e-selected');\n          }\n\n          _this4.dropDown.hide();\n\n          removeClass(_this4.activeElem, 'e-active');\n\n          _this4.element.setAttribute('aria-expanded', 'false');\n\n          if (focusEle) {\n            focusEle.focus();\n          }\n\n          var closeArgs = {\n            element: _ul2,\n            items: _this4.items\n          };\n\n          _this4.trigger('close', closeArgs);\n\n          if (!_this4.target && _ul2) {\n            detach(_ul2);\n          }\n\n          if (!_this4.target || _this4.isColorPicker()) {\n            if (_this4.createPopupOnClick) {\n              _this4.destroyPopup();\n            }\n          }\n\n          if (_this4.target) {\n            _this4.isPopupCreated = _this4.createPopupOnClick ? false : true;\n          }\n        }\n      });\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      if (!this.createPopupOnClick) {\n        EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n      }\n\n      EventHandler.remove(this.element, 'click', this.clickHandler);\n      EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n\n      if (this.isPopupCreated) {\n        EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n        EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {DropDownButtonModel} newProp - Specifies new properties\n     * @param  {DropDownButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n      this.button.setProperties(getModel(newProp, btnModel));\n      var popupElement;\n\n      if (this.isPopupCreated) {\n        popupElement = this.getPopUpElement();\n        this.dropDown.setProperties(getModel(newProp, ['enableRtl']));\n      }\n\n      for (var _i2 = 0, _Object$keys2 = Object.keys(newProp); _i2 < _Object$keys2.length; _i2++) {\n        var prop = _Object$keys2[_i2];\n\n        switch (prop) {\n          case 'content':\n            if (!this.element.querySelector('span.e-caret')) {\n              this.appendArrowSpan();\n            }\n\n            break;\n\n          case 'disabled':\n            if (newProp.disabled) {\n              this.unWireEvents();\n\n              if (this.isPopupCreated && !this.canOpen()) {\n                this.closePopup();\n              }\n            } else {\n              this.wireEvents();\n            }\n\n            break;\n\n          case 'cssClass':\n            if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n              var arrowSpan = this.element.querySelector('span.e-caret');\n              classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n            }\n\n            if (this.isPopupCreated) {\n              if (oldProp.cssClass) {\n                removeClass([popupElement], oldProp.cssClass.split(' '));\n              }\n\n              if (newProp.cssClass) {\n                addClass([popupElement], newProp.cssClass.split(' '));\n              }\n            }\n\n            break;\n\n          case 'target':\n            this.dropDown.content = this.getTargetElement();\n            this.dropDown.dataBind();\n            break;\n\n          case 'items':\n            if (this.isPopupCreated && this.getULElement()) {\n              this.createItems();\n            }\n\n            break;\n\n          case 'createPopupOnClick':\n            if (newProp.createPopupOnClick) {\n              this.destroyPopup();\n            } else {\n              this.createPopup();\n            }\n\n            break;\n        }\n      }\n    }\n    /**\n     * Sets the focus to DropDownButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      this.element.focus();\n    }\n  }]);\n\n  return DropDownButton;\n}(Component);\n\n__decorate$1([Property('')], DropDownButton.prototype, \"content\", void 0);\n\n__decorate$1([Property('')], DropDownButton.prototype, \"cssClass\", void 0);\n\n__decorate$1([Property(false)], DropDownButton.prototype, \"disabled\", void 0);\n\n__decorate$1([Property('')], DropDownButton.prototype, \"iconCss\", void 0);\n\n__decorate$1([Property('Left')], DropDownButton.prototype, \"iconPosition\", void 0);\n\n__decorate$1([Property(false)], DropDownButton.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$1([Collection([], Item)], DropDownButton.prototype, \"items\", void 0);\n\n__decorate$1([Property(false)], DropDownButton.prototype, \"createPopupOnClick\", void 0);\n\n__decorate$1([Property('')], DropDownButton.prototype, \"target\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"beforeItemRender\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"beforeOpen\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"beforeClose\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"close\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"open\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"select\", void 0);\n\n__decorate$1([Event()], DropDownButton.prototype, \"created\", void 0);\n\nDropDownButton = __decorate$1([NotifyPropertyChanges], DropDownButton);\n/**\n * DropDownButton modules\n */\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\n\n\nvar RTL = 'e-rtl';\nvar TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\n\nvar SplitButton = /*#__PURE__*/function (_DropDownButton) {\n  _inherits(SplitButton, _DropDownButton);\n\n  var _super3 = _createSuper(SplitButton);\n\n  /**\n   * Constructor for creating the widget\n   *\n   * @param  {SplitButtonModel} options - Specifies the splitbutton model\n   * @param  {string|HTMLButtonElement} element - Specifies the element\n   * @hidden\n   */\n  function SplitButton(options, element) {\n    _classCallCheck(this, SplitButton);\n\n    return _super3.call(this, options, element);\n  }\n  /**\n   * Initialize Angular support.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  _createClass(SplitButton, [{\n    key: \"preRender\",\n    value: function preRender() {\n      var ele = this.element;\n\n      if (ele.tagName === TAGNAME) {\n        var ejInstance = getValue('ej2_instances', ele);\n        var btn = this.createElement('button', {\n          attrs: {\n            'type': 'button'\n          }\n        });\n        var wrapper = this.createElement(TAGNAME, {\n          className: 'e-' + this.getModuleName() + '-wrapper'\n        });\n\n        for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n          btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n        }\n\n        ele.parentNode.insertBefore(wrapper, ele);\n        detach(ele);\n        ele = btn;\n        wrapper.appendChild(ele);\n        setValue('ej2_instances', ejInstance, ele);\n        this.wrapper = wrapper;\n        this.element = ele;\n      }\n\n      if (!this.element.id) {\n        this.element.id = getUniqueID('e-' + this.getModuleName());\n      }\n    }\n    /**\n     * Initialize the Component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initWrapper();\n      this.createPrimaryButton();\n      this.renderControl();\n    }\n  }, {\n    key: \"renderControl\",\n    value: function renderControl() {\n      this.createSecondaryButton();\n      this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n      this.setAria();\n      this.wireEvents();\n      this.renderComplete();\n    }\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"addItems\",\n    value: function addItems(items, text) {\n      _get(_getPrototypeOf(SplitButton.prototype), \"addItems\", this).call(this, items, text);\n\n      this.secondaryBtnObj.items = this.items;\n    }\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(items, isUniqueId) {\n      _get(_getPrototypeOf(SplitButton.prototype), \"removeItems\", this).call(this, items, isUniqueId);\n\n      this.secondaryBtnObj.items = this.items;\n    }\n  }, {\n    key: \"initWrapper\",\n    value: function initWrapper() {\n      if (!this.wrapper) {\n        this.wrapper = this.createElement('div', {\n          className: 'e-' + this.getModuleName() + '-wrapper'\n        });\n        this.element.parentNode.insertBefore(this.wrapper, this.element);\n      }\n\n      this.element.classList.remove('e-' + this.getModuleName());\n\n      if (this.enableRtl) {\n        this.wrapper.classList.add(RTL);\n      }\n\n      if (this.cssClass) {\n        addClass([this.wrapper], this.cssClass.split(' '));\n      }\n    }\n  }, {\n    key: \"createPrimaryButton\",\n    value: function createPrimaryButton() {\n      var btnModel = {\n        cssClass: this.cssClass,\n        enableRtl: this.enableRtl,\n        iconCss: this.iconCss,\n        iconPosition: this.iconPosition,\n        content: this.content,\n        disabled: this.disabled\n      };\n      this.primaryBtnObj = new Button(btnModel);\n      this.primaryBtnObj.createElement = this.createElement;\n      this.primaryBtnObj.appendTo(this.element);\n      this.element.classList.add('e-' + this.getModuleName());\n      this.element.type = 'button';\n      this.wrapper.appendChild(this.element);\n    }\n  }, {\n    key: \"createSecondaryButton\",\n    value: function createSecondaryButton() {\n      var _this5 = this;\n\n      var btnElem = this.createElement('button', {\n        className: 'e-icon-btn',\n        attrs: {\n          'tabindex': '-1'\n        },\n        id: this.element.id + '_dropdownbtn'\n      });\n      this.wrapper.appendChild(btnElem);\n      var dropDownBtnModel = {\n        cssClass: this.cssClass,\n        disabled: this.disabled,\n        enableRtl: this.enableRtl,\n        items: this.items,\n        target: this.target,\n        createPopupOnClick: this.createPopupOnClick\n      };\n\n      dropDownBtnModel.beforeItemRender = function (args) {\n        if (_this5.createPopupOnClick) {\n          _this5.secondaryBtnObj.dropDown.relateTo = _this5.wrapper;\n          _this5.dropDown = _this5.secondaryBtnObj.dropDown;\n        }\n\n        _this5.trigger('beforeItemRender', args);\n      };\n\n      dropDownBtnModel.open = function (args) {\n        _this5.trigger('open', args);\n      };\n\n      dropDownBtnModel.close = function (args) {\n        _this5.trigger('close', args);\n      };\n\n      dropDownBtnModel.select = function (args) {\n        _this5.trigger('select', args);\n      };\n\n      dropDownBtnModel.beforeOpen = function (args) {\n        var callBackPromise = new Deferred();\n\n        _this5.trigger('beforeOpen', args, function (observedArgs) {\n          callBackPromise.resolve(observedArgs);\n        });\n\n        return callBackPromise;\n      };\n\n      dropDownBtnModel.beforeClose = function (args) {\n        var callBackPromise = new Deferred();\n\n        _this5.trigger('beforeClose', args, function (observedArgs) {\n          callBackPromise.resolve(observedArgs);\n        });\n\n        return callBackPromise;\n      };\n\n      this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n      this.secondaryBtnObj.createElement = this.createElement;\n      this.secondaryBtnObj.appendTo(btnElem);\n\n      if (!this.createPopupOnClick) {\n        this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n        this.dropDown = this.secondaryBtnObj.dropDown;\n      }\n\n      this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n      this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    }\n  }, {\n    key: \"setAria\",\n    value: function setAria() {\n      attributes(this.element, {\n        'aria-expanded': 'false',\n        'aria-haspopup': 'true',\n        'aria-label': this.element.textContent + ' splitbutton',\n        'aria-owns': this.element.id + '_dropdownbtn-popup'\n      });\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'split-btn';\n    }\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.secondaryBtnObj.toggle();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this6 = this;\n\n      var classList$$1 = [RTL];\n\n      if (this.cssClass) {\n        classList$$1 = classList$$1.concat(this.cssClass.split(' '));\n      }\n\n      if (this.element) {\n        var element = document.getElementById(this.element.id);\n\n        if (element && element.parentElement === this.wrapper) {\n          if (this.wrapper.tagName === TAGNAME) {\n            this.wrapper.innerHTML = '';\n            removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n            removeClass([this.wrapper], this.cssClass.split(' '));\n          } else {\n            removeClass([this.element], classList$$1);\n            ['aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach(function (key) {\n              _this6.element.removeAttribute(key);\n            });\n            this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n            remove(this.wrapper);\n          }\n\n          this.unWireEvents();\n        }\n      }\n\n      this.primaryBtnObj.destroy();\n      this.secondaryBtnObj.destroy();\n\n      _get(_getPrototypeOf(SplitButton.prototype), \"destroy\", this).call(this);\n\n      if (!this.element.getAttribute('class')) {\n        this.element.removeAttribute('class');\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n      new KeyboardEvents(this.element, {\n        keyAction: this.btnKeyBoardHandler.bind(this),\n        keyConfigs: {\n          altdownarrow: 'alt+downarrow'\n        }\n      });\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n      getInstance(this.element, KeyboardEvents).destroy();\n    }\n  }, {\n    key: \"primaryBtnClickHandler\",\n    value: function primaryBtnClickHandler() {\n      this.trigger('click', {\n        element: this.element\n      });\n    }\n  }, {\n    key: \"btnKeyBoardHandler\",\n    value: function btnKeyBoardHandler(e) {\n      switch (e.action) {\n        case 'altdownarrow':\n          this.clickHandler(e);\n          break;\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {SplitButtonModel} newProp - Specifies new properties\n     * @param  {SplitButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n      this.primaryBtnObj.setProperties(getModel(newProp, model));\n      model = ['beforeOpen', 'beforeItemRender', 'select', 'open', 'close', 'cssClass', 'disabled', 'enableRtl', 'createPopupOnClick'];\n\n      if (Object.keys(newProp).indexOf('items') > -1) {\n        this.secondaryBtnObj.items = newProp.items;\n        this.secondaryBtnObj.dataBind();\n      }\n\n      this.secondaryBtnObj.setProperties(getModel(newProp, model));\n\n      for (var _i3 = 0, _Object$keys3 = Object.keys(newProp); _i3 < _Object$keys3.length; _i3++) {\n        var prop = _Object$keys3[_i3];\n\n        switch (prop) {\n          case 'cssClass':\n            if (oldProp.cssClass) {\n              removeClass([this.wrapper], oldProp.cssClass.split(' '));\n            }\n\n            addClass([this.wrapper], newProp.cssClass.split(' '));\n            break;\n\n          case 'enableRtl':\n            if (newProp.enableRtl) {\n              addClass([this.wrapper], RTL);\n            } else {\n              removeClass([this.wrapper], RTL);\n            }\n\n            break;\n        }\n      }\n    }\n    /**\n     * Sets the focus to SplitButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      this.element.focus();\n    }\n  }]);\n\n  return SplitButton;\n}(DropDownButton);\n\n__decorate$2([Property('')], SplitButton.prototype, \"content\", void 0);\n\n__decorate$2([Property('')], SplitButton.prototype, \"cssClass\", void 0);\n\n__decorate$2([Property(false)], SplitButton.prototype, \"disabled\", void 0);\n\n__decorate$2([Property('')], SplitButton.prototype, \"iconCss\", void 0);\n\n__decorate$2([Property('Left')], SplitButton.prototype, \"iconPosition\", void 0);\n\n__decorate$2([Property(false)], SplitButton.prototype, \"createPopupOnClick\", void 0);\n\n__decorate$2([Collection([], Item)], SplitButton.prototype, \"items\", void 0);\n\n__decorate$2([Property('')], SplitButton.prototype, \"target\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"beforeItemRender\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"beforeOpen\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"beforeClose\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"click\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"close\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"open\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"select\", void 0);\n\n__decorate$2([Event()], SplitButton.prototype, \"created\", void 0);\n\nSplitButton = __decorate$2([NotifyPropertyChanges], SplitButton);\n/**\n * Deferred is used to handle asynchronous operation.\n */\n\nvar Deferred = function Deferred() {\n  var _this7 = this;\n\n  _classCallCheck(this, Deferred);\n\n  /**\n   * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n   */\n  this.promise = new Promise(function (resolve, reject) {\n    _this7.resolve = resolve;\n    _this7.reject = reject;\n  });\n  /**\n   * Defines the callback function triggers when the Deferred object is rejected.\n   */\n\n  this.catch = this.promise.catch.bind(this.promise);\n  /**\n   * Defines the callback function triggers when the Deferred object is resolved.\n   */\n\n  this.then = this.promise.then.bind(this.promise);\n};\n/**\n * Split Button modules\n */\n\n/**\n * Initialize ButtonGroup CSS component with specified properties.\n * ```html\n * <div id='buttongroup'>\n * <button></button>\n * <button></button>\n * <button></button>\n * </div>\n * ```\n * ```typescript\n * createButtonGroup('#buttongroup', {\n *   cssClass: 'e-outline',\n *   buttons: [\n *       { content: 'Day' },\n *       { content: 'Week' },\n *       { content: 'Work Week'}\n *   ]\n * });\n * ```\n *\n * @param {string} selector\n * @param {CreateButtonGroupModel} options\n * @returns HTMLElement\n */\n\n/**\n * Creates button group.\n *\n * @param {string} selector - Specifies the selector.\n * @param {CreateButtonGroupModel} options - Specifies the button group model.\n * @param {Function} createElement - Specifies the element.\n * @returns {HTMLElement} - Button group element.\n */\n\n\nfunction createButtonGroup(selector) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var createElement$$1 = arguments.length > 2 ? arguments[2] : undefined;\n  var child;\n  var btnElem;\n  var nextChild;\n  var btnModel;\n\n  if (isNullOrUndefined(createElement$$1)) {\n    createElement$$1 = createElement;\n  }\n\n  var wrapper = document.querySelector(selector);\n  addClass([wrapper], ['e-btn-group', 'e-css']);\n  wrapper.setAttribute('role', 'group');\n  var childs = wrapper.children;\n  options.buttons = options.buttons || [];\n\n  for (var i = 0, j = 0; j < childs.length; i++, j++) {\n    child = childs[j];\n    btnModel = options.buttons[i];\n\n    if (btnModel !== null) {\n      if (child.tagName === 'BUTTON') {\n        btnElem = child;\n      } else {\n        btnElem = createElement$$1('label');\n        nextChild = childs[j + 1];\n\n        if (nextChild) {\n          wrapper.insertBefore(btnElem, nextChild);\n        } else {\n          wrapper.appendChild(btnElem);\n        }\n\n        if (child.id) {\n          btnElem.setAttribute('for', child.id);\n        }\n\n        if (btnModel && btnModel.disabled) {\n          child.disabled = true;\n        }\n\n        j++;\n      }\n\n      if (options.cssClass && btnModel && !btnModel.cssClass) {\n        btnModel.cssClass = options.cssClass;\n      }\n\n      new Button(btnModel || {}, btnElem);\n    }\n  }\n\n  return wrapper;\n}\n/**\n * ButtonGroup modules\n */\n\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar HIDESPINNER = 'e-hide-spinner';\nvar PROGRESS = 'e-progress';\nvar PROGRESSACTIVE = 'e-progress-active';\nvar CONTENTCLS = 'e-btn-content';\n/**\n * Defines the spin settings.\n */\n\nvar SpinSettings = /*#__PURE__*/function (_ChildProperty2) {\n  _inherits(SpinSettings, _ChildProperty2);\n\n  var _super4 = _createSuper(SpinSettings);\n\n  function SpinSettings() {\n    _classCallCheck(this, SpinSettings);\n\n    return _super4.apply(this, arguments);\n  }\n\n  return SpinSettings;\n}(ChildProperty);\n\n__decorate$3([Property(null)], SpinSettings.prototype, \"template\", void 0);\n\n__decorate$3([Property(16)], SpinSettings.prototype, \"width\", void 0);\n\n__decorate$3([Property('Left')], SpinSettings.prototype, \"position\", void 0);\n/**\n * Defines the animation settings.\n */\n\n\nvar AnimationSettings = /*#__PURE__*/function (_ChildProperty3) {\n  _inherits(AnimationSettings, _ChildProperty3);\n\n  var _super5 = _createSuper(AnimationSettings);\n\n  function AnimationSettings() {\n    _classCallCheck(this, AnimationSettings);\n\n    return _super5.apply(this, arguments);\n  }\n\n  return AnimationSettings;\n}(ChildProperty);\n\n__decorate$3([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n__decorate$3([Property('None')], AnimationSettings.prototype, \"effect\", void 0);\n\n__decorate$3([Property('ease')], AnimationSettings.prototype, \"easing\", void 0);\n/**\n * The ProgressButton visualizes the progression of an operation to indicate the user\n * that a process is happening in the background with visual representation.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var progressButtonObj = new ProgressButton({ content: 'Progress Button' });\n * progressButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\n\n\nvar ProgressButton = /*#__PURE__*/function (_Button) {\n  _inherits(ProgressButton, _Button);\n\n  var _super6 = _createSuper(ProgressButton);\n\n  /**\n   * Constructor for creating the widget.\n   *\n   * @param  {ProgressButtonModel} options - Specifies progress button model\n   * @param  {string|HTMLButtonElement} element - Specifies element\n   */\n  function ProgressButton(options, element) {\n    var _this8;\n\n    _classCallCheck(this, ProgressButton);\n\n    _this8 = _super6.call(this, options, element);\n    _this8.step = 1;\n    return _this8;\n  }\n\n  _createClass(ProgressButton, [{\n    key: \"preRender\",\n    value: function preRender() {\n      _get(_getPrototypeOf(ProgressButton.prototype), \"preRender\", this).call(this);\n    }\n    /**\n     * Initialize the Component rendering\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      _get(_getPrototypeOf(ProgressButton.prototype), \"render\", this).call(this);\n\n      this.init();\n      this.wireEvents();\n      this.setAria();\n      this.renderComplete();\n    }\n    /**\n     * Starts the button progress at the specified percent.\n     *\n     * @param {number} percent - Starts the button progress at this percent.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"start\",\n    value: function start(percent) {\n      this.isPaused = false;\n      this.startProgress(percent ? percent : this.percent, this.progressTime);\n    }\n    /**\n     * Stops the button progress.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.isPaused = true;\n      cancelAnimationFrame(this.timerId);\n    }\n    /**\n     * Complete the button progress.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"progressComplete\",\n    value: function progressComplete() {\n      this.isPaused = false;\n      this.finishProgress();\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'progress-btn';\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this9 = this;\n\n      var classList$$1 = [HIDESPINNER, PROGRESSACTIVE, 'e-round-corner', 'e-' + _get(_getPrototypeOf(ProgressButton.prototype), \"getModuleName\", this).call(this), 'e-spin-' + this.spinSettings.position.toLowerCase()];\n\n      _get(_getPrototypeOf(ProgressButton.prototype), \"destroy\", this).call(this);\n\n      this.unWireEvents();\n      this.element.innerHTML = '';\n\n      if (this.cssClass) {\n        classList$$1 = classList$$1.concat(this.cssClass.split(' '));\n      }\n\n      removeClass([this.element], classList$$1);\n      var css = this.element.getAttribute('class') ? ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow'] : ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow', 'class'];\n      css.forEach(function (key) {\n        _this9.element.removeAttribute(key);\n      });\n\n      if (this.disabled) {\n        this.element.removeAttribute('disabled');\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.element.classList.add('e-' + _get(_getPrototypeOf(ProgressButton.prototype), \"getModuleName\", this).call(this));\n      this.setContent();\n      this.createSpinner();\n\n      if (this.enableProgress) {\n        this.createProgress();\n      }\n    }\n  }, {\n    key: \"createSpinner\",\n    value: function createSpinner() {\n      var spinner = this.createElement('span', {\n        className: 'e-spinner'\n      });\n      this.setSpinPosition(spinner);\n\n      _createSpinner({\n        target: spinner,\n        width: this.spinSettings.width || 16,\n        template: this.spinSettings.template\n      }, this.createElement);\n    }\n  }, {\n    key: \"getSpinner\",\n    value: function getSpinner() {\n      return this.element.getElementsByClassName('e-spinner')[0];\n    }\n  }, {\n    key: \"getProgress\",\n    value: function getProgress() {\n      return this.element.getElementsByClassName(PROGRESS)[0];\n    }\n  }, {\n    key: \"setSpinPosition\",\n    value: function setSpinPosition(ele) {\n      var position = this.spinSettings.position || 'Left';\n\n      if (position === 'Left' || position === 'Top') {\n        this.element.insertBefore(ele, this.element.getElementsByClassName(CONTENTCLS)[0]);\n      } else {\n        this.element.appendChild(ele);\n      }\n\n      this.element.classList.add('e-spin-' + position.toLowerCase());\n    }\n  }, {\n    key: \"createProgress\",\n    value: function createProgress() {\n      this.element.appendChild(this.createElement('span', {\n        className: PROGRESS\n      }));\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent() {\n      var cont;\n      cont = this.element.innerHTML;\n\n      if (this.enableHtmlSanitizer) {\n        cont = SanitizeHtmlHelper.sanitize(this.element.innerHTML);\n      }\n\n      this.element.innerHTML = '';\n      this.element.appendChild(this.createElement('span', {\n        className: CONTENTCLS,\n        innerHTML: cont\n      }));\n    }\n  }, {\n    key: \"setContentIcon\",\n    value: function setContentIcon(content) {\n      var contElem = this.createElement('span', {\n        className: CONTENTCLS,\n        innerHTML: content\n      });\n\n      if (this.iconCss) {\n        var span = this.createElement('span', {\n          className: 'e-btn-icon ' + this.iconCss\n        });\n\n        if (!this.element.textContent.trim()) {\n          this.element.classList.add('e-icon-btn');\n        } else {\n          span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n\n          if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n            this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n          }\n        }\n\n        var node = contElem.childNodes[0];\n\n        if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n          contElem.insertBefore(span, node);\n        } else {\n          contElem.appendChild(span);\n        }\n      }\n\n      this.element.appendChild(contElem);\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler() {\n      if (this.element.classList.contains(PROGRESSACTIVE)) {\n        return;\n      }\n\n      this.startProgress();\n    }\n  }, {\n    key: \"startProgress\",\n    value: function startProgress(percent, progressTime) {\n      var clsList = this.element.classList;\n      var isVertical = clsList.contains('e-vertical');\n      clsList.add(PROGRESSACTIVE);\n\n      if (!clsList.contains(HIDESPINNER)) {\n        showSpinner(this.element);\n      }\n\n      this.startAnimate(Date.now(), progressTime ? progressTime : 0, progressTime ? Date.now() - this.duration * 1 / 100 : Date.now(), percent ? percent : 0, 0, this.step, 0, isVertical);\n      this.startContAnimate();\n    }\n  }, {\n    key: \"startAnimate\",\n    value: function startAnimate(timestamp, progressTime, prevTime, percent, prevPercent, step, prevProgressTime, isVertical) {\n      var _this10 = this;\n\n      try {\n        var timeDiff = timestamp - prevTime;\n        var stepTime = this.duration * step / 100;\n        var timeDiffBuffer = timeDiff ? timeDiff < stepTime ? timeDiff - stepTime : timeDiff % stepTime : 0;\n        this.progressTime = progressTime = progressTime + timeDiff - timeDiffBuffer;\n        prevTime = timestamp - timeDiffBuffer;\n        percent = percent + (timeDiff - timeDiffBuffer) / this.duration * 100;\n        prevPercent = (progressTime - prevProgressTime) % stepTime === 0 || percent === 100 ? percent : prevPercent;\n        var args = {\n          percent: prevPercent,\n          currentDuration: progressTime,\n          step: step\n        };\n        this.eIsVertical = isVertical;\n\n        if (percent === 0) {\n          this.trigger('begin', args, function (observedArgs) {\n            _this10.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer, prevTime);\n          });\n        } else if (percent === 100 || progressTime === this.duration) {\n          this.trigger('end', args, function (observedArgs) {\n            _this10.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer, prevTime);\n          });\n        } else {\n          this.trigger('progress', args, function (observedArgs) {\n            _this10.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer, prevTime);\n          });\n        }\n      } catch (e) {\n        cancelAnimationFrame(this.timerId);\n        this.trigger('fail', e);\n      }\n    }\n  }, {\n    key: \"successCallback\",\n    value: function successCallback(args, perc, pPerc, prgTim, pPrgTim, timDif, pTim) {\n      var _this11 = this;\n\n      var percent = perc;\n      var prevPercent = pPerc;\n      var timeDiffBuffer = timDif;\n      var progressTime = prgTim;\n      var prevProgressTime = pPrgTim;\n      var prevTime = pTim;\n      var isVertical = this.eIsVertical;\n\n      if (percent !== args.percent && args.percent !== prevPercent) {\n        percent = args.percent;\n      }\n\n      this.percent = percent;\n      this.step = args.step;\n\n      if ((progressTime - prevProgressTime) % (this.duration * args.step / 100) === 0 || percent === 100) {\n        this.timerId = requestAnimationFrame(function () {\n          if (_this11.enableProgress) {\n            _this11.getProgress().style[isVertical ? 'height' : 'width'] = percent + '%';\n          }\n\n          _this11.element.setAttribute('aria-valuenow', percent.toString());\n        });\n        prevPercent = percent;\n        prevProgressTime = progressTime;\n      }\n\n      if (!this.isPaused) {\n        if (progressTime < this.duration && percent < 100) {\n          this.interval = window.setTimeout(function () {\n            _this11.startAnimate(Date.now(), progressTime, prevTime, percent, prevPercent, args.step, prevProgressTime, isVertical);\n          }, this.duration / 100 - timeDiffBuffer);\n        } else {\n          this.interval = window.setTimeout(function () {\n            _this11.progressTime = _this11.percent = 0;\n\n            if (_this11.enableProgress) {\n              _this11.getProgress().style[isVertical ? 'height' : 'width'] = '0%';\n            }\n\n            _this11.element.setAttribute('aria-valuenow', '0');\n\n            _this11.hideSpin();\n          }, 100);\n        }\n      }\n    }\n  }, {\n    key: \"startContAnimate\",\n    value: function startContAnimate() {\n      var _this12 = this;\n\n      var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n\n      if (this.animationSettings.effect !== 'None') {\n        new Animation({}).animate(ele, {\n          duration: this.animationSettings.duration,\n          name: 'Progress' + this.animationSettings.effect,\n          timingFunction: this.animationSettings.easing,\n          begin: function begin() {\n            if (_this12.spinSettings.position === 'Center') {\n              _this12.setSpinnerSize();\n            }\n          },\n          end: function end() {\n            ele.classList.add('e-animate-end');\n          }\n        });\n      } else if (this.spinSettings.position === 'Center') {\n        this.setSpinnerSize();\n      }\n    }\n  }, {\n    key: \"finishProgress\",\n    value: function finishProgress() {\n      var clsList = this.element.classList;\n      var isVertical = clsList.contains('e-vertical');\n      clsList.add(PROGRESSACTIVE);\n      var count = 100;\n\n      for (var i = this.percent; i < count; i++) {\n        i += 10;\n\n        if (i > 100) {\n          i = 100;\n        }\n\n        if (this.enableProgress) {\n          this.getProgress().style[isVertical ? 'height' : 'width'] = this.percent < 100 ? i + '%' : '100%';\n        }\n      }\n\n      this.element.setAttribute('aria-valuenow', '0');\n      this.hideSpin();\n      var args = {\n        step: this.step,\n        currentDuration: this.progressTime,\n        percent: 100\n      };\n      clearTimeout(this.interval);\n      this.trigger('end', args);\n      this.progressTime = this.percent = 0;\n    }\n  }, {\n    key: \"setSpinnerSize\",\n    value: function setSpinnerSize() {\n      var ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n      var spinner = this.getSpinner();\n      spinner.style.width = Math.max(spinner.offsetWidth, ele.offsetWidth) + 'px';\n      spinner.style.height = Math.max(spinner.offsetHeight, ele.offsetHeight) + 'px';\n      ele.classList.add('e-cont-animate');\n    }\n  }, {\n    key: \"hideSpin\",\n    value: function hideSpin() {\n      var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n\n      if (!this.element.classList.contains(HIDESPINNER)) {\n        hideSpinner(this.element);\n      }\n\n      this.element.classList.remove(PROGRESSACTIVE);\n\n      if (this.animationSettings.effect !== 'None') {\n        cont.classList.remove('e-animate-end');\n      }\n\n      if (this.spinSettings.position === 'Center') {\n        var ele = this.getSpinner();\n        cont.classList.remove('e-cont-animate');\n        ele.style.width = 'auto';\n        ele.style.height = 'auto';\n      }\n    }\n  }, {\n    key: \"setIconSpan\",\n    value: function setIconSpan() {\n      var cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n      var iconSpan = this.element.getElementsByClassName('e-btn-icon')[0];\n\n      if (cont.childNodes[0] && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n        cont.insertBefore(iconSpan, cont.childNodes[0]);\n      } else {\n        cont.appendChild(iconSpan);\n      }\n    }\n  }, {\n    key: \"setAria\",\n    value: function setAria() {\n      attributes(this.element, {\n        'aria-label': this.element.textContent + ' progress',\n        'aria-valuemin': '0',\n        'aria-valuemax': '100',\n        'aria-valuenow': '0'\n      });\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents() {\n      EventHandler.add(this.element, 'click', this.clickHandler, this);\n    }\n  }, {\n    key: \"unWireEvents\",\n    value: function unWireEvents() {\n      EventHandler.remove(this.element, 'click', this.clickHandler);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ProgressButtonModel} newProp - Specifies new properties\n     * @param  {ProgressButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var ele = this.element;\n      var isSpinning = false;\n      var clsList = this.element.querySelector('.e-spinner-pane').classList;\n\n      if (clsList.contains('e-spin-show')) {\n        isSpinning = true;\n      }\n\n      _get(_getPrototypeOf(ProgressButton.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp);\n\n      for (var _i4 = 0, _Object$keys4 = Object.keys(newProp); _i4 < _Object$keys4.length; _i4++) {\n        var prop = _Object$keys4[_i4];\n\n        switch (prop) {\n          case 'content':\n            this.setContent();\n            this.createSpinner();\n\n            if (isSpinning) {\n              showSpinner(this.element);\n              isSpinning = false;\n            }\n\n            if (this.enableProgress) {\n              this.createProgress();\n            }\n\n            ele.setAttribute('aria-label', ele.textContent + ' progress');\n            break;\n\n          case 'iconCss':\n            if (!oldProp.iconCss) {\n              this.setIconSpan();\n            }\n\n            break;\n\n          case 'iconPosition':\n            this.setIconSpan();\n            break;\n\n          case 'enableProgress':\n            if (newProp.enableProgress) {\n              this.createProgress();\n            } else {\n              remove(this.getProgress());\n            }\n\n            break;\n\n          case 'spinSettings':\n            if (newProp.spinSettings.position) {\n              ele.classList.remove('e-spin-' + oldProp.spinSettings.position.toLowerCase());\n              this.setSpinPosition(this.getSpinner());\n            }\n\n            if (newProp.spinSettings.template || newProp.spinSettings.width) {\n              ele.removeChild(this.getSpinner());\n              this.createSpinner();\n            }\n\n            break;\n        }\n      }\n    }\n    /**\n     * Sets the focus to ProgressButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      this.element.focus();\n    }\n  }]);\n\n  return ProgressButton;\n}(Button);\n\n__decorate$3([Property(false)], ProgressButton.prototype, \"enableProgress\", void 0);\n\n__decorate$3([Property(2000)], ProgressButton.prototype, \"duration\", void 0);\n\n__decorate$3([Property('Left')], ProgressButton.prototype, \"iconPosition\", void 0);\n\n__decorate$3([Property('')], ProgressButton.prototype, \"iconCss\", void 0);\n\n__decorate$3([Property(false)], ProgressButton.prototype, \"disabled\", void 0);\n\n__decorate$3([Property(false)], ProgressButton.prototype, \"isPrimary\", void 0);\n\n__decorate$3([Property('')], ProgressButton.prototype, \"cssClass\", void 0);\n\n__decorate$3([Property('')], ProgressButton.prototype, \"content\", void 0);\n\n__decorate$3([Property(false)], ProgressButton.prototype, \"isToggle\", void 0);\n\n__decorate$3([Property(false)], ProgressButton.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$3([Complex({}, SpinSettings)], ProgressButton.prototype, \"spinSettings\", void 0);\n\n__decorate$3([Complex({}, AnimationSettings)], ProgressButton.prototype, \"animationSettings\", void 0);\n\n__decorate$3([Event()], ProgressButton.prototype, \"created\", void 0);\n\n__decorate$3([Event()], ProgressButton.prototype, \"begin\", void 0);\n\n__decorate$3([Event()], ProgressButton.prototype, \"progress\", void 0);\n\n__decorate$3([Event()], ProgressButton.prototype, \"end\", void 0);\n\n__decorate$3([Event()], ProgressButton.prototype, \"fail\", void 0);\n\nProgressButton = __decorate$3([NotifyPropertyChanges], ProgressButton);\n/**\n * ProgressButton modules\n */\n\n/**\n * SplitButton all module\n */\n\nexport { getModel, _upDownKeyHandler as upDownKeyHandler, setBlankIconStyle, Item, DropDownButton, SplitButton, Deferred, createButtonGroup, SpinSettings, AnimationSettings, ProgressButton };","map":{"version":3,"sources":["D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@syncfusion/ej2-splitbuttons/dist/es6/ej2-splitbuttons.es2015.js"],"names":["Animation","ChildProperty","Collection","Complex","Component","Event","EventHandler","KeyboardEvents","NotifyPropertyChanges","Property","SanitizeHtmlHelper","addClass","attributes","classList","closest","createElement","deleteObject","detach","extend","getInstance","getUniqueID","getValue","isNullOrUndefined","remove","removeClass","rippleEffect","select","setValue","Button","Popup","createSpinner","hideSpinner","showSpinner","__decorate","undefined","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","getModel","props","model","obj","keys","prop","indexOf","upDownKeyHandler","ul","keyCode","defaultIdx","childElementCount","liIdx","li","selectedLi","querySelector","len","children","contains","isValidLI","focus","index","count","setBlankIconStyle","popup","blankIconList","slice","call","getElementsByClassName","iconLi","icon","cssProp","enableRtl","padding","margin","size","parseInt","getComputedStyle","fontSize","paddingLeft","forEach","style","Item","prototype","__decorate$1","classNames","DISABLED","FOCUS","ICON","ITEM","POPUP","RTL","SEPARATOR","VERTICAL","DropDownButton","options","element","isPopupCreated","addOnPersist","canOpen","openPopUp","closePopup","initialize","disabled","wireEvents","renderComplete","items","text","newItem","idx","j","splice","createItems","isUniqueId","refresh","id","getULElement","div","className","document","body","appendChild","dropDown","relateTo","collision","X","Y","position","targetType","content","getTargetElement","refreshPosition","hide","getPopUpElement","textContent","cssClass","split","appendItems","showIcon","hasIcon","span","item","eventArgs","innerHTML","attrs","tempItem","enableHtmlSanitizer","sanitize","url","separator","getModuleName","createAnchor","add","iconCss","childNodes","insertBefore","trigger","field","button","iconPosition","enablePersistence","appendTo","appendArrowSpan","setActiveElem","isColorPicker","createPopupOnClick","createPopup","prevElem","previousSibling","elem","activeElem","val","classList$$1","destroy","attrList","getAttribute","removeAttribute","popupUnWireEvents","destroyPopup","unWireEvents","popupEle","getElementById","clickHandler","keyBoardHandler","delegateMousedownHandler","mousedownHandler","bind","popupElement","rippleFn","selector","parentElement","e","altKey","keyEventHandler","preventDefault","tagName","trgt","getLI","Array","popupWireEvents","beforeOpenArgs","event","cancel","observedArgs","show","setAttribute","openArgs","focusEle","beforeCloseArgs","closeArgs","newProp","oldProp","btnModel","setProperties","arrowSpan","dataBind","__decorate$2","TAGNAME","SplitButton","ele","ejInstance","btn","wrapper","nodeName","nodeValue","parentNode","initWrapper","createPrimaryButton","renderControl","createSecondaryButton","secondaryBtnObj","setAria","primaryBtnObj","type","btnElem","dropDownBtnModel","beforeItemRender","args","open","close","beforeOpen","callBackPromise","Deferred","resolve","beforeClose","toggle","concat","primaryBtnClickHandler","keyAction","btnKeyBoardHandler","keyConfigs","altdownarrow","action","promise","Promise","reject","catch","then","createButtonGroup","createElement$$1","child","nextChild","childs","buttons","__decorate$3","HIDESPINNER","PROGRESS","PROGRESSACTIVE","CONTENTCLS","SpinSettings","AnimationSettings","ProgressButton","step","init","percent","isPaused","startProgress","progressTime","cancelAnimationFrame","timerId","finishProgress","spinSettings","toLowerCase","css","setContent","enableProgress","createProgress","spinner","setSpinPosition","width","template","cont","contElem","trim","node","clsList","isVertical","startAnimate","Date","now","duration","startContAnimate","timestamp","prevTime","prevPercent","prevProgressTime","timeDiff","stepTime","timeDiffBuffer","currentDuration","eIsVertical","successCallback","perc","pPerc","prgTim","pPrgTim","timDif","pTim","requestAnimationFrame","getProgress","toString","interval","window","setTimeout","hideSpin","animationSettings","effect","animate","name","timingFunction","easing","begin","setSpinnerSize","end","clearTimeout","getSpinner","Math","max","offsetWidth","height","offsetHeight","iconSpan","isSpinning","setIconSpan","removeChild"],"mappings":"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","sourcesContent":["import { Animation, ChildProperty, Collection, Complex, Component, Event, EventHandler, KeyboardEvents, NotifyPropertyChanges, Property, SanitizeHtmlHelper, addClass, attributes, classList, closest, createElement, deleteObject, detach, extend, getInstance, getUniqueID, getValue, isNullOrUndefined, remove, removeClass, rippleEffect, select, setValue } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * @param {Object} props - Specifies the properties\n * @param {string[]} model - Specifies the model\n * @returns {Object} Component Model\n */\nfunction getModel(props, model) {\n    const obj = extend({}, props);\n    for (const prop of Object.keys(obj)) {\n        if ((model).indexOf(prop) < 0) {\n            deleteObject(obj, prop);\n        }\n    }\n    return obj;\n}\n/** @hidden\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {number} keyCode - Specifies the keycode\n * @returns {void}\n */\nfunction upDownKeyHandler(ul, keyCode) {\n    const defaultIdx = keyCode === 40 ? 0 : ul.childElementCount - 1;\n    let liIdx = defaultIdx;\n    let li;\n    const selectedLi = ul.querySelector('.e-selected');\n    if (selectedLi) {\n        selectedLi.classList.remove('e-selected');\n    }\n    for (let i = 0, len = ul.children.length; i < len; i++) {\n        if (ul.children[i].classList.contains('e-focused')) {\n            li = ul.children[i];\n            liIdx = i;\n            li.classList.remove('e-focused');\n            if (keyCode === 40) {\n                liIdx++;\n            }\n            else {\n                liIdx--;\n            }\n            if (liIdx === (keyCode === 40 ? ul.childElementCount : -1)) {\n                liIdx = defaultIdx;\n            }\n        }\n    }\n    li = ul.children[liIdx];\n    liIdx = isValidLI(ul, li, liIdx, keyCode);\n    if (liIdx !== -1) {\n        addClass([ul.children[liIdx]], 'e-focused');\n        ul.children[liIdx].focus();\n    }\n}\n/**\n * Get Valid LI element\n *\n * @param {HTMLElement} ul - Specifies the UL element\n * @param {Element} li - Specifies the LI element\n * @param {number} index - Specifies the index\n * @param {number} keyCode - Specifies the keycode\n * @param {number} count - Specifies the count\n * @returns {number} - Index\n */\nfunction isValidLI(ul, li, index, keyCode, count = 0) {\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        if (index === (keyCode === 40 ? ul.childElementCount - 1 : 0)) {\n            index = keyCode === 40 ? 0 : ul.childElementCount - 1;\n        }\n        else {\n            if (keyCode === 40) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n    }\n    li = ul.children[index];\n    if (li.classList.contains('e-separator') || li.classList.contains('e-disabled')) {\n        count++;\n        if (count === ul.childElementCount) {\n            return index = -1;\n        }\n        index = isValidLI(ul, li, index, keyCode, count);\n    }\n    return index;\n}\n/** @hidden\n * @param {HTMLElement} popup - Specifies the popup element.\n * @returns {void}\n */\nfunction setBlankIconStyle(popup) {\n    const blankIconList = [].slice.call(popup.getElementsByClassName('e-blank-icon'));\n    if (!blankIconList.length) {\n        return;\n    }\n    let iconLi = popup.querySelector('.e-item:not(.e-blank-icon):not(.e-separator)');\n    if (iconLi.classList.contains('e-url')) {\n        iconLi = iconLi.querySelector('.e-menu-url');\n    }\n    const icon = iconLi.querySelector('.e-menu-icon');\n    let cssProp;\n    const enableRtl = popup.classList.contains('e-rtl');\n    if (enableRtl) {\n        cssProp = { padding: 'paddingRight', margin: 'marginLeft' };\n    }\n    else {\n        cssProp = { padding: 'paddingLeft', margin: 'marginRight' };\n    }\n    /* eslint-disable */\n    let size = `${parseInt(getComputedStyle(icon).fontSize, 10) + parseInt((enableRtl ? getComputedStyle(icon)[cssProp.margin] : getComputedStyle(icon)[cssProp.margin]), 10)\n        + parseInt(getComputedStyle(iconLi).paddingLeft, 10)}px`;\n    blankIconList.forEach((li) => {\n        if (li.classList.contains('e-url')) {\n            li.querySelector('.e-menu-url').style[cssProp.padding] = size;\n        }\n        else {\n            li.style[cssProp.padding] = size;\n        }\n    });\n    /* eslint-enable */\n}\n/**\n * Defines the items of Split Button/DropDownButton.\n */\nclass Item extends ChildProperty {\n}\n__decorate([\n    Property('')\n], Item.prototype, \"iconCss\", void 0);\n__decorate([\n    Property('')\n], Item.prototype, \"id\", void 0);\n__decorate([\n    Property(false)\n], Item.prototype, \"separator\", void 0);\n__decorate([\n    Property('')\n], Item.prototype, \"text\", void 0);\n__decorate([\n    Property('')\n], Item.prototype, \"url\", void 0);\n__decorate([\n    Property(false)\n], Item.prototype, \"disabled\", void 0);\n\n/**\n * Common modules\n */\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst classNames = {\n    DISABLED: 'e-disabled',\n    FOCUS: 'e-focused',\n    ICON: 'e-menu-icon',\n    ITEM: 'e-item',\n    POPUP: 'e-dropdown-popup',\n    RTL: 'e-rtl',\n    SEPARATOR: 'e-separator',\n    VERTICAL: 'e-vertical'\n};\n/**\n * DropDownButton component is used to toggle contextual overlays for displaying list of action items.\n * It can contain both text and images.\n * ```html\n * <button id=\"element\">DropDownButton</button>\n * ```\n * ```typescript\n * <script>\n * var dropDownButtonObj = new DropDownButton({items: [{ text: 'Action1' }, { text: 'Action2' },{ text: 'Action3' }]);\n * dropDownButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nlet DropDownButton = class DropDownButton extends Component {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {DropDownButtonModel} options - Specifies dropdown button model\n     * @param  {string|HTMLButtonElement} element - Specifies element\n     * @hidden\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.isPopupCreated = true;\n    }\n    preRender() {\n        /** */\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    getPersistData() {\n        return this.addOnPersist([]);\n    }\n    /**\n     * To open/close DropDownButton popup based on current state of the DropDownButton.\n     *\n     * @returns {void}\n     */\n    toggle() {\n        if (this.canOpen()) {\n            this.openPopUp();\n        }\n        else {\n            this.closePopup();\n        }\n    }\n    /**\n     * Initialize the Component rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.renderComplete();\n    }\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    addItems(items, text) {\n        let newItem;\n        let idx = this.items.length;\n        for (let j = 0, len = this.items.length; j < len; j++) {\n            if (text === this.items[j].text) {\n                idx = j;\n                break;\n            }\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            newItem = new Item(this, 'items', items[i], true);\n            this.items.splice(idx, 0, newItem);\n        }\n        if (!this.canOpen()) {\n            this.createItems();\n        }\n    }\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n    removeItems(items, isUniqueId) {\n        let refresh = false;\n        for (let i = 0, len = items.length; i < len; i++) {\n            for (let j = 0, len = this.items.length; j < len; j++) {\n                if (items[i] === (isUniqueId ? this.items[j].id : this.items[j].text)) {\n                    this.items.splice(j, 1);\n                    refresh = true;\n                    break;\n                }\n            }\n        }\n        if (refresh && this.getULElement()) {\n            this.createItems();\n        }\n    }\n    createPopup() {\n        const div = this.createElement('div', {\n            className: classNames.POPUP,\n            id: this.element.id + '-popup'\n        });\n        document.body.appendChild(div);\n        this.dropDown = new Popup(div, {\n            relateTo: this.element,\n            collision: { X: 'fit', Y: 'flip' },\n            position: { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            content: this.target ? this.getTargetElement() : '',\n            enableRtl: this.enableRtl\n        });\n        if (this.dropDown.element.style.position === 'fixed') {\n            this.dropDown.refreshPosition(this.element);\n        }\n        this.dropDown.hide();\n        attributes(this.element, {\n            ['aria-haspopup']: this.items.length || this.target ? 'true' : 'false', ['aria-expanded']: 'false',\n            ['aria-owns']: this.getPopUpElement().id, ['type']: 'button',\n            ['aria-label']: this.element.textContent + ' dropdownbutton'\n        });\n        if (this.cssClass) {\n            addClass([div], this.cssClass.split(' '));\n        }\n        this.isPopupCreated = true;\n    }\n    getTargetElement() {\n        return typeof (this.target) === 'string' ? select(this.target) : this.target;\n    }\n    createItems(appendItems) {\n        const items = this.items;\n        const showIcon = this.hasIcon(this.items, 'iconCss');\n        let span;\n        let item;\n        let li;\n        let eventArgs;\n        let ul = this.getULElement();\n        if (ul) {\n            ul.innerHTML = '';\n        }\n        else {\n            ul = this.createElement('ul', {\n                attrs: { 'role': 'menu', 'tabindex': '0' }\n            });\n        }\n        for (let i = 0; i < items.length; i++) {\n            item = items[i];\n            const tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n            li = this.createElement('li', {\n                innerHTML: item.url ? '' : tempItem,\n                className: item.separator ? classNames.ITEM + ' ' + classNames.SEPARATOR : classNames.ITEM,\n                attrs: { 'role': 'menuItem', 'tabindex': '-1' },\n                id: item.id ? item.id : getUniqueID('e-' + this.getModuleName() + '-item')\n            });\n            if (item.url) {\n                li.appendChild(this.createAnchor(item));\n                li.classList.add('e-url');\n            }\n            if (item.iconCss) {\n                span = this.createElement('span', { className: classNames.ICON + ' ' + item.iconCss });\n                if (item.url) {\n                    li.childNodes[0].appendChild(span);\n                }\n                else {\n                    li.insertBefore(span, li.childNodes[0]);\n                }\n            }\n            else {\n                if (showIcon && !item.separator) {\n                    li.classList.add('e-blank-icon');\n                }\n            }\n            if (item.disabled) {\n                li.classList.add('e-disabled');\n            }\n            eventArgs = { item: item, element: li };\n            this.trigger('beforeItemRender', eventArgs);\n            ul.appendChild(li);\n        }\n        if (appendItems) {\n            this.getPopUpElement().appendChild(ul);\n        }\n        if (showIcon) {\n            setBlankIconStyle(this.getPopUpElement());\n        }\n    }\n    hasIcon(items, field) {\n        for (let i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    }\n    createAnchor(item) {\n        const tempItem = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(item.text) : item.text;\n        return this.createElement('a', { className: 'e-menu-text e-menu-url', innerHTML: tempItem, attrs: { 'href': item.url } });\n    }\n    initialize() {\n        this.button = new Button({\n            iconCss: this.iconCss, iconPosition: this.iconPosition, cssClass: this.cssClass, content: this.content,\n            disabled: this.disabled, enableRtl: this.enableRtl, enablePersistence: this.enablePersistence\n        });\n        this.button.createElement = this.createElement;\n        this.button.appendTo(this.element);\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        this.appendArrowSpan();\n        this.setActiveElem([this.element]);\n        if ((this.target && !this.isColorPicker()) || !this.createPopupOnClick) {\n            this.createPopup();\n        }\n        else {\n            this.isPopupCreated = false;\n        }\n    }\n    isColorPicker() {\n        if (!this.element) {\n            return false;\n        }\n        const prevElem = this.element.previousSibling;\n        if (prevElem && prevElem.classList && prevElem.classList.contains('e-split-colorpicker')) {\n            return true;\n        }\n        return false;\n    }\n    appendArrowSpan() {\n        this.element.appendChild(this.createElement('span', {\n            className: 'e-btn-icon e-icons ' + 'e-icon-' + (this.cssClass.indexOf(classNames.VERTICAL) > -1\n                ? 'bottom' : 'right') + ' e-caret'\n        }));\n    }\n    setActiveElem(elem) {\n        this.activeElem = elem;\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    getModuleName() {\n        return 'dropdown-btn';\n    }\n    canOpen() {\n        let val = false;\n        if (this.isPopupCreated) {\n            val = this.getPopUpElement().classList.contains('e-popup-close');\n        }\n        return val;\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        super.destroy();\n        if (this.getModuleName() === 'dropdown-btn') {\n            let classList$$1;\n            if (this.element.querySelector('span.e-caret')) {\n                detach(this.element.querySelector('span.e-caret'));\n            }\n            if (this.cssClass) {\n                classList$$1 = this.cssClass.split(' ');\n            }\n            this.button.destroy();\n            if (classList$$1) {\n                removeClass([this.element], classList$$1);\n            }\n            removeClass(this.activeElem, ['e-active']);\n            const attrList = this.element.getAttribute('class') ? ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type']\n                : ['aria-haspopup', 'aria-expanded', 'aria-owns', 'type', 'class'];\n            attrList.forEach((key) => {\n                this.element.removeAttribute(key);\n            });\n            this.popupUnWireEvents();\n            this.destroyPopup();\n            this.isPopupCreated = false;\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n        }\n    }\n    destroyPopup() {\n        if (this.isPopupCreated) {\n            this.dropDown.destroy();\n            if (this.getPopUpElement()) {\n                const popupEle = document.getElementById(this.getPopUpElement().id);\n                if (popupEle) {\n                    removeClass([popupEle], ['e-popup-open', 'e-popup-close']);\n                    detach(popupEle);\n                }\n            }\n            EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n            EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n            if (this.isPopupCreated) {\n                this.dropDown = undefined;\n            }\n        }\n        this.isPopupCreated = false;\n    }\n    getPopUpElement() {\n        let val = null;\n        if (this.dropDown) {\n            val = this.dropDown.element;\n        }\n        return val;\n    }\n    getULElement() {\n        let val = null;\n        if (this.getPopUpElement()) {\n            val = this.getPopUpElement().children[0];\n        }\n        return val;\n    }\n    wireEvents() {\n        this.delegateMousedownHandler = this.mousedownHandler.bind(this);\n        if (!this.createPopupOnClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        }\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyBoardHandler, this);\n    }\n    popupWireEvents() {\n        const popupElement = this.getPopUpElement();\n        if (this.createPopupOnClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.delegateMousedownHandler, this);\n        }\n        if (popupElement) {\n            EventHandler.add(popupElement, 'click', this.clickHandler, this);\n            EventHandler.add(popupElement, 'keydown', this.keyBoardHandler, this);\n        }\n        this.rippleFn = rippleEffect(popupElement, { selector: '.' + classNames.ITEM });\n    }\n    popupUnWireEvents() {\n        const popupElement = this.getPopUpElement();\n        if (this.createPopupOnClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        }\n        if (popupElement && popupElement.parentElement) {\n            EventHandler.remove(popupElement, 'click', this.clickHandler);\n            EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n        }\n    }\n    /**\n     * Handles the keyboard interactions.\n     *\n     * @param {KeyboardEventArgs} e - Specifies keyboard event args.\n     * @returns {void}\n     * @hidden\n     */\n    keyBoardHandler(e) {\n        if (e.target === this.element && (e.keyCode === 9 || (!e.altKey && e.keyCode === 40) || e.keyCode === 38)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 38:\n            case 40:\n                if (e.altKey && (e.keyCode === 38 || e.keyCode === 40)) {\n                    this.keyEventHandler(e);\n                }\n                else {\n                    this.upDownKeyHandler(e);\n                }\n                break;\n            case 9:\n            case 13:\n            case 27:\n            case 32:\n                this.keyEventHandler(e);\n                break;\n        }\n    }\n    upDownKeyHandler(e) {\n        if (this.target && (e.keyCode === 38 || e.keyCode === 40)) {\n            return;\n        }\n        e.preventDefault();\n        upDownKeyHandler(this.getULElement(), e.keyCode);\n    }\n    keyEventHandler(e) {\n        if (this.target && (e.keyCode === 13 || e.keyCode === 9)) {\n            return;\n        }\n        if (e.target && e.target.className.indexOf('e-edit-template') > -1 && e.keyCode === 32) {\n            return;\n        }\n        if (e.keyCode !== 9) {\n            e.preventDefault();\n        }\n        if (e.keyCode === 27 || e.keyCode === 38 || e.keyCode === 9) {\n            if (!this.canOpen()) {\n                this.closePopup(e, this.element);\n            }\n        }\n        else {\n            this.clickHandler(e);\n        }\n    }\n    getLI(elem) {\n        return elem.tagName === 'LI' ? elem : closest(elem, 'li');\n    }\n    mousedownHandler(e) {\n        const trgt = e.target;\n        if (this.dropDown && !this.canOpen() && !(closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')\n            || closest(trgt, '[id=\"' + this.element.id + '\"]'))) {\n            this.closePopup(e);\n        }\n    }\n    clickHandler(e) {\n        const trgt = e.target;\n        if (closest(trgt, '[id=\"' + this.element.id + '\"]')) {\n            if (!this.createPopupOnClick || (this.target && !this.isColorPicker())) {\n                if (this.getPopUpElement().classList.contains('e-popup-close')) {\n                    this.openPopUp(e);\n                }\n                else {\n                    this.closePopup(e);\n                }\n            }\n            else if (this.isPopupCreated) {\n                this.closePopup(e, this.activeElem[0]);\n            }\n            else {\n                this.createPopup();\n                this.openPopUp(e);\n            }\n        }\n        else {\n            if (closest(trgt, '[id=\"' + this.getPopUpElement().id + '\"]')) {\n                let eventArgs;\n                let liIdx;\n                let item;\n                const li = this.getLI(trgt);\n                if (li) {\n                    liIdx = Array.prototype.indexOf.call(this.getULElement().children, li);\n                    item = this.items[liIdx];\n                    if (item) {\n                        eventArgs = { element: li, item: item };\n                        this.trigger('select', eventArgs);\n                    }\n                    this.closePopup(e, this.activeElem[0]);\n                }\n            }\n        }\n    }\n    openPopUp(e = null) {\n        if (!this.target) {\n            this.createItems(true);\n        }\n        const ul = this.getULElement();\n        this.popupWireEvents();\n        const beforeOpenArgs = { element: ul, items: this.items, event: e, cancel: false };\n        this.trigger('beforeOpen', beforeOpenArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                const ul = this.getULElement();\n                this.dropDown.show(null, this.element);\n                addClass([this.element], 'e-active');\n                this.element.setAttribute('aria-expanded', 'true');\n                ul.focus();\n                const openArgs = { element: ul, items: this.items };\n                this.trigger('open', openArgs);\n            }\n        });\n    }\n    closePopup(e = null, focusEle) {\n        const ul = this.getULElement();\n        const beforeCloseArgs = { element: ul, items: this.items, event: e, cancel: false };\n        let popupElement = this.getPopUpElement();\n        if (popupElement) {\n            EventHandler.remove(popupElement, 'keydown', this.keyBoardHandler);\n        }\n        this.trigger('beforeClose', beforeCloseArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                this.popupUnWireEvents();\n                const ul = this.getULElement();\n                const selectedLi = ul.querySelector('.e-selected');\n                if (selectedLi) {\n                    selectedLi.classList.remove('e-selected');\n                }\n                this.dropDown.hide();\n                removeClass(this.activeElem, 'e-active');\n                this.element.setAttribute('aria-expanded', 'false');\n                if (focusEle) {\n                    focusEle.focus();\n                }\n                const closeArgs = { element: ul, items: this.items };\n                this.trigger('close', closeArgs);\n                if (!this.target && ul) {\n                    detach(ul);\n                }\n                if (!this.target || this.isColorPicker()) {\n                    if (this.createPopupOnClick) {\n                        this.destroyPopup();\n                    }\n                }\n                if (this.target) {\n                    this.isPopupCreated = this.createPopupOnClick ? false : true;\n                }\n            }\n        });\n    }\n    unWireEvents() {\n        if (!this.createPopupOnClick) {\n            EventHandler.remove(document, 'mousedown touchstart', this.delegateMousedownHandler);\n        }\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyBoardHandler);\n        if (this.isPopupCreated) {\n            EventHandler.remove(this.getPopUpElement(), 'click', this.clickHandler);\n            EventHandler.remove(this.getPopUpElement(), 'keydown', this.keyBoardHandler);\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {DropDownButtonModel} newProp - Specifies new properties\n     * @param  {DropDownButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const btnModel = ['content', 'cssClass', 'iconCss', 'iconPosition', 'disabled', 'enableRtl'];\n        this.button.setProperties(getModel(newProp, btnModel));\n        let popupElement;\n        if (this.isPopupCreated) {\n            popupElement = this.getPopUpElement();\n            this.dropDown.setProperties(getModel(newProp, ['enableRtl']));\n        }\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'content':\n                    if (!this.element.querySelector('span.e-caret')) {\n                        this.appendArrowSpan();\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.unWireEvents();\n                        if (this.isPopupCreated && !this.canOpen()) {\n                            this.closePopup();\n                        }\n                    }\n                    else {\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (newProp.cssClass.indexOf(classNames.VERTICAL) > -1) {\n                        const arrowSpan = this.element.querySelector('span.e-caret');\n                        classList(arrowSpan, ['e-icon-bottom'], ['e-icon-right']);\n                    }\n                    if (this.isPopupCreated) {\n                        if (oldProp.cssClass) {\n                            removeClass([popupElement], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([popupElement], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'target':\n                    this.dropDown.content = this.getTargetElement();\n                    this.dropDown.dataBind();\n                    break;\n                case 'items':\n                    if (this.isPopupCreated && this.getULElement()) {\n                        this.createItems();\n                    }\n                    break;\n                case 'createPopupOnClick':\n                    if (newProp.createPopupOnClick) {\n                        this.destroyPopup();\n                    }\n                    else {\n                        this.createPopup();\n                    }\n                    break;\n            }\n        }\n    }\n    /**\n     * Sets the focus to DropDownButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    focusIn() {\n        this.element.focus();\n    }\n};\n__decorate$1([\n    Property('')\n], DropDownButton.prototype, \"content\", void 0);\n__decorate$1([\n    Property('')\n], DropDownButton.prototype, \"cssClass\", void 0);\n__decorate$1([\n    Property(false)\n], DropDownButton.prototype, \"disabled\", void 0);\n__decorate$1([\n    Property('')\n], DropDownButton.prototype, \"iconCss\", void 0);\n__decorate$1([\n    Property('Left')\n], DropDownButton.prototype, \"iconPosition\", void 0);\n__decorate$1([\n    Property(false)\n], DropDownButton.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$1([\n    Collection([], Item)\n], DropDownButton.prototype, \"items\", void 0);\n__decorate$1([\n    Property(false)\n], DropDownButton.prototype, \"createPopupOnClick\", void 0);\n__decorate$1([\n    Property('')\n], DropDownButton.prototype, \"target\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"beforeItemRender\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"beforeOpen\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"beforeClose\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"close\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"open\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"select\", void 0);\n__decorate$1([\n    Event()\n], DropDownButton.prototype, \"created\", void 0);\nDropDownButton = __decorate$1([\n    NotifyPropertyChanges\n], DropDownButton);\n\n/**\n * DropDownButton modules\n */\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-button/drop-down-button-model.d.ts'/>\nconst RTL = 'e-rtl';\nconst TAGNAME = 'EJS-SPLITBUTTON';\n/**\n * SplitButton component has primary and secondary button. Primary button is used to select\n * default action and secondary button is used to toggle contextual overlays for displaying list of\n * action items. It can contain both text and images.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var splitBtnObj = new SplitButton({content: 'SplitButton'});\n * splitBtnObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nlet SplitButton = class SplitButton extends DropDownButton {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {SplitButtonModel} options - Specifies the splitbutton model\n     * @param  {string|HTMLButtonElement} element - Specifies the element\n     * @hidden\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * Initialize Angular support.\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        let ele = this.element;\n        if (ele.tagName === TAGNAME) {\n            const ejInstance = getValue('ej2_instances', ele);\n            const btn = this.createElement('button', { attrs: { 'type': 'button' } });\n            const wrapper = this.createElement(TAGNAME, { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (let idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                btn.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = btn;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.wrapper = wrapper;\n            this.element = ele;\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    }\n    /**\n     * Initialize the Component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initWrapper();\n        this.createPrimaryButton();\n        this.renderControl();\n    }\n    renderControl() {\n        this.createSecondaryButton();\n        this.setActiveElem([this.element, this.secondaryBtnObj.element]);\n        this.setAria();\n        this.wireEvents();\n        this.renderComplete();\n    }\n    /**\n     * Adds a new item to the menu. By default, new item appends to the list as the last item,\n     * but you can insert based on the text parameter.\n     *\n     * @param  { ItemModel[] } items - Specifies an array of JSON data.\n     * @param { string } text - Specifies the text to insert the newly added item in the menu.\n     * @returns {void}.\n     */\n    addItems(items, text) {\n        super.addItems(items, text);\n        this.secondaryBtnObj.items = this.items;\n    }\n    /**\n     * Removes the items from the menu.\n     *\n     * @param  { string[] } items - Specifies an array of string to remove the items.\n     * @param { string } isUniqueId - Set `true` if specified items is a collection of unique id.\n     * @returns {void}.\n     */\n    removeItems(items, isUniqueId) {\n        super.removeItems(items, isUniqueId);\n        this.secondaryBtnObj.items = this.items;\n    }\n    initWrapper() {\n        if (!this.wrapper) {\n            this.wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            this.element.parentNode.insertBefore(this.wrapper, this.element);\n        }\n        this.element.classList.remove('e-' + this.getModuleName());\n        if (this.enableRtl) {\n            this.wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([this.wrapper], this.cssClass.split(' '));\n        }\n    }\n    createPrimaryButton() {\n        const btnModel = {\n            cssClass: this.cssClass,\n            enableRtl: this.enableRtl,\n            iconCss: this.iconCss,\n            iconPosition: this.iconPosition,\n            content: this.content,\n            disabled: this.disabled\n        };\n        this.primaryBtnObj = new Button(btnModel);\n        this.primaryBtnObj.createElement = this.createElement;\n        this.primaryBtnObj.appendTo(this.element);\n        this.element.classList.add('e-' + this.getModuleName());\n        this.element.type = 'button';\n        this.wrapper.appendChild(this.element);\n    }\n    createSecondaryButton() {\n        const btnElem = this.createElement('button', {\n            className: 'e-icon-btn',\n            attrs: { 'tabindex': '-1' },\n            id: this.element.id + '_dropdownbtn'\n        });\n        this.wrapper.appendChild(btnElem);\n        const dropDownBtnModel = {\n            cssClass: this.cssClass,\n            disabled: this.disabled,\n            enableRtl: this.enableRtl,\n            items: this.items,\n            target: this.target,\n            createPopupOnClick: this.createPopupOnClick\n        };\n        dropDownBtnModel.beforeItemRender = (args) => {\n            if (this.createPopupOnClick) {\n                this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n                this.dropDown = this.secondaryBtnObj.dropDown;\n            }\n            this.trigger('beforeItemRender', args);\n        };\n        dropDownBtnModel.open = (args) => {\n            this.trigger('open', args);\n        };\n        dropDownBtnModel.close = (args) => {\n            this.trigger('close', args);\n        };\n        dropDownBtnModel.select = (args) => {\n            this.trigger('select', args);\n        };\n        dropDownBtnModel.beforeOpen = (args) => {\n            const callBackPromise = new Deferred();\n            this.trigger('beforeOpen', args, (observedArgs) => {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        dropDownBtnModel.beforeClose = (args) => {\n            const callBackPromise = new Deferred();\n            this.trigger('beforeClose', args, (observedArgs) => {\n                callBackPromise.resolve(observedArgs);\n            });\n            return callBackPromise;\n        };\n        this.secondaryBtnObj = new DropDownButton(dropDownBtnModel);\n        this.secondaryBtnObj.createElement = this.createElement;\n        this.secondaryBtnObj.appendTo(btnElem);\n        if (!this.createPopupOnClick) {\n            this.secondaryBtnObj.dropDown.relateTo = this.wrapper;\n            this.dropDown = this.secondaryBtnObj.dropDown;\n        }\n        this.secondaryBtnObj.activeElem = [this.element, this.secondaryBtnObj.element];\n        this.secondaryBtnObj.element.querySelector('.e-btn-icon').classList.remove('e-icon-right');\n    }\n    setAria() {\n        attributes(this.element, {\n            'aria-expanded': 'false', 'aria-haspopup': 'true',\n            'aria-label': this.element.textContent + ' splitbutton', 'aria-owns': this.element.id + '_dropdownbtn-popup'\n        });\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    getModuleName() {\n        return 'split-btn';\n    }\n    /**\n     * To open/close SplitButton popup based on current state of the SplitButton.\n     *\n     * @returns {void}\n     */\n    toggle() {\n        this.secondaryBtnObj.toggle();\n    }\n    destroy() {\n        let classList$$1 = [RTL];\n        if (this.cssClass) {\n            classList$$1 = classList$$1.concat(this.cssClass.split(' '));\n        }\n        if (this.element) {\n            const element = document.getElementById(this.element.id);\n            if (element && element.parentElement === this.wrapper) {\n                if (this.wrapper.tagName === TAGNAME) {\n                    this.wrapper.innerHTML = '';\n                    removeClass([this.wrapper], ['e-rtl', 'e-' + this.getModuleName() + '-wrapper']);\n                    removeClass([this.wrapper], this.cssClass.split(' '));\n                }\n                else {\n                    removeClass([this.element], classList$$1);\n                    ['aria-label', 'aria-haspopup', 'aria-expanded', 'aria-owns', 'type'].forEach((key) => {\n                        this.element.removeAttribute(key);\n                    });\n                    this.wrapper.parentNode.insertBefore(this.element, this.wrapper);\n                    remove(this.wrapper);\n                }\n                this.unWireEvents();\n            }\n        }\n        this.primaryBtnObj.destroy();\n        this.secondaryBtnObj.destroy();\n        super.destroy();\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n    }\n    wireEvents() {\n        EventHandler.add(this.element, 'click', this.primaryBtnClickHandler, this);\n        new KeyboardEvents(this.element, {\n            keyAction: this.btnKeyBoardHandler.bind(this),\n            keyConfigs: {\n                altdownarrow: 'alt+downarrow'\n            }\n        });\n    }\n    unWireEvents() {\n        EventHandler.remove(this.element, 'click', this.primaryBtnClickHandler);\n        getInstance(this.element, KeyboardEvents).destroy();\n    }\n    primaryBtnClickHandler() {\n        this.trigger('click', { element: this.element });\n    }\n    btnKeyBoardHandler(e) {\n        switch (e.action) {\n            case 'altdownarrow':\n                this.clickHandler(e);\n                break;\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {SplitButtonModel} newProp - Specifies new properties\n     * @param  {SplitButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        let model = ['content', 'iconCss', 'iconPosition', 'cssClass', 'disabled', 'enableRtl'];\n        this.primaryBtnObj.setProperties(getModel(newProp, model));\n        model = ['beforeOpen', 'beforeItemRender', 'select', 'open',\n            'close', 'cssClass', 'disabled', 'enableRtl', 'createPopupOnClick'];\n        if (Object.keys(newProp).indexOf('items') > -1) {\n            this.secondaryBtnObj.items = newProp.items;\n            this.secondaryBtnObj.dataBind();\n        }\n        this.secondaryBtnObj.setProperties(getModel(newProp, model));\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.wrapper], oldProp.cssClass.split(' '));\n                    }\n                    addClass([this.wrapper], newProp.cssClass.split(' '));\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        addClass([this.wrapper], RTL);\n                    }\n                    else {\n                        removeClass([this.wrapper], RTL);\n                    }\n                    break;\n            }\n        }\n    }\n    /**\n     * Sets the focus to SplitButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    focusIn() {\n        this.element.focus();\n    }\n};\n__decorate$2([\n    Property('')\n], SplitButton.prototype, \"content\", void 0);\n__decorate$2([\n    Property('')\n], SplitButton.prototype, \"cssClass\", void 0);\n__decorate$2([\n    Property(false)\n], SplitButton.prototype, \"disabled\", void 0);\n__decorate$2([\n    Property('')\n], SplitButton.prototype, \"iconCss\", void 0);\n__decorate$2([\n    Property('Left')\n], SplitButton.prototype, \"iconPosition\", void 0);\n__decorate$2([\n    Property(false)\n], SplitButton.prototype, \"createPopupOnClick\", void 0);\n__decorate$2([\n    Collection([], Item)\n], SplitButton.prototype, \"items\", void 0);\n__decorate$2([\n    Property('')\n], SplitButton.prototype, \"target\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"beforeItemRender\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"beforeOpen\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"beforeClose\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"click\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"close\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"open\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"select\", void 0);\n__decorate$2([\n    Event()\n], SplitButton.prototype, \"created\", void 0);\nSplitButton = __decorate$2([\n    NotifyPropertyChanges\n], SplitButton);\n/**\n * Deferred is used to handle asynchronous operation.\n */\nclass Deferred {\n    constructor() {\n        /**\n         * Promise is an object that represents a value that may not be available yet, but will be resolved at some point in the future.\n         */\n        this.promise = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n        /**\n         * Defines the callback function triggers when the Deferred object is rejected.\n         */\n        this.catch = this.promise.catch.bind(this.promise);\n        /**\n         * Defines the callback function triggers when the Deferred object is resolved.\n         */\n        this.then = this.promise.then.bind(this.promise);\n    }\n}\n\n/**\n * Split Button modules\n */\n\n/**\n * Initialize ButtonGroup CSS component with specified properties.\n * ```html\n * <div id='buttongroup'>\n * <button></button>\n * <button></button>\n * <button></button>\n * </div>\n * ```\n * ```typescript\n * createButtonGroup('#buttongroup', {\n *   cssClass: 'e-outline',\n *   buttons: [\n *       { content: 'Day' },\n *       { content: 'Week' },\n *       { content: 'Work Week'}\n *   ]\n * });\n * ```\n *\n * @param {string} selector\n * @param {CreateButtonGroupModel} options\n * @returns HTMLElement\n */\n/**\n * Creates button group.\n *\n * @param {string} selector - Specifies the selector.\n * @param {CreateButtonGroupModel} options - Specifies the button group model.\n * @param {Function} createElement - Specifies the element.\n * @returns {HTMLElement} - Button group element.\n */\nfunction createButtonGroup(selector, options = {}, createElement$$1) {\n    let child;\n    let btnElem;\n    let nextChild;\n    let btnModel;\n    if (isNullOrUndefined(createElement$$1)) {\n        createElement$$1 = createElement;\n    }\n    const wrapper = document.querySelector(selector);\n    addClass([wrapper], ['e-btn-group', 'e-css']);\n    wrapper.setAttribute('role', 'group');\n    const childs = wrapper.children;\n    options.buttons = options.buttons || [];\n    for (let i = 0, j = 0; j < childs.length; i++, j++) {\n        child = childs[j];\n        btnModel = options.buttons[i];\n        if (btnModel !== null) {\n            if (child.tagName === 'BUTTON') {\n                btnElem = child;\n            }\n            else {\n                btnElem = createElement$$1('label');\n                nextChild = childs[j + 1];\n                if (nextChild) {\n                    wrapper.insertBefore(btnElem, nextChild);\n                }\n                else {\n                    wrapper.appendChild(btnElem);\n                }\n                if (child.id) {\n                    btnElem.setAttribute('for', child.id);\n                }\n                if (btnModel && btnModel.disabled) {\n                    child.disabled = true;\n                }\n                j++;\n            }\n            if (options.cssClass && btnModel && !btnModel.cssClass) {\n                btnModel.cssClass = options.cssClass;\n            }\n            new Button(btnModel || {}, btnElem);\n        }\n    }\n    return wrapper;\n}\n\n/**\n * ButtonGroup modules\n */\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst HIDESPINNER = 'e-hide-spinner';\nconst PROGRESS = 'e-progress';\nconst PROGRESSACTIVE = 'e-progress-active';\nconst CONTENTCLS = 'e-btn-content';\n/**\n * Defines the spin settings.\n */\nclass SpinSettings extends ChildProperty {\n}\n__decorate$3([\n    Property(null)\n], SpinSettings.prototype, \"template\", void 0);\n__decorate$3([\n    Property(16)\n], SpinSettings.prototype, \"width\", void 0);\n__decorate$3([\n    Property('Left')\n], SpinSettings.prototype, \"position\", void 0);\n/**\n * Defines the animation settings.\n */\nclass AnimationSettings extends ChildProperty {\n}\n__decorate$3([\n    Property(400)\n], AnimationSettings.prototype, \"duration\", void 0);\n__decorate$3([\n    Property('None')\n], AnimationSettings.prototype, \"effect\", void 0);\n__decorate$3([\n    Property('ease')\n], AnimationSettings.prototype, \"easing\", void 0);\n/**\n * The ProgressButton visualizes the progression of an operation to indicate the user\n * that a process is happening in the background with visual representation.\n * ```html\n * <button id=\"element\"></button>\n * ```\n * ```typescript\n * <script>\n * var progressButtonObj = new ProgressButton({ content: 'Progress Button' });\n * progressButtonObj.appendTo(\"#element\");\n * </script>\n * ```\n */\nlet ProgressButton = class ProgressButton extends Button {\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param  {ProgressButtonModel} options - Specifies progress button model\n     * @param  {string|HTMLButtonElement} element - Specifies element\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.step = 1;\n    }\n    preRender() {\n        super.preRender();\n    }\n    /**\n     * Initialize the Component rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        super.render();\n        this.init();\n        this.wireEvents();\n        this.setAria();\n        this.renderComplete();\n    }\n    /**\n     * Starts the button progress at the specified percent.\n     *\n     * @param {number} percent - Starts the button progress at this percent.\n     * @returns {void}\n     */\n    start(percent) {\n        this.isPaused = false;\n        this.startProgress(percent ? percent : this.percent, this.progressTime);\n    }\n    /**\n     * Stops the button progress.\n     *\n     * @returns {void}\n     */\n    stop() {\n        this.isPaused = true;\n        cancelAnimationFrame(this.timerId);\n    }\n    /**\n     * Complete the button progress.\n     *\n     * @returns {void}\n     */\n    progressComplete() {\n        this.isPaused = false;\n        this.finishProgress();\n    }\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    getModuleName() {\n        return 'progress-btn';\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        let classList$$1 = [HIDESPINNER, PROGRESSACTIVE, 'e-round-corner', 'e-' + super.getModuleName(),\n            'e-spin-' + this.spinSettings.position.toLowerCase()];\n        super.destroy();\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        if (this.cssClass) {\n            classList$$1 = classList$$1.concat(this.cssClass.split(' '));\n        }\n        removeClass([this.element], classList$$1);\n        const css = this.element.getAttribute('class') ? ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow']\n            : ['aria-label', 'aria-valuemin', 'aria-valuemax', 'aria-valuenow', 'class'];\n        css.forEach((key) => {\n            this.element.removeAttribute(key);\n        });\n        if (this.disabled) {\n            this.element.removeAttribute('disabled');\n        }\n    }\n    init() {\n        this.element.classList.add('e-' + super.getModuleName());\n        this.setContent();\n        this.createSpinner();\n        if (this.enableProgress) {\n            this.createProgress();\n        }\n    }\n    createSpinner() {\n        const spinner = this.createElement('span', { className: 'e-spinner' });\n        this.setSpinPosition(spinner);\n        createSpinner({\n            target: spinner, width: this.spinSettings.width || 16, template: this.spinSettings.template\n        }, this.createElement);\n    }\n    getSpinner() {\n        return this.element.getElementsByClassName('e-spinner')[0];\n    }\n    getProgress() {\n        return this.element.getElementsByClassName(PROGRESS)[0];\n    }\n    setSpinPosition(ele) {\n        const position = this.spinSettings.position || 'Left';\n        if (position === 'Left' || position === 'Top') {\n            this.element.insertBefore(ele, this.element.getElementsByClassName(CONTENTCLS)[0]);\n        }\n        else {\n            this.element.appendChild(ele);\n        }\n        this.element.classList.add('e-spin-' + position.toLowerCase());\n    }\n    createProgress() {\n        this.element.appendChild(this.createElement('span', { className: PROGRESS }));\n    }\n    setContent() {\n        let cont;\n        cont = this.element.innerHTML;\n        if (this.enableHtmlSanitizer) {\n            cont = SanitizeHtmlHelper.sanitize(this.element.innerHTML);\n        }\n        this.element.innerHTML = '';\n        this.element.appendChild(this.createElement('span', { className: CONTENTCLS, innerHTML: cont }));\n    }\n    setContentIcon(content) {\n        const contElem = this.createElement('span', { className: CONTENTCLS, innerHTML: content });\n        if (this.iconCss) {\n            const span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add('e-icon-btn');\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            const node = contElem.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                contElem.insertBefore(span, node);\n            }\n            else {\n                contElem.appendChild(span);\n            }\n        }\n        this.element.appendChild(contElem);\n    }\n    clickHandler() {\n        if (this.element.classList.contains(PROGRESSACTIVE)) {\n            return;\n        }\n        this.startProgress();\n    }\n    startProgress(percent, progressTime) {\n        const clsList = this.element.classList;\n        const isVertical = clsList.contains('e-vertical');\n        clsList.add(PROGRESSACTIVE);\n        if (!(clsList.contains(HIDESPINNER))) {\n            showSpinner(this.element);\n        }\n        this.startAnimate(Date.now(), progressTime ? progressTime : 0, progressTime ? Date.now() - (this.duration * 1 / 100) : Date.now(), percent ? percent : 0, 0, this.step, 0, isVertical);\n        this.startContAnimate();\n    }\n    startAnimate(timestamp, progressTime, prevTime, percent, prevPercent, step, prevProgressTime, isVertical) {\n        try {\n            const timeDiff = timestamp - prevTime;\n            const stepTime = this.duration * step / 100;\n            const timeDiffBuffer = timeDiff ? (timeDiff < stepTime ? timeDiff - stepTime : timeDiff % stepTime) : 0;\n            this.progressTime = progressTime = progressTime + timeDiff - timeDiffBuffer;\n            prevTime = timestamp - timeDiffBuffer;\n            percent = percent + (timeDiff - timeDiffBuffer) / this.duration * 100;\n            prevPercent = ((progressTime - prevProgressTime) % stepTime === 0 || percent === 100) ? percent : prevPercent;\n            const args = { percent: prevPercent, currentDuration: progressTime, step: step };\n            this.eIsVertical = isVertical;\n            if (percent === 0) {\n                this.trigger('begin', args, (observedArgs) => {\n                    this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer, prevTime);\n                });\n            }\n            else if (percent === 100 || progressTime === this.duration) {\n                this.trigger('end', args, (observedArgs) => {\n                    this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer, prevTime);\n                });\n            }\n            else {\n                this.trigger('progress', args, (observedArgs) => {\n                    this.successCallback(observedArgs, percent, prevPercent, progressTime, prevProgressTime, timeDiffBuffer, prevTime);\n                });\n            }\n        }\n        catch (e) {\n            cancelAnimationFrame(this.timerId);\n            this.trigger('fail', e);\n        }\n    }\n    successCallback(args, perc, pPerc, prgTim, pPrgTim, timDif, pTim) {\n        let percent = perc;\n        let prevPercent = pPerc;\n        const timeDiffBuffer = timDif;\n        const progressTime = prgTim;\n        let prevProgressTime = pPrgTim;\n        const prevTime = pTim;\n        const isVertical = this.eIsVertical;\n        if (percent !== args.percent && args.percent !== prevPercent) {\n            percent = args.percent;\n        }\n        this.percent = percent;\n        this.step = args.step;\n        if ((progressTime - prevProgressTime) % (this.duration * args.step / 100) === 0 || percent === 100) {\n            this.timerId = requestAnimationFrame(() => {\n                if (this.enableProgress) {\n                    this.getProgress().style[isVertical ? 'height' : 'width'] = percent + '%';\n                }\n                this.element.setAttribute('aria-valuenow', percent.toString());\n            });\n            prevPercent = percent;\n            prevProgressTime = progressTime;\n        }\n        if (!this.isPaused) {\n            if (progressTime < this.duration && percent < 100) {\n                this.interval = window.setTimeout(() => {\n                    this.startAnimate(Date.now(), progressTime, prevTime, percent, prevPercent, args.step, prevProgressTime, isVertical);\n                }, (this.duration / 100) - timeDiffBuffer);\n            }\n            else {\n                this.interval = window.setTimeout(() => {\n                    this.progressTime = this.percent = 0;\n                    if (this.enableProgress) {\n                        this.getProgress().style[isVertical ? 'height' : 'width'] = '0%';\n                    }\n                    this.element.setAttribute('aria-valuenow', '0');\n                    this.hideSpin();\n                }, 100);\n            }\n        }\n    }\n    startContAnimate() {\n        const ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (this.animationSettings.effect !== 'None') {\n            (new Animation({})).animate(ele, {\n                duration: this.animationSettings.duration,\n                name: 'Progress' + this.animationSettings.effect,\n                timingFunction: this.animationSettings.easing,\n                begin: () => {\n                    if (this.spinSettings.position === 'Center') {\n                        this.setSpinnerSize();\n                    }\n                },\n                end: () => {\n                    ele.classList.add('e-animate-end');\n                }\n            });\n        }\n        else if (this.spinSettings.position === 'Center') {\n            this.setSpinnerSize();\n        }\n    }\n    finishProgress() {\n        const clsList = this.element.classList;\n        const isVertical = clsList.contains('e-vertical');\n        clsList.add(PROGRESSACTIVE);\n        const count = 100;\n        for (let i = this.percent; i < count; i++) {\n            i += 10;\n            if (i > 100) {\n                i = 100;\n            }\n            if (this.enableProgress) {\n                this.getProgress().style[isVertical ? 'height' : 'width'] = (this.percent < 100) ? (i + '%') : '100%';\n            }\n        }\n        this.element.setAttribute('aria-valuenow', '0');\n        this.hideSpin();\n        const args = { step: this.step, currentDuration: this.progressTime, percent: 100 };\n        clearTimeout(this.interval);\n        this.trigger('end', args);\n        this.progressTime = this.percent = 0;\n    }\n    setSpinnerSize() {\n        const ele = this.element.getElementsByClassName(CONTENTCLS)[0];\n        const spinner = this.getSpinner();\n        spinner.style.width = Math.max(spinner.offsetWidth, ele.offsetWidth) + 'px';\n        spinner.style.height = Math.max(spinner.offsetHeight, ele.offsetHeight) + 'px';\n        ele.classList.add('e-cont-animate');\n    }\n    hideSpin() {\n        const cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        if (!(this.element.classList.contains(HIDESPINNER))) {\n            hideSpinner(this.element);\n        }\n        this.element.classList.remove(PROGRESSACTIVE);\n        if (this.animationSettings.effect !== 'None') {\n            cont.classList.remove('e-animate-end');\n        }\n        if (this.spinSettings.position === 'Center') {\n            const ele = this.getSpinner();\n            cont.classList.remove('e-cont-animate');\n            ele.style.width = 'auto';\n            ele.style.height = 'auto';\n        }\n    }\n    setIconSpan() {\n        const cont = this.element.getElementsByClassName(CONTENTCLS)[0];\n        const iconSpan = this.element.getElementsByClassName('e-btn-icon')[0];\n        if (cont.childNodes[0] && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n            cont.insertBefore(iconSpan, cont.childNodes[0]);\n        }\n        else {\n            cont.appendChild(iconSpan);\n        }\n    }\n    setAria() {\n        attributes(this.element, {\n            'aria-label': this.element.textContent + ' progress', 'aria-valuemin': '0', 'aria-valuemax': '100', 'aria-valuenow': '0'\n        });\n    }\n    wireEvents() {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n    }\n    unWireEvents() {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ProgressButtonModel} newProp - Specifies new properties\n     * @param  {ProgressButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const ele = this.element;\n        let isSpinning = false;\n        const clsList = this.element.querySelector('.e-spinner-pane').classList;\n        if (clsList.contains('e-spin-show')) {\n            isSpinning = true;\n        }\n        super.onPropertyChanged(newProp, oldProp);\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'content':\n                    this.setContent();\n                    this.createSpinner();\n                    if (isSpinning) {\n                        showSpinner(this.element);\n                        isSpinning = false;\n                    }\n                    if (this.enableProgress) {\n                        this.createProgress();\n                    }\n                    ele.setAttribute('aria-label', ele.textContent + ' progress');\n                    break;\n                case 'iconCss':\n                    if (!oldProp.iconCss) {\n                        this.setIconSpan();\n                    }\n                    break;\n                case 'iconPosition':\n                    this.setIconSpan();\n                    break;\n                case 'enableProgress':\n                    if (newProp.enableProgress) {\n                        this.createProgress();\n                    }\n                    else {\n                        remove(this.getProgress());\n                    }\n                    break;\n                case 'spinSettings':\n                    if (newProp.spinSettings.position) {\n                        ele.classList.remove('e-spin-' + oldProp.spinSettings.position.toLowerCase());\n                        this.setSpinPosition(this.getSpinner());\n                    }\n                    if (newProp.spinSettings.template || newProp.spinSettings.width) {\n                        ele.removeChild(this.getSpinner());\n                        this.createSpinner();\n                    }\n                    break;\n            }\n        }\n    }\n    /**\n     * Sets the focus to ProgressButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    focusIn() {\n        this.element.focus();\n    }\n};\n__decorate$3([\n    Property(false)\n], ProgressButton.prototype, \"enableProgress\", void 0);\n__decorate$3([\n    Property(2000)\n], ProgressButton.prototype, \"duration\", void 0);\n__decorate$3([\n    Property('Left')\n], ProgressButton.prototype, \"iconPosition\", void 0);\n__decorate$3([\n    Property('')\n], ProgressButton.prototype, \"iconCss\", void 0);\n__decorate$3([\n    Property(false)\n], ProgressButton.prototype, \"disabled\", void 0);\n__decorate$3([\n    Property(false)\n], ProgressButton.prototype, \"isPrimary\", void 0);\n__decorate$3([\n    Property('')\n], ProgressButton.prototype, \"cssClass\", void 0);\n__decorate$3([\n    Property('')\n], ProgressButton.prototype, \"content\", void 0);\n__decorate$3([\n    Property(false)\n], ProgressButton.prototype, \"isToggle\", void 0);\n__decorate$3([\n    Property(false)\n], ProgressButton.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$3([\n    Complex({}, SpinSettings)\n], ProgressButton.prototype, \"spinSettings\", void 0);\n__decorate$3([\n    Complex({}, AnimationSettings)\n], ProgressButton.prototype, \"animationSettings\", void 0);\n__decorate$3([\n    Event()\n], ProgressButton.prototype, \"created\", void 0);\n__decorate$3([\n    Event()\n], ProgressButton.prototype, \"begin\", void 0);\n__decorate$3([\n    Event()\n], ProgressButton.prototype, \"progress\", void 0);\n__decorate$3([\n    Event()\n], ProgressButton.prototype, \"end\", void 0);\n__decorate$3([\n    Event()\n], ProgressButton.prototype, \"fail\", void 0);\nProgressButton = __decorate$3([\n    NotifyPropertyChanges\n], ProgressButton);\n\n/**\n * ProgressButton modules\n */\n\n/**\n * SplitButton all module\n */\n\nexport { getModel, upDownKeyHandler, setBlankIconStyle, Item, DropDownButton, SplitButton, Deferred, createButtonGroup, SpinSettings, AnimationSettings, ProgressButton };\n"]},"metadata":{},"sourceType":"module"}