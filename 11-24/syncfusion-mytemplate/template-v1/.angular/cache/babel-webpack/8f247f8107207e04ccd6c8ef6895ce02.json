{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _createClass from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _classCallCheck from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; //class constant defination.\n\n\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n\nvar MaskPlaceholder = /*#__PURE__*/function (_ChildProperty) {\n  _inherits(MaskPlaceholder, _ChildProperty);\n\n  var _super = _createSuper(MaskPlaceholder);\n\n  function MaskPlaceholder() {\n    _classCallCheck(this, MaskPlaceholder);\n\n    return _super.apply(this, arguments);\n  }\n\n  return MaskPlaceholder;\n}(ChildProperty);\n\n__decorate([Property('day')], MaskPlaceholder.prototype, \"day\", void 0);\n\n__decorate([Property('month')], MaskPlaceholder.prototype, \"month\", void 0);\n\n__decorate([Property('year')], MaskPlaceholder.prototype, \"year\", void 0);\n\n__decorate([Property('hour')], MaskPlaceholder.prototype, \"hour\", void 0);\n\n__decorate([Property('minute')], MaskPlaceholder.prototype, \"minute\", void 0);\n\n__decorate([Property('second')], MaskPlaceholder.prototype, \"second\", void 0);\n\n__decorate([Property('day of the week')], MaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n/**\n *\n * @private\n */\n\n\nvar CalendarBase = /*#__PURE__*/function (_Component) {\n  _inherits(CalendarBase, _Component);\n\n  var _super2 = _createSuper(CalendarBase);\n\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function CalendarBase(options, element) {\n    var _this;\n\n    _classCallCheck(this, CalendarBase);\n\n    _this = _super2.call(this, options, element);\n    _this.effect = '';\n    _this.isPopupClicked = false;\n    _this.isDateSelected = true;\n    _this.isTodayClicked = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  _createClass(CalendarBase, [{\n    key: \"render\",\n    value: function render() {\n      this.rangeValidation(this.min, this.max);\n      this.calendarEleCopy = this.element.cloneNode(true);\n\n      if (this.calendarMode === 'Islamic') {\n        if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n          this.min = new Date(1944, 2, 18);\n        }\n\n        if (+this.max === +new Date(2099, 11, 31)) {\n          this.max = new Date(2069, 10, 16);\n        }\n      }\n\n      this.globalize = new Internationalization(this.locale);\n\n      if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n        this.setProperties({\n          firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n        }, true);\n      }\n\n      this.todayDisabled = false;\n      this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n\n      if (this.getModuleName() === 'calendar') {\n        this.element.classList.add(ROOT);\n\n        if (this.enableRtl) {\n          this.element.classList.add(RTL);\n        }\n\n        if (Browser.isDevice) {\n          this.element.classList.add(DEVICE);\n        }\n\n        attributes(this.element, {\n          'data-role': 'calendar'\n        });\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(ROOT);\n\n        if (this.enableRtl) {\n          this.calendarElement.classList.add(RTL);\n        }\n\n        if (Browser.isDevice) {\n          this.calendarElement.classList.add(DEVICE);\n        }\n\n        attributes(this.calendarElement, {\n          'role': 'calendar'\n        });\n      }\n\n      this.createHeader();\n      this.createContent();\n      this.wireEvents();\n    }\n  }, {\n    key: \"rangeValidation\",\n    value: function rangeValidation(min, max) {\n      if (isNullOrUndefined(min)) {\n        this.setProperties({\n          min: new Date(1900, 0, 1)\n        }, true);\n      }\n\n      if (isNullOrUndefined(max)) {\n        this.setProperties({\n          max: new Date(2099, 11, 31)\n        }, true);\n      }\n    }\n  }, {\n    key: \"getDefaultKeyConfig\",\n    value: function getDefaultKeyConfig() {\n      this.defaultKeyConfigs = {\n        controlUp: 'ctrl+38',\n        controlDown: 'ctrl+40',\n        moveDown: 'downarrow',\n        moveUp: 'uparrow',\n        moveLeft: 'leftarrow',\n        moveRight: 'rightarrow',\n        select: 'enter',\n        home: 'home',\n        end: 'end',\n        pageUp: 'pageup',\n        pageDown: 'pagedown',\n        shiftPageUp: 'shift+pageup',\n        shiftPageDown: 'shift+pagedown',\n        controlHome: 'ctrl+home',\n        controlEnd: 'ctrl+end',\n        altUpArrow: 'alt+uparrow',\n        spacebar: 'space',\n        altRightArrow: 'alt+rightarrow',\n        altLeftArrow: 'alt+leftarrow'\n      };\n      return this.defaultKeyConfigs;\n    }\n  }, {\n    key: \"validateDate\",\n    value: function validateDate(value) {\n      this.setProperties({\n        min: this.checkDateValue(new Date(this.checkValue(this.min)))\n      }, true);\n      this.setProperties({\n        max: this.checkDateValue(new Date(this.checkValue(this.max)))\n      }, true);\n      this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n\n      if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n        this.currentDate = new Date(this.checkValue(value));\n      }\n    }\n  }, {\n    key: \"setOverlayIndex\",\n    value: function setOverlayIndex(popupWrapper, popupElement, modal, isDevice) {\n      if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n        var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n        modal.style.zIndex = (index - 1).toString();\n        popupWrapper.style.zIndex = index.toString();\n      }\n    }\n  }, {\n    key: \"minMaxUpdate\",\n    value: function minMaxUpdate(value) {\n      if (!(+this.min <= +this.max)) {\n        this.setProperties({\n          min: this.min\n        }, true);\n        addClass([this.element], OVERLAY);\n      } else {\n        removeClass([this.element], OVERLAY);\n      }\n\n      this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n      this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n      if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n        this.currentDate = new Date(this.checkValue(value));\n      } else {\n        if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n          this.currentDate = new Date(this.checkValue(this.max));\n        } else {\n          if (+this.currentDate < +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createHeader\",\n    value: function createHeader() {\n      var ariaPrevAttrs = {\n        'aria-disabled': 'false',\n        'aria-label': 'previous month'\n      };\n      var ariaNextAttrs = {\n        'aria-disabled': 'false',\n        'aria-label': 'next month'\n      };\n      var ariaTitleAttrs = {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'title'\n      };\n      this.headerElement = this.createElement('div', {\n        className: HEADER\n      });\n      var iconContainer = this.createElement('div', {\n        className: ICONCONTAINER\n      });\n      this.previousIcon = this.createElement('button', {\n        className: '' + PREVICON,\n        attrs: {\n          type: 'button'\n        }\n      });\n      rippleEffect(this.previousIcon, {\n        duration: 400,\n        selector: '.e-prev',\n        isCenterRipple: true\n      });\n      attributes(this.previousIcon, ariaPrevAttrs);\n      this.nextIcon = this.createElement('button', {\n        className: '' + NEXTICON,\n        attrs: {\n          type: 'button'\n        }\n      });\n      rippleEffect(this.nextIcon, {\n        selector: '.e-next',\n        duration: 400,\n        isCenterRipple: true\n      });\n      attributes(this.nextIcon, ariaNextAttrs);\n      this.headerTitleElement = this.createElement('div', {\n        className: '' + LINK + ' ' + TITLE\n      });\n      attributes(this.headerTitleElement, ariaTitleAttrs);\n      this.headerElement.appendChild(this.headerTitleElement);\n      this.previousIcon.appendChild(this.createElement('span', {\n        className: '' + PREVSPAN + ' ' + ICON\n      }));\n      this.nextIcon.appendChild(this.createElement('span', {\n        className: '' + NEXTSPAN + ' ' + ICON\n      }));\n      iconContainer.appendChild(this.previousIcon);\n      iconContainer.appendChild(this.nextIcon);\n      this.headerElement.appendChild(iconContainer);\n\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.headerElement);\n      } else {\n        this.calendarElement.appendChild(this.headerElement);\n      }\n\n      this.adjustLongHeaderSize();\n    }\n  }, {\n    key: \"createContent\",\n    value: function createContent() {\n      this.contentElement = this.createElement('div', {\n        className: CONTENT\n      });\n      this.table = this.createElement('table', {\n        attrs: {\n          tabIndex: '0',\n          'role': 'grid',\n          'aria-activedescendant': ''\n        }\n      });\n\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.contentElement);\n      } else {\n        this.calendarElement.appendChild(this.contentElement);\n      }\n\n      this.contentElement.appendChild(this.table);\n      this.createContentHeader();\n      this.createContentBody();\n\n      if (this.showTodayButton) {\n        this.createContentFooter();\n      }\n    }\n  }, {\n    key: \"getCultureValues\",\n    value: function getCultureValues() {\n      var culShortNames = [];\n      var cldrObj;\n      var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrObj = getValue(dayFormat, getDefaultDateObject());\n      } else {\n        cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n      }\n\n      for (var _i = 0, _Object$keys = Object.keys(cldrObj); _i < _Object$keys.length; _i++) {\n        var obj = _Object$keys[_i];\n        culShortNames.push(getValue(obj, cldrObj));\n      }\n\n      return culShortNames;\n    }\n  }, {\n    key: \"toCapitalize\",\n    value: function toCapitalize(text) {\n      return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    }\n  }, {\n    key: \"createContentHeader\",\n    value: function createContentHeader() {\n      if (this.getModuleName() === 'calendar') {\n        if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n          detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n        }\n      } else {\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n          detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n        }\n      }\n\n      var daysCount = 6;\n      var html = '';\n\n      if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n        this.setProperties({\n          firstDayOfWeek: 0\n        }, true);\n      }\n\n      this.tableHeadElement = this.createElement('thead', {\n        className: WEEKHEADER\n      });\n\n      if (this.weekNumber) {\n        html += '<th class=\"e-week-number\"></th>';\n\n        if (this.getModuleName() === 'calendar') {\n          addClass([this.element], '' + WEEKNUMBER);\n        } else {\n          addClass([this.calendarElement], '' + WEEKNUMBER);\n        }\n      } // eslint-disable-next-line max-len\n\n\n      var shortNames = this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek);\n\n      for (var days = 0; days <= daysCount; days++) {\n        html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n      }\n\n      html = '<tr>' + html + '</tr>';\n      this.tableHeadElement.innerHTML = html;\n      this.table.appendChild(this.tableHeadElement);\n    }\n  }, {\n    key: \"createContentBody\",\n    value: function createContentBody() {\n      if (this.getModuleName() === 'calendar') {\n        if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n          detach(this.element.querySelectorAll('.e-content tbody')[0]);\n        }\n      } else {\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n          detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n        }\n      }\n\n      switch (this.start) {\n        case 'Year':\n          this.renderYears();\n          break;\n\n        case 'Decade':\n          this.renderDecades();\n          break;\n\n        default:\n          this.renderMonths();\n      }\n    }\n  }, {\n    key: \"updateFooter\",\n    value: function updateFooter() {\n      this.todayElement.textContent = this.l10.getConstant('today');\n      this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    }\n  }, {\n    key: \"createContentFooter\",\n    value: function createContentFooter() {\n      if (this.showTodayButton) {\n        var minimum = new Date(+this.min);\n        var maximum = new Date(+this.max);\n        var l10nLocale = {\n          today: 'Today'\n        };\n        this.globalize = new Internationalization(this.locale);\n        this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n        this.todayElement = this.createElement('button', {\n          attrs: {\n            role: 'button'\n          }\n        });\n        rippleEffect(this.todayElement);\n        this.updateFooter();\n        addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n\n        if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n          addClass([this.todayElement], DISABLED);\n        }\n\n        this.footer = this.createElement('div', {\n          className: FOOTER\n        });\n        this.footer.appendChild(this.todayElement);\n\n        if (this.getModuleName() === 'calendar') {\n          this.element.appendChild(this.footer);\n        }\n\n        if (this.getModuleName() === 'datepicker') {\n          this.calendarElement.appendChild(this.footer);\n        }\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.calendarElement.appendChild(this.footer);\n        }\n\n        if (!this.todayElement.classList.contains(DISABLED)) {\n          EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n        }\n      }\n    }\n  }, {\n    key: \"wireEvents\",\n    value: function wireEvents(id, ref, keyConfig, moduleName) {\n      EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n\n      if (this.getModuleName() === 'calendar') {\n        this.keyboardModule = new KeyboardEvents(this.element, {\n          eventName: 'keydown',\n          keyAction: this.keyActionHandle.bind(this),\n          keyConfigs: this.defaultKeyConfigs\n        });\n      } else {\n        this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n          eventName: 'keydown',\n          keyAction: this.keyActionHandle.bind(this),\n          keyConfigs: this.defaultKeyConfigs\n        });\n      }\n    }\n  }, {\n    key: \"dateWireEvents\",\n    value: function dateWireEvents(id, ref, keyConfig, moduleName) {\n      this.defaultKeyConfigs = this.getDefaultKeyConfig();\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n      this.serverModuleName = moduleName;\n    }\n  }, {\n    key: \"todayButtonClick\",\n    value: function todayButtonClick(e, value, isCustomDate) {\n      if (this.showTodayButton) {\n        if (this.currentView() === this.depth) {\n          this.effect = '';\n        } else {\n          this.effect = 'e-zoomin';\n        }\n\n        if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n        } else {\n          this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n        }\n      }\n    }\n  }, {\n    key: \"resetCalendar\",\n    value: function resetCalendar() {\n      this.calendarElement && detach(this.calendarElement);\n      this.tableBodyElement && detach(this.tableBodyElement);\n      this.table && detach(this.table);\n      this.tableHeadElement && detach(this.tableHeadElement);\n      this.nextIcon && detach(this.nextIcon);\n      this.previousIcon && detach(this.previousIcon);\n      this.footer && detach(this.footer);\n      this.todayElement = null;\n      this.renderDayCellArgs = null;\n      this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    }\n  }, {\n    key: \"keyActionHandle\",\n    value: function keyActionHandle(e, value, multiSelection) {\n      var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n      var selectedDate;\n\n      if (multiSelection) {\n        if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n          selectedDate = focusedDate;\n        } else {\n          selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n\n      var view = this.getViewNumber(this.currentView());\n      var depthValue = this.getViewNumber(this.depth);\n      var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n      this.effect = '';\n\n      switch (e.action) {\n        case 'moveLeft':\n          this.keyboardNavigate(-1, view, e, this.max, this.min);\n          e.preventDefault();\n          break;\n\n        case 'moveRight':\n          this.keyboardNavigate(1, view, e, this.max, this.min);\n          e.preventDefault();\n          break;\n\n        case 'moveUp':\n          if (view === 0) {\n            this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n          } else {\n            this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'moveDown':\n          if (view === 0) {\n            this.keyboardNavigate(7, view, e, this.max, this.min);\n          } else {\n            this.keyboardNavigate(4, view, e, this.max, this.min);\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'select':\n          if (e.target === this.todayElement) {\n            this.todayButtonClick(e, value);\n          } else {\n            var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n\n            if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n              if (levelRestrict) {\n                // eslint-disable-next-line radix\n                var d = new Date(parseInt('' + element.id, 0));\n                this.selectDate(e, d, element);\n              } else {\n                this.contentClick(null, --view, element, value);\n              }\n            }\n          }\n\n          break;\n\n        case 'controlUp':\n          this.title();\n          e.preventDefault();\n          break;\n\n        case 'controlDown':\n          if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n            this.contentClick(null, --view, focusedDate || selectedDate, value);\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'home':\n          this.currentDate = this.firstDay(this.currentDate);\n          detach(this.tableBodyElement);\n\n          if (view === 0) {\n            this.renderMonths(e);\n          } else if (view === 1) {\n            this.renderYears(e);\n          } else {\n            this.renderDecades(e);\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'end':\n          this.currentDate = this.lastDay(this.currentDate, view);\n          detach(this.tableBodyElement);\n\n          if (view === 0) {\n            this.renderMonths(e);\n          } else if (view === 1) {\n            this.renderYears(e);\n          } else {\n            this.renderDecades(e);\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'pageUp':\n          this.addMonths(this.currentDate, -1);\n          this.navigateTo('Month', this.currentDate);\n          e.preventDefault();\n          break;\n\n        case 'pageDown':\n          this.addMonths(this.currentDate, 1);\n          this.navigateTo('Month', this.currentDate);\n          e.preventDefault();\n          break;\n\n        case 'shiftPageUp':\n          this.addYears(this.currentDate, -1);\n          this.navigateTo('Month', this.currentDate);\n          e.preventDefault();\n          break;\n\n        case 'shiftPageDown':\n          this.addYears(this.currentDate, 1);\n          this.navigateTo('Month', this.currentDate);\n          e.preventDefault();\n          break;\n\n        case 'controlHome':\n          this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n          e.preventDefault();\n          break;\n\n        case 'controlEnd':\n          this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n          e.preventDefault();\n          break;\n      }\n\n      if (this.getModuleName() === 'calendar') {\n        this.table.focus();\n      }\n    }\n  }, {\n    key: \"keyboardNavigate\",\n    value: function keyboardNavigate(number, currentView, e, max, min) {\n      var date = new Date(this.checkValue(this.currentDate));\n\n      switch (currentView) {\n        case 2:\n          this.addYears(this.currentDate, number);\n\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderDecades(e);\n          } else {\n            this.currentDate = date;\n          }\n\n          break;\n\n        case 1:\n          this.addMonths(this.currentDate, number);\n\n          if (this.calendarMode === 'Gregorian') {\n            if (this.isMonthYearRange(this.currentDate)) {\n              detach(this.tableBodyElement);\n              this.renderYears(e);\n            } else {\n              this.currentDate = date;\n            }\n          } else {\n            if (this.isMonthYearRange(this.currentDate)) {\n              detach(this.tableBodyElement);\n              this.renderYears(e);\n            } else {\n              this.currentDate = date;\n            }\n          }\n\n          break;\n\n        case 0:\n          this.addDay(this.currentDate, number, e, max, min);\n\n          if (this.isMinMaxRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderMonths(e);\n          } else {\n            this.currentDate = date;\n          }\n\n          break;\n      }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"preRender\",\n    value: function preRender(value) {\n      var _this2 = this;\n\n      this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n      this.navigateNextHandler = this.navigateNext.bind(this);\n      this.defaultKeyConfigs = this.getDefaultKeyConfig();\n\n      this.navigateHandler = function (e) {\n        _this2.triggerNavigate(e);\n      };\n    }\n  }, {\n    key: \"minMaxDate\",\n    value: function minMaxDate(localDate) {\n      var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n      var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n      var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n\n      if (+currentDate === +minDate || +currentDate === +maxDate) {\n        if (+localDate < +this.min) {\n          localDate = new Date(+this.min);\n        }\n\n        if (+localDate > +this.max) {\n          localDate = new Date(+this.max);\n        }\n      }\n\n      return localDate;\n    }\n  }, {\n    key: \"renderMonths\",\n    value: function renderMonths(e, value, isCustomDate) {\n      var numCells = this.weekNumber ? 8 : 7;\n      var tdEles;\n\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n\n      this.createContentHeader();\n\n      if (this.calendarMode === 'Gregorian') {\n        this.renderTemplate(tdEles, numCells, MONTH, e, value);\n      } else {\n        this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n      }\n    }\n  }, {\n    key: \"renderDays\",\n    value: function renderDays(currentDate, value, multiSelection, values, isTodayDate) {\n      var tdEles = [];\n      var cellsCount = 42;\n      var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n      var localDate = new Date(this.checkValue(currentDate));\n      var minMaxDate;\n      var currentMonth = localDate.getMonth();\n      this.titleUpdate(currentDate, 'days');\n      var d = localDate;\n      localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n\n      while (localDate.getDay() !== this.firstDayOfWeek) {\n        this.setStartDate(localDate, -1 * dayMilliSeconds);\n      }\n\n      for (var day = 0; day < cellsCount; ++day) {\n        var weekEle = this.createElement('td', {\n          className: CELL\n        });\n        var weekAnchor = this.createElement('span');\n\n        if (day % 7 === 0 && this.weekNumber) {\n          // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n          var numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n          var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n          weekAnchor.textContent = '' + this.getWeek(finalDate);\n          weekEle.appendChild(weekAnchor);\n          addClass([weekEle], '' + WEEKNUMBER);\n          tdEles.push(weekEle);\n        }\n\n        minMaxDate = new Date(+localDate);\n        localDate = this.minMaxDate(localDate);\n        var dateFormatOptions = {\n          type: 'dateTime',\n          skeleton: 'full'\n        };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var tdEle = this.dayCell(localDate);\n        var title = this.globalize.formatDate(localDate, {\n          type: 'date',\n          skeleton: 'full'\n        });\n        var dayLink = this.createElement('span');\n        dayLink.textContent = this.globalize.formatDate(localDate, {\n          format: 'd',\n          type: 'date',\n          skeleton: 'yMd'\n        });\n        var disabled = this.min > localDate || this.max < localDate;\n\n        if (disabled) {\n          addClass([tdEle], DISABLED);\n          addClass([tdEle], OVERLAY);\n        } else {\n          dayLink.setAttribute('title', '' + title);\n        }\n\n        if (currentMonth !== localDate.getMonth()) {\n          addClass([tdEle], OTHERMONTH);\n        }\n\n        if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n          addClass([tdEle], WEEKEND);\n        }\n\n        tdEle.appendChild(dayLink);\n        this.renderDayCellArgs = {\n          date: localDate,\n          isDisabled: false,\n          element: tdEle,\n          isOutOfRange: disabled\n        };\n        var argument = this.renderDayCellArgs;\n        this.renderDayCellEvent(argument);\n\n        if (argument.isDisabled) {\n          var selectDate = new Date(this.checkValue(value));\n          var argsDate = new Date(this.checkValue(argument.date));\n\n          if (multiSelection) {\n            if (!isNullOrUndefined(values) && values.length > 0) {\n              for (var index = 0; index < values.length; index++) {\n                var localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                  type: 'date',\n                  skeleton: 'yMd'\n                }));\n                var tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                  type: 'date',\n                  skeleton: 'yMd'\n                }));\n\n                if (localDateString === tempDateString) {\n                  values.splice(index, 1);\n                  index = -1;\n                }\n              }\n            }\n          } else if (selectDate && +selectDate === +argsDate) {\n            this.setProperties({\n              value: null\n            }, true);\n          }\n        }\n\n        if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n          addClass([tdEle], DISABLED);\n          addClass([tdEle], OVERLAY);\n\n          if (+this.renderDayCellArgs.date === +this.todayDate) {\n            this.todayDisabled = true;\n          }\n        }\n\n        var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n        var disabledCls = tdEle.classList.contains(DISABLED);\n\n        if (!disabledCls) {\n          EventHandler.add(tdEle, 'click', this.clickHandler, this);\n        } // to set the value as null while setting the disabled date onProperty change.\n        // if (args.isDisabled && +this.value === +args.date) {\n        //     this.setProperties({ value: null }, true);\n        // }\n\n\n        if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n          for (var tempValue = 0; tempValue < values.length; tempValue++) {\n            var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n            var formatOptions = {\n              format: null,\n              type: 'date',\n              skeleton: 'short',\n              calendar: type\n            };\n\n            var _localDateString = this.globalize.formatDate(localDate, formatOptions);\n\n            var _tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n\n            if (_localDateString === _tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n              addClass([tdEle], SELECTED);\n            } else {\n              this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n          }\n\n          if (values.length <= 0) {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        } else if (!disabledCls && this.getDateVal(localDate, value)) {\n          addClass([tdEle], SELECTED);\n        }\n\n        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n\n        if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n          addClass([tdEle], TODAY);\n        }\n\n        tdEles.push(this.renderDayCellArgs.element);\n        localDate = new Date(+minMaxDate);\n        this.addDay(localDate, 1, null, this.max, this.min);\n      }\n\n      return tdEles;\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(otherMonth, disabled, localDate, tableElement, currentDate) {\n      if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      } else {\n        // eslint-disable-next-line radix\n        if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n          addClass([tableElement], FOCUSEDDATE);\n        } // eslint-disable-next-line radix\n\n\n        if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n          addClass([tableElement], FOCUSEDDATE);\n        }\n      }\n    }\n  }, {\n    key: \"renderYears\",\n    value: function renderYears(e, value) {\n      this.removeTableHeadElement();\n      var numCells = 4;\n      var tdEles = [];\n      var valueUtil = isNullOrUndefined(value);\n      var curDate = new Date(this.checkValue(this.currentDate));\n      var mon = curDate.getMonth();\n      var yr = curDate.getFullYear();\n      var localDate = curDate;\n      var curYrs = localDate.getFullYear();\n      var minYr = new Date(this.checkValue(this.min)).getFullYear();\n      var minMonth = new Date(this.checkValue(this.min)).getMonth();\n      var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n      var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n      localDate.setMonth(0);\n      this.titleUpdate(this.currentDate, 'months');\n      localDate.setDate(1);\n\n      for (var month = 0; month < 12; ++month) {\n        var tdEle = this.dayCell(localDate);\n        var dayLink = this.createElement('span');\n        var localMonth = value && value.getMonth() === localDate.getMonth();\n        var select$$1 = value && value.getFullYear() === yr && localMonth;\n        dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n          format: null,\n          type: 'dateTime',\n          skeleton: 'MMM'\n        }));\n\n        if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n          addClass([tdEle], DISABLED);\n        } else if (!valueUtil && select$$1) {\n          addClass([tdEle], SELECTED);\n        } else {\n          if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n            addClass([tdEle], FOCUSEDDATE);\n          }\n        }\n\n        localDate.setDate(1);\n        localDate.setMonth(localDate.getMonth() + 1);\n\n        if (!tdEle.classList.contains(DISABLED)) {\n          EventHandler.add(tdEle, 'click', this.clickHandler, this);\n        }\n\n        tdEle.appendChild(dayLink);\n        tdEles.push(tdEle);\n      }\n\n      this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    }\n  }, {\n    key: \"renderDecades\",\n    value: function renderDecades(e, value) {\n      this.removeTableHeadElement();\n      var numCells = 4;\n      var yearCell = 12;\n      var tdEles = [];\n      var localDate = new Date(this.checkValue(this.currentDate));\n      localDate.setMonth(0);\n      localDate.setDate(1);\n      var localYr = localDate.getFullYear();\n      var startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n      var endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n      var startFullYr = startYr.getFullYear();\n      var endFullYr = endYr.getFullYear();\n      var startHdrYr = this.globalize.formatDate(startYr, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n      var endHdrYr = this.globalize.formatDate(endYr, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n      this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n      var start = new Date(localYr - localYr % 10 - 1, 0, 1);\n      var startYear = start.getFullYear();\n\n      for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n        var year = startYear + rowIterator;\n        localDate.setFullYear(year);\n        var tdEle = this.dayCell(localDate);\n        attributes(tdEle, {\n          'role': 'gridcell'\n        });\n        var dayLink = this.createElement('span');\n        dayLink.textContent = this.globalize.formatDate(localDate, {\n          format: null,\n          type: 'dateTime',\n          skeleton: 'y'\n        });\n\n        if (year < startFullYr || year > endFullYr) {\n          addClass([tdEle], OTHERDECADE);\n\n          if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n            addClass([tdEle], SELECTED);\n          }\n\n          if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n            addClass([tdEle], DISABLED);\n          }\n        } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        } else {\n          if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n            addClass([tdEle], FOCUSEDDATE);\n          }\n        }\n\n        if (!tdEle.classList.contains(DISABLED)) {\n          EventHandler.add(tdEle, 'click', this.clickHandler, this);\n        }\n\n        tdEle.appendChild(dayLink);\n        tdEles.push(tdEle);\n      }\n\n      this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    }\n  }, {\n    key: \"dayCell\",\n    value: function dayCell(localDate) {\n      var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n      var dateFormatOptions = {\n        skeleton: 'full',\n        type: 'dateTime',\n        calendar: type\n      };\n      var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var value = date.valueOf();\n      var attrs = {\n        className: CELL,\n        attrs: {\n          'id': '' + getUniqueID('' + value),\n          'aria-selected': 'false',\n          'role': 'gridcell'\n        }\n      };\n      return this.createElement('td', attrs);\n    }\n  }, {\n    key: \"firstDay\",\n    value: function firstDay(date) {\n      var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n\n      if (collection.length) {\n        for (var i = 0; i < collection.length; i++) {\n          if (!collection[i].classList.contains(DISABLED)) {\n            // eslint-disable-next-line radix\n            date = new Date(parseInt(collection[i].id, 0));\n            break;\n          }\n        }\n      }\n\n      return date;\n    }\n  }, {\n    key: \"lastDay\",\n    value: function lastDay(date, view) {\n      var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\n      if (view !== 2) {\n        var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n\n        if (timeOffset) {\n          lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n        }\n\n        return this.findLastDay(lastDate);\n      } else {\n        return this.findLastDay(this.firstDay(lastDate));\n      }\n    }\n  }, {\n    key: \"checkDateValue\",\n    value: function checkDateValue(value) {\n      return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n    }\n  }, {\n    key: \"findLastDay\",\n    value: function findLastDay(date) {\n      var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n\n      if (collection.length) {\n        for (var i = collection.length - 1; i >= 0; i--) {\n          if (!collection[i].classList.contains(DISABLED)) {\n            // eslint-disable-next-line radix\n            date = new Date(parseInt(collection[i].id, 0));\n            break;\n          }\n        }\n      }\n\n      return date;\n    }\n  }, {\n    key: \"removeTableHeadElement\",\n    value: function removeTableHeadElement() {\n      if (this.getModuleName() === 'calendar') {\n        if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n          detach(this.tableHeadElement);\n        }\n      } else {\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n          detach(this.tableHeadElement);\n        }\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"renderTemplate\",\n    value: function renderTemplate(elements, count, classNm, e, value) {\n      var view = this.getViewNumber(this.currentView());\n      var trEle;\n      this.tableBodyElement = this.createElement('tbody');\n      this.table.appendChild(this.tableBodyElement);\n      removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n      addClass([this.contentElement, this.headerElement], [classNm]);\n      var weekNumCell = 41;\n      var numberCell = 35;\n      var otherMonthCell = 6;\n      var row = count;\n      var rowIterator = 0;\n\n      for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n        trEle = this.createElement('tr', {\n          attrs: {\n            'role': 'row'\n          }\n        });\n\n        for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n          if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n            addClass([elements[rowIterator].children[0]], [LINK]);\n            rippleEffect(elements[rowIterator].children[0], {\n              duration: 600,\n              isCenterRipple: true\n            });\n          }\n\n          trEle.appendChild(elements[rowIterator]);\n\n          if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n\n          if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n\n          if (this.weekNumber) {\n            if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n              addClass([trEle], OTHERMONTHROW);\n            }\n          } else {\n            if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n              addClass([trEle], OTHERMONTHROW);\n            }\n          }\n        }\n\n        row = row + count;\n        rowIterator = rowIterator + 0;\n        this.tableBodyElement.appendChild(trEle);\n      }\n\n      this.table.querySelector('tbody').className = this.effect;\n\n      if (this.calendarMode === 'Gregorian') {\n        this.iconHandler();\n      } else {\n        this.islamicModule.islamicIconHandler();\n      }\n\n      if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n        this.navigateHandler(e);\n      }\n\n      this.setAriaActiveDescendant();\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e, value) {\n      this.clickEventEmitter(e);\n      var eve = e.currentTarget;\n      var view = this.getViewNumber(this.currentView());\n\n      if (eve.classList.contains(OTHERMONTH)) {\n        this.contentClick(e, 0, null, value);\n      } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.contentClick(e, 1, null, value);\n      } else if (2 === view) {\n        this.contentClick(e, 1, null, value);\n      } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n        this.selectDate(e, this.getIdValue(e, null), null);\n      } else {\n        this.contentClick(e, 0, eve, value);\n      }\n\n      if (this.getModuleName() === 'calendar') {\n        this.table.focus();\n      }\n    } // Content click event handler required for extended components\n\n  }, {\n    key: \"clickEventEmitter\",\n    value: function clickEventEmitter(e) {\n      e.preventDefault();\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"contentClick\",\n    value: function contentClick(e, view, element, value) {\n      var currentView = this.getViewNumber(this.currentView());\n      var d = this.getIdValue(e, element);\n\n      switch (view) {\n        case 0:\n          if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            detach(this.tableBodyElement);\n            this.currentDate = d;\n            this.effect = ZOOMIN;\n            this.renderMonths(e);\n          } else {\n            if (this.calendarMode === 'Gregorian') {\n              this.currentDate.setMonth(d.getMonth());\n\n              if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                this.currentDate.setDate(0);\n              }\n\n              this.currentDate.setFullYear(d.getFullYear());\n            } else {\n              this.currentDate = d;\n            }\n\n            this.effect = ZOOMIN;\n            detach(this.tableBodyElement);\n            this.renderMonths(e);\n          }\n\n          break;\n\n        case 1:\n          if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.selectDate(e, d, null);\n          } else {\n            if (this.calendarMode === 'Gregorian') {\n              this.currentDate.setFullYear(d.getFullYear());\n            } else {\n              var islamicDate = this.islamicModule.getIslamicDate(d);\n              this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n            }\n\n            this.effect = ZOOMIN;\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          }\n\n      }\n    }\n  }, {\n    key: \"switchView\",\n    value: function switchView(view, e, multiSelection, isCustomDate) {\n      switch (view) {\n        case 0:\n          detach(this.tableBodyElement);\n          this.renderMonths(e, null, isCustomDate);\n\n          if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n          }\n\n          break;\n\n        case 1:\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n          break;\n\n        case 2:\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n      }\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'calendar';\n    }\n    /**\n     *\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"requiredModules\",\n    value: function requiredModules() {\n      var modules = [];\n\n      if (this) {\n        modules.push({\n          args: [this],\n          member: 'islamic'\n        });\n      }\n\n      return modules;\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['value'];\n      return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp, multiSelection, values) {\n      this.effect = '';\n\n      for (var _i2 = 0, _Object$keys2 = Object.keys(newProp); _i2 < _Object$keys2.length; _i2++) {\n        var prop = _Object$keys2[_i2];\n\n        switch (prop) {\n          case 'enableRtl':\n            if (newProp.enableRtl) {\n              if (this.getModuleName() === 'calendar') {\n                this.element.classList.add('e-rtl');\n              } else {\n                this.calendarElement.classList.add('e-rtl');\n              }\n            } else {\n              if (this.getModuleName() === 'calendar') {\n                this.element.classList.remove('e-rtl');\n              } else {\n                this.calendarElement.classList.remove('e-rtl');\n              }\n            }\n\n            break;\n\n          case 'dayHeaderFormat':\n            this.getCultureValues();\n\n            if (this.getModuleName() !== 'datepicker') {\n              this.createContentHeader();\n            } else if (this.calendarElement) {\n              this.createContentHeader();\n            }\n\n            this.adjustLongHeaderSize();\n            break;\n\n          case 'min':\n          case 'max':\n            this.rangeValidation(this.min, this.max);\n\n            if (prop === 'min') {\n              this.setProperties({\n                min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n              }, true);\n            } else {\n              this.setProperties({\n                max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n              }, true);\n            }\n\n            this.setProperties({\n              start: this.currentView()\n            }, true);\n\n            if (this.tableBodyElement) {\n              detach(this.tableBodyElement);\n            }\n\n            this.minMaxUpdate();\n\n            if (multiSelection) {\n              this.validateValues(multiSelection, values);\n            }\n\n            if (this.getModuleName() !== 'datepicker') {\n              this.createContentBody();\n            } else if (this.calendarElement) {\n              this.createContentBody();\n            }\n\n            if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            } else {\n              if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n                removeClass([this.todayElement], DISABLED);\n                detach(this.todayElement);\n                detach(this.footer);\n                this.todayElement = this.footer = null;\n                this.createContentFooter();\n              }\n            }\n\n            break;\n\n          case 'start':\n          case 'depth':\n          case 'weekNumber':\n          case 'firstDayOfWeek':\n          case 'weekRule':\n            this.checkView();\n\n            if (this.getModuleName() !== 'datepicker') {\n              this.createContentHeader();\n              this.createContentBody();\n            } else if (this.calendarElement) {\n              this.createContentHeader();\n              this.createContentBody();\n            }\n\n            break;\n\n          case 'locale':\n            this.globalize = new Internationalization(this.locale);\n\n            if (this.getModuleName() !== 'datepicker') {\n              this.createContentHeader();\n              this.createContentBody();\n            } else if (this.calendarElement) {\n              this.createContentHeader();\n              this.createContentBody();\n            }\n\n            this.l10.setLocale(this.locale);\n            this.updateFooter();\n            break;\n\n          case 'showTodayButton':\n            if (newProp.showTodayButton) {\n              this.createContentFooter();\n            } else {\n              if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                detach(this.todayElement);\n                detach(this.footer);\n                this.todayElement = this.footer = undefined;\n              }\n            }\n\n            this.setProperties({\n              showTodayButton: newProp.showTodayButton\n            }, true);\n            break;\n        }\n      }\n    }\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"validateValues\",\n    value: function validateValues(multiSelection, values) {\n      if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n        var copyValues = this.copyValues(values);\n\n        for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n          var tempValue = copyValues[skipIndex];\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var tempValueString = void 0;\n\n          if (this.calendarMode === 'Gregorian') {\n            tempValueString = this.globalize.formatDate(tempValue, {\n              type: 'date',\n              skeleton: 'yMd'\n            });\n          } else {\n            tempValueString = this.globalize.formatDate(tempValue, {\n              type: 'dateTime',\n              skeleton: 'full',\n              calendar: 'islamic'\n            });\n          }\n\n          var minFormatOption = {\n            type: 'date',\n            skeleton: 'yMd',\n            calendar: type\n          };\n          var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n          var minString = minStringValue;\n          var maxFormatOption = {\n            type: 'date',\n            skeleton: 'yMd',\n            calendar: type\n          };\n          var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n          var maxString = maxStringValue;\n\n          if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n            copyValues.splice(skipIndex, 1);\n            skipIndex = -1;\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, true);\n      }\n    }\n  }, {\n    key: \"setValueUpdate\",\n    value: function setValueUpdate() {\n      if (!isNullOrUndefined(this.tableBodyElement)) {\n        detach(this.tableBodyElement);\n        this.setProperties({\n          start: this.currentView()\n        }, true);\n        this.createContentBody();\n      }\n    }\n  }, {\n    key: \"copyValues\",\n    value: function copyValues(values) {\n      var copyValues = [];\n\n      if (!isNullOrUndefined(values) && values.length > 0) {\n        for (var index = 0; index < values.length; index++) {\n          copyValues.push(new Date(+values[index]));\n        }\n      }\n\n      return copyValues;\n    }\n  }, {\n    key: \"titleUpdate\",\n    value: function titleUpdate(date, view) {\n      var globalize = new Internationalization(this.locale);\n      var dayFormatOptions;\n      var monthFormatOptions;\n      var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n\n      if (this.calendarMode === 'Gregorian') {\n        dayFormatOptions = globalize.formatDate(date, {\n          type: 'dateTime',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n        monthFormatOptions = globalize.formatDate(date, {\n          format: null,\n          type: 'dateTime',\n          skeleton: 'y',\n          calendar: type\n        });\n      } else {\n        dayFormatOptions = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'MMMM y',\n          calendar: type\n        });\n        monthFormatOptions = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'y',\n          calendar: type\n        });\n      }\n\n      switch (view) {\n        case 'days':\n          this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n          break;\n\n        case 'months':\n          this.headerTitleElement.textContent = monthFormatOptions;\n      }\n    }\n  }, {\n    key: \"setActiveDescendant\",\n    value: function setActiveDescendant() {\n      var id;\n      var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n      var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n      var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n      var title;\n      var view = this.currentView();\n\n      if (view === 'Month') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'full',\n          calendar: type\n        });\n      } else if (view === 'Year') {\n        if (type !== 'islamic') {\n          title = this.globalize.formatDate(this.currentDate, {\n            type: 'date',\n            skeleton: 'yMMMM',\n            calendar: type\n          });\n        } else {\n          title = this.globalize.formatDate(this.currentDate, {\n            type: 'date',\n            skeleton: 'GyMMM',\n            calendar: type\n          });\n        }\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          format: null,\n          type: 'date',\n          skeleton: 'y',\n          calendar: type\n        });\n      }\n\n      if (selectedEle || focusedEle) {\n        if (!isNullOrUndefined(selectedEle)) {\n          selectedEle.setAttribute('aria-selected', 'true');\n        }\n\n        (focusedEle || selectedEle).setAttribute('aria-label', title);\n        id = (focusedEle || selectedEle).getAttribute('id');\n      }\n\n      return id;\n    }\n  }, {\n    key: \"iconHandler\",\n    value: function iconHandler() {\n      new Date(this.checkValue(this.currentDate)).setDate(1);\n\n      switch (this.currentView()) {\n        case 'Month':\n          this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n          this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n          break;\n\n        case 'Year':\n          this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n          this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n          break;\n\n        case 'Decade':\n          this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n          this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n      }\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.getModuleName() === 'calendar' && this.element) {\n        removeClass([this.element], [ROOT]);\n      } else {\n        if (this.calendarElement && this.element) {\n          removeClass([this.element], [ROOT]);\n        }\n      }\n\n      if (this.getModuleName() === 'calendar' && this.element) {\n        EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n\n        if (this.todayElement) {\n          EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n        }\n\n        this.previousIconHandler(true);\n        this.nextIconHandler(true);\n        this.keyboardModule.destroy();\n        this.element.removeAttribute('data-role');\n\n        if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n          this.element.setAttribute('tabindex', this.tabIndex);\n        } else {\n          this.element.removeAttribute('tabindex');\n        }\n      }\n\n      if (this.element) {\n        this.element.innerHTML = '';\n      }\n\n      _get(_getPrototypeOf(CalendarBase.prototype), \"destroy\", this).call(this);\n    }\n  }, {\n    key: \"title\",\n    value: function title(e) {\n      var currentView = this.getViewNumber(this.currentView());\n      this.effect = ZOOMIN;\n      this.switchView(++currentView, e);\n    }\n  }, {\n    key: \"getViewNumber\",\n    value: function getViewNumber(stringVal) {\n      if (stringVal === 'Month') {\n        return 0;\n      } else if (stringVal === 'Year') {\n        return 1;\n      } else {\n        return 2;\n      }\n    }\n  }, {\n    key: \"navigateTitle\",\n    value: function navigateTitle(e) {\n      e.preventDefault();\n      this.title(e);\n\n      if (this.getModuleName() === 'calendar') {\n        this.table.focus();\n      }\n    }\n  }, {\n    key: \"previous\",\n    value: function previous() {\n      this.effect = '';\n      var currentView = this.getViewNumber(this.currentView());\n\n      switch (this.currentView()) {\n        case 'Month':\n          this.addMonths(this.currentDate, -1);\n          this.switchView(currentView);\n          break;\n\n        case 'Year':\n          this.addYears(this.currentDate, -1);\n          this.switchView(currentView);\n          break;\n\n        case 'Decade':\n          this.addYears(this.currentDate, -10);\n          this.switchView(currentView);\n          break;\n      }\n    }\n  }, {\n    key: \"navigatePrevious\",\n    value: function navigatePrevious(e) {\n      e.preventDefault();\n\n      if (this.calendarMode === 'Gregorian') {\n        this.previous();\n      } else {\n        this.islamicModule.islamicPrevious();\n      }\n\n      this.triggerNavigate(e);\n\n      if (this.getModuleName() === 'calendar') {\n        this.table.focus();\n      }\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.effect = '';\n      var currentView = this.getViewNumber(this.currentView());\n\n      switch (this.currentView()) {\n        case 'Month':\n          this.addMonths(this.currentDate, 1);\n          this.switchView(currentView);\n          break;\n\n        case 'Year':\n          this.addYears(this.currentDate, 1);\n          this.switchView(currentView);\n          break;\n\n        case 'Decade':\n          this.addYears(this.currentDate, 10);\n          this.switchView(currentView);\n          break;\n      }\n    }\n  }, {\n    key: \"navigateNext\",\n    value: function navigateNext(eve) {\n      eve.preventDefault();\n\n      if (this.calendarMode === 'Gregorian') {\n        this.next();\n      } else {\n        this.islamicModule.islamicNext();\n      }\n\n      this.triggerNavigate(eve);\n\n      if (this.getModuleName() === 'calendar') {\n        this.table.focus();\n      }\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(view, date, isCustomDate) {\n      if (+date >= +this.min && +date <= +this.max) {\n        this.currentDate = date;\n      }\n\n      if (+date <= +this.min) {\n        this.currentDate = new Date(this.checkValue(this.min));\n      }\n\n      if (+date >= +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      }\n\n      if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n        if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n          view = this.depth;\n        }\n      }\n\n      this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"currentView\",\n    value: function currentView() {\n      if (this.contentElement.classList.contains(YEAR)) {\n        return 'Year';\n      } else if (this.contentElement.classList.contains(DECADE)) {\n        return 'Decade';\n      } else {\n        return 'Month';\n      }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  }, {\n    key: \"getDateVal\",\n    value: function getDateVal(date, value) {\n      return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"getCultureObjects\",\n    value: function getCultureObjects(ld, c) {\n      var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n      var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n      var mainVal = 'main.';\n\n      if (this.calendarMode === 'Gregorian') {\n        return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n      } else {\n        return getValue('main.' + '' + this.locale + islamicFormat, ld);\n      }\n    }\n  }, {\n    key: \"getWeek\",\n    value: function getWeek(d) {\n      var currentDate = new Date(this.checkValue(d)).valueOf();\n      var date = new Date(d.getFullYear(), 0, 1).valueOf();\n      return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n    }\n  }, {\n    key: \"setStartDate\",\n    value: function setStartDate(date, time) {\n      var tzOffset = date.getTimezoneOffset();\n      var d = new Date(date.getTime() + time);\n      var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n      date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    }\n  }, {\n    key: \"addMonths\",\n    value: function addMonths(date, i) {\n      if (this.calendarMode === 'Gregorian') {\n        var day = date.getDate();\n        date.setDate(1);\n        date.setMonth(date.getMonth() + i);\n        date.setDate(Math.min(day, this.getMaxDays(date)));\n      } else {\n        var islamicDate = this.islamicModule.getIslamicDate(date);\n        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n      }\n    }\n  }, {\n    key: \"addYears\",\n    value: function addYears(date, i) {\n      if (this.calendarMode === 'Gregorian') {\n        var day = date.getDate();\n        date.setDate(1);\n        date.setFullYear(date.getFullYear() + i);\n        date.setDate(Math.min(day, this.getMaxDays(date)));\n      } else {\n        var islamicDate = this.islamicModule.getIslamicDate(date);\n        this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n      }\n    }\n  }, {\n    key: \"getIdValue\",\n    value: function getIdValue(e, element) {\n      var eve;\n\n      if (e) {\n        eve = e.currentTarget;\n      } else {\n        eve = element;\n      }\n\n      var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full',\n        calendar: type\n      }; // eslint-disable-next-line radix\n\n      var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n      var date = this.globalize.parseDate(dateString, dateFormatOptions);\n      var value = date.valueOf() - date.valueOf() % 1000;\n      return new Date(value); //return this.globalize.parseDate(dateString, dateFormatOptions);\n    }\n  }, {\n    key: \"adjustLongHeaderSize\",\n    value: function adjustLongHeaderSize() {\n      removeClass([this.element], DAYHEADERLONG);\n\n      if (this.dayHeaderFormat === 'Wide') {\n        addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n      }\n    }\n  }, {\n    key: \"selectDate\",\n    value: function selectDate(e, date, node, multiSelection, values) {\n      var element = node || e.currentTarget;\n      this.isDateSelected = false;\n\n      if (this.currentView() === 'Decade') {\n        this.setDateDecade(this.currentDate, date.getFullYear());\n      } else if (this.currentView() === 'Year') {\n        this.setDateYear(this.currentDate, date);\n      } else {\n        if (multiSelection && !this.checkPresentDate(date, values)) {\n          var copyValues = this.copyValues(values);\n\n          if (!isNullOrUndefined(values) && copyValues.length > 0) {\n            copyValues.push(new Date(this.checkValue(date)));\n            this.setProperties({\n              values: copyValues\n            }, true);\n            this.setProperties({\n              value: values[values.length - 1]\n            }, true);\n          } else {\n            this.setProperties({\n              values: [new Date(this.checkValue(date))]\n            }, true);\n          }\n        } else {\n          this.setProperties({\n            value: new Date(this.checkValue(date))\n          }, true);\n        }\n\n        this.currentDate = new Date(this.checkValue(date));\n      }\n\n      var tableBodyElement = closest(element, '.' + ROOT);\n\n      if (isNullOrUndefined(tableBodyElement)) {\n        tableBodyElement = this.tableBodyElement;\n      }\n\n      if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n        removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n      }\n\n      if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n        removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n      }\n\n      if (multiSelection) {\n        var _copyValues = this.copyValues(values);\n\n        var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n\n        for (var index = 0; index < collection.length; index++) {\n          var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n          var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n\n          if (collection[index] === tempElement) {\n            removeClass([collection[index]], FOCUSEDDATE);\n          }\n\n          if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n            removeClass([collection[index]], SELECTED);\n          }\n        }\n\n        if (element.classList.contains(SELECTED)) {\n          removeClass([element], SELECTED);\n\n          for (var i = 0; i < _copyValues.length; i++) {\n            var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n            var formatOptions = {\n              format: null,\n              type: 'date',\n              skeleton: 'short',\n              calendar: type\n            };\n            var localDateString = this.globalize.formatDate(date, formatOptions);\n            var tempDateString = this.globalize.formatDate(_copyValues[i], formatOptions);\n\n            if (localDateString === tempDateString) {\n              var _index = _copyValues.indexOf(_copyValues[i]);\n\n              _copyValues.splice(_index, 1);\n\n              addClass([element], FOCUSEDDATE);\n            }\n          }\n\n          this.setProperties({\n            values: _copyValues\n          }, true);\n        } else {\n          addClass([element], SELECTED);\n        }\n      } else {\n        addClass([element], SELECTED);\n      }\n\n      this.isDateSelected = true;\n    }\n  }, {\n    key: \"checkPresentDate\",\n    value: function checkPresentDate(dates, values) {\n      var previousValue = false;\n\n      if (!isNullOrUndefined(values)) {\n        for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var localDateString = this.globalize.formatDate(dates, {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          });\n          var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          });\n\n          if (localDateString === tempDateString) {\n            previousValue = true;\n          }\n        }\n      }\n\n      return previousValue;\n    }\n  }, {\n    key: \"setAriaActiveDescendant\",\n    value: function setAriaActiveDescendant() {\n      attributes(this.table, {\n        'aria-activedescendant': '' + this.setActiveDescendant()\n      });\n    }\n  }, {\n    key: \"previousIconHandler\",\n    value: function previousIconHandler(disabled) {\n      if (disabled) {\n        EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n        addClass([this.previousIcon], '' + DISABLED);\n        addClass([this.previousIcon], '' + OVERLAY);\n        this.previousIcon.setAttribute('aria-disabled', 'true');\n      } else {\n        EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n        removeClass([this.previousIcon], '' + DISABLED);\n        removeClass([this.previousIcon], '' + OVERLAY);\n        this.previousIcon.setAttribute('aria-disabled', 'false');\n      }\n    }\n  }, {\n    key: \"renderDayCellEvent\",\n    value: function renderDayCellEvent(args) {\n      extend(this.renderDayCellArgs, {\n        name: 'renderDayCell'\n      });\n      this.trigger('renderDayCell', args);\n    }\n  }, {\n    key: \"navigatedEvent\",\n    value: function navigatedEvent(eve) {\n      extend(this.navigatedArgs, {\n        name: 'navigated',\n        event: eve\n      });\n      this.trigger('navigated', this.navigatedArgs);\n    }\n  }, {\n    key: \"triggerNavigate\",\n    value: function triggerNavigate(event) {\n      this.navigatedArgs = {\n        view: this.currentView(),\n        date: this.currentDate\n      };\n      this.navigatedEvent(event);\n    }\n  }, {\n    key: \"nextIconHandler\",\n    value: function nextIconHandler(disabled) {\n      if (disabled) {\n        EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n        addClass([this.nextIcon], DISABLED);\n        addClass([this.nextIcon], OVERLAY);\n        this.nextIcon.setAttribute('aria-disabled', 'true');\n      } else {\n        EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n        removeClass([this.nextIcon], DISABLED);\n        removeClass([this.nextIcon], OVERLAY);\n        this.nextIcon.setAttribute('aria-disabled', 'false');\n      }\n    }\n  }, {\n    key: \"compare\",\n    value: function compare(startDate, endDate, modifier) {\n      var start = endDate.getFullYear();\n      var end;\n      var result;\n      end = start;\n      result = 0;\n\n      if (modifier) {\n        start = start - start % modifier;\n        end = start - start % modifier + modifier - 1;\n      }\n\n      if (startDate.getFullYear() > end) {\n        result = 1;\n      } else if (startDate.getFullYear() < start) {\n        result = -1;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"isMinMaxRange\",\n    value: function isMinMaxRange(date) {\n      return +date >= +this.min && +date <= +this.max;\n    }\n  }, {\n    key: \"isMonthYearRange\",\n    value: function isMonthYearRange(date) {\n      if (this.calendarMode === 'Gregorian') {\n        return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n      } else {\n        var islamicDate = this.islamicModule.getIslamicDate(date);\n        return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n      }\n    }\n  }, {\n    key: \"compareYear\",\n    value: function compareYear(start, end) {\n      return this.compare(start, end, 0);\n    }\n  }, {\n    key: \"compareDecade\",\n    value: function compareDecade(start, end) {\n      return this.compare(start, end, 10);\n    }\n  }, {\n    key: \"shiftArray\",\n    value: function shiftArray(array, i) {\n      return array.slice(i).concat(array.slice(0, i));\n    }\n  }, {\n    key: \"addDay\",\n    value: function addDay(date, i, e, max, min) {\n      var column = i;\n      var value = new Date(+date);\n\n      if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n        while (this.findNextTD(new Date(+date), column, max, min)) {\n          column += i;\n        }\n\n        var rangeValue = new Date(value.setDate(value.getDate() + column));\n        column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n      }\n\n      date.setDate(date.getDate() + column);\n    }\n  }, {\n    key: \"findNextTD\",\n    value: function findNextTD(date, column, max, min) {\n      var value = new Date(date.setDate(date.getDate() + column));\n      var collection = [];\n      var isDisabled = false;\n\n      if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n        var tdEles;\n\n        if (this.calendarMode === 'Gregorian') {\n          tdEles = this.renderDays(value);\n        } else {\n          tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n\n        collection = tdEles.filter(function (element) {\n          return element.classList.contains(DISABLED);\n        });\n      } else {\n        collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n      }\n\n      if (+value <= +max && +value >= +min) {\n        if (collection.length) {\n          for (var i = 0; i < collection.length; i++) {\n            // eslint-disable-next-line radix\n            isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n\n            if (isDisabled) {\n              break;\n            }\n          }\n        }\n      }\n\n      return isDisabled;\n    }\n  }, {\n    key: \"getMaxDays\",\n    value: function getMaxDays(d) {\n      var date;\n      var tmpDate = new Date(this.checkValue(d));\n      date = 28;\n      var month = tmpDate.getMonth();\n\n      while (tmpDate.getMonth() === month) {\n        ++date;\n        tmpDate.setDate(date);\n      }\n\n      return date - 1;\n    }\n  }, {\n    key: \"setDateDecade\",\n    value: function setDateDecade(date, year) {\n      date.setFullYear(year);\n      this.setProperties({\n        value: new Date(this.checkValue(date))\n      }, true);\n    }\n  }, {\n    key: \"setDateYear\",\n    value: function setDateYear(date, value) {\n      date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n\n      if (value.getMonth() !== date.getMonth()) {\n        date.setDate(0);\n        this.currentDate = new Date(this.checkValue(value));\n      }\n\n      this.setProperties({\n        value: new Date(this.checkValue(date))\n      }, true);\n    }\n  }, {\n    key: \"compareMonth\",\n    value: function compareMonth(start, end) {\n      var result;\n\n      if (start.getFullYear() > end.getFullYear()) {\n        result = 1;\n      } else if (start.getFullYear() < end.getFullYear()) {\n        result = -1;\n      } else {\n        result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"checkValue\",\n    value: function checkValue(inValue) {\n      if (inValue instanceof Date) {\n        return inValue.toUTCString();\n      } else {\n        return '' + inValue;\n      }\n    }\n  }, {\n    key: \"checkView\",\n    value: function checkView() {\n      if (this.start !== 'Decade' && this.start !== 'Year') {\n        this.setProperties({\n          start: 'Month'\n        }, true);\n      }\n\n      if (this.depth !== 'Decade' && this.depth !== 'Year') {\n        this.setProperties({\n          depth: 'Month'\n        }, true);\n      }\n\n      if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n        this.setProperties({\n          depth: 'Month'\n        }, true);\n      }\n    }\n  }, {\n    key: \"getDate\",\n    value: function getDate(date, timezone) {\n      if (timezone) {\n        date = new Date(date.toLocaleString('en-US', {\n          timeZone: timezone\n        }));\n      }\n\n      return date;\n    }\n  }]);\n\n  return CalendarBase;\n}(Component);\n\n__decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n\n__decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n\n__decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n\n__decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n\n__decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n\n__decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n\n__decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n\n__decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n\n__decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n\n__decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n\n__decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n\nCalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\n\nvar Calendar = /*#__PURE__*/function (_CalendarBase) {\n  _inherits(Calendar, _CalendarBase);\n\n  var _super3 = _createSuper(Calendar);\n\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function Calendar(options, element) {\n    _classCallCheck(this, Calendar);\n\n    return _super3.call(this, options, element);\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  _createClass(Calendar, [{\n    key: \"render\",\n    value: function render() {\n      if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n        throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n      }\n\n      if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n        var tempValues = [];\n        var copyValues = [];\n\n        for (var limit = 0; limit < this.values.length; limit++) {\n          if (tempValues.indexOf(+this.values[limit]) === -1) {\n            tempValues.push(+this.values[limit]);\n            copyValues.push(this.values[limit]);\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, true);\n\n        for (var index = 0; index < this.values.length; index++) {\n          if (!this.checkDateValue(this.values[index])) {\n            if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n              var copyDate = new Date(this.checkValue(this.values[index]));\n              this.values.splice(index, 1);\n              this.values.splice(index, 0, copyDate);\n            } else {\n              this.values.splice(index, 1);\n            }\n          }\n        }\n\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n        this.previousValues = this.values.length;\n      }\n\n      this.validateDate();\n      this.minMaxUpdate();\n\n      if (this.getModuleName() === 'calendar') {\n        this.setEnable(this.enabled);\n        this.setClass(this.cssClass);\n      }\n\n      _get(_getPrototypeOf(Calendar.prototype), \"render\", this).call(this);\n\n      if (this.getModuleName() === 'calendar') {\n        var form = closest(this.element, 'form');\n\n        if (form) {\n          EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n        }\n\n        this.setTimeZone(this.serverTimezoneOffset);\n      }\n\n      this.renderComplete();\n    }\n  }, {\n    key: \"setEnable\",\n    value: function setEnable(enable) {\n      if (!enable) {\n        addClass([this.element], DISABLED);\n      } else {\n        removeClass([this.element], DISABLED);\n      }\n    }\n  }, {\n    key: \"setClass\",\n    value: function setClass(newCssClass, oldCssClass) {\n      if (!isNullOrUndefined(oldCssClass)) {\n        oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      if (!isNullOrUndefined(newCssClass)) {\n        newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n        removeClass([this.element], oldCssClass.split(' '));\n      }\n\n      if (!isNullOrUndefined(newCssClass)) {\n        addClass([this.element], newCssClass.split(' '));\n      }\n    }\n  }, {\n    key: \"isDayLightSaving\",\n    value: function isDayLightSaving() {\n      var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n      var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n      return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n    }\n  }, {\n    key: \"setTimeZone\",\n    value: function setTimeZone(offsetValue) {\n      if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n        var serverTimezoneDiff = offsetValue;\n        var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n        var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n        timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n        this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n      }\n    }\n  }, {\n    key: \"formResetHandler\",\n    value: function formResetHandler() {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  }, {\n    key: \"validateDate\",\n    value: function validateDate() {\n      if (typeof this.value === 'string') {\n        this.setProperties({\n          value: this.checkDateValue(new Date(this.checkValue(this.value)))\n        }, true); // persist the value property.\n      }\n\n      _get(_getPrototypeOf(Calendar.prototype), \"validateDate\", this).call(this, this.value);\n\n      if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n        this.currentDate = new Date(this.checkValue(this.value));\n      }\n\n      if (isNaN(+this.value)) {\n        this.setProperties({\n          value: null\n        }, true);\n      }\n    }\n  }, {\n    key: \"minMaxUpdate\",\n    value: function minMaxUpdate() {\n      if (this.getModuleName() === 'calendar') {\n        if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n          this.setProperties({\n            value: this.min\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        } else {\n          if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n            this.setProperties({\n              value: this.max\n            }, true);\n            this.changedArgs = {\n              value: this.value\n            };\n          }\n        }\n      }\n\n      if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n          _get(_getPrototypeOf(Calendar.prototype), \"minMaxUpdate\", this).call(this, this.min);\n        } else {\n          if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n            _get(_getPrototypeOf(Calendar.prototype), \"minMaxUpdate\", this).call(this, this.max);\n          }\n        }\n      } else {\n        _get(_getPrototypeOf(Calendar.prototype), \"minMaxUpdate\", this).call(this, this.value);\n      }\n    }\n  }, {\n    key: \"generateTodayVal\",\n    value: function generateTodayVal(value) {\n      var tempValue = new Date();\n\n      if (!isNullOrUndefined(this.timezone)) {\n        tempValue = _get(_getPrototypeOf(Calendar.prototype), \"getDate\", this).call(this, tempValue, this.timezone);\n      }\n\n      if (value && isNullOrUndefined(this.timezone)) {\n        tempValue.setHours(value.getHours());\n        tempValue.setMinutes(value.getMinutes());\n        tempValue.setSeconds(value.getSeconds());\n        tempValue.setMilliseconds(value.getMilliseconds());\n      } else {\n        tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n      }\n\n      return tempValue;\n    }\n  }, {\n    key: \"todayButtonClick\",\n    value: function todayButtonClick(e) {\n      if (this.showTodayButton) {\n        var tempValue = this.generateTodayVal(this.value);\n        this.setProperties({\n          value: tempValue\n        }, true);\n        this.isTodayClicked = true;\n        this.todayButtonEvent = e;\n\n        if (this.isMultiSelection) {\n          var copyValues = this.copyValues(this.values);\n\n          if (!_get(_getPrototypeOf(Calendar.prototype), \"checkPresentDate\", this).call(this, tempValue, this.values)) {\n            copyValues.push(tempValue);\n            this.setProperties({\n              values: copyValues\n            });\n          }\n        }\n\n        _get(_getPrototypeOf(Calendar.prototype), \"todayButtonClick\", this).call(this, e, new Date(+this.value));\n      }\n    }\n  }, {\n    key: \"keyActionHandle\",\n    value: function keyActionHandle(e) {\n      _get(_getPrototypeOf(Calendar.prototype), \"keyActionHandle\", this).call(this, e, this.value, this.isMultiSelection);\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      var _this3 = this;\n\n      this.changeHandler = function (e) {\n        _this3.triggerChange(e);\n      };\n\n      this.checkView();\n\n      _get(_getPrototypeOf(Calendar.prototype), \"preRender\", this).call(this, this.value);\n    }\n    /**\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"createContent\",\n    value: function createContent() {\n      this.previousDate = this.value;\n      this.previousDateTime = this.value;\n\n      _get(_getPrototypeOf(Calendar.prototype), \"createContent\", this).call(this);\n    }\n  }, {\n    key: \"minMaxDate\",\n    value: function minMaxDate(localDate) {\n      return _get(_getPrototypeOf(Calendar.prototype), \"minMaxDate\", this).call(this, localDate);\n    }\n  }, {\n    key: \"renderMonths\",\n    value: function renderMonths(e, value, isCustomDate) {\n      _get(_getPrototypeOf(Calendar.prototype), \"renderMonths\", this).call(this, e, this.value, isCustomDate);\n    }\n  }, {\n    key: \"renderDays\",\n    value: function renderDays(currentDate, value, isMultiSelect, values, isCustomDate) {\n      var tempDays = _get(_getPrototypeOf(Calendar.prototype), \"renderDays\", this).call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n\n      if (this.isMultiSelection) {\n        _get(_getPrototypeOf(Calendar.prototype), \"validateValues\", this).call(this, this.isMultiSelection, this.values);\n      }\n\n      return tempDays;\n    }\n  }, {\n    key: \"renderYears\",\n    value: function renderYears(e) {\n      if (this.calendarMode === 'Gregorian') {\n        _get(_getPrototypeOf(Calendar.prototype), \"renderYears\", this).call(this, e, this.value);\n      } else {\n        this.islamicModule.islamicRenderYears(e, this.value);\n      }\n    }\n  }, {\n    key: \"renderDecades\",\n    value: function renderDecades(e) {\n      if (this.calendarMode === 'Gregorian') {\n        _get(_getPrototypeOf(Calendar.prototype), \"renderDecades\", this).call(this, e, this.value);\n      } else {\n        this.islamicModule.islamicRenderDecade(e, this.value);\n      }\n    }\n  }, {\n    key: \"renderTemplate\",\n    value: function renderTemplate(elements, count, classNm, e) {\n      if (this.calendarMode === 'Gregorian') {\n        _get(_getPrototypeOf(Calendar.prototype), \"renderTemplate\", this).call(this, elements, count, classNm, e, this.value);\n      } else {\n        this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n      }\n\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var eve = e.currentTarget;\n      this.isPopupClicked = true;\n\n      if (eve.classList.contains(OTHERMONTH)) {\n        if (this.isMultiSelection) {\n          var copyValues = this.copyValues(this.values);\n          copyValues.push(this.getIdValue(e, null));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            value: this.getIdValue(e, null)\n          }, true);\n        }\n      }\n\n      var storeView = this.currentView();\n\n      _get(_getPrototypeOf(Calendar.prototype), \"clickHandler\", this).call(this, e, this.value);\n\n      if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n        this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n      }\n    }\n  }, {\n    key: \"switchView\",\n    value: function switchView(view, e, isMultiSelection, isCustomDate) {\n      _get(_getPrototypeOf(Calendar.prototype), \"switchView\", this).call(this, view, e, this.isMultiSelection, isCustomDate);\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      _get(_getPrototypeOf(Calendar.prototype), \"getModuleName\", this).call(this);\n\n      return 'calendar';\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      _get(_getPrototypeOf(Calendar.prototype), \"getPersistData\", this).call(this);\n\n      var keyEntity = ['value', 'values'];\n      return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      this.effect = '';\n      this.rangeValidation(this.min, this.max);\n\n      for (var _i3 = 0, _Object$keys3 = Object.keys(newProp); _i3 < _Object$keys3.length; _i3++) {\n        var prop = _Object$keys3[_i3];\n\n        switch (prop) {\n          case 'value':\n            if (this.isDateSelected) {\n              if (typeof newProp.value === 'string') {\n                this.setProperties({\n                  value: new Date(this.checkValue(newProp.value))\n                }, true);\n              } else {\n                newProp.value = new Date(this.checkValue(newProp.value));\n              }\n\n              if (isNaN(+this.value)) {\n                this.setProperties({\n                  value: oldProp.value\n                }, true);\n              }\n\n              this.update();\n            }\n\n            break;\n\n          case 'values':\n            if (this.isDateSelected) {\n              if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                this.setProperties({\n                  values: null\n                }, true);\n              } else {\n                var copyValues = this.copyValues(this.values);\n\n                for (var index = 0; index < copyValues.length; index++) {\n                  var tempDate = copyValues[index];\n\n                  if (this.checkDateValue(tempDate) && !_get(_getPrototypeOf(Calendar.prototype), \"checkPresentDate\", this).call(this, tempDate, copyValues)) {\n                    copyValues.push(tempDate);\n                  }\n                }\n\n                this.setProperties({\n                  values: copyValues\n                }, true);\n\n                if (this.values.length > 0) {\n                  this.setProperties({\n                    value: newProp.values[newProp.values.length - 1]\n                  }, true);\n                }\n              }\n\n              this.validateValues(this.isMultiSelection, this.values);\n              this.update();\n            }\n\n            break;\n\n          case 'isMultiSelection':\n            if (this.isDateSelected) {\n              this.setProperties({\n                isMultiSelection: newProp.isMultiSelection\n              }, true);\n              this.update();\n            }\n\n            break;\n\n          case 'enabled':\n            this.setEnable(this.enabled);\n            break;\n\n          case 'cssClass':\n            if (this.getModuleName() === 'calendar') {\n              this.setClass(newProp.cssClass, oldProp.cssClass);\n            }\n\n            break;\n\n          default:\n            _get(_getPrototypeOf(Calendar.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp, this.isMultiSelection, this.values);\n\n        }\n      }\n\n      this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Calendar.prototype), \"destroy\", this).call(this);\n\n      if (this.getModuleName() === 'calendar') {\n        var form = closest(this.element, 'form');\n\n        if (form) {\n          EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n        }\n      }\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(view, date, isCustomDate) {\n      this.minMaxUpdate();\n\n      _get(_getPrototypeOf(Calendar.prototype), \"navigateTo\", this).call(this, view, date, isCustomDate);\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n\n  }, {\n    key: \"currentView\",\n    value: function currentView() {\n      return _get(_getPrototypeOf(Calendar.prototype), \"currentView\", this).call(this);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"addDate\",\n    value: function addDate(dates) {\n      if (typeof dates !== 'string' && typeof dates !== 'number') {\n        var copyValues = this.copyValues(this.values);\n\n        if (typeof dates === 'object' && dates.length > 0) {\n          var tempDates = dates;\n\n          for (var i = 0; i < tempDates.length; i++) {\n            if (this.checkDateValue(tempDates[i]) && !_get(_getPrototypeOf(Calendar.prototype), \"checkPresentDate\", this).call(this, tempDates[i], copyValues)) {\n              if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                copyValues.push(tempDates[i]);\n              } else {\n                copyValues = [new Date(+tempDates[i])];\n              }\n            }\n          }\n        } else {\n          if (this.checkDateValue(dates) && !_get(_getPrototypeOf(Calendar.prototype), \"checkPresentDate\", this).call(this, dates, copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(dates);\n            } else {\n              copyValues = [new Date(+dates)];\n            }\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, true);\n\n        if (this.isMultiSelection) {\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        }\n\n        this.validateValues(this.isMultiSelection, copyValues);\n        this.update();\n        this.changedArgs = {\n          value: this.value,\n          values: this.values\n        };\n        this.changeHandler();\n      }\n    }\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"removeDate\",\n    value: function removeDate(dates) {\n      if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n        var copyValues = this.copyValues(this.values);\n\n        if (typeof dates === 'object' && dates.length > 0) {\n          var tempDates = dates;\n\n          for (var index = 0; index < tempDates.length; index++) {\n            for (var i = 0; i < copyValues.length; i++) {\n              if (+copyValues[i] === +tempDates[index]) {\n                copyValues.splice(i, 1);\n              }\n            }\n          }\n        } else {\n          for (var _i4 = 0; _i4 < copyValues.length; _i4++) {\n            if (+copyValues[_i4] === +dates) {\n              copyValues.splice(_i4, 1);\n            }\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, false);\n        this.update();\n\n        if (this.isMultiSelection) {\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        }\n\n        this.changedArgs = {\n          value: this.value,\n          values: this.values\n        };\n        this.changeHandler();\n      }\n    }\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: \"setTodayDate\",\n    value: function setTodayDate(date) {\n      var todayDate = new Date(+date);\n      this.setProperties({\n        value: todayDate\n      }, true);\n\n      _get(_getPrototypeOf(Calendar.prototype), \"todayButtonClick\", this).call(this, null, todayDate, true);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.validateDate();\n      this.minMaxUpdate();\n\n      _get(_getPrototypeOf(Calendar.prototype), \"setValueUpdate\", this).call(this);\n    }\n  }, {\n    key: \"selectDate\",\n    value: function selectDate(e, date, element) {\n      _get(_getPrototypeOf(Calendar.prototype), \"selectDate\", this).call(this, e, date, element, this.isMultiSelection, this.values);\n\n      if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler(e);\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"changeEvent\",\n    value: function changeEvent(e) {\n      if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n        if (this.isAngular && this.preventChange) {\n          this.preventChange = false;\n        } else {\n          this.trigger('change', this.changedArgs);\n        }\n\n        this.previousDate = new Date(+this.value);\n      }\n    }\n  }, {\n    key: \"triggerChange\",\n    value: function triggerChange(e) {\n      if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n        e = this.todayButtonEvent;\n        this.isTodayClicked = false;\n      }\n\n      this.changedArgs.event = e || null;\n      this.changedArgs.isInteracted = !isNullOrUndefined(e);\n\n      if (!isNullOrUndefined(this.value)) {\n        this.setProperties({\n          value: this.value\n        }, true);\n      }\n\n      if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null && !isNaN(+this.value))) {\n        this.changeEvent(e);\n      } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n        this.changeEvent(e);\n        this.previousValues = this.values.length;\n      }\n    }\n  }]);\n\n  return Calendar;\n}(CalendarBase);\n\n__decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n\n__decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n\n__decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n\n__decorate([Event()], Calendar.prototype, \"change\", void 0);\n\nCalendar = __decorate([NotifyPropertyChanges], Calendar);\n/**\n *\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\n\nvar OTHERMONTH$1 = 'e-other-month';\nvar YEAR$1 = 'e-year';\nvar MONTH$1 = 'e-month';\nvar DECADE$1 = 'e-decade';\nvar DISABLED$1 = 'e-disabled';\nvar OVERLAY$1 = 'e-overlay';\nvar WEEKEND$1 = 'e-weekend';\nvar WEEKNUMBER$1 = 'e-week-number';\nvar SELECTED$1 = 'e-selected';\nvar FOCUSEDDATE$1 = 'e-focused-date';\nvar OTHERMONTHROW$1 = 'e-month-hide';\nvar TODAY$1 = 'e-today';\nvar LINK$1 = 'e-day';\nvar CELL$1 = 'e-cell';\nvar dayMilliSeconds$1 = 86400000;\nvar minDecade = 2060;\nvar maxDecade = 2069;\n\nvar Islamic = /*#__PURE__*/function () {\n  function Islamic(instance) {\n    _classCallCheck(this, Islamic);\n\n    this.calendarInstance = instance;\n  }\n\n  _createClass(Islamic, [{\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'islamic';\n    }\n  }, {\n    key: \"islamicTitleUpdate\",\n    value: function islamicTitleUpdate(date, view) {\n      var globalize = new Internationalization(this.calendarInstance.locale);\n\n      switch (view) {\n        case 'days':\n          this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n            type: 'dateTime',\n            format: 'MMMMyyyy',\n            calendar: 'islamic'\n          });\n          break;\n\n        case 'months':\n          this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n            type: 'dateTime',\n            format: 'yyyy',\n            calendar: 'islamic'\n          });\n      }\n    }\n  }, {\n    key: \"islamicRenderDays\",\n    value: function islamicRenderDays(currentDate, value, multiSelection, values) {\n      var tdEles = [];\n      var cellsCount = 42;\n      var localDate = new Date(this.islamicInValue(currentDate));\n      var minMaxDate;\n      this.islamicTitleUpdate(currentDate, 'days');\n      var islamicDate = this.getIslamicDate(localDate);\n      var gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n      var currentMonth = islamicDate.month;\n      localDate = gregorianObject;\n\n      while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n        this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n      }\n\n      for (var day = 0; day < cellsCount; ++day) {\n        var weekEle = this.calendarInstance.createElement('td', {\n          className: CELL$1\n        });\n        var weekAnchor = this.calendarInstance.createElement('span');\n\n        if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n          weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n          weekEle.appendChild(weekAnchor);\n          addClass([weekEle], '' + WEEKNUMBER$1);\n          tdEles.push(weekEle);\n        }\n\n        minMaxDate = new Date(+localDate);\n        localDate = this.calendarInstance.minMaxDate(localDate);\n        var dateFormatOptions = {\n          type: 'dateTime',\n          skeleton: 'full',\n          calendar: 'islamic'\n        };\n        var date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var tdEle = this.islamicDayCell(localDate);\n        var title = this.calendarInstance.globalize.formatDate(localDate, {\n          type: 'date',\n          skeleton: 'full',\n          calendar: 'islamic'\n        });\n        var dayLink = this.calendarInstance.createElement('span');\n        dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n          type: 'date',\n          skeleton: 'd',\n          calendar: 'islamic'\n        });\n        var disabled = this.calendarInstance.min > localDate || this.calendarInstance.max < localDate;\n\n        if (disabled) {\n          addClass([tdEle], DISABLED$1);\n          addClass([tdEle], OVERLAY$1);\n        } else {\n          dayLink.setAttribute('title', '' + title);\n        }\n\n        var hijriMonthObject = this.getIslamicDate(localDate);\n\n        if (currentMonth !== hijriMonthObject.month) {\n          addClass([tdEle], OTHERMONTH$1);\n        }\n\n        if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n          addClass([tdEle], WEEKEND$1);\n        }\n\n        tdEle.appendChild(dayLink);\n        this.calendarInstance.renderDayCellArgs = {\n          date: localDate,\n          isDisabled: false,\n          element: tdEle,\n          isOutOfRange: disabled\n        };\n        var argument = this.calendarInstance.renderDayCellArgs;\n        this.calendarInstance.renderDayCellEvent(argument);\n\n        if (argument.isDisabled) {\n          if (this.calendarInstance.isMultiSelection) {\n            if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n              for (var index = 0; index < values.length; index++) {\n                var localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, {\n                  type: 'date',\n                  skeleton: 'yMd',\n                  calendar: 'islamic'\n                }));\n                var tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], {\n                  type: 'date',\n                  skeleton: 'yMd',\n                  calendar: 'islamic'\n                }));\n\n                if (localDateString === tempDateString) {\n                  this.calendarInstance.values.splice(index, 1);\n                  index = -1;\n                }\n              }\n            }\n          } else if (value && +value === +argument.date) {\n            this.calendarInstance.setProperties({\n              value: null\n            }, true);\n          }\n        }\n\n        if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n          addClass([tdEle], DISABLED$1);\n          addClass([tdEle], OVERLAY$1);\n\n          if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n            this.calendarInstance.todayDisabled = true;\n          }\n        }\n\n        var otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n        var disabledCls = tdEle.classList.contains(DISABLED$1);\n\n        if (!disabledCls) {\n          EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n        }\n\n        if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) && !otherMnthBool && !disabledCls) {\n          for (var tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n            var _localDateString2 = this.calendarInstance.globalize.formatDate(localDate, {\n              type: 'date',\n              skeleton: 'short',\n              calendar: 'islamic'\n            });\n\n            var _tempDateString2 = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], {\n              type: 'date',\n              skeleton: 'short',\n              calendar: 'islamic'\n            });\n\n            if (_localDateString2 === _tempDateString2 && this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n              addClass([tdEle], SELECTED$1);\n            } else {\n              this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n          }\n\n          if (this.calendarInstance.values.length <= 0) {\n            this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        } else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n          addClass([tdEle], SELECTED$1);\n        } else {\n          this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n\n        if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n          if (date.getFullYear() === new Date().getFullYear()) {\n            addClass([tdEle], TODAY$1);\n          }\n        }\n\n        localDate = new Date(+minMaxDate);\n        tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n        this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n      }\n\n      return tdEles;\n    }\n  }, {\n    key: \"islamicIconHandler\",\n    value: function islamicIconHandler() {\n      new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n      var date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n\n      switch (this.calendarInstance.currentView()) {\n        case 'Month':\n          {\n            var prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n            var nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n            this.calendarInstance.previousIconHandler(prevMonthCompare);\n            this.calendarInstance.nextIconHandler(nextMonthCompare);\n          }\n          break;\n\n        case 'Year':\n          {\n            var prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n            var nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n            this.calendarInstance.previousIconHandler(prevYearCompare);\n            this.calendarInstance.nextIconHandler(nextYearCompare);\n          }\n          break;\n\n        case 'Decade':\n          {\n            var prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n            var nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n            this.calendarInstance.previousIconHandler(prevDecadeCompare);\n            this.calendarInstance.nextIconHandler(nextDecadeCompare);\n          }\n      }\n    }\n  }, {\n    key: \"islamicNext\",\n    value: function islamicNext() {\n      this.calendarInstance.effect = '';\n      var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n      var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n      switch (this.calendarInstance.currentView()) {\n        case 'Year':\n          this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n          this.calendarInstance.switchView(view);\n          break;\n\n        case 'Month':\n          this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n          this.calendarInstance.switchView(view);\n          break;\n\n        case 'Decade':\n          this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n          this.calendarInstance.switchView(view);\n          break;\n      }\n    }\n  }, {\n    key: \"islamicPrevious\",\n    value: function islamicPrevious() {\n      var currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n      this.calendarInstance.effect = '';\n      var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n      switch (this.calendarInstance.currentView()) {\n        case 'Month':\n          this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n          this.calendarInstance.switchView(currentView);\n          break;\n\n        case 'Year':\n          this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n          this.calendarInstance.switchView(currentView);\n          break;\n\n        case 'Decade':\n          this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n          this.calendarInstance.switchView(currentView);\n          break;\n      }\n    }\n  }, {\n    key: \"islamicRenderYears\",\n    value: function islamicRenderYears(e, value) {\n      this.calendarInstance.removeTableHeadElement();\n      var numCells = 4;\n      var tdEles = [];\n      var valueUtil = isNullOrUndefined(value);\n      var curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n      var localDate = curDate;\n      var islamicDate = this.getIslamicDate(localDate);\n      var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n      localDate = gregorianObject;\n      var mon = islamicDate.month;\n      var yr = islamicDate.year;\n      var curYrs = islamicDate.year;\n      var minYr = this.getIslamicDate(this.calendarInstance.min).year;\n      var minMonth = this.getIslamicDate(this.calendarInstance.min).month;\n      var maxYr = this.getIslamicDate(this.calendarInstance.max).year;\n      var maxMonth = this.getIslamicDate(this.calendarInstance.max).month;\n      this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n\n      for (var month = 1; month <= 12; ++month) {\n        var _islamicDate = this.getIslamicDate(localDate);\n\n        var _gregorianObject = HijriParser.toGregorian(_islamicDate.year, month, 1);\n\n        localDate = _gregorianObject;\n        var tdEle = this.islamicDayCell(localDate);\n        var dayLink = this.calendarInstance.createElement('span');\n        var localMonth = value && this.getIslamicDate(value).month === this.getIslamicDate(localDate).month;\n        var select$$1 = value && this.getIslamicDate(value).year === yr && localMonth;\n        dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n          type: 'dateTime',\n          format: 'MMM',\n          calendar: 'islamic'\n        });\n\n        if (this.calendarInstance.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.calendarInstance.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n          addClass([tdEle], DISABLED$1);\n        } else if (!valueUtil && select$$1) {\n          addClass([tdEle], SELECTED$1);\n        } else {\n          if (this.getIslamicDate(localDate).month === mon && this.getIslamicDate(this.calendarInstance.currentDate).month === mon) {\n            addClass([tdEle], FOCUSEDDATE$1);\n          }\n        }\n\n        if (!tdEle.classList.contains(DISABLED$1)) {\n          EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n        }\n\n        tdEle.appendChild(dayLink);\n        tdEles.push(tdEle);\n      }\n\n      this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n    }\n  }, {\n    key: \"islamicRenderDecade\",\n    value: function islamicRenderDecade(e, value) {\n      this.calendarInstance.removeTableHeadElement();\n      var numCells = 4;\n      var yearCell = 12;\n      var tdEles = [];\n      var localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n      var islamicDate = this.getIslamicDate(localDate);\n      var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n      localDate = gregorianObject;\n      var localYr = localDate.getFullYear();\n      var startYr = new Date(this.islamicInValue(localYr - localYr % 10));\n      var endYr = new Date(this.islamicInValue(localYr - localYr % 10 + (10 - 1)));\n      var startFullYr = startYr.getFullYear();\n      var endFullYr = endYr.getFullYear();\n      var startHdrYr = this.calendarInstance.globalize.formatDate(startYr, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: 'islamic'\n      });\n      var endHdrYr = this.calendarInstance.globalize.formatDate(endYr, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: 'islamic'\n      });\n      this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n      var start = new Date(localYr - localYr % 10 - 2, 0, 1);\n      var startYear = start.getFullYear();\n\n      for (var rowCount = 1; rowCount <= yearCell; ++rowCount) {\n        var year = startYear + rowCount;\n        localDate.setFullYear(year);\n        localDate.setDate(1);\n        localDate.setMonth(0);\n\n        var _islamicDate2 = this.getIslamicDate(localDate);\n\n        var _gregorianObject2 = HijriParser.toGregorian(_islamicDate2.year, 1, 1);\n\n        localDate = _gregorianObject2;\n        var tdEle = this.islamicDayCell(localDate);\n        attributes(tdEle, {\n          'role': 'gridcell'\n        });\n        var dayLink = this.calendarInstance.createElement('span');\n        dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n          type: 'dateTime',\n          format: 'y',\n          calendar: 'islamic'\n        });\n\n        if (year < startFullYr || year > endFullYr) {\n          addClass([tdEle], OTHERMONTH$1);\n        } else if (year < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear() || year > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n          addClass([tdEle], DISABLED$1);\n        } else if (!isNullOrUndefined(value) && this.getIslamicDate(localDate).year === this.getIslamicDate(value).year) {\n          addClass([tdEle], SELECTED$1);\n        } else {\n          if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n            addClass([tdEle], FOCUSEDDATE$1);\n          }\n        }\n\n        if (!tdEle.classList.contains(DISABLED$1)) {\n          EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n        }\n\n        tdEle.appendChild(dayLink);\n        tdEles.push(tdEle);\n      }\n\n      this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n    }\n  }, {\n    key: \"islamicDayCell\",\n    value: function islamicDayCell(localDate) {\n      var dateFormatOptions = {\n        skeleton: 'full',\n        type: 'dateTime',\n        calendar: 'islamic'\n      };\n      var formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n      var date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n      var value = date.valueOf();\n      var attrs = {\n        className: CELL$1,\n        attrs: {\n          'id': '' + getUniqueID('' + value),\n          'aria-selected': 'false',\n          'role': 'gridcell'\n        }\n      };\n      return this.calendarInstance.createElement('td', attrs);\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"islamicRenderTemplate\",\n    value: function islamicRenderTemplate(elements, count, classNm, e, value) {\n      var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n      var trEle;\n      this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n      this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n      removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n      addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n      var weekNumCell = 41;\n      var numberCell = 35;\n      var otherMonthCell = 6;\n      var row = count;\n      var rowCount = 0;\n\n      for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n        trEle = this.calendarInstance.createElement('tr', {\n          attrs: {\n            'role': 'row'\n          }\n        });\n\n        for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n          if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n            addClass([elements[rowCount].children[0]], [LINK$1]);\n            rippleEffect(elements[rowCount].children[0], {\n              duration: 600,\n              isCenterRipple: true\n            });\n          }\n\n          trEle.appendChild(elements[rowCount]);\n\n          if (this.calendarInstance.weekNumber && rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n\n          if (!this.calendarInstance.weekNumber && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n\n          if (this.calendarInstance.weekNumber) {\n            if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n              addClass([trEle], OTHERMONTHROW$1);\n            }\n          } else {\n            if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n              addClass([trEle], OTHERMONTHROW$1);\n            }\n          }\n        }\n\n        row = row + count;\n        rowCount = rowCount + 0;\n        this.calendarInstance.tableBodyElement.appendChild(trEle);\n      }\n\n      this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n      this.islamicIconHandler();\n\n      if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()) || view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())) {\n        this.calendarInstance.navigateHandler(e);\n      }\n\n      this.calendarInstance.setAriaActiveDescendant();\n      this.calendarInstance.changedArgs = {\n        value: this.calendarInstance.value,\n        values: this.calendarInstance.values\n      };\n      this.calendarInstance.changeHandler();\n    }\n  }, {\n    key: \"islamicCompareMonth\",\n    value: function islamicCompareMonth(start, end) {\n      var hijriStart = this.getIslamicDate(start);\n      var hijriEnd = this.getIslamicDate(end);\n      var result;\n\n      if (hijriStart.year > hijriEnd.year) {\n        result = 1;\n      } else if (hijriStart.year < hijriEnd.year) {\n        result = -1;\n      } else {\n        result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"islamicCompare\",\n    value: function islamicCompare(startDate, endDate, modifier) {\n      var hijriStart = this.getIslamicDate(startDate);\n      var hijriEnd = this.getIslamicDate(endDate);\n      var start = hijriEnd.year;\n      var end;\n      var result;\n      end = start;\n      result = 0;\n\n      if (modifier) {\n        start = start - start % modifier;\n        end = start - start % modifier + modifier - 1;\n      }\n\n      if (hijriStart.year > end) {\n        result = 1;\n      } else if (this.calendarInstance.currentView() === 'Decade' && hijriStart.year < start && !(startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade)) {\n        result = -1;\n      } else if (hijriStart.year < start && this.calendarInstance.currentView() === 'Year') {\n        result = -1;\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getIslamicDate\",\n    value: function getIslamicDate(date) {\n      return HijriParser.getHijriDate(date);\n    }\n  }, {\n    key: \"toGregorian\",\n    value: function toGregorian(year, month, date) {\n      return HijriParser.toGregorian(year, month, date);\n    }\n  }, {\n    key: \"hijriCompareYear\",\n    value: function hijriCompareYear(start, end) {\n      return this.islamicCompare(start, end, 0);\n    }\n  }, {\n    key: \"hijriCompareDecade\",\n    value: function hijriCompareDecade(start, end) {\n      return this.islamicCompare(start, end, 10);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.calendarInstance = null;\n    }\n  }, {\n    key: \"islamicInValue\",\n    value: function islamicInValue(inValue) {\n      if (inValue instanceof Date) {\n        return inValue.toUTCString();\n      } else {\n        return '' + inValue;\n      }\n    }\n  }]);\n\n  return Islamic;\n}();\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\n\n\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT$1 = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar OFFSETVALUE = 4;\nvar SELECTED$2 = 'e-selected';\nvar FOCUSEDDATE$2 = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\n\nvar DatePicker = /*#__PURE__*/function (_Calendar) {\n  _inherits(DatePicker, _Calendar);\n\n  var _super4 = _createSuper(DatePicker);\n\n  /**\n   * Constructor for creating the widget.\n   *\n   * @param {DatePickerModel} options - Specifies the DatePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DatePicker(options, element) {\n    var _this4;\n\n    _classCallCheck(this, DatePicker);\n\n    _this4 = _super4.call(this, options, element);\n    _this4.previousElementValue = '';\n    _this4.isDateIconClicked = false;\n    _this4.isAltKeyPressed = false;\n    _this4.isInteracted = true;\n    _this4.invalidValueString = null;\n    _this4.checkPreviousValue = null;\n    _this4.maskedDateValue = '';\n    _this4.isAngular = false;\n    _this4.preventChange = false;\n    _this4.isIconClicked = false;\n    _this4.isDynamicValueChanged = false;\n    _this4.moduleName = _this4.getModuleName();\n    _this4.datepickerOptions = options;\n    return _this4;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  _createClass(DatePicker, [{\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n      this.bindEvents();\n      this.renderComplete();\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n  }, {\n    key: \"setTimeZone\",\n    value: function setTimeZone(offsetValue) {\n      if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n        var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n        var serverTimezoneDiff = offsetValue;\n        var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n        timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n        this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n        this.updateInput();\n      }\n    }\n  }, {\n    key: \"isDayLightSaving\",\n    value: function isDayLightSaving() {\n      var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n      var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n      return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n    }\n  }, {\n    key: \"setAllowEdit\",\n    value: function setAllowEdit() {\n      if (this.allowEdit) {\n        if (!this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n      } else {\n        attributes(this.inputElement, {\n          'readonly': ''\n        });\n      }\n\n      this.updateIconState();\n    }\n  }, {\n    key: \"updateIconState\",\n    value: function updateIconState() {\n      if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n        if (this.inputElement.value === '') {\n          removeClass([this.inputWrapper.container], [NONEDIT]);\n        } else {\n          addClass([this.inputWrapper.container], [NONEDIT]);\n        }\n      } else if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], [NONEDIT]);\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      if (this.enableMask) {\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n\n      this.checkInvalidValue(this.value);\n      this.createInput();\n      this.updateHtmlAttributeToWrapper();\n      this.setAllowEdit();\n      this.updateInput();\n\n      if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n      }\n\n      this.previousElementValue = this.inputElement.value;\n      this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n      this.inputElement.setAttribute('value', this.inputElement.value);\n      this.inputValueCopy = this.value;\n    }\n  }, {\n    key: \"createInput\",\n    value: function createInput() {\n      var ariaAttrs = {\n        'aria-live': 'assertive',\n        'aria-atomic': 'true',\n        'aria-haspopup': 'true',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_options',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false',\n        'aria-invalid': 'false'\n      };\n\n      if (this.getModuleName() === 'datepicker') {\n        var l10nLocale = {\n          placeholder: this.placeholder\n        };\n        this.globalize = new Internationalization(this.locale);\n        this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n        this.setProperties({\n          placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n        }, true);\n      }\n\n      var updatedCssClassValues = this.cssClass;\n\n      if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n        updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      var isBindClearAction = this.enableMask ? false : true;\n      this.inputWrapper = Input.createInput({\n        element: this.inputElement,\n        floatLabelType: this.floatLabelType,\n        bindClearAction: isBindClearAction,\n        properties: {\n          readonly: this.readonly,\n          placeholder: this.placeholder,\n          cssClass: updatedCssClassValues,\n          enabled: this.enabled,\n          enableRtl: this.enableRtl,\n          showClearButton: this.showClearButton\n        },\n        buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n      }, this.createElement);\n      this.setWidth(this.width);\n\n      if (this.inputElement.name !== '') {\n        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n      } else {\n        this.inputElement.setAttribute('name', '' + this.element.id);\n      }\n\n      attributes(this.inputElement, ariaAttrs);\n\n      if (!this.enabled) {\n        this.inputElement.setAttribute('aria-disabled', 'true');\n        this.inputElement.tabIndex = -1;\n      } else {\n        this.inputElement.setAttribute('aria-disabled', 'false');\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      }\n\n      Input.addAttributes({\n        'aria-label': 'select'\n      }, this.inputWrapper.buttons[0]);\n      addClass([this.inputWrapper.container], DATEWRAPPER);\n    }\n  }, {\n    key: \"updateInput\",\n    value: function updateInput() {\n      var isDynamic = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var formatOptions;\n\n      if (this.value && !this.isCalendar() && !isDynamic) {\n        this.disabledDates();\n      }\n\n      if (isNaN(+new Date(this.checkValue(this.value)))) {\n        this.setProperties({\n          value: null\n        }, true);\n      }\n\n      if (this.strictMode) {\n        //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n        _get(_getPrototypeOf(DatePicker.prototype), \"validateDate\", this).call(this);\n\n        this.minMaxUpdates();\n\n        _get(_getPrototypeOf(DatePicker.prototype), \"minMaxUpdate\", this).call(this);\n      }\n\n      if (!isNullOrUndefined(this.value)) {\n        var dateValue = this.value;\n        var dateString;\n        var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n\n        if (this.getModuleName() === 'datetimepicker') {\n          if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(this.value, {\n              format: tempFormat,\n              type: 'dateTime',\n              skeleton: 'yMd'\n            });\n          } else {\n            dateString = this.globalize.formatDate(this.value, {\n              format: tempFormat,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            });\n          }\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            formatOptions = {\n              format: this.formatString,\n              type: 'dateTime',\n              skeleton: 'yMd'\n            };\n          } else {\n            formatOptions = {\n              format: this.formatString,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            };\n          }\n\n          dateString = this.globalize.formatDate(this.value, formatOptions);\n        }\n\n        if (+dateValue <= +this.max && +dateValue >= +this.min) {\n          this.updateInputValue(dateString);\n        } else {\n          var value = +dateValue >= +this.max || !+this.value || !+this.value || +dateValue <= +this.min;\n\n          if (!this.strictMode && value) {\n            this.updateInputValue(dateString);\n          }\n        }\n      }\n\n      if (isNullOrUndefined(this.value) && this.strictMode) {\n        if (!this.enableMask) {\n          this.updateInputValue('');\n        } else {\n          this.updateInputValue(this.maskedDateValue);\n          this.notify(\"createMask\", {\n            module: \"MaskedDateTime\"\n          });\n        }\n      }\n\n      if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n        this.updateInputValue(this.invalidValueString);\n      }\n\n      this.changedArgs = {\n        value: this.value\n      };\n      this.errorClass();\n      this.updateIconState();\n    }\n  }, {\n    key: \"minMaxUpdates\",\n    value: function minMaxUpdates() {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n  }, {\n    key: \"checkStringValue\",\n    value: function checkStringValue(val) {\n      var returnDate = null;\n      var formatOptions = null;\n      var formatDateTime = null;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        var culture = new Internationalization(this.locale);\n\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime'\n          };\n        } else {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime',\n            calendar: 'islamic'\n          };\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      }\n\n      returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n\n      if (isNullOrUndefined(returnDate) && this.getModuleName() === 'datetimepicker') {\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n      }\n\n      return returnDate;\n    }\n  }, {\n    key: \"checkInvalidValue\",\n    value: function checkInvalidValue(value) {\n      if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n        var valueDate = null;\n        var valueString = value;\n\n        if (typeof value === 'number') {\n          valueString = value.toString();\n        }\n\n        var formatOptions = null;\n        var formatDateTime = null;\n\n        if (this.getModuleName() === 'datetimepicker') {\n          var culture = new Internationalization(this.locale);\n\n          if (this.calendarMode === 'Gregorian') {\n            formatOptions = {\n              format: this.dateTimeFormat,\n              type: 'dateTime',\n              skeleton: 'yMd'\n            };\n            formatDateTime = {\n              format: culture.getDatePattern({\n                skeleton: 'yMd'\n              }),\n              type: 'dateTime'\n            };\n          } else {\n            formatOptions = {\n              format: this.dateTimeFormat,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n            formatDateTime = {\n              format: culture.getDatePattern({\n                skeleton: 'yMd'\n              }),\n              type: 'dateTime',\n              calendar: 'islamic'\n            };\n          }\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            formatOptions = {\n              format: this.formatString,\n              type: 'dateTime',\n              skeleton: 'yMd'\n            };\n          } else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            formatOptions = {\n              format: this.formatString,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            };\n          }\n        }\n\n        var invalid = false;\n\n        if (typeof valueString !== 'string') {\n          valueString = null;\n          invalid = true;\n        } else {\n          if (typeof valueString === 'string') {\n            valueString = valueString.trim();\n          }\n\n          valueDate = this.checkStringValue(valueString);\n\n          if (!valueDate) {\n            var extISOString = null;\n            var basicISOString = null; // eslint-disable-next-line\n\n            extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n            basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n            if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n              invalid = true;\n            } else {\n              valueDate = new Date(valueString);\n            }\n          }\n        }\n\n        if (invalid) {\n          if (!this.strictMode) {\n            this.invalidValueString = valueString;\n          }\n\n          this.setProperties({\n            value: null\n          }, true);\n        } else {\n          this.setProperties({\n            value: valueDate\n          }, true);\n        }\n      }\n    }\n  }, {\n    key: \"bindInputEvent\",\n    value: function bindInputEvent() {\n      if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n        if (this.enableMask || this.formatString.indexOf('y') === -1) {\n          EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n        } else {\n          EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n        }\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n      EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n      EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n      EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n\n      if (this.enableMask) {\n        EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n      }\n\n      this.bindInputEvent(); // To prevent the twice triggering.\n\n      EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n      }\n\n      if (this.formElement) {\n        EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n      }\n\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.keyboardModules = new KeyboardEvents(this.inputElement, {\n        eventName: 'keydown',\n        keyAction: this.inputKeyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  }, {\n    key: \"keydownHandler\",\n    value: function keydownHandler(e) {\n      switch (e.code) {\n        case 'ArrowLeft':\n        case 'ArrowRight':\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'Home':\n        case 'End':\n        case 'Delete':\n          if (this.enableMask && !this.popupObj && !this.readonly) {\n            if (e.code !== 'Delete') {\n              e.preventDefault();\n            }\n\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: e\n            });\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"unBindEvents\",\n    value: function unBindEvents() {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n      EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n      if (this.enableMask) {\n        EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n      }\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n      }\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n      }\n    }\n  }, {\n    key: \"resetFormHandler\",\n    value: function resetFormHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (!this.inputElement.disabled) {\n        var value = this.inputElement.getAttribute('value');\n\n        if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n          value = '';\n          this.inputValueCopy = null;\n          this.inputElement.setAttribute('value', '');\n        }\n\n        this.setProperties({\n          value: this.inputValueCopy\n        }, true);\n        this.restoreValue();\n\n        if (this.inputElement) {\n          this.updateInputValue(value);\n          this.errorClass();\n        }\n      }\n    }\n  }, {\n    key: \"restoreValue\",\n    value: function restoreValue() {\n      this.currentDate = this.value ? this.value : new Date();\n      this.previousDate = this.value;\n      this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.globalize.formatDate(this.inputValueCopy, {\n        format: this.formatString,\n        type: 'dateTime',\n        skeleton: 'yMd'\n      });\n    }\n  }, {\n    key: \"inputChangeHandler\",\n    value: function inputChangeHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      e.stopPropagation();\n    }\n  }, {\n    key: \"bindClearEvent\",\n    value: function bindClearEvent() {\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n      }\n    }\n  }, {\n    key: \"resetHandler\",\n    value: function resetHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      e.preventDefault();\n      this.clear(e);\n    }\n  }, {\n    key: \"mouseUpHandler\",\n    value: function mouseUpHandler(e) {\n      if (this.enableMask) {\n        e.preventDefault();\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(event) {\n      this.setProperties({\n        value: null\n      }, true);\n\n      if (!this.enableMask) {\n        this.updateInputValue('');\n      }\n\n      var clearedArgs = {\n        event: event\n      };\n      this.trigger('cleared', clearedArgs);\n      this.invalidValueString = '';\n      this.updateInput();\n      this.popupUpdate();\n      this.changeEvent(event);\n\n      if (this.enableMask) {\n        this.notify(\"clearHandler\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }, {\n    key: \"preventEventBubbling\",\n    value: function preventEventBubbling(e) {\n      e.preventDefault(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n    }\n  }, {\n    key: \"updateInputValue\",\n    value: function updateInputValue(value) {\n      Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  }, {\n    key: \"dateIconHandler\",\n    value: function dateIconHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      this.isIconClicked = true;\n\n      if (Browser.isDevice) {\n        this.inputElement.setAttribute('readonly', '');\n        this.inputElement.blur();\n      }\n\n      e.preventDefault();\n\n      if (!this.readonly) {\n        if (this.isCalendar()) {\n          this.hide(e);\n        } else {\n          this.isDateIconClicked = true;\n          this.show(null, e);\n\n          if (this.getModuleName() === 'datetimepicker') {\n            this.inputElement.focus();\n          }\n\n          this.inputElement.focus();\n          addClass([this.inputWrapper.container], [INPUTFOCUS]);\n          addClass(this.inputWrapper.buttons, ACTIVE);\n        }\n      }\n\n      this.isIconClicked = false;\n    }\n  }, {\n    key: \"updateHtmlAttributeToWrapper\",\n    value: function updateHtmlAttributeToWrapper() {\n      if (!isNullOrUndefined(this.htmlAttributes)) {\n        for (var _i5 = 0, _Object$keys4 = Object.keys(this.htmlAttributes); _i5 < _Object$keys4.length; _i5++) {\n          var key = _Object$keys4[_i5];\n\n          if (!isNullOrUndefined(this.htmlAttributes[key])) {\n            if (containerAttr.indexOf(key) > -1) {\n              if (key === 'class') {\n                var updatedClassValues = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n                if (updatedClassValues !== '') {\n                  addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                }\n              } else if (key === 'style') {\n                var setStyle = this.inputWrapper.container.getAttribute(key);\n\n                if (!isNullOrUndefined(setStyle)) {\n                  if (setStyle.charAt(setStyle.length - 1) === ';') {\n                    setStyle = setStyle + this.htmlAttributes[key];\n                  } else {\n                    setStyle = setStyle + ';' + this.htmlAttributes[key];\n                  }\n                } else {\n                  setStyle = this.htmlAttributes[key];\n                }\n\n                this.inputWrapper.container.setAttribute(key, setStyle);\n              } else {\n                this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateHtmlAttributeToElement\",\n    value: function updateHtmlAttributeToElement() {\n      if (!isNullOrUndefined(this.htmlAttributes)) {\n        for (var _i6 = 0, _Object$keys5 = Object.keys(this.htmlAttributes); _i6 < _Object$keys5.length; _i6++) {\n          var key = _Object$keys5[_i6];\n\n          if (containerAttr.indexOf(key) < 0) {\n            this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateCssClass\",\n    value: function updateCssClass(newCssClass, oldCssClass) {\n      if (!isNullOrUndefined(oldCssClass)) {\n        oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      if (!isNullOrUndefined(newCssClass)) {\n        newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n\n      if (this.popupWrapper) {\n        Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n      }\n    }\n  }, {\n    key: \"calendarKeyActionHandle\",\n    value: function calendarKeyActionHandle(e) {\n      switch (e.action) {\n        case 'escape':\n          if (this.isCalendar()) {\n            this.hide(e);\n          } else {\n            this.inputWrapper.container.children[this.index].blur();\n          }\n\n          break;\n\n        case 'enter':\n          if (!this.isCalendar()) {\n            this.show(null, e);\n          } else {\n            if (+this.value !== +this.currentDate && !this.isCalendar()) {\n              this.inputWrapper.container.children[this.index].focus();\n            }\n          }\n\n          if (this.getModuleName() === 'datetimepicker') {\n            this.inputElement.focus();\n          }\n\n          break;\n\n        case 'tab':\n          this.hide(e);\n      }\n    }\n  }, {\n    key: \"inputFocusHandler\",\n    value: function inputFocusHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (this.enableMask && !this.inputElement.value && this.placeholder) {\n        if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n          this.updateInputValue(this.maskedDateValue);\n          this.inputElement.selectionStart = 0;\n          this.inputElement.selectionEnd = this.inputElement.value.length;\n        }\n      }\n\n      var focusArguments = {\n        model: this\n      };\n      this.isDateIconClicked = false;\n      this.trigger('focus', focusArguments);\n      this.updateIconState();\n\n      if (this.openOnFocus && !this.isIconClicked) {\n        this.show();\n      }\n    }\n  }, {\n    key: \"inputHandler\",\n    value: function inputHandler() {\n      this.isPopupClicked = false;\n\n      if (this.enableMask) {\n        this.notify(\"inputHandler\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }, {\n    key: \"inputBlurHandler\",\n    value: function inputBlurHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      this.strictModeUpdate();\n\n      if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n        this.invalidValueString = null;\n        this.updateInputValue('');\n      }\n\n      this.updateInput();\n      this.popupUpdate();\n      this.changeTrigger(e);\n\n      if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n        if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n          this.updateInputValue('');\n        }\n      }\n\n      this.errorClass();\n\n      if (this.isCalendar() && document.activeElement === this.inputElement) {\n        this.hide(e);\n      }\n\n      if (this.getModuleName() === 'datepicker') {\n        var blurArguments = {\n          model: this\n        };\n        this.trigger('blur', blurArguments);\n      }\n\n      if (this.isCalendar()) {\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n          eventName: 'keydown',\n          keyAction: this.calendarKeyActionHandle.bind(this),\n          keyConfigs: this.defaultKeyConfigs\n        });\n      }\n\n      this.isPopupClicked = false;\n    }\n  }, {\n    key: \"documentHandler\",\n    value: function documentHandler(e) {\n      if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) || this.popupObj.element && this.popupObj.element.contains(e.target)) && e.type !== 'touchstart') {\n        e.preventDefault();\n      }\n\n      var target = e.target;\n\n      if (!closest(target, '.e-datepicker.e-popup-wrapper') && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container) && !target.classList.contains('e-day')) {\n        this.hide(e);\n        this.focusOut();\n      } else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n        // Fix for close the popup when select the previously selected value.\n        if (target.classList.contains('e-day') && !isNullOrUndefined(e.target.parentElement) && e.target.parentElement.classList.contains('e-selected') && closest(target, '.e-content') && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n          this.hide(e);\n        } else if (closest(target, '.e-footer-container') && target.classList.contains('e-today') && target.classList.contains('e-btn') && +new Date(+this.value) === +_get(_getPrototypeOf(DatePicker.prototype), \"generateTodayVal\", this).call(this, this.value)) {\n          this.hide(e);\n        }\n      }\n    }\n  }, {\n    key: \"inputKeyActionHandle\",\n    value: function inputKeyActionHandle(e) {\n      var clickedView = this.currentView();\n\n      switch (e.action) {\n        case 'altUpArrow':\n          this.isAltKeyPressed = false;\n          this.hide(e);\n          this.inputElement.focus();\n          break;\n\n        case 'altDownArrow':\n          this.isAltKeyPressed = true;\n          this.strictModeUpdate();\n          this.updateInput();\n          this.changeTrigger(e);\n\n          if (this.getModuleName() === 'datepicker') {\n            this.show(null, e);\n          }\n\n          break;\n\n        case 'escape':\n          this.hide(e);\n          break;\n\n        case 'enter':\n          this.strictModeUpdate();\n          this.updateInput();\n          this.popupUpdate();\n          this.changeTrigger(e);\n          this.errorClass();\n\n          if (!this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n          }\n\n          if (this.isCalendar()) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n\n          break;\n\n        case 'tab':\n        case 'shiftTab':\n          var start = this.inputElement.selectionStart;\n          var end = this.inputElement.selectionEnd;\n\n          if (this.enableMask && !this.popupObj && !this.readonly) {\n            var length = this.inputElement.value.length;\n\n            if (start == 0 && end == length || end !== length && e.action == 'tab' || start !== 0 && e.action == 'shiftTab') {\n              e.preventDefault();\n            }\n\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: e\n            });\n            start = this.inputElement.selectionStart;\n            end = this.inputElement.selectionEnd;\n          }\n\n          this.strictModeUpdate();\n          this.updateInput();\n          this.popupUpdate();\n          this.changeTrigger(e);\n          this.errorClass();\n\n          if (this.enableMask) {\n            this.inputElement.selectionStart = start;\n            this.inputElement.selectionEnd = end;\n          }\n\n          this.hide(e);\n          break;\n\n        default:\n          this.defaultAction(e); // Fix for close the popup when select the previously selected value.\n\n          if (e.action === 'select' && clickedView === this.depth) {\n            this.hide(e);\n          }\n\n      }\n    }\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(e) {\n      this.previousDate = !isNullOrUndefined(this.value) && new Date(+this.value) || null;\n\n      if (this.isCalendar()) {\n        _get(_getPrototypeOf(DatePicker.prototype), \"keyActionHandle\", this).call(this, e);\n\n        if (this.isCalendar()) {\n          attributes(this.inputElement, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n          });\n        }\n      }\n    }\n  }, {\n    key: \"popupUpdate\",\n    value: function popupUpdate() {\n      if (isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || +this.value !== +this.previousDate) {\n        if (this.popupObj) {\n          if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n            removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n          }\n        }\n\n        if (!isNullOrUndefined(this.value)) {\n          if (+this.value >= +this.min && +this.value <= +this.max) {\n            var targetdate = new Date(this.checkValue(this.value));\n\n            _get(_getPrototypeOf(DatePicker.prototype), \"navigateTo\", this).call(this, 'Month', targetdate);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"strictModeUpdate\",\n    value: function strictModeUpdate() {\n      var format;\n      var formatOptions;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n      } else {\n        format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n      }\n\n      if (!isNullOrUndefined(format)) {\n        var len = format.split('M').length - 1;\n\n        if (len < 3) {\n          format = format.replace('MM', 'M');\n        }\n      }\n\n      var dateOptions;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          dateOptions = {\n            format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          dateOptions = {\n            format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: format,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: format,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        dateOptions = formatOptions;\n      }\n\n      var date;\n\n      if (typeof this.inputElement.value === 'string') {\n        this.inputElement.value = this.inputElement.value.trim();\n      }\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n          date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            formatOptions = {\n              type: 'dateTime',\n              skeleton: 'yMd'\n            };\n          } else {\n            formatOptions = {\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            };\n          }\n\n          date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n        }\n      } else {\n        date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n        date = !isNullOrUndefined(date) && isNaN(+date) ? null : date;\n\n        if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n          if ((this.isPopupClicked || !this.isPopupClicked && this.inputElement.value === this.previousElementValue) && this.formatString.indexOf('y') === -1) {\n            date.setFullYear(this.value.getFullYear());\n          }\n        }\n      } // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n\n\n      if (this.getModuleName() === 'datepicker' && this.value && !isNaN(+this.value) && date) {\n        date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n      }\n\n      if (this.strictMode && date) {\n        this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n\n        if (this.inputElement.value !== this.previousElementValue) {\n          this.setProperties({\n            value: date\n          }, true);\n        }\n      } else if (!this.strictMode) {\n        if (this.inputElement.value !== this.previousElementValue) {\n          this.setProperties({\n            value: date\n          }, true);\n        }\n      }\n\n      if (this.strictMode && !date && this.inputElement.value === '') {\n        this.setProperties({\n          value: null\n        }, true);\n      }\n\n      if (isNaN(+this.value)) {\n        this.setProperties({\n          value: null\n        }, true);\n      }\n\n      if (isNullOrUndefined(this.value)) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      }\n    }\n  }, {\n    key: \"createCalendar\",\n    value: function createCalendar() {\n      var _this5 = this;\n\n      this.popupWrapper = this.createElement('div', {\n        className: '' + ROOT$1 + ' ' + POPUPWRAPPER\n      });\n\n      if (!isNullOrUndefined(this.cssClass)) {\n        this.popupWrapper.className += ' ' + this.cssClass;\n      }\n\n      if (Browser.isDevice) {\n        this.modelHeader();\n        this.modal = this.createElement('div');\n        this.modal.className = '' + ROOT$1 + ' e-date-modal';\n        document.body.className += ' ' + OVERFLOW;\n        this.modal.style.display = 'block';\n        document.body.appendChild(this.modal);\n      } //this.calendarElement represent the Calendar object from the Calendar class.\n\n\n      this.calendarElement.querySelector('table tbody').className = '';\n      this.popupObj = new Popup(this.popupWrapper, {\n        content: this.calendarElement,\n        relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n        position: Browser.isDevice ? {\n          X: 'center',\n          Y: 'center'\n        } : {\n          X: 'left',\n          Y: 'bottom'\n        },\n        offsetY: OFFSETVALUE,\n        targetType: 'container',\n        enableRtl: this.enableRtl,\n        zIndex: this.zIndex,\n        collision: Browser.isDevice ? {\n          X: 'fit',\n          Y: 'fit'\n        } : {\n          X: 'flip',\n          Y: 'flip'\n        },\n        open: function open() {\n          if (_this5.getModuleName() !== 'datetimepicker') {\n            if (document.activeElement !== _this5.inputElement) {\n              _this5.defaultKeyConfigs = extend(_this5.defaultKeyConfigs, _this5.keyConfigs);\n\n              _this5.calendarElement.children[1].firstElementChild.focus();\n\n              _this5.calendarKeyboardModules = new KeyboardEvents(_this5.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: _this5.calendarKeyActionHandle.bind(_this5),\n                keyConfigs: _this5.defaultKeyConfigs\n              });\n              _this5.calendarKeyboardModules = new KeyboardEvents(_this5.inputWrapper.container.children[_this5.index], {\n                eventName: 'keydown',\n                keyAction: _this5.calendarKeyActionHandle.bind(_this5),\n                keyConfigs: _this5.defaultKeyConfigs\n              });\n            }\n          }\n        },\n        close: function close() {\n          if (_this5.isDateIconClicked) {\n            _this5.inputWrapper.container.children[_this5.index].focus();\n          }\n\n          if (_this5.value) {\n            _this5.disabledDates();\n          }\n\n          if (_this5.popupObj) {\n            _this5.popupObj.destroy();\n          }\n\n          _this5.resetCalendar();\n\n          detach(_this5.popupWrapper);\n          _this5.popupObj = _this5.popupWrapper = null;\n          _this5.preventArgs = null;\n          _this5.calendarKeyboardModules = null;\n\n          _this5.setAriaAttributes();\n        },\n        targetExitViewport: function targetExitViewport() {\n          if (!Browser.isDevice) {\n            _this5.hide();\n          }\n        }\n      });\n      this.popupObj.element.className += ' ' + this.cssClass;\n      this.setAriaAttributes();\n    }\n  }, {\n    key: \"setAriaDisabled\",\n    value: function setAriaDisabled() {\n      if (!this.enabled) {\n        this.inputElement.setAttribute('aria-disabled', 'true');\n        this.inputElement.tabIndex = -1;\n      } else {\n        this.inputElement.setAttribute('aria-disabled', 'false');\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      }\n    }\n  }, {\n    key: \"modelHeader\",\n    value: function modelHeader() {\n      var dateOptions;\n      var modelHeader = this.createElement('div', {\n        className: 'e-model-header'\n      });\n      var yearHeading = this.createElement('h1', {\n        className: 'e-model-year'\n      });\n      var h2 = this.createElement('div');\n      var daySpan = this.createElement('span', {\n        className: 'e-model-day'\n      });\n      var monthSpan = this.createElement('span', {\n        className: 'e-model-month'\n      });\n\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: 'y',\n          skeleton: 'dateTime'\n        };\n      } else {\n        dateOptions = {\n          format: 'y',\n          skeleton: 'dateTime',\n          calendar: 'islamic'\n        };\n      }\n\n      yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: 'E',\n          skeleton: 'dateTime'\n        };\n      } else {\n        dateOptions = {\n          format: 'E',\n          skeleton: 'dateTime',\n          calendar: 'islamic'\n        };\n      }\n\n      daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: 'MMM d',\n          skeleton: 'dateTime'\n        };\n      } else {\n        dateOptions = {\n          format: 'MMM d',\n          skeleton: 'dateTime',\n          calendar: 'islamic'\n        };\n      }\n\n      monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n      modelHeader.appendChild(yearHeading);\n      h2.appendChild(daySpan);\n      h2.appendChild(monthSpan);\n      modelHeader.appendChild(h2);\n      this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    }\n  }, {\n    key: \"changeTrigger\",\n    value: function changeTrigger(event) {\n      if (this.inputElement.value !== this.previousElementValue) {\n        if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n          if (this.isDynamicValueChanged && this.isCalendar()) {\n            this.popupUpdate();\n          }\n\n          this.changedArgs.value = this.value;\n          this.changedArgs.event = event || null;\n          this.changedArgs.element = this.element;\n          this.changedArgs.isInteracted = !isNullOrUndefined(event);\n\n          if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n          } else {\n            this.trigger('change', this.changedArgs);\n          }\n\n          this.previousElementValue = this.inputElement.value;\n          this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n          this.isInteracted = true;\n        }\n      }\n    }\n  }, {\n    key: \"navigatedEvent\",\n    value: function navigatedEvent() {\n      this.trigger('navigated', this.navigatedArgs);\n    }\n  }, {\n    key: \"changeEvent\",\n    value: function changeEvent(event) {\n      if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n        this.selectCalendar(event);\n        this.changedArgs.event = event ? event : null;\n        this.changedArgs.element = this.element;\n        this.changedArgs.isInteracted = this.isInteracted;\n\n        if (!this.isDynamicValueChanged) {\n          this.trigger('change', this.changedArgs);\n        }\n\n        this.previousDate = this.value && new Date(+this.value);\n\n        if (!this.isDynamicValueChanged) {\n          this.hide(event);\n        }\n\n        this.previousElementValue = this.inputElement.value;\n        this.errorClass();\n      }\n    }\n  }, {\n    key: \"requiredModules\",\n    value: function requiredModules() {\n      var modules = [];\n\n      if (this) {\n        modules.push({\n          args: [this],\n          member: 'islamic'\n        });\n      }\n\n      if (this.enableMask) {\n        modules.push({\n          args: [this],\n          member: 'MaskedDateTime'\n        });\n      }\n\n      return modules;\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"selectCalendar\",\n    value: function selectCalendar(e) {\n      var date;\n      var tempFormat;\n      var formatOptions;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n      } else {\n        tempFormat = this.formatString;\n      }\n\n      if (this.value) {\n        if (this.getModuleName() === 'datetimepicker') {\n          if (this.calendarMode === 'Gregorian') {\n            formatOptions = {\n              format: tempFormat,\n              type: 'dateTime',\n              skeleton: 'yMd'\n            };\n          } else {\n            formatOptions = {\n              format: tempFormat,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            };\n          }\n\n          date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            formatOptions = {\n              format: this.formatString,\n              type: 'dateTime',\n              skeleton: 'yMd'\n            };\n          } else {\n            formatOptions = {\n              format: this.formatString,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: 'islamic'\n            };\n          }\n\n          date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n        }\n\n        if (this.enableMask) {\n          this.notify(\"createMask\", {\n            module: \"MaskedDateTime\"\n          });\n        }\n      }\n\n      if (!isNullOrUndefined(date)) {\n        this.updateInputValue(date);\n\n        if (this.enableMask) {\n          this.notify(\"setMaskSelection\", {\n            module: \"MaskedDateTime\"\n          });\n        }\n      }\n    }\n  }, {\n    key: \"isCalendar\",\n    value: function isCalendar() {\n      if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      if (typeof width === 'number') {\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n      } else if (typeof width === 'string') {\n        this.inputWrapper.container.style.width = width.match(/px|%|em/) ? this.width : formatUnit(this.width);\n      } else {\n        this.inputWrapper.container.style.width = '100%';\n      }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n    /**\n     * Shows the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"show\",\n    value: function show(type, e) {\n      var _this6 = this;\n\n      if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n        return;\n      } else {\n        var prevent = true;\n        var outOfRange;\n\n        if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n          outOfRange = new Date(this.checkValue(this.value));\n          this.setProperties({\n            'value': null\n          }, true);\n        } else {\n          outOfRange = this.value || null;\n        }\n\n        if (!this.isCalendar()) {\n          _get(_getPrototypeOf(DatePicker.prototype), \"render\", this).call(this);\n\n          this.setProperties({\n            'value': outOfRange || null\n          }, true);\n          this.previousDate = outOfRange;\n          this.createCalendar();\n        }\n\n        if (Browser.isDevice) {\n          this.mobilePopupWrapper = this.createElement('div', {\n            className: 'e-datepick-mob-popup-wrap'\n          });\n          document.body.appendChild(this.mobilePopupWrapper);\n        }\n\n        this.preventArgs = {\n          preventDefault: function preventDefault() {\n            prevent = false;\n          },\n          popup: this.popupObj,\n          event: e || null,\n          cancel: false,\n          appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n        };\n        var eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n          _this6.preventArgs = eventArgs;\n\n          if (prevent && !_this6.preventArgs.cancel) {\n            addClass(_this6.inputWrapper.buttons, ACTIVE);\n\n            _this6.preventArgs.appendTo.appendChild(_this6.popupWrapper);\n\n            _this6.popupObj.refreshPosition(_this6.inputElement);\n\n            var openAnimation = {\n              name: 'FadeIn',\n              duration: Browser.isDevice ? 0 : OPENDURATION\n            };\n\n            if (_this6.zIndex === 1000) {\n              _this6.popupObj.show(new Animation(openAnimation), _this6.element);\n            } else {\n              _this6.popupObj.show(new Animation(openAnimation), null);\n            } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n            _get(_getPrototypeOf(DatePicker.prototype), \"setOverlayIndex\", _this6).call(_this6, _this6.mobilePopupWrapper, _this6.popupObj.element, _this6.modal, Browser.isDevice);\n\n            _this6.setAriaAttributes();\n          } else {\n            _this6.popupObj.destroy();\n\n            _this6.popupWrapper = _this6.popupObj = null;\n          }\n\n          if (!isNullOrUndefined(_this6.inputElement) && _this6.inputElement.value === '') {\n            if (!isNullOrUndefined(_this6.tableBodyElement) && _this6.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n              addClass([_this6.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n              removeClass(_this6.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n            }\n          }\n\n          EventHandler.add(document, 'mousedown touchstart', _this6.documentHandler, _this6);\n        });\n      }\n    }\n    /**\n     * Hide the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide(event) {\n      var _this7 = this;\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        var prevent = true;\n        this.preventArgs = {\n          preventDefault: function preventDefault() {\n            prevent = false;\n          },\n          popup: this.popupObj,\n          event: event || null,\n          cancel: false\n        };\n        removeClass(this.inputWrapper.buttons, ACTIVE);\n        removeClass([document.body], OVERFLOW);\n        var eventArgs = this.preventArgs;\n\n        if (this.isCalendar()) {\n          this.trigger('close', eventArgs, function (eventArgs) {\n            _this7.closeEventCallback(prevent, eventArgs);\n          });\n        } else {\n          this.closeEventCallback(prevent, eventArgs);\n        }\n      } else {\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n\n        this.setAllowEdit();\n      }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n  }, {\n    key: \"closeEventCallback\",\n    value: function closeEventCallback(prevent, eventArgs) {\n      this.preventArgs = eventArgs;\n\n      if (this.isCalendar() && prevent && !this.preventArgs.cancel) {\n        this.popupObj.hide();\n        this.isAltKeyPressed = false;\n        this.keyboardModule.destroy();\n        removeClass(this.inputWrapper.buttons, ACTIVE);\n      }\n\n      this.setAriaAttributes();\n\n      if (Browser.isDevice && this.modal) {\n        this.modal.style.display = 'none';\n        this.modal.outerHTML = '';\n        this.modal = null;\n      }\n\n      if (Browser.isDevice) {\n        if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n          this.mobilePopupWrapper.remove();\n          this.mobilePopupWrapper = null;\n        }\n      }\n\n      EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n    /* eslint-disable jsdoc/require-param */\n\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn(triggerEvent) {\n      if (document.activeElement !== this.inputElement && this.enabled) {\n        this.inputElement.focus();\n        addClass([this.inputWrapper.container], [INPUTFOCUS]);\n      }\n    }\n    /* eslint-enable jsdoc/require-param */\n\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusOut\",\n    value: function focusOut() {\n      if (document.activeElement === this.inputElement) {\n        removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n        this.inputElement.blur();\n      }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the current view of the DatePicker.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n\n  }, {\n    key: \"currentView\",\n    value: function currentView() {\n      var currentView;\n\n      if (this.calendarElement) {\n        // calls the Calendar currentView public method\n        currentView = _get(_getPrototypeOf(DatePicker.prototype), \"currentView\", this).call(this);\n      }\n\n      return currentView;\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     *\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(view, date) {\n      if (this.calendarElement) {\n        // calls the Calendar navigateTo public method\n        _get(_getPrototypeOf(DatePicker.prototype), \"navigateTo\", this).call(this, view, date);\n      }\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unBindEvents();\n\n      _get(_getPrototypeOf(DatePicker.prototype), \"destroy\", this).call(this);\n\n      this.keyboardModules.destroy();\n\n      if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n        _get(_getPrototypeOf(DatePicker.prototype), \"destroy\", this).call(this);\n      }\n\n      var ariaAttrs = {\n        'aria-live': 'assertive',\n        'aria-atomic': 'true',\n        'aria-disabled': 'true',\n        'aria-haspopup': 'true',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_options',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      };\n\n      if (this.inputElement) {\n        Input.removeAttributes(ariaAttrs, this.inputElement);\n\n        if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n          this.inputElement.setAttribute('tabindex', this.tabIndex);\n        } else {\n          this.inputElement.removeAttribute('tabindex');\n        }\n\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        this.ensureInputAttribute();\n      }\n\n      if (this.isCalendar()) {\n        if (this.popupWrapper) {\n          detach(this.popupWrapper);\n        }\n\n        this.popupObj = this.popupWrapper = null;\n        this.keyboardModule.destroy();\n      }\n\n      if (this.ngTag === null) {\n        if (this.inputElement) {\n          this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n          removeClass([this.inputElement], [INPUTROOT]);\n        }\n\n        removeClass([this.element], [ROOT$1]);\n        detach(this.inputWrapper.container);\n      }\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n      }\n    }\n  }, {\n    key: \"ensureInputAttribute\",\n    value: function ensureInputAttribute() {\n      var prop = [];\n\n      for (var i = 0; i < this.inputElement.attributes.length; i++) {\n        prop[i] = this.inputElement.attributes[i].name;\n      }\n\n      for (var _i7 = 0; _i7 < prop.length; _i7++) {\n        if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[_i7]))) {\n          if (prop[_i7].toLowerCase() === 'value') {\n            this.inputElement.value = '';\n          }\n\n          this.inputElement.removeAttribute(prop[_i7]);\n        } else {\n          if (prop[_i7].toLowerCase() === 'value') {\n            this.inputElement.value = this.inputElementCopy.getAttribute(prop[_i7]);\n          }\n\n          this.inputElement.setAttribute(prop[_i7], this.inputElementCopy.getAttribute(prop[_i7]));\n        }\n      }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      this.inputElementCopy = this.element.cloneNode(true);\n      removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n      this.inputElement = this.element;\n      this.formElement = closest(this.inputElement, 'form');\n      this.index = this.showClearButton ? 2 : 1;\n      this.ngTag = null;\n\n      if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n        this.ngTag = this.element.tagName;\n        this.inputElement = this.createElement('input');\n        this.element.appendChild(this.inputElement);\n      }\n\n      if (this.element.getAttribute('id')) {\n        if (this.ngTag !== null) {\n          this.inputElement.id = this.element.getAttribute('id') + '_input';\n        }\n      } else {\n        if (this.getModuleName() === 'datetimepicker') {\n          this.element.id = getUniqueID('ej2-datetimepicker');\n\n          if (this.ngTag !== null) {\n            attributes(this.inputElement, {\n              'id': this.element.id + '_input'\n            });\n          }\n        } else {\n          this.element.id = getUniqueID('ej2-datepicker');\n\n          if (this.ngTag !== null) {\n            attributes(this.inputElement, {\n              'id': this.element.id + '_input'\n            });\n          }\n        }\n      }\n\n      if (this.ngTag !== null) {\n        this.validationAttribute(this.element, this.inputElement);\n      }\n\n      this.updateHtmlAttributeToElement();\n      this.defaultKeyConfigs = this.getDefaultKeyConfig();\n      this.checkHtmlAttributes(false);\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n\n      _get(_getPrototypeOf(DatePicker.prototype), \"preRender\", this).call(this);\n    }\n  }, {\n    key: \"getDefaultKeyConfig\",\n    value: function getDefaultKeyConfig() {\n      this.defaultKeyConfigs = {\n        altUpArrow: 'alt+uparrow',\n        altDownArrow: 'alt+downarrow',\n        escape: 'escape',\n        enter: 'enter',\n        controlUp: 'ctrl+38',\n        controlDown: 'ctrl+40',\n        moveDown: 'downarrow',\n        moveUp: 'uparrow',\n        moveLeft: 'leftarrow',\n        moveRight: 'rightarrow',\n        select: 'enter',\n        home: 'home',\n        end: 'end',\n        pageUp: 'pageup',\n        pageDown: 'pagedown',\n        shiftPageUp: 'shift+pageup',\n        shiftPageDown: 'shift+pagedown',\n        controlHome: 'ctrl+home',\n        controlEnd: 'ctrl+end',\n        shiftTab: 'shift+tab',\n        tab: 'tab'\n      };\n      return this.defaultKeyConfigs;\n    }\n  }, {\n    key: \"validationAttribute\",\n    value: function validationAttribute(target, inputElement) {\n      var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n      inputElement.setAttribute('name', nameAttribute);\n      target.removeAttribute('name');\n      var attribute = ['required', 'aria-required', 'form'];\n\n      for (var i = 0; i < attribute.length; i++) {\n        if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n          continue;\n        }\n\n        var attr = target.getAttribute(attribute[i]);\n        inputElement.setAttribute(attribute[i], attr);\n        target.removeAttribute(attribute[i]);\n      }\n    }\n  }, {\n    key: \"checkFormat\",\n    value: function checkFormat() {\n      var culture = new Internationalization(this.locale);\n\n      if (this.format) {\n        if (typeof this.format === 'string') {\n          this.formatString = this.format;\n        } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n          var skeletonString = this.format.skeleton;\n\n          if (this.getModuleName() === 'datetimepicker') {\n            this.formatString = culture.getDatePattern({\n              skeleton: skeletonString,\n              type: 'dateTime'\n            });\n          } else {\n            this.formatString = culture.getDatePattern({\n              skeleton: skeletonString,\n              type: 'date'\n            });\n          }\n        } else {\n          if (this.getModuleName() === 'datetimepicker') {\n            this.formatString = this.dateTimeFormat;\n          } else {\n            this.formatString = null;\n          }\n        }\n      } else {\n        this.formatString = null;\n      }\n    }\n  }, {\n    key: \"checkHtmlAttributes\",\n    value: function checkHtmlAttributes(dynamic) {\n      this.globalize = new Internationalization(this.locale);\n      this.checkFormat();\n      this.checkView();\n      var attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n      var options;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          options = {\n            format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          options = {\n            format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          options = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          options = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      }\n\n      var _iterator = _createForOfIteratorHelper(attributes$$1),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var prop = _step.value;\n\n          if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n            switch (prop) {\n              case 'disabled':\n                if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['enabled'] === undefined || dynamic) {\n                  var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                  this.setProperties({\n                    enabled: enabled\n                  }, !dynamic);\n                }\n\n                break;\n\n              case 'readonly':\n                if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['readonly'] === undefined || dynamic) {\n                  var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                  this.setProperties({\n                    readonly: readonly\n                  }, !dynamic);\n                }\n\n                break;\n\n              case 'placeholder':\n                if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['placeholder'] === undefined || dynamic) {\n                  this.setProperties({\n                    placeholder: this.inputElement.getAttribute(prop)\n                  }, !dynamic);\n                }\n\n                break;\n\n              case 'style':\n                this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                break;\n\n              case 'name':\n                this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                break;\n\n              case 'value':\n                if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['value'] === undefined || dynamic) {\n                  var value = this.inputElement.getAttribute(prop);\n                  this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                }\n\n                break;\n\n              case 'min':\n                if (+this.min === +new Date(1900, 0, 1) || dynamic) {\n                  var min = this.inputElement.getAttribute(prop);\n                  this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                }\n\n                break;\n\n              case 'max':\n                if (+this.max === +new Date(2099, 11, 31) || dynamic) {\n                  var max = this.inputElement.getAttribute(prop);\n                  this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                }\n\n                break;\n\n              case 'type':\n                if (this.inputElement.getAttribute(prop) !== 'text') {\n                  this.inputElement.setAttribute('type', 'text');\n                }\n\n                break;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'datepicker';\n    }\n  }, {\n    key: \"disabledDates\",\n    value: function disabledDates() {\n      var formatOptions;\n      var globalize;\n      var valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n      var previousValCopy = this.previousDate; //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n\n      this.minMaxUpdates();\n\n      _get(_getPrototypeOf(DatePicker.prototype), \"render\", this).call(this);\n\n      this.previousDate = previousValCopy;\n      var date = valueCopy && +valueCopy;\n      var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n\n      if (!this.strictMode) {\n        if (typeof this.value === 'string' || typeof this.value === 'object' && +this.value !== +valueCopy) {\n          this.setProperties({\n            value: valueCopy\n          }, true);\n        }\n      }\n\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n        if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n          if (!this.strictMode) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n          }\n        }\n      }\n\n      var inputVal;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          globalize = this.globalize.formatDate(valueCopy, {\n            format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          });\n        } else {\n          globalize = this.globalize.formatDate(valueCopy, {\n            format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          });\n        }\n\n        inputVal = globalize;\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n      }\n\n      if (!this.popupObj) {\n        this.updateInputValue(inputVal);\n\n        if (this.enableMask) {\n          this.updateInputValue(this.maskedDateValue);\n          this.notify(\"createMask\", {\n            module: \"MaskedDateTime\"\n          });\n        }\n      }\n    }\n  }, {\n    key: \"setAriaAttributes\",\n    value: function setAriaAttributes() {\n      if (this.isCalendar()) {\n        Input.addAttributes({\n          'aria-expanded': 'true'\n        }, this.inputElement);\n        attributes(this.inputElement, {\n          'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n      } else {\n        Input.addAttributes({\n          'aria-expanded': 'false'\n        }, this.inputElement);\n        attributes(this.inputElement, {\n          'aria-activedescendant': 'null'\n        });\n      }\n    }\n  }, {\n    key: \"errorClass\",\n    value: function errorClass() {\n      var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + +this.value);\n      var isDisabledDate = this.calendarElement && this.calendarElement.querySelectorAll(dateIdString)[0] && this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n\n      if (!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min && +new Date(+this.value).setMilliseconds(0) <= +this.max) || !this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate) {\n        addClass([this.inputWrapper.container], ERROR);\n        attributes(this.inputElement, {\n          'aria-invalid': 'true'\n        });\n      } else {\n        removeClass([this.inputWrapper.container], ERROR);\n        attributes(this.inputElement, {\n          'aria-invalid': 'false'\n        });\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i8 = 0, _Object$keys6 = Object.keys(newProp); _i8 < _Object$keys6.length; _i8++) {\n        var prop = _Object$keys6[_i8];\n\n        switch (prop) {\n          case 'value':\n            this.isDynamicValueChanged = true;\n            this.isInteracted = false;\n            this.invalidValueString = null;\n            this.checkInvalidValue(newProp.value);\n            newProp.value = this.value;\n            this.previousElementValue = this.inputElement.value;\n\n            if (isNullOrUndefined(this.value)) {\n              this.updateInputValue('');\n              this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n\n            this.updateInput(true);\n\n            if (+this.previousDate !== +this.value) {\n              this.changeTrigger(null);\n            }\n\n            this.isInteracted = true;\n            this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n            }\n\n            break;\n\n          case 'format':\n            this.checkFormat();\n            this.bindInputEvent();\n            this.updateInput();\n\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n\n              if (!this.value) {\n                this.updateInputValue(this.maskedDateValue);\n              }\n            }\n\n            break;\n\n          case 'allowEdit':\n            this.setAllowEdit();\n            break;\n\n          case 'placeholder':\n            Input.setPlaceholder(this.placeholder, this.inputElement);\n            break;\n\n          case 'readonly':\n            Input.setReadonly(this.readonly, this.inputElement);\n            break;\n\n          case 'enabled':\n            Input.setEnabled(this.enabled, this.inputElement);\n            this.setAriaDisabled();\n            break;\n\n          case 'htmlAttributes':\n            this.updateHtmlAttributeToElement();\n            this.updateHtmlAttributeToWrapper();\n            this.checkHtmlAttributes(true);\n            break;\n\n          case 'locale':\n            this.globalize = new Internationalization(this.locale);\n            this.l10n.setLocale(this.locale);\n            this.setProperties({\n              placeholder: this.l10n.getConstant('placeholder')\n            }, true);\n            Input.setPlaceholder(this.placeholder, this.inputElement);\n            this.updateInput();\n\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n            }\n\n            break;\n\n          case 'enableRtl':\n            Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n            break;\n\n          case 'start':\n          case 'depth':\n            this.checkView();\n\n            if (this.calendarElement) {\n              _get(_getPrototypeOf(DatePicker.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp);\n            }\n\n            break;\n\n          case 'zIndex':\n            this.setProperties({\n              zIndex: newProp.zIndex\n            }, true);\n            break;\n\n          case 'cssClass':\n            this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n            break;\n\n          case 'showClearButton':\n            Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n            this.bindClearEvent();\n            this.index = this.showClearButton ? 2 : 1;\n            break;\n\n          case 'strictMode':\n            this.invalidValueString = null;\n            this.updateInput();\n            break;\n\n          case 'width':\n            this.setWidth(newProp.width);\n            break;\n\n          case 'floatLabelType':\n            this.floatLabelType = newProp.floatLabelType;\n            Input.removeFloating(this.inputWrapper);\n            Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n            break;\n\n          case 'enableMask':\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n              this.updateInputValue(this.maskedDateValue);\n              this.bindInputEvent();\n            } else {\n              if (this.inputElement.value === this.maskedDateValue) {\n                this.updateInputValue('');\n              }\n            }\n\n            break;\n\n          default:\n            if (this.calendarElement && this.isCalendar()) {\n              _get(_getPrototypeOf(DatePicker.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp);\n            }\n\n            break;\n        }\n\n        if (!this.isDynamicValueChanged) {\n          this.hide(null);\n        }\n\n        this.isDynamicValueChanged = false;\n      }\n    }\n  }]);\n\n  return DatePicker;\n}(Calendar);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"width\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"value\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"cssClass\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"strictMode\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"format\", void 0);\n\n__decorate$1([Property(true)], DatePicker.prototype, \"enabled\", void 0);\n\n__decorate$1([Property({})], DatePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"values\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"isMultiSelection\", void 0);\n\n__decorate$1([Property(true)], DatePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$1([Property(true)], DatePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$1([Property(1000)], DatePicker.prototype, \"zIndex\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"readonly\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"placeholder\", void 0);\n\n__decorate$1([Property('Never')], DatePicker.prototype, \"floatLabelType\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"enableMask\", void 0);\n\n__decorate$1([Property({\n  day: 'day',\n  month: 'month',\n  year: 'year',\n  hour: 'hour',\n  minute: 'minute',\n  second: 'second',\n  dayOfTheWeek: 'day of the week'\n})], DatePicker.prototype, \"maskPlaceholder\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"open\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"cleared\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"close\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"blur\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"focus\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"created\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"destroyed\", void 0);\n\nDatePicker = __decorate$1([NotifyPropertyChanges], DatePicker);\n/**\n * Datepicker modules\n */\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n\n\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER$1 = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP$1 = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT$2 = 'e-daterangepicker';\nvar LIBRARY$1 = 'e-lib';\nvar CONTROL$1 = 'e-control';\nvar ERROR$1 = 'e-error';\nvar ACTIVE$1 = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS$1 = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH$2 = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED$2 = 'e-disabled';\nvar SELECTED$3 = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON$1 = 'e-next';\nvar PREVICON$1 = 'e-prev';\nvar HEADER$1 = 'e-header';\nvar TITLE$1 = 'e-title';\nvar ICONCONTAINER$1 = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER$1 = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY$2 = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT$1 = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER$2 = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE$1 = 'e-device';\nvar OVERLAY$2 = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = 'e-list-item';\nvar RTL$1 = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW$1 = 'e-range-overflow';\nvar OFFSETVALUE$1 = 4;\nvar PRIMARY$1 = 'e-primary';\nvar FLAT$1 = 'e-flat';\nvar CSS$1 = 'e-css';\nvar ZOOMIN$1 = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\n\nvar Presets = /*#__PURE__*/function (_ChildProperty2) {\n  _inherits(Presets, _ChildProperty2);\n\n  var _super5 = _createSuper(Presets);\n\n  function Presets() {\n    _classCallCheck(this, Presets);\n\n    return _super5.apply(this, arguments);\n  }\n\n  return Presets;\n}(ChildProperty);\n\n__decorate$2([Property()], Presets.prototype, \"label\", void 0);\n\n__decorate$2([Property()], Presets.prototype, \"start\", void 0);\n\n__decorate$2([Property()], Presets.prototype, \"end\", void 0);\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\n\n\nvar DateRangePicker = /*#__PURE__*/function (_CalendarBase2) {\n  _inherits(DateRangePicker, _CalendarBase2);\n\n  var _super6 = _createSuper(DateRangePicker);\n\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DateRangePicker(options, element) {\n    var _this8;\n\n    _classCallCheck(this, DateRangePicker);\n\n    _this8 = _super6.call(this, options, element);\n    _this8.isCustomRange = false;\n    _this8.isCustomWindow = false;\n    _this8.presetsItem = [];\n    _this8.liCollections = [];\n    _this8.previousEleValue = '';\n    _this8.isKeyPopup = false;\n    _this8.dateDisabled = false;\n    _this8.isRangeIconClicked = false;\n    _this8.isMaxDaysClicked = false;\n    _this8.disabledDays = [];\n    _this8.preventBlur = false;\n    _this8.preventFocus = false;\n    _this8.invalidValueString = null;\n    _this8.isAngular = false;\n    _this8.preventChange = false;\n    _this8.dateRangeOptions = options;\n    return _this8;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  _createClass(DateRangePicker, [{\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n      this.setProperties({\n        startDate: this.startValue\n      }, true);\n      this.setProperties({\n        endDate: this.endValue\n      }, true);\n      this.setModelValue();\n      this.setDataAttribute(false);\n\n      if (this.element.hasAttribute('data-val')) {\n        this.element.setAttribute('data-val', 'false');\n      }\n\n      this.renderComplete();\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      this.keyInputConfigs = {\n        altDownArrow: 'alt+downarrow',\n        escape: 'escape',\n        enter: 'enter',\n        tab: 'tab',\n        altRightArrow: 'alt+rightarrow',\n        altLeftArrow: 'alt+leftarrow',\n        moveUp: 'uparrow',\n        moveDown: 'downarrow',\n        spacebar: 'space'\n      };\n      this.defaultConstant = {\n        placeholder: this.placeholder,\n        startLabel: 'Start Date',\n        endLabel: 'End Date',\n        customRange: 'Custom Range',\n        applyText: 'Apply',\n        cancelText: 'Cancel',\n        selectedDays: 'Selected Days',\n        days: 'days'\n      };\n      /**\n       * Mobile View\n       */\n\n      this.isMobile = window.matchMedia('(max-width:550px)').matches;\n      this.inputElement = this.element;\n      this.angularTag = null;\n\n      if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n        this.angularTag = this.element.tagName;\n        this.inputElement = this.createElement('input');\n        this.element.appendChild(this.inputElement);\n      }\n\n      this.cloneElement = this.element.cloneNode(true);\n      removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n      this.updateHtmlAttributeToElement();\n\n      if (this.element.getAttribute('id')) {\n        if (this.angularTag !== null) {\n          this.inputElement.id = this.element.getAttribute('id') + '_input';\n        }\n      } else {\n        this.element.id = getUniqueID('ej2-datetimepicker');\n\n        if (this.angularTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      }\n\n      this.checkInvalidRange(this.value);\n\n      if (!this.invalidValueString && typeof this.value === 'string') {\n        var rangeArray = this.value.split(' ' + this.separator + ' ');\n        this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n      }\n\n      this.initProperty();\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"preRender\", this).call(this);\n\n      this.navNextFunction = this.navNextMonth.bind(this);\n      this.navPrevFunction = this.navPrevMonth.bind(this);\n      this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n      this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n      this.initStartDate = this.checkDateValue(this.startValue);\n      this.initEndDate = this.checkDateValue(this.endValue);\n      this.formElement = closest(this.element, 'form');\n    }\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      if (this.value && this.value.length > 0) {\n        if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n          this.setProperties({\n            startDate: this.value[0]\n          }, true);\n          this.startValue = this.value[0];\n        } else if (typeof this.value[0] === 'string') {\n          if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n            this.startValue = null;\n            this.setValue();\n          } else {\n            this.setProperties({\n              startDate: new Date(this.checkValue(this.value[0]))\n            }, true);\n            this.startValue = new Date(this.checkValue(this.value[0]));\n          }\n        } else {\n          this.startValue = null;\n          this.setValue();\n        }\n\n        if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n          this.setProperties({\n            endDate: this.value[1]\n          }, true);\n          this.endValue = this.value[1];\n        } else if (typeof this.value[1] === 'string') {\n          if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n            this.setProperties({\n              endDate: null\n            }, true);\n            this.endValue = null;\n            this.setValue();\n          } else {\n            this.setProperties({\n              endDate: new Date(this.checkValue(this.value[1]))\n            }, true);\n            this.endValue = new Date(this.checkValue(this.value[1]));\n            this.setValue();\n          }\n        } else {\n          this.setProperties({\n            endDate: null\n          }, true);\n          this.endValue = null;\n          this.setValue();\n        }\n      } else if (this.value && this.value.start) {\n        if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n          this.setProperties({\n            startDate: this.value.start\n          }, true);\n          this.startValue = this.value.start;\n        } else if (typeof this.value.start === 'string') {\n          this.setProperties({\n            startDate: new Date(this.checkValue(this.value.start))\n          }, true);\n          this.startValue = new Date(this.checkValue(this.value.start));\n        } else {\n          this.startValue = null;\n          this.setValue();\n        }\n\n        if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n          this.setProperties({\n            endDate: this.value.end\n          }, true);\n          this.endValue = this.value.end;\n        } else if (typeof this.value.end === 'string') {\n          this.setProperties({\n            endDate: new Date(this.checkValue(this.value.end))\n          }, true);\n          this.endValue = new Date(this.checkValue(this.value.end));\n          this.setValue();\n        } else {\n          this.setProperties({\n            endDate: null\n          }, true);\n          this.endValue = null;\n          this.setValue();\n        }\n      } else if (isNullOrUndefined(this.value)) {\n        this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n        this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n        this.setValue();\n      }\n    }\n  }, {\n    key: \"initProperty\",\n    value: function initProperty() {\n      this.globalize = new Internationalization(this.locale);\n      this.checkFormat();\n      this.checkView();\n\n      if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n        this.setProperties({\n          firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n        }, true);\n      }\n\n      this.updateValue();\n    }\n  }, {\n    key: \"checkFormat\",\n    value: function checkFormat() {\n      if (this.format) {\n        if (typeof this.format === 'string') {\n          this.formatString = this.format;\n        } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n          var skeletonString = this.format.skeleton;\n          this.formatString = this.globalize.getDatePattern({\n            skeleton: skeletonString,\n            type: 'date'\n          });\n        } else {\n          this.formatString = null;\n        }\n      } else {\n        this.formatString = null;\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      if (this.angularTag !== null) {\n        this.validationAttribute(this.element, this.inputElement);\n      }\n\n      this.checkHtmlAttributes(false);\n      merge(this.defaultKeyConfigs, {\n        shiftTab: 'shift+tab'\n      });\n      var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n      this.setProperties({\n        startDate: start\n      }, true); // persist the value propeerty.\n\n      this.setProperties({\n        endValue: this.checkDateValue(new Date(this.checkValue(this.endValue)))\n      }, true);\n      this.setValue();\n      this.setProperties({\n        min: this.checkDateValue(new Date(this.checkValue(this.min)))\n      }, true);\n      this.setProperties({\n        max: this.checkDateValue(new Date(this.checkValue(this.max)))\n      }, true);\n      this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n      this.l10n.setLocale(this.locale);\n      this.setProperties({\n        placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n      }, true);\n      this.processPresets();\n      this.createInput();\n      this.updateHtmlAttributeToWrapper();\n      this.setRangeAllowEdit();\n      this.bindEvents();\n    }\n  }, {\n    key: \"setDataAttribute\",\n    value: function setDataAttribute(isDynamic) {\n      var attributes$$1 = {};\n\n      if (!isDynamic) {\n        for (var i = 0; i < this.element.attributes.length; i++) {\n          attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n        }\n      } else {\n        attributes$$1 = this.htmlAttributes;\n      }\n\n      for (var _i9 = 0, _Object$keys7 = Object.keys(attributes$$1); _i9 < _Object$keys7.length; _i9++) {\n        var pro = _Object$keys7[_i9];\n\n        if (pro.indexOf('data') === 0) {\n          this.firstHiddenChild.setAttribute(pro, attributes$$1[pro]);\n          this.secondHiddenChild.setAttribute(pro, attributes$$1[pro]);\n        }\n      }\n    }\n  }, {\n    key: \"setRangeAllowEdit\",\n    value: function setRangeAllowEdit() {\n      if (this.allowEdit) {\n        if (!this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n      } else {\n        attributes(this.inputElement, {\n          'readonly': ''\n        });\n      }\n\n      this.updateClearIconState();\n    }\n  }, {\n    key: \"updateClearIconState\",\n    value: function updateClearIconState() {\n      if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n        if (this.inputElement.value === '') {\n          removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        } else {\n          addClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n      } else if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], [NONEDITABLE]);\n      }\n    }\n  }, {\n    key: \"validationAttribute\",\n    value: function validationAttribute(element, input) {\n      var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n      input.setAttribute('name', name);\n      element.removeAttribute('name');\n      var attributes$$1 = ['required', 'aria-required', 'form'];\n\n      for (var i = 0; i < attributes$$1.length; i++) {\n        if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n          continue;\n        }\n\n        var attr = element.getAttribute(attributes$$1[i]);\n        input.setAttribute(attributes$$1[i], attr);\n        element.removeAttribute(attributes$$1[i]);\n      }\n    }\n  }, {\n    key: \"updateHtmlAttributeToWrapper\",\n    value: function updateHtmlAttributeToWrapper() {\n      if (!isNullOrUndefined(this.htmlAttributes)) {\n        for (var _i10 = 0, _Object$keys8 = Object.keys(this.htmlAttributes); _i10 < _Object$keys8.length; _i10++) {\n          var key = _Object$keys8[_i10];\n\n          if (wrapperAttr.indexOf(key) > -1) {\n            if (key === 'class') {\n              var updatedClassValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n              if (updatedClassValue !== '') {\n                addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n              }\n            } else if (key === 'style') {\n              var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n              dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? dateRangeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n              this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n            } else {\n              this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateHtmlAttributeToElement\",\n    value: function updateHtmlAttributeToElement() {\n      if (!isNullOrUndefined(this.htmlAttributes)) {\n        for (var _i11 = 0, _Object$keys9 = Object.keys(this.htmlAttributes); _i11 < _Object$keys9.length; _i11++) {\n          var key = _Object$keys9[_i11];\n\n          if (wrapperAttr.indexOf(key) < 0) {\n            this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateCssClass\",\n    value: function updateCssClass(cssNewClass, cssOldClass) {\n      if (!isNullOrUndefined(cssOldClass)) {\n        cssOldClass = cssOldClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      if (!isNullOrUndefined(cssNewClass)) {\n        cssNewClass = cssNewClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n\n      if (this.popupWrapper) {\n        Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n      }\n    }\n  }, {\n    key: \"processPresets\",\n    value: function processPresets() {\n      this.presetsItem = [];\n      var i = 0;\n\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n        var _iterator2 = _createForOfIteratorHelper(this.presets),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var range = _step2.value;\n            var id = range.label.replace(/\\s+/g, '') + '_' + ++i;\n\n            if (typeof range.end === 'string') {\n              this.presetsItem.push({\n                id: id,\n                text: range.label,\n                end: new Date(this.checkValue(range.end)),\n                start: new Date(this.checkValue(range.start))\n              });\n            } else {\n              this.presetsItem.push({\n                id: id,\n                text: range.label,\n                start: range.start,\n                end: range.end\n              });\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n\n        var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n        var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n        this.presetsItem.push({\n          id: 'custom_range',\n          text: this.l10n.getConstant('customRange'),\n          start: startDate,\n          end: endDate\n        });\n\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n          this.isCustomRange = true;\n          this.activeIndex = this.presetsItem.length - 1;\n        }\n      }\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n      EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n      EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n      EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n      }\n\n      if (!this.isMobile) {\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n          eventName: 'keydown',\n          keyAction: this.inputHandler.bind(this),\n          keyConfigs: this.keyInputConfigs\n        });\n      }\n\n      if (this.formElement) {\n        EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n      }\n\n      if (this.enabled) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.tabIndex = -1;\n      }\n    }\n  }, {\n    key: \"unBindEvents\",\n    value: function unBindEvents() {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n      }\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.inputKeyboardModule)) {\n          this.inputKeyboardModule.destroy();\n        }\n      }\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n      }\n\n      this.inputElement.tabIndex = -1;\n    }\n  }, {\n    key: \"updateHiddenInput\",\n    value: function updateHiddenInput() {\n      if (this.firstHiddenChild && this.secondHiddenChild) {\n        var format = {\n          type: 'datetime',\n          skeleton: 'yMd'\n        };\n\n        if (typeof this.startDate === 'string') {\n          this.startDate = this.globalize.parseDate(this.startDate, format);\n        }\n\n        if (typeof this.endDate === 'string') {\n          this.endDate = this.globalize.parseDate(this.endDate, format);\n        }\n\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format) || this.inputElement.value;\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format) || this.inputElement.value;\n        this.dispatchEvent(this.firstHiddenChild, 'focusout');\n        this.dispatchEvent(this.firstHiddenChild, 'change');\n      }\n    }\n  }, {\n    key: \"inputChangeHandler\",\n    value: function inputChangeHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      e.stopPropagation();\n      this.updateHiddenInput();\n    }\n  }, {\n    key: \"bindClearEvent\",\n    value: function bindClearEvent() {\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n      }\n    }\n  }, {\n    key: \"resetHandler\",\n    value: function resetHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      this.valueType = this.value;\n      e.preventDefault();\n      this.clear();\n      var clearedArgs = {\n        event: e\n      };\n      this.setProperties({\n        endDate: this.checkDateValue(this.endValue)\n      }, true);\n      this.setProperties({\n        startDate: this.checkDateValue(this.startValue)\n      }, true);\n      this.trigger('cleared', clearedArgs);\n      this.changeTrigger(e);\n      this.clearRange();\n      this.hide(e);\n    }\n  }, {\n    key: \"restoreValue\",\n    value: function restoreValue() {\n      this.previousEleValue = this.inputElement.value;\n      this.previousStartValue = this.startValue;\n      this.previousEndValue = this.endValue;\n      this.valueType = null;\n      this.initStartDate = this.checkDateValue(this.startValue);\n      this.initEndDate = this.checkDateValue(this.endValue);\n      this.setValue();\n      this.setModelValue();\n    }\n  }, {\n    key: \"formResetHandler\",\n    value: function formResetHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (this.formElement && e.target === this.formElement && !this.inputElement.disabled) {\n        var val = this.inputElement.getAttribute('value');\n\n        if (!isNullOrUndefined(this.startCopy)) {\n          if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n            this.setProperties({\n              value: {\n                start: this.startCopy,\n                end: this.endCopy\n              }\n            }, true);\n            this.startValue = this.value.start;\n            this.endValue = this.value.end;\n          } else {\n            this.setProperties({\n              value: [this.startCopy, this.endCopy]\n            }, true);\n            this.startValue = this.value[0];\n            this.endValue = this.value[1];\n          }\n\n          this.setProperties({\n            startDate: this.startValue,\n            endDate: this.endValue\n          }, true);\n        } else {\n          this.setProperties({\n            value: null,\n            startDate: null,\n            endDate: null\n          }, true);\n          this.startValue = this.endValue = null;\n        }\n\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n          this.setProperties({\n            value: null,\n            startDate: null,\n            endDate: null\n          }, true);\n          val = '';\n          this.startValue = this.endValue = null;\n          this.inputElement.setAttribute('value', '');\n        }\n\n        this.restoreValue();\n\n        if (this.inputElement) {\n          Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n          this.errorClass();\n        }\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.startValue !== null) {\n        this.startValue = null;\n      }\n\n      if (this.endValue !== null) {\n        this.endValue = null;\n      }\n\n      if (this.value && this.value.start) {\n        this.setProperties({\n          value: {\n            start: null,\n            end: null\n          }\n        }, true);\n      }\n\n      if (this.value !== null && this.value.length > 0) {\n        this.setProperties({\n          value: null\n        }, true);\n      }\n\n      Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n\n      if (!isNullOrUndefined(this.applyButton)) {\n        this.applyButton.disabled = this.applyButton.element.disabled = true;\n      }\n\n      this.removeSelection();\n    }\n  }, {\n    key: \"rangeIconHandler\",\n    value: function rangeIconHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (this.isMobile) {\n        this.inputElement.setAttribute('readonly', '');\n      }\n\n      e.preventDefault();\n      this.targetElement = null;\n\n      if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n        this.applyFunction(e);\n      } else {\n        this.isRangeIconClicked = true;\n        this.inputWrapper.container.children[0].focus();\n        this.show(null, e);\n\n        if (!this.isMobile) {\n          if (!isNullOrUndefined(this.leftCalendar)) {\n            this.isRangeIconClicked = false;\n            this.calendarFocus();\n            this.isRangeIconClicked = true;\n          }\n        }\n\n        addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      }\n    }\n  }, {\n    key: \"checkHtmlAttributes\",\n    value: function checkHtmlAttributes(isDynamic) {\n      this.globalize = new Internationalization(this.locale);\n      var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type', 'value'];\n      var format = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n\n      var _iterator3 = _createForOfIteratorHelper(attributes$$1),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var prop = _step3.value;\n\n          if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n            switch (prop) {\n              case 'disabled':\n                if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['enabled'] === undefined || isDynamic) {\n                  var disabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                  this.setProperties({\n                    enabled: !disabled\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'readonly':\n                if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['readonly'] === undefined || isDynamic) {\n                  var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                  this.setProperties({\n                    readonly: readonly\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'placeholder':\n                if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['placeholder'] === undefined || isDynamic) {\n                  this.setProperties({\n                    placeholder: this.inputElement.getAttribute(prop)\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'value':\n                if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['value'] === undefined || isDynamic) {\n                  var value = this.inputElement.getAttribute(prop);\n                  this.setProperties(setValue(prop, value, {}), !isDynamic);\n                }\n\n                break;\n\n              case 'style':\n                this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                break;\n\n              case 'min':\n                if (isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1) || isDynamic) {\n                  var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                  this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                }\n\n                break;\n\n              case 'name':\n                this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                break;\n\n              case 'max':\n                if (isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31) || isDynamic) {\n                  var _dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n\n                  this.setProperties(setValue(prop, _dateValue, {}), !isDynamic);\n                }\n\n                break;\n\n              case 'startDate':\n                if (isNullOrUndefined(this.startDate)) {\n                  var _dateValue2 = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n\n                  this.startValue = _dateValue2;\n                  this.setValue();\n                }\n\n                break;\n\n              case 'endDate':\n                if (isNullOrUndefined(this.endDate)) {\n                  var _dateValue3 = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n\n                  this.endValue = _dateValue3;\n                  this.setValue();\n                }\n\n                break;\n\n              case 'minDays':\n                if (isNullOrUndefined(this.minDays)) {\n                  this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                }\n\n                break;\n\n              case 'maxDays':\n                if (isNullOrUndefined(this.maxDays)) {\n                  this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                }\n\n                break;\n\n              case 'type':\n                if (this.inputElement.getAttribute(prop) !== 'text') {\n                  this.inputElement.setAttribute('type', 'text');\n                }\n\n                break;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }, {\n    key: \"createPopup\",\n    value: function createPopup() {\n      for (var i = 0; i < this.presetsItem.length; i++) {\n        if (i !== this.presetsItem.length - 1 && this.presetsItem[i].id === 'custom_range') {\n          this.presetsItem.splice(i, 1);\n        }\n      }\n\n      this.activeIndex = this.presetsItem.length - 1;\n      this.isCustomRange = true;\n\n      for (var _i12 = 0; _i12 <= this.presetsItem.length - 2; _i12++) {\n        var startDate = this.presetsItem[_i12].start;\n        var endDate = this.presetsItem[_i12].end;\n\n        if (this.startValue && this.endValue) {\n          if (+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0)) && +new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0))) {\n            this.activeIndex = _i12;\n            this.isCustomRange = false;\n          }\n        }\n      }\n\n      this.popupWrapper = createElement('div', {\n        id: this.element.id + '_popup',\n        className: ROOT$2 + ' ' + POPUP$1\n      });\n      this.adjustLongHeaderWidth();\n      var isPreset = !this.isCustomRange || this.isMobile;\n\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n        this.isCustomWindow = false;\n        this.createPresets();\n        this.listRippleEffect();\n        this.renderPopup();\n      } else {\n        this.isCustomWindow = true;\n        this.renderControl();\n      }\n    }\n  }, {\n    key: \"renderControl\",\n    value: function renderControl() {\n      this.createControl();\n      this.bindCalendarEvents();\n      this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.disabledDateRender();\n      }\n\n      this.updateHeader();\n    }\n  }, {\n    key: \"clearCalendarEvents\",\n    value: function clearCalendarEvents() {\n      EventHandler.clearEvents(this.leftCalPrevIcon);\n      EventHandler.clearEvents(this.leftCalNextIcon);\n      EventHandler.clearEvents(this.rightCalPrevIcon);\n      EventHandler.clearEvents(this.rightCalNextIcon);\n    }\n  }, {\n    key: \"updateNavIcons\",\n    value: function updateNavIcons() {\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"iconHandler\", this).call(this);\n    }\n  }, {\n    key: \"calendarIconEvent\",\n    value: function calendarIconEvent() {\n      this.clearCalendarEvents();\n\n      if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n        EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n      }\n\n      if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n        EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n      }\n\n      if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n        EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n      }\n\n      if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n        EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n      }\n    }\n  }, {\n    key: \"bindCalendarEvents\",\n    value: function bindCalendarEvents() {\n      if (!this.isMobile) {\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.calendarIconRipple();\n        this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n        this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n          eventName: 'keydown',\n          keyAction: this.keyInputHandler.bind(this),\n          keyConfigs: this.defaultKeyConfigs\n        });\n        this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n          eventName: 'keydown',\n          keyAction: this.keyInputHandler.bind(this),\n          keyConfigs: this.defaultKeyConfigs\n        });\n      } else {\n        this.deviceCalendarEvent();\n        EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n        EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n      }\n\n      if (this.start === this.depth) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n    }\n  }, {\n    key: \"calendarIconRipple\",\n    value: function calendarIconRipple() {\n      rippleEffect(this.leftCalPrevIcon, {\n        selector: '.e-prev',\n        duration: 400,\n        isCenterRipple: true\n      });\n      rippleEffect(this.leftCalNextIcon, {\n        selector: '.e-next',\n        duration: 400,\n        isCenterRipple: true\n      });\n      rippleEffect(this.rightCalPrevIcon, {\n        selector: '.e-prev',\n        duration: 400,\n        isCenterRipple: true\n      });\n      rippleEffect(this.rightCalNextIcon, {\n        selector: '.e-next',\n        duration: 400,\n        isCenterRipple: true\n      });\n    }\n  }, {\n    key: \"deviceCalendarEvent\",\n    value: function deviceCalendarEvent() {\n      EventHandler.clearEvents(this.nextIcon);\n      EventHandler.clearEvents(this.previousIcon);\n      rippleEffect(this.nextIcon, {\n        selector: '.e-prev',\n        duration: 400,\n        isCenterRipple: true\n      });\n      rippleEffect(this.previousIcon, {\n        selector: '.e-next',\n        duration: 400,\n        isCenterRipple: true\n      });\n\n      if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n        EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n      }\n\n      if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n        EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n      }\n    }\n  }, {\n    key: \"deviceNavNext\",\n    value: function deviceNavNext(e) {\n      var calendar = closest(e.target, '.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n      this.navigateNext(e);\n      this.deviceNavigation();\n    }\n  }, {\n    key: \"deviceNavPrevious\",\n    value: function deviceNavPrevious(e) {\n      var calendar = closest(e.target, '.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n      this.navigatePrevious(e);\n      this.deviceNavigation();\n    }\n  }, {\n    key: \"updateDeviceCalendar\",\n    value: function updateDeviceCalendar(calendar) {\n      if (calendar) {\n        this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n        this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n        this.calendarElement = calendar;\n        this.deviceCalendar = calendar;\n        this.contentElement = calendar.querySelector('.' + CONTENT$1);\n        this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n        this.headerElement = calendar.querySelector('.' + HEADER$1);\n      }\n    }\n  }, {\n    key: \"deviceHeaderClick\",\n    value: function deviceHeaderClick(event) {\n      var element = event.currentTarget;\n\n      if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n        this.endButton.element.classList.remove(ACTIVE$1);\n        this.startButton.element.classList.add(ACTIVE$1);\n        var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n\n        if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n          this.currentDate = new Date(+this.startValue);\n          remove(this.tableBodyElement);\n          this.createContentBody();\n          this.deviceNavigation();\n        }\n\n        this.removeClassDisabled();\n      } else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        this.startButton.element.classList.remove(ACTIVE$1);\n        this.endButton.element.classList.add(ACTIVE$1);\n\n        var _calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n\n        this.updateDeviceCalendar(_calendar);\n\n        if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n          this.currentDate = new Date(+this.endValue);\n          remove(this.tableBodyElement);\n          this.createContentBody();\n          this.deviceNavigation();\n        }\n\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        this.selectableDates();\n      }\n    }\n  }, {\n    key: \"inputFocusHandler\",\n    value: function inputFocusHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      this.preventBlur = false;\n      var focusArguments = {\n        model: this\n      };\n\n      if (!this.preventFocus) {\n        this.trigger('focus', focusArguments);\n      }\n\n      this.updateClearIconState();\n      this.updateHiddenInput();\n\n      if (this.openOnFocus && !this.preventFocus) {\n        this.preventFocus = true;\n        this.show();\n      } else {\n        this.preventFocus = true;\n      }\n    }\n  }, {\n    key: \"inputBlurHandler\",\n    value: function inputBlurHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (!this.preventBlur) {\n        var value = this.inputElement.value;\n\n        if (!isNullOrUndefined(this.presetsItem)) {\n          if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n            this.activeIndex = this.presetsItem.length - 1;\n            this.isCustomRange = true;\n          }\n        }\n\n        if (!isNullOrUndefined(value) && value.trim() !== '') {\n          var range = value.split(' ' + this.separator + ' ');\n\n          if (range.length > 1) {\n            this.invalidValueString = null;\n            var dateOptions = {\n              format: this.formatString,\n              type: 'date',\n              skeleton: 'yMd'\n            };\n            var startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n            var endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n\n            if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n              var prevStartVal = this.startValue;\n              this.startValue = startDate;\n              var prevEndVal = this.endValue;\n              this.endValue = endDate;\n              this.setValue();\n              this.refreshControl();\n\n              if (value !== this.previousEleValue) {\n                this.changeTrigger(e);\n              }\n\n              if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                var blurArguments = {\n                  model: this\n                };\n                this.trigger('blur', blurArguments);\n              }\n\n              this.updateHiddenInput(); // For Mobile mode, when a value is present and choose another range and click on console\n              // when popup is open, two startvalues and end values are updated in the popup.\n\n              if (this.isMobile && this.isPopupOpen()) {\n                this.startValue = prevStartVal;\n                this.endValue = prevEndVal;\n              }\n\n              return;\n            } else {\n              if (!this.strictMode) {\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n              }\n            }\n          } else {\n            if (!this.strictMode) {\n              this.startValue = null;\n              this.endValue = null;\n              this.setValue();\n            }\n          }\n        }\n\n        if (!this.strictMode) {\n          if (isNullOrUndefined(this.popupObj)) {\n            this.currentDate = null;\n          }\n\n          this.previousStartValue = this.previousEndValue = null;\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        } else {\n          if (!isNullOrUndefined(value) && value.trim() === '') {\n            this.startValue = null;\n            this.endValue = null;\n          }\n\n          Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n          this.updateInput();\n        }\n\n        this.errorClass();\n        this.changeTrigger(e);\n\n        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n          this.preventFocus = false;\n          var _blurArguments = {\n            model: this\n          };\n          this.trigger('blur', _blurArguments);\n        }\n      }\n\n      this.updateHiddenInput();\n    }\n  }, {\n    key: \"clearRange\",\n    value: function clearRange() {\n      this.previousStartValue = this.previousEndValue = null;\n      this.currentDate = null;\n    }\n  }, {\n    key: \"errorClass\",\n    value: function errorClass() {\n      var inputStr = this.inputElement.value.trim();\n\n      if ((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '' || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || this.startValue && this.isDateDisabled(this.startValue) || this.endValue && this.isDateDisabled(this.endValue)) && inputStr !== '') {\n        addClass([this.inputWrapper.container], ERROR$1);\n        attributes(this.inputElement, {\n          'aria-invalid': 'true'\n        });\n      } else {\n        if (this.inputWrapper) {\n          removeClass([this.inputWrapper.container], ERROR$1);\n          attributes(this.inputElement, {\n            'aria-invalid': 'false'\n          });\n        }\n      }\n    }\n  }, {\n    key: \"keyCalendarUpdate\",\n    value: function keyCalendarUpdate(isLeftCalendar, ele) {\n      this.removeFocusedDate();\n\n      if (isLeftCalendar) {\n        this.leftCalCurrentDate = new Date(+this.currentDate);\n        ele = this.leftCalendar;\n      } else {\n        this.rightCalCurrentDate = new Date(+this.currentDate);\n        ele = this.rightCalendar;\n      }\n\n      this.updateCalendarElement(ele);\n      this.table.focus();\n      return ele;\n    }\n  }, {\n    key: \"navInCalendar\",\n    value: function navInCalendar(e, isLeftCalendar, leftLimit, rightLimit, ele) {\n      var view = this.getViewNumber(this.currentView());\n      var date;\n      var min = this.min;\n      var max;\n\n      if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n        max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n      } else {\n        max = this.max;\n      }\n\n      switch (e.action) {\n        case 'moveRight':\n          date = new Date(+this.currentDate);\n          this.addDay(date, 1, e, max, min);\n\n          if (isLeftCalendar && +date === +rightLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.keyboardNavigate(1, view, e, max, min);\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'moveLeft':\n          date = new Date(+this.currentDate);\n          this.addDay(date, -1, e, max, min);\n\n          if (!isLeftCalendar) {\n            if (+date === +leftLimit) {\n              ele = this.keyCalendarUpdate(true, ele);\n            }\n          }\n\n          this.keyboardNavigate(-1, view, e, max, min);\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'moveUp':\n          if (view === 0) {\n            date = new Date(+this.currentDate);\n            this.addDay(date, -7, e, max, min);\n\n            if (+date <= +leftLimit && !isLeftCalendar) {\n              ele = this.keyCalendarUpdate(true, ele);\n            }\n\n            this.keyboardNavigate(-7, view, e, max, min);\n          } else {\n            this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n          }\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'moveDown':\n          if (view === 0) {\n            date = new Date(+this.currentDate);\n            this.addDay(date, 7, e, max, min);\n\n            if (isLeftCalendar && +date >= +rightLimit) {\n              ele = this.keyCalendarUpdate(false, ele);\n            }\n\n            this.keyboardNavigate(7, view, e, max, min);\n          } else {\n            this.keyboardNavigate(4, view, e, this.max, this.min);\n          }\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'home':\n          this.currentDate = this.firstDay(this.currentDate);\n          remove(this.tableBodyElement);\n\n          if (view === 0) {\n            this.renderMonths(e);\n          } else if (view === 1) {\n            this.renderYears(e);\n          } else {\n            this.renderDecades(e);\n          }\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'end':\n          this.currentDate = this.lastDay(this.currentDate, view);\n          remove(this.tableBodyElement);\n\n          if (view === 0) {\n            this.renderMonths(e);\n          } else if (view === 1) {\n            this.renderYears(e);\n          } else {\n            this.renderDecades(e);\n          }\n\n          this.keyNavigation(ele, e);\n          break;\n      }\n    }\n  }, {\n    key: \"keyInputHandler\",\n    value: function keyInputHandler(e, value) {\n      var date;\n      var view = this.getViewNumber(this.currentView());\n      var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n      var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n      var ele = closest(e.target, '.' + RIGHTCALENDER);\n      ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n      var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n      this.updateCalendarElement(ele);\n      var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n      var startDate = ele.querySelector('tr td.' + STARTDATE);\n      var endDate = ele.querySelector('tr td.' + ENDDATE);\n      var depthValue = this.getViewNumber(this.depth);\n      var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n      var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n      var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n      var presetElement = closest(e.target, '.' + PRESETS);\n\n      if (!isNullOrUndefined(focusedDate)) {\n        // eslint-disable-next-line no-self-assign\n        this.currentDate = this.currentDate;\n      } else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n        this.currentDate = new Date(+this.endValue);\n      } else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n        this.currentDate = new Date(+this.startValue);\n      } else if (!this.dateDisabled) {\n        this.currentDate.setDate(1);\n      }\n\n      this.effect = '';\n\n      switch (e.action) {\n        case 'altUpArrow':\n          if (this.isPopupOpen()) {\n            this.hide(e);\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n          }\n\n          break;\n\n        case 'select':\n          if (levelRestrict) {\n            var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n\n            if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n              this.selectRange(null, element);\n            }\n          } else {\n            if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n              if (!isNullOrUndefined(this.value)) {\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                  value = this.startDate;\n                } else {\n                  value = this.endDate;\n                }\n              }\n\n              this.controlDown = e;\n              this.contentClick(null, --view, focusedDate || selectedDate, value);\n            }\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'controlHome':\n          {\n            var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n\n            if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n              ele = this.keyCalendarUpdate(true, ele);\n            }\n\n            _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n\n            this.keyNavigation(ele, e);\n          }\n          break;\n\n        case 'altRightArrow':\n          if (!isNullOrUndefined(leftCalendar)) {\n            this.rightCalendar.children[1].firstElementChild.focus();\n          } else if (!isNullOrUndefined(rightCalendar)) {\n            if (!isNullOrUndefined(this.presetElement)) {\n              this.presetElement.focus();\n              this.removeFocusedDate();\n            } else {\n              this.cancelButton.element.focus();\n            }\n          } else {\n            if (!isNullOrUndefined(presetElement)) {\n              this.cancelButton.element.focus();\n            }\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'altLeftArrow':\n          if (!isNullOrUndefined(leftCalendar)) {\n            if (this.applyButton.element.disabled !== true) {\n              this.applyButton.element.focus();\n            } else {\n              this.cancelButton.element.focus();\n            }\n          } else {\n            if (!isNullOrUndefined(rightCalendar)) {\n              this.leftCalendar.children[1].firstElementChild.focus();\n            }\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'controlUp':\n          if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n            this.calendarNavigation(e, this.calendarElement);\n          } else {\n            this.calendarNavigation(e, this.calendarElement);\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'controlDown':\n          if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n            if (!isNullOrUndefined(this.value)) {\n              if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                value = this.startDate;\n              } else {\n                value = this.endDate;\n              }\n            }\n\n            this.controlDown = e;\n            this.contentClick(null, --view, selectedDate || focusedDate, value);\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'controlEnd':\n          {\n            var _yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n\n            if (isLeftCalendar && +_yearDate > +rightDateLimit) {\n              ele = this.keyCalendarUpdate(false, ele);\n            }\n\n            _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n\n            this.keyNavigation(ele, e);\n          }\n          break;\n\n        case 'pageUp':\n          date = new Date(+this.currentDate);\n          this.addMonths(date, -1);\n\n          if (!isLeftCalendar && +date <= +leftDateLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          this.addMonths(this.currentDate, -1);\n\n          _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, 'Month', this.currentDate);\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'pageDown':\n          date = new Date(+this.currentDate);\n          this.addMonths(date, 1);\n\n          if (isLeftCalendar && +date >= +rightDateLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.addMonths(this.currentDate, 1);\n\n          _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, 'Month', this.currentDate);\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'shiftPageUp':\n          date = new Date(+this.currentDate);\n          this.addYears(date, -1);\n\n          if (!isLeftCalendar && +date <= +leftDateLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          this.addYears(this.currentDate, -1);\n\n          _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, 'Month', this.currentDate);\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'shiftPageDown':\n          date = new Date(+this.currentDate);\n          this.addYears(date, 1);\n\n          if (isLeftCalendar && +date >= +rightDateLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.addYears(this.currentDate, 1);\n\n          _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, 'Month', this.currentDate);\n\n          this.keyNavigation(ele, e);\n          break;\n\n        case 'shiftTab':\n          if (!isNullOrUndefined(this.presetElement)) {\n            this.presetElement.setAttribute('tabindex', '0');\n            this.presetElement.focus();\n            this.removeFocusedDate();\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'spacebar':\n          if (this.applyButton && !this.applyButton.disabled) {\n            this.applyFunction(e);\n          }\n\n          break;\n\n        default:\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n          this.checkMinMaxDays();\n      }\n\n      this.presetHeight();\n    }\n  }, {\n    key: \"keyNavigation\",\n    value: function keyNavigation(calendar, e) {\n      this.bindCalendarCellEvents(calendar);\n\n      if (calendar.classList.contains(LEFTCALENDER)) {\n        this.leftCalCurrentDate = new Date(+this.currentDate);\n      } else {\n        this.rightCalCurrentDate = new Date(+this.currentDate);\n      }\n\n      this.updateNavIcons();\n      this.calendarIconEvent();\n      this.updateRange([calendar]);\n      this.dateDisabled = this.isDateDisabled(this.currentDate);\n      e.preventDefault();\n    }\n  }, {\n    key: \"inputHandler\",\n    value: function inputHandler(e) {\n      switch (e.action) {\n        case 'altDownArrow':\n          if (!this.isPopupOpen()) {\n            if (this.inputElement.value === '') {\n              this.clear();\n              this.changeTrigger(e);\n              this.clearRange();\n            }\n\n            this.show(null, e);\n            this.isRangeIconClicked = false;\n\n            if (!this.isMobile) {\n              if (!isNullOrUndefined(this.leftCalendar)) {\n                this.calendarFocus();\n              }\n            }\n\n            this.isKeyPopup = true;\n          }\n\n          break;\n\n        case 'escape':\n          if (this.isPopupOpen()) {\n            this.hide(e);\n          }\n\n          break;\n\n        case 'enter':\n          if (document.activeElement === this.inputElement) {\n            this.inputBlurHandler(e);\n            this.hide(e);\n          }\n\n          break;\n\n        case 'tab':\n          if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n            this.hide(e);\n            e.preventDefault();\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"bindCalendarCellEvents\",\n    value: function bindCalendarCellEvents(calendar) {\n      var tdCells;\n\n      if (calendar) {\n        tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n      } else {\n        tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n      }\n\n      var _iterator4 = _createForOfIteratorHelper(tdCells),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var cell = _step4.value;\n          EventHandler.clearEvents(cell);\n          var disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n\n          if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n            if (!this.isMobile) {\n              EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n            }\n\n            EventHandler.add(cell, 'mousedown', this.selectRange, this);\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"removeFocusedDate\",\n    value: function removeFocusedDate() {\n      var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n      var focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n\n      var _iterator5 = _createForOfIteratorHelper(focusedDate),\n          _step5;\n\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var ele = _step5.value;\n          var today = new Date();\n          var eleDate = this.getIdValue(null, ele);\n\n          if (this.depth === 'Month' && this.currentView() === 'Month' && (!ele.classList.contains(TODAY$2) || ele.classList.contains(TODAY$2) && isDate) || this.depth === 'Year' && this.currentView() === 'Year' && (!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate) || isDate) || this.depth === 'Decade' && this.currentView() === 'Decade' && (!this.isSameYear(today, eleDate) || isDate)) {\n            ele.classList.remove(FOCUSDATE);\n\n            if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n              ele.removeAttribute('aria-label');\n            }\n          }\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n    }\n  }, {\n    key: \"hoverSelection\",\n    value: function hoverSelection(event, element) {\n      var currentElement = element || event.currentTarget;\n      var currentDate = this.getIdValue(null, currentElement);\n\n      if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n        if (!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue) && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n          var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n\n          var _iterator6 = _createForOfIteratorHelper(tdCells),\n              _step6;\n\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              var ele = _step6.value;\n              var isDisabledCell = !ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED);\n\n              if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n                var eleDate = this.getIdValue(null, ele);\n                var startDateValue = new Date(+this.startValue);\n                var eleDateValue = new Date(+eleDate);\n\n                if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                  addClass([ele], RANGEHOVER);\n                } else {\n                  removeClass([ele], [RANGEHOVER]);\n                }\n              }\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isSameStartEnd\",\n    value: function isSameStartEnd(startVal, endVal) {\n      var isSame = false;\n\n      if (this.depth === 'Month') {\n        if (startVal.setHours(0, 0, 0, 0) === endVal.setHours(0, 0, 0, 0)) {\n          isSame = true;\n        }\n      } else if (this.depth === 'Year') {\n        if (startVal.getFullYear() === endVal.getFullYear() && startVal.getMonth() === endVal.getMonth()) {\n          isSame = true;\n        }\n      } else if (this.depth === 'Decade') {\n        if (startVal.getFullYear() === endVal.getFullYear()) {\n          isSame = true;\n        }\n      }\n\n      return isSame;\n    }\n  }, {\n    key: \"updateRange\",\n    value: function updateRange(elementCollection) {\n      if (!isNullOrUndefined(this.startValue)) {\n        var _iterator7 = _createForOfIteratorHelper(elementCollection),\n            _step7;\n\n        try {\n          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n            var calendar = _step7.value;\n            var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n\n            var _iterator8 = _createForOfIteratorHelper(tdCells),\n                _step8;\n\n            try {\n              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                var ele = _step8.value;\n\n                if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n                  var eleDate = this.getIdValue(null, ele);\n                  var eleDateValue = this.getIdValue(null, ele);\n\n                  if (!isNullOrUndefined(this.endValue)) {\n                    if (this.currentView() === this.depth && +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) && !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) && +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                      addClass([ele], RANGEHOVER);\n                    }\n                  } else {\n                    removeClass([ele], [RANGEHOVER]);\n                  }\n\n                  if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) && +eleDateValue !== +this.endValue) {\n                    removeClass([ele], [SELECTED$3]);\n                    removeClass([ele], [ENDDATE]);\n                  }\n\n                  if (ele.classList.contains(RANGEHOVER) && +eleDateValue > +this.endValue) {\n                    removeClass([ele], [RANGEHOVER]);\n                  }\n\n                  if (!ele.classList.contains(OTHERMONTH$2)) {\n                    var startDateValue = new Date(+this.startValue);\n\n                    var _eleDateValue = new Date(+eleDate);\n\n                    if (this.currentView() === this.depth && +_eleDateValue.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0) && +_eleDateValue.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                      addClass([ele], [STARTDATE, SELECTED$3]);\n                      this.addSelectedAttributes(ele, this.startValue, true);\n                    }\n\n                    var endDateValue = new Date(+this.endValue);\n\n                    if (this.currentView() === 'Year') {\n                      _eleDateValue = new Date(_eleDateValue.getFullYear(), _eleDateValue.getMonth() + 1, 0);\n                    } else if (this.currentView() === 'Decade') {\n                      _eleDateValue = new Date(_eleDateValue.getFullYear(), 11, 31);\n                    }\n\n                    if (this.currentView() === this.depth && !isNullOrUndefined(this.endValue) && +_eleDateValue.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0) && +_eleDateValue.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                      addClass([ele], [ENDDATE, SELECTED$3]);\n                      this.addSelectedAttributes(ele, this.startValue, false);\n                    }\n\n                    if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                      this.addSelectedAttributes(ele, this.endValue, false, true);\n                    }\n                  }\n                }\n              }\n            } catch (err) {\n              _iterator8.e(err);\n            } finally {\n              _iterator8.f();\n            }\n          }\n        } catch (err) {\n          _iterator7.e(err);\n        } finally {\n          _iterator7.f();\n        }\n      }\n    }\n  }, {\n    key: \"checkMinMaxDays\",\n    value: function checkMinMaxDays() {\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n        if (!this.isMobile) {\n          this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n          this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n        } else {\n          this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n      }\n    }\n  }, {\n    key: \"rangeArgs\",\n    value: function rangeArgs(e) {\n      var inputValue;\n      var range;\n      var startDate = !isNullOrUndefined(this.startValue) ? this.globalize.formatDate(this.startValue, {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      }) : null;\n      var endDate = !isNullOrUndefined(this.endValue) ? this.globalize.formatDate(this.endValue, {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      }) : null;\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n        range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n      } else {\n        inputValue = '';\n        range = 0;\n      }\n\n      var args = {\n        value: this.value,\n        startDate: this.startValue,\n        endDate: this.endValue,\n        daySpan: range,\n        event: e || null,\n        element: this.element,\n        isInteracted: !isNullOrUndefined(e),\n        text: inputValue\n      };\n      return args;\n    }\n  }, {\n    key: \"otherMonthSelect\",\n    value: function otherMonthSelect(ele, isStartDate, sameDate) {\n      var value = +this.getIdValue(null, ele);\n      var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n      var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n\n      if (!isNullOrUndefined(tdCell)) {\n        if (isStartDate) {\n          addClass([tdCell], [STARTDATE, SELECTED$3]);\n          this.addSelectedAttributes(tdCell, this.startValue, true);\n        } else {\n          addClass([tdCell], [ENDDATE, SELECTED$3]);\n          this.addSelectedAttributes(tdCell, this.endValue, true);\n        }\n\n        if (sameDate) {\n          this.addSelectedAttributes(ele, this.endValue, false, true);\n        }\n      }\n    }\n  }, {\n    key: \"selectRange\",\n    value: function selectRange(event, element) {\n      var leftCalendar;\n      var rightCalendar;\n\n      if (event) {\n        event.preventDefault();\n      }\n\n      var date = isNullOrUndefined(event) ? this.getIdValue(null, element) : this.getIdValue(event, null);\n      var y = date.getFullYear();\n      var m = date.getMonth();\n      var firstDay = new Date(y, m, 1);\n      var lastDay = new Date(y, m + 1, 0);\n      var firstMonth = new Date(y, 0, 1);\n      var lastMonth = new Date(y, 11, 31);\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n          this.removeSelection();\n        }\n      } else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n        this.removeSelection();\n      }\n\n      var ele = element || event.currentTarget;\n\n      if (isNullOrUndefined(this.startValue)) {\n        if (!isNullOrUndefined(this.previousStartValue)) {\n          date.setHours(this.previousStartValue.getHours());\n          date.setMinutes(this.previousStartValue.getMinutes());\n          date.setSeconds(this.previousStartValue.getSeconds());\n        }\n\n        this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n        this.endValue = null;\n        this.setValue();\n        addClass([ele], STARTDATE);\n        this.addSelectedAttributes(ele, this.startValue, true);\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          this.otherMonthSelect(ele, true);\n        }\n\n        this.checkMinMaxDays();\n        this.applyButton.disabled = true;\n        this.applyButton.element.disabled = true;\n\n        if (this.isMobile) {\n          this.endButton.element.classList.add(ACTIVE$1);\n          this.startButton.element.classList.remove(ACTIVE$1);\n          this.endButton.element.removeAttribute('disabled');\n          this.selectableDates();\n        }\n\n        this.trigger('select', this.rangeArgs(event));\n      } else {\n        if (+date === +this.startValue || +date > +this.startValue) {\n          if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n            return;\n          }\n\n          this.endValue = null;\n          this.setValue();\n\n          if (this.isMobile || element) {\n            this.hoverSelection(event, element);\n          }\n\n          if (!isNullOrUndefined(this.previousEndValue)) {\n            date.setHours(this.previousEndValue.getHours());\n            date.setMinutes(this.previousEndValue.getMinutes());\n            date.setSeconds(this.previousEndValue.getSeconds());\n          }\n\n          this.endValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? lastDay : lastMonth;\n          this.setValue();\n          var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n          if (this.isMobile) {\n            this.startButton.element.classList.remove(ACTIVE$1);\n            this.endButton.element.classList.add(ACTIVE$1);\n\n            var _iterator9 = _createForOfIteratorHelper(endEle),\n                _step9;\n\n            try {\n              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                var _ele = _step9.value;\n\n                _ele.removeAttribute('aria-label');\n\n                if (!_ele.classList.contains(STARTDATE)) {\n                  _ele.setAttribute('aria-selected', 'false');\n\n                  removeClass([_ele], [ENDDATE, SELECTED$3]);\n                } else {\n                  this.addSelectedAttributes(_ele, this.startValue, true);\n                  removeClass([_ele], [ENDDATE]);\n                }\n              }\n            } catch (err) {\n              _iterator9.e(err);\n            } finally {\n              _iterator9.f();\n            }\n          }\n\n          addClass([ele], ENDDATE);\n\n          if (+this.endValue === +this.startValue) {\n            this.addSelectedAttributes(ele, this.endValue, false, true);\n          } else {\n            this.addSelectedAttributes(ele, this.endValue, false);\n          }\n\n          if (ele.classList.contains(OTHERMONTH$2)) {\n            if (+this.endValue === +this.startValue) {\n              this.otherMonthSelect(ele, false, true);\n            } else {\n              this.otherMonthSelect(ele, false);\n            }\n          }\n\n          endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n          var _iterator10 = _createForOfIteratorHelper(endEle),\n              _step10;\n\n          try {\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n              var _ele2 = _step10.value;\n\n              if (_ele2.classList.contains(STARTDATE)) {\n                removeClass([_ele2], [RANGEHOVER]);\n              }\n            }\n          } catch (err) {\n            _iterator10.e(err);\n          } finally {\n            _iterator10.f();\n          }\n\n          this.applyButton.disabled = false;\n          this.applyButton.element.disabled = false;\n\n          if (!this.isMobile) {\n            this.removeClassDisabled();\n          }\n\n          this.disabledDateRender();\n          this.trigger('select', this.rangeArgs(event));\n        } else if (+date < +this.startValue) {\n          this.removeClassDisabled();\n          this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n          this.setValue();\n          this.removeSelectedAttributes();\n          removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n          addClass([ele], STARTDATE);\n          this.addSelectedAttributes(ele, this.startValue, true);\n\n          if (ele.classList.contains(OTHERMONTH$2)) {\n            this.otherMonthSelect(ele, true);\n          }\n\n          this.checkMinMaxDays();\n        }\n      }\n\n      if (event) {\n        leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n      }\n\n      if (!isNullOrUndefined(leftCalendar)) {\n        this.leftCalendar.children[1].firstElementChild.focus();\n      } else {\n        if (event) {\n          rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n        }\n\n        if (!isNullOrUndefined(rightCalendar)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        }\n      }\n\n      addClass([ele], SELECTED$3);\n      this.updateHeader();\n      this.removeFocusedDate();\n    }\n  }, {\n    key: \"selectableDates\",\n    value: function selectableDates() {\n      if (!isNullOrUndefined(this.startValue)) {\n        var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n        var isStartDate = false;\n\n        if (this.currentView() === this.depth) {\n          var _iterator11 = _createForOfIteratorHelper(tdCells),\n              _step11;\n\n          try {\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              var ele = _step11.value;\n\n              if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                if (!ele.classList.contains(DISABLED$2)) {\n                  var eleDate = this.getIdValue(null, ele);\n\n                  if (+eleDate < +this.startValue) {\n                    addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                    EventHandler.clearEvents(ele);\n                    continue;\n                  } else {\n                    break;\n                  }\n                }\n              }\n\n              if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n                isStartDate = true;\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n\n          if (isStartDate) {\n            if (!this.previousIcon.classList.contains(DISABLED$2)) {\n              addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n          }\n        } else {\n          var _iterator12 = _createForOfIteratorHelper(tdCells),\n              _step12;\n\n          try {\n            for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n              var _ele3 = _step12.value;\n              var startMonth = this.startValue.getMonth();\n              var startYear = this.startValue.getFullYear();\n              var element = this.getIdValue(null, _ele3);\n\n              if (!this.startButton.element.classList.contains(ACTIVE$1) && (this.currentView() === 'Year' && element.getMonth() < startMonth && element.getFullYear() <= startYear || this.currentView() === 'Decade' && element.getMonth() <= startMonth && element.getFullYear() < startYear)) {\n                addClass([_ele3], [DISABLED$2]);\n              } else {\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator12.e(err);\n          } finally {\n            _iterator12.f();\n          }\n\n          if (tdCells[0].classList.contains(DISABLED$2)) {\n            this.previousIconHandler(true);\n          } else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n            this.nextIconHandler(true);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateMinMaxDays\",\n    value: function updateMinMaxDays(calendar) {\n      if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue) || this.isMobile && this.endButton.element.classList.contains(ACTIVE$1)) {\n        if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n          var startValueSelected = this.removeTimeValueFromDate(this.startValue);\n          var minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n          var maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n          minDate = !isNullOrUndefined(this.minDays) && this.minDays > 0 ? minDate : null;\n          maxDate = !isNullOrUndefined(this.maxDays) && this.maxDays > 0 ? maxDate : null;\n\n          if (this.currentView() === 'Year') {\n            minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n            maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n          } else if (this.currentView() === 'Decade') {\n            minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n            maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n          }\n\n          var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n          var maxEle;\n\n          var _iterator13 = _createForOfIteratorHelper(tdCells),\n              _step13;\n\n          try {\n            for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n              var ele = _step13.value;\n\n              if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                var eleDate = this.getIdValue(null, ele);\n                eleDate = this.removeTimeValueFromDate(eleDate);\n\n                if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n                  minDate.setDate(minDate.getDate() + 1);\n                }\n\n                if (!ele.classList.contains(DISABLED$2)) {\n                  if (+eleDate <= +startValueSelected) {\n                    continue;\n                  }\n\n                  if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                    addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                    EventHandler.clearEvents(ele);\n                  }\n\n                  if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                    addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                    this.isMaxDaysClicked = true;\n                    EventHandler.clearEvents(ele);\n\n                    if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                      maxEle = ele;\n                    }\n                  }\n                }\n              }\n            }\n          } catch (err) {\n            _iterator13.e(err);\n          } finally {\n            _iterator13.f();\n          }\n\n          if (!isNullOrUndefined(maxEle)) {\n            if (this.isMobile) {\n              if (!this.nextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            } else {\n              var _calendar2 = closest(maxEle, '.' + RIGHTCALENDER);\n\n              _calendar2 = isNullOrUndefined(_calendar2) ? this.leftCalendar : _calendar2;\n\n              var isLeftCalendar = _calendar2.classList.contains(LEFTCALENDER);\n\n              if (!isLeftCalendar) {\n                if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                  addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                }\n              } else {\n                if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                  addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                }\n\n                if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                  addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                }\n\n                if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                  addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                }\n              }\n            }\n          }\n        }\n      } else {\n        this.isMaxDaysClicked = false;\n      }\n    }\n  }, {\n    key: \"removeTimeValueFromDate\",\n    value: function removeTimeValueFromDate(value) {\n      var dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n      return dateValue;\n    }\n  }, {\n    key: \"removeClassDisabled\",\n    value: function removeClassDisabled() {\n      var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n\n      var _iterator14 = _createForOfIteratorHelper(tdCells),\n          _step14;\n\n      try {\n        for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n          var ele = _step14.value;\n\n          if (ele.classList.contains(DATEDISABLED)) {\n            removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n            EventHandler.add(ele, 'click', this.selectRange, this);\n\n            if (!this.isMobile) {\n              EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator14.e(err);\n      } finally {\n        _iterator14.f();\n      }\n\n      if (this.isMobile) {\n        if (this.nextIcon.classList.contains(ICONDISABLED)) {\n          removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n        }\n\n        if (this.previousIcon.classList.contains(ICONDISABLED)) {\n          removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n        }\n      } else {\n        if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n          removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n        }\n\n        if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n          removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n        }\n\n        if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n          removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n        }\n      }\n    }\n  }, {\n    key: \"updateHeader\",\n    value: function updateHeader() {\n      var format = {\n        type: 'date',\n        skeleton: 'yMMMd'\n      };\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        var range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n        if (!isNullOrUndefined(this.disabledDayCnt)) {\n          range = range - this.disabledDayCnt;\n          this.disabledDayCnt = null;\n        }\n\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n      } else {\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n      }\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n          this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n        } else {\n          this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n        }\n\n        if (!isNullOrUndefined(this.startValue)) {\n          this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n        } else {\n          this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n        }\n      } else {\n        if (!isNullOrUndefined(this.startValue)) {\n          this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n        } else {\n          this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n        }\n\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n          this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n        } else {\n          this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n        }\n      }\n\n      if (this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue) || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n        if (!this.isMobile) {\n          this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n          this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n          this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n        } else {\n          this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n          this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n          this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n      }\n\n      if (this.popupObj.element.querySelector('#custom_range')) {\n        this.popupObj.element.querySelector('#custom_range').textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n      }\n    }\n  }, {\n    key: \"removeSelection\",\n    value: function removeSelection() {\n      this.startValue = null;\n      this.endValue = null;\n      this.setValue();\n      this.removeSelectedAttributes();\n\n      if (this.popupObj) {\n        if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n          removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n        }\n\n        if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n          removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n        }\n\n        if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n          removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n        }\n      }\n    }\n  }, {\n    key: \"addSelectedAttributes\",\n    value: function addSelectedAttributes(ele, date, isStartDate, sameDate) {\n      if (ele) {\n        var title = this.globalize.formatDate(date, {\n          type: 'date',\n          skeleton: 'full'\n        });\n\n        if (!isNullOrUndefined(sameDate) && sameDate) {\n          ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n        } else {\n          ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n        }\n\n        ele.setAttribute('aria-selected', 'true');\n      }\n    }\n  }, {\n    key: \"removeSelectedAttributes\",\n    value: function removeSelectedAttributes() {\n      if (this.popupObj) {\n        var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n\n        var _iterator15 = _createForOfIteratorHelper(start),\n            _step15;\n\n        try {\n          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n            var ele = _step15.value;\n            ele.setAttribute('aria-selected', 'false');\n            ele.removeAttribute('aria-label');\n          }\n        } catch (err) {\n          _iterator15.e(err);\n        } finally {\n          _iterator15.f();\n        }\n\n        var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        var _iterator16 = _createForOfIteratorHelper(end),\n            _step16;\n\n        try {\n          for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n            var _ele4 = _step16.value;\n\n            _ele4.setAttribute('aria-selected', 'false');\n\n            _ele4.removeAttribute('aria-label');\n          }\n        } catch (err) {\n          _iterator16.e(err);\n        } finally {\n          _iterator16.f();\n        }\n      }\n    }\n  }, {\n    key: \"updateCalendarElement\",\n    value: function updateCalendarElement(calendar) {\n      if (calendar.classList.contains(LEFTCALENDER)) {\n        this.calendarElement = this.leftCalendar;\n        this.currentDate = this.leftCalCurrentDate;\n        this.previousIcon = this.leftCalPrevIcon;\n        this.nextIcon = this.leftCalNextIcon;\n      } else {\n        this.calendarElement = this.rightCalendar;\n        this.currentDate = this.rightCalCurrentDate;\n        this.previousIcon = this.rightCalPrevIcon;\n        this.nextIcon = this.rightCalNextIcon;\n      }\n\n      this.contentElement = calendar.querySelector('.' + CONTENT$1);\n      this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n      this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n      this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n      this.headerElement = calendar.querySelector('.' + HEADER$1);\n    }\n  }, {\n    key: \"navPrevMonth\",\n    value: function navPrevMonth(e) {\n      e.preventDefault();\n      var ele = closest(e.target, '.' + LEFTCALENDER);\n      ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n      this.updateCalendarElement(ele);\n      this.navigatePrevious(e);\n\n      if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        this.updateMinMaxDays(ele);\n      }\n\n      this.updateControl(ele);\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"deviceNavigation\",\n    value: function deviceNavigation(ele) {\n      this.deviceCalendarEvent();\n      this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n\n      if (this.endButton.element.classList.contains(ACTIVE$1)) {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      }\n\n      if (this.endButton.element.classList.contains(ACTIVE$1)) {\n        this.selectableDates();\n      }\n\n      if (this.currentView() === this.depth) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n    }\n  }, {\n    key: \"updateControl\",\n    value: function updateControl(calendar) {\n      if (calendar.classList.contains(RIGHTCALENDER)) {\n        this.rightCalCurrentDate = new Date(+this.currentDate);\n      } else {\n        this.leftCalCurrentDate = new Date(+this.currentDate);\n      }\n\n      this.calendarIconEvent();\n\n      if (this.depth === 'Month' && this.leftCalendar.querySelector('.e-content').classList.contains('e-month') && this.rightCalendar.querySelector('.e-content').classList.contains('e-month') || this.depth === 'Year' && this.leftCalendar.querySelector('.e-content').classList.contains('e-year') && this.rightCalendar.querySelector('.e-content').classList.contains('e-year') || this.depth === 'Decade' && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade') && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade') || this.isMobile) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n      this.updateRange([calendar]);\n    }\n  }, {\n    key: \"navNextMonth\",\n    value: function navNextMonth(event) {\n      event.preventDefault();\n      var ele = closest(event.target, '.' + LEFTCALENDER);\n      ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n      this.updateCalendarElement(ele);\n      this.navigateNext(event);\n\n      if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        this.updateMinMaxDays(ele);\n      }\n\n      this.updateControl(ele);\n    }\n  }, {\n    key: \"isPopupOpen\",\n    value: function isPopupOpen() {\n      if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"createRangeHeader\",\n    value: function createRangeHeader() {\n      var labelContainer = this.createElement('div', {\n        className: STARTENDCONTAINER\n      });\n\n      if (!this.isMobile) {\n        var startLabel = this.createElement('a', {\n          className: STARTLABEL\n        });\n        var endLabel = this.createElement('a', {\n          className: ENDLABEL\n        });\n        var changeIcon = this.createElement('span', {\n          className: CHANGEICON\n        });\n        attributes(startLabel, {\n          'aria-atomic': 'true',\n          'aria-live': 'assertive',\n          'aria-label': 'Start Date',\n          'role': 'button'\n        });\n        attributes(endLabel, {\n          'aria-atomic': 'true',\n          'aria-live': 'assertive',\n          'aria-label': 'End Date',\n          'role': 'button'\n        });\n        labelContainer.appendChild(startLabel);\n        labelContainer.appendChild(changeIcon);\n        labelContainer.appendChild(endLabel);\n        startLabel.textContent = this.l10n.getConstant('startLabel');\n        endLabel.textContent = this.l10n.getConstant('endLabel');\n      } else {\n        var endBtn = this.createElement('button', {\n          className: ENDBUTTON\n        });\n        var startBtn = this.createElement('button', {\n          className: STARTBUTTON\n        });\n        this.startButton = new Button({\n          content: this.l10n.getConstant('startLabel')\n        }, startBtn);\n        this.endButton = new Button({\n          content: this.l10n.getConstant('endLabel')\n        }, endBtn);\n        labelContainer.appendChild(startBtn);\n        labelContainer.appendChild(endBtn);\n      }\n\n      return labelContainer;\n    }\n  }, {\n    key: \"disableInput\",\n    value: function disableInput() {\n      if (this.strictMode) {\n        if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n          this.startValue = this.previousStartValue;\n          this.endValue = this.previousEndValue;\n          this.setValue();\n          this.updateInput();\n        }\n      } else {\n        this.updateInput();\n        this.clearRange();\n        this.setProperties({\n          startDate: null\n        }, true);\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.errorClass();\n      }\n\n      this.setProperties({\n        enabled: false\n      }, true);\n      Input.setEnabled(this.enabled, this.inputElement);\n      this.bindEvents();\n    }\n  }, {\n    key: \"validateMinMax\",\n    value: function validateMinMax() {\n      this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n      this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n      if (!(this.min <= this.max)) {\n        this.disableInput();\n        return;\n      }\n\n      if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n        if (this.maxDays > 0 && this.minDays > 0 && this.minDays > this.maxDays) {\n          this.maxDays = null;\n        }\n      }\n\n      if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n        this.minDays = null;\n      }\n\n      if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n        this.maxDays = null;\n      }\n    }\n  }, {\n    key: \"validateRangeStrict\",\n    value: function validateRangeStrict() {\n      if (!isNullOrUndefined(this.startValue)) {\n        if (+this.startValue <= +this.min) {\n          this.startValue = this.min;\n          this.setValue();\n        } else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n          this.startValue = this.max;\n        }\n      }\n\n      if (!isNullOrUndefined(this.endValue)) {\n        if (+this.endValue > +this.max) {\n          this.endValue = this.max;\n          this.setValue();\n        } else if (+this.endValue < +this.min) {\n          this.endValue = this.min;\n          this.setValue();\n        }\n      }\n\n      this.validateMinMaxDays();\n    }\n  }, {\n    key: \"validateRange\",\n    value: function validateRange() {\n      this.validateMinMaxDays();\n    }\n  }, {\n    key: \"validateMinMaxDays\",\n    value: function validateMinMaxDays() {\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        var range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n        if (!isNullOrUndefined(this.minDays) && this.minDays > 0 && !(range >= this.minDays)) {\n          if (this.strictMode) {\n            var date = new Date(+this.startValue);\n            date.setDate(date.getDate() + (this.minDays - 1));\n\n            if (+date > +this.max) {\n              this.endValue = this.max;\n              this.setValue();\n            } else {\n              this.endValue = date;\n              this.setValue();\n            }\n          } else {\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays > 0 && !(range <= this.maxDays)) {\n          if (this.strictMode) {\n            this.endValue = new Date(+this.startValue);\n            this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n            this.setValue();\n          } else {\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"renderCalendar\",\n    value: function renderCalendar() {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(CALENDAR);\n\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL$1);\n      }\n\n      attributes(this.calendarElement, {\n        'role': 'calendar'\n      });\n\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"createHeader\", this).call(this);\n\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"createContent\", this).call(this);\n    }\n  }, {\n    key: \"isSameMonth\",\n    value: function isSameMonth(start, end) {\n      if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isSameYear\",\n    value: function isSameYear(start, end) {\n      if (start.getFullYear() === end.getFullYear()) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isSameDecade\",\n    value: function isSameDecade(start, end) {\n      var startYear = start.getFullYear();\n      var endYear = end.getFullYear();\n\n      if (startYear - startYear % 10 === endYear - endYear % 10) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"startMonthCurrentDate\",\n    value: function startMonthCurrentDate() {\n      if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n        this.currentDate = new Date(+this.max);\n        this.currentDate.setDate(1);\n        this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n      } else if (this.currentDate < this.min) {\n        this.currentDate = new Date(this.checkValue(this.min));\n      }\n    }\n  }, {\n    key: \"selectNextMonth\",\n    value: function selectNextMonth() {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(+this.endValue);\n      } else {\n        this.currentDate.setDate(1);\n        this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n        return;\n      }\n\n      if (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        this.currentDate.setDate(1);\n        var month = this.currentDate.getMonth() + 1;\n        this.currentDate.setMonth(month);\n      }\n    }\n  }, {\n    key: \"selectNextYear\",\n    value: function selectNextYear() {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(+this.endValue);\n      } else {\n        this.currentDate.setMonth(0);\n        var yr = this.currentDate.getFullYear() + 1;\n        this.currentDate.setFullYear(yr);\n        return;\n      }\n\n      if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        this.currentDate.setMonth(0);\n        this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n      }\n    }\n  }, {\n    key: \"selectNextDecade\",\n    value: function selectNextDecade() {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(+this.endValue);\n      } else {\n        var decyr = this.currentDate.getFullYear() + 10;\n        this.currentDate.setFullYear(decyr);\n        return;\n      }\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n      }\n    }\n  }, {\n    key: \"selectStartMonth\",\n    value: function selectStartMonth() {\n      if (!isNullOrUndefined(this.startValue)) {\n        if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n          this.currentDate = new Date(+this.max);\n          this.currentDate.setDate(1);\n          this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        } else if (!(this.startValue >= this.min && this.startValue <= this.max) || this.isDateDisabled(this.startValue)) {\n          this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        } else {\n          this.currentDate = new Date(+this.startValue);\n        }\n      } else {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        this.startMonthCurrentDate();\n      }\n\n      if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      }\n\n      this.startMonthCurrentDate();\n    }\n  }, {\n    key: \"createCalendar\",\n    value: function createCalendar() {\n      var calendarContainer = this.createElement('div', {\n        className: CALENDARCONTAINER\n      });\n\n      if (!this.isMobile) {\n        this.selectStartMonth();\n        this.renderCalendar();\n        this.leftCalCurrentDate = new Date(+this.currentDate);\n        this.calendarElement.classList.add(LEFTCALENDER);\n        this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n        this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n        this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n        remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n        this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n        this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n        prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n        this.leftCalendar = this.calendarElement;\n        var leftContainer = this.createElement('div', {\n          className: LEFTCONTAINER\n        });\n        var rightContainer = this.createElement('div', {\n          className: RIGHTCONTAINER\n        });\n        leftContainer.appendChild(this.leftCalendar);\n        calendarContainer.appendChild(leftContainer);\n\n        if (!this.isMobile) {\n          EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n        }\n\n        if (this.start === 'Month') {\n          this.selectNextMonth();\n        }\n\n        if (this.start === 'Year') {\n          this.selectNextYear();\n        }\n\n        if (this.start === 'Decade') {\n          this.selectNextDecade();\n        }\n\n        this.renderCalendar();\n        this.rightCalCurrentDate = new Date(+this.currentDate);\n        addClass([this.calendarElement], RIGHTCALENDER);\n        this.rightCalendar = this.calendarElement;\n        removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n        removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n        this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n        this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n        this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n        remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n        this.calendarElement.querySelector('table').setAttribute('tabindex', '-1');\n        this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n        this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n        prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n        rightContainer.appendChild(this.rightCalendar);\n        calendarContainer.appendChild(rightContainer);\n\n        if (!this.isMobile) {\n          EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n        }\n      } else {\n        if (!isNullOrUndefined(this.startValue)) {\n          this.currentDate = new Date(+this.startValue);\n        }\n\n        _get(_getPrototypeOf(DateRangePicker.prototype), \"validateDate\", this).call(this);\n\n        _get(_getPrototypeOf(DateRangePicker.prototype), \"minMaxUpdate\", this).call(this);\n\n        _get(_getPrototypeOf(DateRangePicker.prototype), \"render\", this).call(this);\n\n        var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n        var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n        remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n        this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n        this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n        prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n        this.deviceCalendar = this.calendarElement;\n        calendarContainer.appendChild(this.calendarElement);\n        this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n      }\n\n      return calendarContainer;\n    }\n  }, {\n    key: \"leftNavTitle\",\n    value: function leftNavTitle(e) {\n      if (this.isPopupOpen()) {\n        this.calendarElement = this.leftCalendar;\n        this.calendarNavigation(e, this.calendarElement);\n      }\n    }\n  }, {\n    key: \"calendarNavigation\",\n    value: function calendarNavigation(e, element) {\n      this.table = element.querySelector('table');\n      this.headerTitleElement = element.querySelector('.e-title');\n      this.tableBodyElement = element.querySelector('tbody');\n      this.tableHeadElement = element.querySelector('thead');\n      this.contentElement = element.querySelector('.e-content');\n      this.updateCalendarElement(element);\n\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTitle\", this).call(this, e);\n\n      this.updateNavIcons();\n    }\n  }, {\n    key: \"rightNavTitle\",\n    value: function rightNavTitle(e) {\n      if (this.isPopupOpen()) {\n        this.calendarElement = this.rightCalendar;\n        this.calendarNavigation(e, this.calendarElement);\n      }\n    }\n  }, {\n    key: \"clickEventEmitter\",\n    value: function clickEventEmitter(e) {\n      if (!this.isMobile) {\n        if (closest(e.target, '.e-calendar.e-left-calendar')) {\n          this.calendarElement = this.leftCalendar;\n          this.updateCalendarElement(this.leftCalendar);\n        } else {\n          this.calendarElement = this.rightCalendar;\n          this.updateCalendarElement(this.rightCalendar);\n        }\n      }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @private\n     * @hidden\n     */\n\n  }, {\n    key: \"currentView\",\n    value: function currentView() {\n      return _get(_getPrototypeOf(DateRangePicker.prototype), \"currentView\", this).call(this);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  }, {\n    key: \"getCalendarView\",\n    value: function getCalendarView(view) {\n      if (view === 'Year') {\n        return 'Year';\n      } else if (view === 'Decade') {\n        return 'Decade';\n      } else {\n        return 'Month';\n      }\n    }\n  }, {\n    key: \"navigatedEvent\",\n    value: function navigatedEvent(e) {\n      this.trigger('navigated', this.navigatedArgs);\n\n      if (!isNullOrUndefined(this.popupObj)) {\n        var element;\n        var view = this.getCalendarView(this.currentView());\n\n        if (this.isMobile) {\n          if (view === this.depth) {\n            this.bindCalendarCellEvents();\n            this.deviceNavigation();\n            this.removeFocusedDate();\n            this.checkMinMaxDays();\n          } else {\n            this.selectableDates();\n          }\n        } else {\n          if (!this.isMobile && view === this.depth) {\n            element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n\n            if (element === this.leftCalendar && (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown))) {\n              this.leftCalCurrentDate = new Date(+this.currentDate);\n              this.effect = '';\n              this.currentDate = this.leftCalCurrentDate;\n              this.updateCalendarElement(this.leftCalendar);\n              this.updateControl(this.leftCalendar);\n              this.updateCalendarElement(this.rightCalendar);\n\n              _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, this.rightCalCurrentDate);\n\n              this.updateControl(this.rightCalendar);\n              this.updateNavIcons();\n              this.calendarIconEvent();\n              this.calendarIconRipple();\n              this.controlDown = null;\n            } else if (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown)) {\n              this.rightCalCurrentDate = new Date(+this.currentDate);\n              this.effect = '';\n              this.currentDate = this.rightCalCurrentDate;\n              this.updateCalendarElement(this.rightCalendar);\n              this.updateControl(this.rightCalendar);\n              this.updateCalendarElement(this.leftCalendar);\n\n              if (this.startValue && isNullOrUndefined(this.endValue)) {\n                if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() && this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                  _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, new Date(+this.startValue));\n                } else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                  _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, new Date(+this.startValue));\n                } else {\n                  _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, this.leftCalCurrentDate);\n                }\n              } else {\n                _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, this.leftCalCurrentDate);\n              }\n\n              this.updateControl(this.leftCalendar);\n              this.updateNavIcons();\n              this.calendarIconEvent();\n              this.calendarIconRipple();\n              this.controlDown = null;\n            }\n\n            this.checkMinMaxDays();\n          } else {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createControl\",\n    value: function createControl() {\n      var controlContainer = this.createElement('div', {\n        className: RANGECONTAINER\n      });\n      var headerContainer = this.createElement('div', {\n        className: RANGEHEADER\n      });\n      var labelContainer = this.createRangeHeader();\n      headerContainer.appendChild(labelContainer);\n      var daySpan = this.createElement('div', {\n        className: DAYSPAN\n      });\n      attributes(daySpan, {\n        'aria-label': 'Selected Days'\n      });\n      daySpan.textContent = this.l10n.getConstant('selectedDays');\n      headerContainer.appendChild(daySpan);\n      var separator = this.createElement('div', {\n        className: SEPARATOR\n      });\n      var calendarContainer = this.createCalendar();\n      controlContainer.appendChild(headerContainer);\n      controlContainer.appendChild(separator);\n      controlContainer.appendChild(calendarContainer);\n      var footerSection = this.createElement('div', {\n        className: FOOTER$1\n      });\n      var cancelBtn = this.createElement('button', {\n        className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1\n      });\n      var applyBtn = this.createElement('button');\n      addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n      footerSection.appendChild(applyBtn);\n      footerSection.appendChild(cancelBtn);\n      var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n      this.cancelButton = new Button({\n        content: this.l10n.getConstant('cancelText')\n      }, cancelBtn);\n      this.applyButton = new Button({\n        content: this.l10n.getConstant('applyText'),\n        disabled: !enable\n      }, applyBtn);\n      EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n      EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n      this.popupWrapper.appendChild(controlContainer);\n\n      if (!this.isMobile) {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n          this.createPresets();\n          this.listRippleEffect();\n          addClass([controlContainer], RANGEBORDER);\n          addClass([this.popupWrapper], 'e-preset-wrapper');\n          var presets = this.popupWrapper.querySelector('.' + PRESETS);\n          presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n        }\n      }\n\n      this.popupWrapper.appendChild(footerSection);\n\n      if (this.isMobile) {\n        this.deviceHeaderUpdate();\n      }\n\n      this.renderPopup();\n    }\n  }, {\n    key: \"cancelFunction\",\n    value: function cancelFunction(eve) {\n      if (document.activeElement !== this.inputElement) {\n        this.preventFocus = true;\n        this.inputElement.focus();\n        addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      }\n\n      eve.preventDefault();\n\n      if (this.isKeyPopup) {\n        this.inputElement.focus();\n        this.isKeyPopup = false;\n      }\n\n      this.startValue = null;\n      this.endValue = null;\n      this.removeSelection();\n      this.hide(eve);\n    }\n  }, {\n    key: \"deviceHeaderUpdate\",\n    value: function deviceHeaderUpdate() {\n      if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        this.endButton.element.setAttribute('disabled', '');\n        this.startButton.element.classList.add(ACTIVE$1);\n      } else if (!isNullOrUndefined(this.startValue)) {\n        this.startButton.element.classList.add(ACTIVE$1);\n      }\n    }\n  }, {\n    key: \"applyFunction\",\n    value: function applyFunction(eve) {\n      var isValueChanged = false;\n\n      if (eve.type !== 'touchstart') {\n        eve.preventDefault();\n      }\n\n      if (this.closeEventArgs && this.closeEventArgs.cancel) {\n        this.startValue = this.popupWrapper.querySelector('.e-start-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n        this.endValue = this.popupWrapper.querySelector('.e-end-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n        this.setValue();\n      }\n\n      if (document.activeElement !== this.inputElement) {\n        this.preventFocus = true;\n        this.inputElement.focus();\n        addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      }\n\n      if (eve.type !== 'touchstart' && this.closeEventArgs && !this.closeEventArgs.cancel) {\n        eve.preventDefault();\n      }\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        this.previousStartValue = new Date(+this.startValue);\n        this.previousEndValue = new Date(+this.endValue);\n        this.previousEleValue = this.inputElement.value;\n        Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n          isValueChanged = true;\n        }\n\n        this.changeTrigger(eve);\n        this.hide(eve ? eve : null);\n        this.errorClass();\n        isValueChanged = true;\n      } else {\n        this.hide(eve ? eve : null);\n      }\n\n      if (!closest(eve.target, '.' + INPUTCONTAINER$1) && !isValueChanged) {\n        this.focusOut();\n      }\n\n      if (!this.isMobile) {\n        this.isKeyPopup = false;\n\n        if (this.isRangeIconClicked) {\n          this.inputWrapper.container.children[1].focus();\n          this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n          this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyConfigs: this.keyInputConfigs,\n            keyAction: this.popupKeyActionHandle.bind(this)\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onMouseClick\",\n    value: function onMouseClick(event, item) {\n      if (event.type === 'touchstart') {\n        return;\n      }\n\n      var target = item || event.target;\n      var li = closest(target, '.' + LISTCLASS);\n      var isClick = li && li.classList.contains(ACTIVE$1);\n\n      if (li && li.classList.contains(LISTCLASS)) {\n        this.setListSelection(li, event);\n      }\n\n      this.preventFocus = true;\n      this.inputElement.focus();\n\n      if (!this.isMobile) {\n        this.preventFocus = true;\n\n        if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n          this.leftCalendar.children[1].firstElementChild.focus();\n        } else {\n          if (!isClick && event.type === 'keydown') {\n            this.inputElement.focus();\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onMouseOver\",\n    value: function onMouseOver(event) {\n      var li = closest(event.target, '.' + LISTCLASS);\n\n      if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n        addClass([li], HOVER);\n      }\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave(event) {\n      var item = closest(event.target, '.' + HOVER);\n\n      if (!isNullOrUndefined(item)) {\n        removeClass([item], HOVER);\n      }\n    }\n  }, {\n    key: \"setListSelection\",\n    value: function setListSelection(li, event) {\n      if (li && (!li.classList.contains(ACTIVE$1) || this.isMobile && li.classList.contains(ACTIVE$1))) {\n        if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n          this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n          var _values = this.presetsItem[this.activeIndex];\n\n          if (_values.id === 'custom_range') {\n            this.renderCustomPopup();\n            return;\n          }\n\n          return;\n        }\n\n        this.removeListSelection();\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        addClass([li], ACTIVE$1);\n        li.setAttribute('aria-selected', 'true');\n        var values = this.presetsItem[this.activeIndex];\n\n        if (values.id === 'custom_range') {\n          this.renderCustomPopup();\n        } else {\n          this.applyPresetRange(values, event);\n        }\n      }\n    }\n  }, {\n    key: \"removeListSelection\",\n    value: function removeListSelection() {\n      var item = this.presetElement.querySelector('.' + ACTIVE$1);\n\n      if (!isNullOrUndefined(item)) {\n        removeClass([item], ACTIVE$1);\n        item.removeAttribute('aria-selected');\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue() {\n      this.modelValue = [this.startValue, this.endValue];\n    }\n  }, {\n    key: \"applyPresetRange\",\n    value: function applyPresetRange(values, e) {\n      this.hide(null);\n      this.presetsItem[this.presetsItem.length - 1].start = null;\n      this.presetsItem[this.presetsItem.length - 1].end = null;\n      this.startValue = values.start;\n      this.endValue = values.end;\n      this.setValue();\n      this.refreshControl();\n      this.trigger('select', this.rangeArgs(e));\n      this.changeTrigger(e);\n      this.previousEleValue = this.inputElement.value;\n      this.isCustomRange = false;\n      this.leftCalendar = this.rightCalendar = null;\n\n      if (this.isKeyPopup) {\n        this.isRangeIconClicked = false;\n        this.inputElement.focus();\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"showPopup\",\n    value: function showPopup(element, event) {\n      this.presetHeight();\n\n      if (this.zIndex === 1000) {\n        this.popupObj.show(null, this.element);\n      } else {\n        this.popupObj.show(null, null);\n      }\n\n      if (this.isMobile) {\n        this.popupObj.refreshPosition();\n      }\n    }\n  }, {\n    key: \"renderCustomPopup\",\n    value: function renderCustomPopup() {\n      this.isCustomWindow = true;\n      this.popupObj.hide();\n      this.popupWrapper = this.createElement('div', {\n        id: this.element.id + '_popup',\n        className: ROOT$2 + ' ' + POPUP$1\n      });\n      this.renderControl();\n      this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n      this.showPopup();\n      this.isCustomRange = true;\n\n      if (!this.isMobile) {\n        this.calendarFocus();\n      }\n    }\n  }, {\n    key: \"listRippleEffect\",\n    value: function listRippleEffect() {\n      var _iterator17 = _createForOfIteratorHelper(this.liCollections),\n          _step17;\n\n      try {\n        for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n          var li = _step17.value;\n          rippleEffect(li);\n        }\n      } catch (err) {\n        _iterator17.e(err);\n      } finally {\n        _iterator17.f();\n      }\n    }\n  }, {\n    key: \"createPresets\",\n    value: function createPresets() {\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n        this.presetElement = this.createElement('div', {\n          className: PRESETS,\n          attrs: {\n            'tabindex': '0'\n          }\n        });\n        var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n        attributes(listTag, {\n          'role': 'listbox',\n          'aria-hidden': 'false',\n          'id': this.element.id + '_options'\n        });\n        this.presetElement.appendChild(listTag);\n        this.popupWrapper.appendChild(this.presetElement);\n        var customElement = this.presetElement.querySelector('#custom_range');\n\n        if (!isNullOrUndefined(customElement)) {\n          customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n\n        this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n        this.wireListEvents();\n\n        if (this.isMobile) {\n          this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n        }\n\n        if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n          addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n        }\n      }\n    }\n  }, {\n    key: \"wireListEvents\",\n    value: function wireListEvents() {\n      EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  }, {\n    key: \"unWireListEvents\",\n    value: function unWireListEvents() {\n      if (!isNullOrUndefined(this.presetElement)) {\n        EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n\n        if (!this.isMobile) {\n          EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n          EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n        }\n      }\n    }\n  }, {\n    key: \"renderPopup\",\n    value: function renderPopup() {\n      var _this9 = this;\n\n      this.popupWrapper.classList.add('e-control');\n      var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n\n      if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n        this.popupWrapper.className += ' ' + this.cssClass;\n      }\n\n      if (this.isMobile && this.isCustomWindow) {\n        this.modal = this.createElement('div');\n        document.body.appendChild(this.modal);\n      }\n\n      this.popupObj = new Popup(this.popupWrapper, {\n        relateTo: this.isMobile && this.isCustomWindow ? document.body : !isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container,\n        position: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n          X: 'left',\n          Y: 'bottom'\n        } : {\n          X: 'center',\n          Y: 'center'\n        } : this.enableRtl ? {\n          X: 'left',\n          Y: 'bottom'\n        } : {\n          X: 'right',\n          Y: 'bottom'\n        },\n        offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n        offsetY: OFFSETVALUE$1,\n        collision: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n          X: 'fit'\n        } : {\n          X: 'fit',\n          Y: 'fit'\n        } : {\n          X: 'fit',\n          Y: 'flip'\n        },\n        targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n        enableRtl: this.enableRtl,\n        zIndex: this.zIndex,\n        open: function open() {\n          attributes(_this9.inputElement, {\n            'aria-expanded': 'true'\n          });\n          addClass([_this9.inputWrapper.buttons[0]], ACTIVE$1);\n\n          if (!_this9.isMobile) {\n            if (_this9.cancelButton) {\n              _this9.btnKeyboardModule = new KeyboardEvents(_this9.cancelButton.element, {\n                eventName: 'keydown',\n                keyAction: _this9.popupKeyActionHandle.bind(_this9),\n                keyConfigs: {\n                  tab: 'tab',\n                  altRightArrow: 'alt+rightarrow',\n                  altLeftArrow: 'alt+leftarrow'\n                }\n              });\n              _this9.btnKeyboardModule = new KeyboardEvents(_this9.applyButton.element, {\n                eventName: 'keydown',\n                keyAction: _this9.popupKeyActionHandle.bind(_this9),\n                keyConfigs: {\n                  altRightArrow: 'alt+rightarrow',\n                  altLeftArrow: 'alt+leftarrow'\n                }\n              });\n            }\n\n            if (!isNullOrUndefined(_this9.leftCalendar)) {\n              if (!_this9.isRangeIconClicked) {\n                _this9.calendarFocus();\n              }\n            }\n\n            if (!isNullOrUndefined(_this9.presetElement)) {\n              _this9.keyInputConfigs = extend(_this9.keyInputConfigs, _this9.keyConfigs);\n              _this9.presetKeyboardModule = new KeyboardEvents(_this9.presetElement, {\n                eventName: 'keydown',\n                keyAction: _this9.presetKeyActionHandler.bind(_this9),\n                keyConfigs: _this9.keyInputConfigs\n              });\n              _this9.presetKeyboardModule = new KeyboardEvents(_this9.presetElement, {\n                eventName: 'keydown',\n                keyAction: _this9.popupKeyActionHandle.bind(_this9),\n                keyConfigs: {\n                  altRightArrow: 'alt+rightarrow',\n                  altLeftArrow: 'alt+leftarrow'\n                }\n              });\n\n              if (isNullOrUndefined(_this9.leftCalendar)) {\n                _this9.preventBlur = true;\n\n                _this9.presetElement.focus();\n              } else {\n                _this9.presetElement.setAttribute('tabindex', '-1');\n              }\n            }\n\n            _this9.popupKeyBoardHandler();\n          }\n\n          if (_this9.isMobile && !Browser.isDevice) {\n            EventHandler.add(document, 'keydown', _this9.popupCloseHandler, _this9);\n          }\n        },\n        close: function close() {\n          attributes(_this9.inputElement, {\n            'aria-expanded': 'false'\n          });\n          removeClass([_this9.inputWrapper.buttons[0]], ACTIVE$1);\n\n          if (_this9.isRangeIconClicked) {\n            _this9.inputWrapper.container.children[1].focus();\n          }\n\n          if (!isUndefined(_this9.presets[0].start && _this9.presets[0].end && _this9.presets[0].label)) {\n            _this9.unWireListEvents();\n          }\n\n          if (!isNullOrUndefined(_this9.popupObj)) {\n            if (!isNullOrUndefined(_this9.popupObj.element.parentElement)) {\n              detach(_this9.popupObj.element);\n            }\n\n            _this9.popupObj.destroy();\n\n            _this9.popupObj = null;\n          }\n\n          if (_this9.isMobile && !Browser.isDevice) {\n            EventHandler.remove(document, 'keydown', _this9.popupCloseHandler);\n          }\n        },\n        targetExitViewport: function targetExitViewport() {\n          if (!Browser.isDevice) {\n            _this9.hide();\n          }\n        }\n      });\n\n      if (this.isMobile) {\n        this.popupObj.element.classList.add(DEVICE$1);\n\n        if (!this.isMobile) {\n          this.popupObj.element.classList.add('e-bigger');\n        }\n      }\n\n      if (this.isMobile && this.isCustomWindow) {\n        addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n        document.body.className += ' ' + OVERFLOW$1;\n        this.modal.style.display = 'block';\n      }\n\n      EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    }\n  }, {\n    key: \"popupCloseHandler\",\n    value: function popupCloseHandler(e) {\n      switch (e.keyCode) {\n        case 27:\n          this.hide(e);\n          break;\n      }\n    }\n  }, {\n    key: \"calendarFocus\",\n    value: function calendarFocus() {\n      var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n\n      if (startDate) {\n        var ele = closest(startDate, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n\n        if (this.isRangeIconClicked) {\n          this.inputWrapper.container.focus();\n        } else {\n          this.preventBlur = true;\n          ele.children[1].firstElementChild.focus();\n        }\n\n        addClass([startDate], FOCUSDATE);\n      } else {\n        if (this.isRangeIconClicked) {\n          this.inputWrapper.container.focus();\n        } else {\n          this.preventBlur = true;\n          this.leftCalendar.children[1].firstElementChild.focus();\n        }\n      }\n    }\n  }, {\n    key: \"presetHeight\",\n    value: function presetHeight() {\n      var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n      var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n\n      if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n        presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n      }\n    }\n  }, {\n    key: \"presetKeyActionHandler\",\n    value: function presetKeyActionHandler(e) {\n      switch (e.action) {\n        case 'moveDown':\n          this.listMoveDown(e);\n          this.setScrollPosition();\n          e.preventDefault();\n          break;\n\n        case 'moveUp':\n          this.listMoveUp(e);\n          this.setScrollPosition();\n          e.preventDefault();\n          break;\n\n        case 'enter':\n          {\n            var hvrItem = this.getHoverLI();\n            var actItem = this.getActiveLI();\n\n            if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n              if (isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem) && actItem === hvrItem) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                var values = this.presetsItem[this.activeIndex];\n\n                if (values.id === 'custom_range') {\n                  this.calendarFocus();\n                  actItem.classList.remove(HOVER);\n                  e.preventDefault();\n                  return;\n                }\n              }\n            }\n\n            if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n              this.onMouseClick(e, hvrItem || actItem);\n            }\n\n            e.preventDefault();\n          }\n          break;\n\n        case 'tab':\n          if (this.leftCalendar) {\n            var item = this.getHoverLI();\n\n            if (!isNullOrUndefined(item)) {\n              item.classList.remove(HOVER);\n            }\n          } else {\n            this.hide(e);\n            e.preventDefault();\n          }\n\n          break;\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"listMoveDown\",\n    value: function listMoveDown(e) {\n      var hvrItem = this.getHoverLI();\n      var actItem = this.getActiveLI();\n\n      if (!isNullOrUndefined(hvrItem)) {\n        var li = hvrItem.nextElementSibling;\n\n        if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n          removeClass([hvrItem], HOVER);\n          addClass([li], HOVER);\n        }\n      } else if (!isNullOrUndefined(actItem)) {\n        var _li = actItem.nextElementSibling;\n\n        if (!isNullOrUndefined(_li) && _li.classList.contains(LISTCLASS)) {\n          addClass([_li], HOVER);\n        }\n      } else {\n        addClass([this.liCollections[0]], HOVER);\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"listMoveUp\",\n    value: function listMoveUp(e) {\n      var hvrItem = this.getHoverLI();\n      var actItem = this.getActiveLI();\n\n      if (!isNullOrUndefined(hvrItem)) {\n        var li = hvrItem.previousElementSibling;\n\n        if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n          removeClass([hvrItem], HOVER);\n          addClass([li], HOVER);\n        }\n      } else if (!isNullOrUndefined(actItem)) {\n        var _li2 = actItem.previousElementSibling;\n\n        if (!isNullOrUndefined(_li2) && _li2.classList.contains(LISTCLASS)) {\n          addClass([_li2], HOVER);\n        }\n      }\n    }\n  }, {\n    key: \"getHoverLI\",\n    value: function getHoverLI() {\n      var item = this.presetElement.querySelector('.' + HOVER);\n      return item;\n    }\n  }, {\n    key: \"getActiveLI\",\n    value: function getActiveLI() {\n      var item = this.presetElement.querySelector('.' + ACTIVE$1);\n      return item;\n    }\n  }, {\n    key: \"popupKeyBoardHandler\",\n    value: function popupKeyBoardHandler() {\n      this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n        eventName: 'keydown',\n        keyAction: this.popupKeyActionHandle.bind(this),\n        keyConfigs: {\n          escape: 'escape'\n        }\n      });\n      this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n      this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n        eventName: 'keydown',\n        keyAction: this.popupKeyActionHandle.bind(this),\n        keyConfigs: this.keyInputConfigs\n      });\n    }\n  }, {\n    key: \"setScrollPosition\",\n    value: function setScrollPosition() {\n      var listHeight = this.presetElement.getBoundingClientRect().height;\n      var hover = this.presetElement.querySelector('.' + HOVER);\n      var active = this.presetElement.querySelector('.' + ACTIVE$1);\n      var element = !isNullOrUndefined(hover) ? hover : active;\n\n      if (!isNullOrUndefined(element)) {\n        var nextEle = element.nextElementSibling;\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        var liHeight = element.getBoundingClientRect().height;\n\n        if (height + element.offsetTop > listHeight) {\n          this.presetElement.scrollTop = nextEle ? height - (listHeight / 2 + liHeight / 2) : height;\n        } else {\n          this.presetElement.scrollTop = 0;\n        }\n      }\n    }\n  }, {\n    key: \"popupKeyActionHandle\",\n    value: function popupKeyActionHandle(e) {\n      var presetElement = closest(e.target, '.' + PRESETS);\n\n      switch (e.action) {\n        case 'escape':\n          if (this.isPopupOpen()) {\n            if (this.isKeyPopup) {\n              this.inputElement.focus();\n              this.isKeyPopup = false;\n            }\n\n            this.hide(e);\n          } else {\n            this.inputWrapper.container.children[1].blur();\n          }\n\n          break;\n\n        case 'enter':\n          if (!this.isPopupOpen()) {\n            this.show(null, e);\n          } else {\n            this.inputWrapper.container.children[1].focus();\n          }\n\n          break;\n\n        case 'tab':\n          this.hide(e);\n          break;\n\n        case 'altRightArrow':\n          if (!isNullOrUndefined(presetElement)) {\n            this.cancelButton.element.focus();\n          } else {\n            if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n              this.applyButton.element.focus();\n            } else {\n              this.leftCalendar.children[1].firstElementChild.focus();\n            }\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'altLeftArrow':\n          if (!isNullOrUndefined(presetElement)) {\n            this.rightCalendar.children[1].firstElementChild.focus();\n          } else {\n            if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n              this.cancelButton.element.focus();\n            } else {\n              if (!isNullOrUndefined(this.presetElement) && document.activeElement === this.cancelButton.element) {\n                this.presetElement.focus();\n              } else {\n                this.rightCalendar.children[1].firstElementChild.focus();\n              }\n            }\n          }\n\n          e.preventDefault();\n          break;\n      }\n    }\n  }, {\n    key: \"documentHandler\",\n    value: function documentHandler(e) {\n      if (isNullOrUndefined(this.popupObj)) {\n        return;\n      }\n\n      var target = e.target;\n\n      if (!this.inputWrapper.container.contains(target) || !isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]')) {\n        if (e.type !== 'touchstart' && (e.type === 'mousedown' || this.closeEventArgs && !this.closeEventArgs.cancel)) {\n          e.preventDefault();\n        }\n      }\n\n      if ((isNullOrUndefined(this.targetElement) || !isNullOrUndefined(this.targetElement) && !(target === this.targetElement)) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container) && !(closest(target, '.e-daterangepicker.e-popup') && !target.classList.contains('e-day'))) {\n        this.preventBlur = false;\n\n        if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n          this.applyFunction(e);\n\n          if (!this.isMobile) {\n            this.isRangeIconClicked = false;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createInput\",\n    value: function createInput() {\n      var updatedCssClassValue = this.cssClass;\n\n      if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n        updatedCssClassValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      this.inputWrapper = Input.createInput({\n        floatLabelType: this.floatLabelType,\n        element: this.inputElement,\n        properties: {\n          readonly: this.readonly,\n          placeholder: this.placeholder,\n          cssClass: updatedCssClassValue,\n          enabled: this.enabled,\n          enableRtl: this.enableRtl,\n          showClearButton: this.showClearButton\n        },\n        buttons: [DATERANGEICON]\n      }, this.createElement);\n      attributes(this.inputElement, {\n        'aria-readonly': this.readonly ? 'true' : 'false',\n        'tabindex': '0',\n        'aria-haspopup': 'true',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_popup',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'aria-disabled': !this.enabled ? 'true' : 'false',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      Input.addAttributes({\n        'aria-label': 'select'\n      }, this.inputWrapper.buttons[0]);\n\n      if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n        Input.addAttributes({\n          'aria-placeholder': this.placeholder\n        }, this.inputElement);\n      }\n\n      this.setEleWidth(this.width);\n      addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n\n      if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n        attributes(this.inputElement, {\n          'name': this.element.id\n        });\n      }\n\n      if (this.inputElement.type === 'hidden') {\n        this.inputWrapper.container.style.display = 'none';\n      }\n\n      this.refreshControl();\n      this.previousEleValue = this.inputElement.value;\n      this.inputElement.setAttribute('value', this.inputElement.value);\n      this.startCopy = this.startDate;\n      this.endCopy = this.endDate;\n    }\n  }, {\n    key: \"setEleWidth\",\n    value: function setEleWidth(width) {\n      if (typeof width === 'string') {\n        this.inputWrapper.container.style.width = this.width;\n      } else if (typeof width === 'number') {\n        this.inputWrapper.container.style.width = formatUnit(this.width);\n      } else {\n        this.inputWrapper.container.style.width = '100%';\n      }\n    }\n  }, {\n    key: \"adjustLongHeaderWidth\",\n    value: function adjustLongHeaderWidth() {\n      if (this.dayHeaderFormat === 'Wide') {\n        addClass([this.popupWrapper], DAYHEADERLONG$1);\n      }\n    }\n  }, {\n    key: \"refreshControl\",\n    value: function refreshControl() {\n      this.validateMinMax();\n\n      if (this.strictMode) {\n        this.validateRangeStrict();\n      }\n\n      var isDisabled = this.disabledDates();\n\n      if (this.strictMode && isDisabled) {\n        this.startValue = this.previousStartValue;\n        this.setProperties({\n          startDate: this.startValue\n        }, true);\n        this.endValue = this.previousEndValue;\n        this.setProperties({\n          endDate: this.endValue\n        }, true);\n        this.setValue();\n      }\n\n      this.updateInput();\n\n      if (!this.strictMode) {\n        this.validateRange();\n      }\n\n      if (!this.strictMode && isDisabled) {\n        this.clearRange();\n      }\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n        this.disabledDateRender();\n      }\n\n      this.errorClass();\n      this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n      this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    }\n  }, {\n    key: \"updateInput\",\n    value: function updateInput() {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        var formatOption = {\n          format: this.formatString,\n          type: 'date',\n          skeleton: 'yMd'\n        };\n        var startDate = this.globalize.formatDate(this.startValue, formatOption);\n        var endDate = this.globalize.formatDate(this.endValue, formatOption);\n        Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.previousStartValue = new Date(+this.startValue);\n        this.previousEndValue = new Date(+this.endValue);\n      }\n\n      if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n        Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n    }\n  }, {\n    key: \"checkInvalidRange\",\n    value: function checkInvalidRange(value) {\n      if (!isNullOrUndefined(value)) {\n        var invalid = false;\n        var startinvalue;\n        var endinvalue;\n        var startString = null;\n        var endString = null;\n        var valueString = null;\n        var startObject = false;\n        var endObject = false;\n        var invalidobject = false;\n\n        if (typeof value === 'string') {\n          var range = value.split(' ' + this.separator + ' ');\n\n          if (range.length === 2) {\n            startString = range[0];\n            endString = range[1];\n          } else {\n            invalid = true;\n            valueString = value;\n          }\n        } else {\n          if (value.length > 0) {\n            startinvalue = value[0];\n            endinvalue = value[1];\n          } else {\n            startinvalue = value.start;\n            endinvalue = value.end;\n          }\n\n          if (!(startinvalue instanceof Date) && typeof startinvalue !== 'object') {\n            startString = this.getstringvalue(startinvalue);\n          } else if (startinvalue instanceof Date) {\n            startObject = true;\n          } else if (!isNullOrUndefined(startinvalue)) {\n            invalidobject = true;\n          }\n\n          if (!(endinvalue instanceof Date) && typeof endinvalue !== 'object') {\n            endString = this.getstringvalue(endinvalue);\n          } else if (endinvalue instanceof Date) {\n            endObject = true;\n          } else if (!isNullOrUndefined(endinvalue)) {\n            invalidobject = true;\n          }\n        }\n\n        if (isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString) || !isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString)) {\n          invalid = true;\n        }\n\n        if (invalidobject) {\n          startString = endString = valueString = null;\n          invalid = true;\n        }\n\n        if (startString) {\n          invalid = invalid || this.checkInvalidValue(startString);\n        }\n\n        if (endString) {\n          invalid = invalid || this.checkInvalidValue(endString);\n        }\n\n        if (invalid) {\n          if (startObject && !invalidobject) {\n            startString = startinvalue.toLocaleDateString();\n          }\n\n          if (endObject && !invalidobject) {\n            endString = endinvalue.toLocaleDateString();\n          }\n\n          if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n            valueString = startString + ' ' + this.separator + ' ' + endString;\n          } else if (!isNullOrUndefined(startString)) {\n            valueString = startString;\n          } else if (!isNullOrUndefined(endString)) {\n            valueString = endString;\n          }\n\n          this.invalidValueString = valueString;\n          this.setProperties({\n            value: null\n          }, true);\n          this.setProperties({\n            startValue: null\n          }, true);\n          this.setProperties({\n            endValue: null\n          }, true);\n          this.startDate = null;\n          this.endDate = null;\n        }\n      }\n    }\n  }, {\n    key: \"getstringvalue\",\n    value: function getstringvalue(value) {\n      var stringValue = null;\n\n      if (!isNullOrUndefined(value) && typeof value === 'number') {\n        stringValue = value.toString();\n      } else if (!isNullOrUndefined(value) && typeof value === 'string') {\n        stringValue = '' + value;\n      }\n\n      return stringValue;\n    }\n  }, {\n    key: \"checkInvalidValue\",\n    value: function checkInvalidValue(value) {\n      var valueString = value;\n      var invalid = false;\n      var formatOpt = null;\n      formatOpt = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n\n      if (typeof valueString !== 'string') {\n        invalid = true;\n      } else {\n        var globalize = new Internationalization(this.locale);\n\n        if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n          var extISOStr = null;\n          var basISOString = null; // eslint-disable-next-line\n\n          extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n          basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n          if (!extISOStr.test(valueString) && !basISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n            invalid = true;\n          }\n        }\n      }\n\n      return invalid;\n    }\n  }, {\n    key: \"isDateDisabled\",\n    value: function isDateDisabled(date) {\n      if (isNullOrUndefined(date)) {\n        return false;\n      }\n\n      var value = new Date(+date);\n\n      if (+value < +this.min || +value > +this.max) {\n        return true;\n      }\n\n      this.virtualRenderCellArgs = {\n        date: value,\n        isDisabled: false\n      };\n      var args = this.virtualRenderCellArgs;\n      this.virtualRenderCellEvent(args);\n\n      if (args.isDisabled) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"disabledDateRender\",\n    value: function disabledDateRender() {\n      this.disabledDays = [];\n      this.disabledDayCnt = null;\n      var localDate = new Date(+this.startValue);\n      var count = 0;\n\n      while (+localDate <= +this.endValue) {\n        this.virtualRenderCellArgs = {\n          date: localDate,\n          isDisabled: false\n        };\n        var args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n\n        if (args.isDisabled) {\n          this.disabledDays.push(new Date(+args.date));\n\n          if (+localDate > +this.startValue && +localDate < +this.endValue) {\n            count++;\n          }\n        }\n\n        this.addDay(localDate, 1, null, this.max, this.min);\n      }\n\n      this.disabledDayCnt = count;\n    }\n  }, {\n    key: \"virtualRenderCellEvent\",\n    value: function virtualRenderCellEvent(args) {\n      extend(this.virtualRenderCellArgs, {\n        name: 'renderDayCell'\n      });\n      this.trigger('renderDayCell', args);\n    }\n  }, {\n    key: \"disabledDates\",\n    value: function disabledDates() {\n      var isStartDisabled = false;\n      var isEndDisabled = false;\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        isStartDisabled = this.isDateDisabled(this.startValue);\n        isEndDisabled = this.isDateDisabled(this.endValue);\n\n        if (!this.isPopupOpen()) {\n          this.currentDate = null;\n        }\n\n        this.setValue();\n      }\n\n      return isStartDisabled || isEndDisabled;\n    }\n  }, {\n    key: \"setModelValue\",\n    value: function setModelValue() {\n      if (!this.value && this.startDate === null && this.endDate === null) {\n        this.setProperties({\n          value: null\n        }, true);\n      } else if (this.value === null || this.value.start === null) {\n        if (this.value === null) {\n          this.setProperties({\n            value: [this.startDate, this.endDate]\n          }, true);\n        } else if (this.value.start === null) {\n          this.setProperties({\n            value: {\n              start: this.startDate,\n              end: this.endDate\n            }\n          }, true);\n        }\n      } else {\n        if (this.value && this.value.length > 0 || this.valueType && this.valueType.length > 0) {\n          if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n            this.setProperties({\n              value: [this.startDate, this.endDate]\n            }, true);\n          }\n\n          if (this.value && this.value[0] == null && this.value[1] == null) {\n            this.setProperties({\n              value: null\n            }, true);\n          }\n        } else {\n          if (this.value && this.value.start) {\n            this.setProperties({\n              value: {\n                start: this.startDate,\n                end: this.endDate\n              }\n            }, true);\n          }\n        }\n      }\n\n      this.createHiddenInput();\n    }\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(element, type) {\n      var evt = document.createEvent('HTMLEvents');\n      evt.initEvent(type, false, true);\n      element.dispatchEvent(evt);\n      this.firstHiddenChild.dispatchEvent(evt);\n    }\n  }, {\n    key: \"changeTrigger\",\n    value: function changeTrigger(e) {\n      if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n        this.setProperties({\n          endDate: this.checkDateValue(this.endValue)\n        }, true);\n        this.setProperties({\n          startDate: this.checkDateValue(this.startValue)\n        }, true);\n        this.setModelValue();\n\n        if (this.isAngular && this.preventChange) {\n          this.preventChange = false;\n        } else {\n          this.trigger('change', this.rangeArgs(e));\n        }\n      }\n\n      this.previousEleValue = this.inputElement.value;\n      this.initStartDate = this.checkDateValue(this.startValue);\n      this.initEndDate = this.checkDateValue(this.endValue);\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @hidden\n     */\n\n  }, {\n    key: \"navigateTo\",\n    value: function navigateTo(view, date) {\n      if (this.isPopupOpen()) {\n        if (view.toLowerCase() === 'month') {\n          view = 'Month';\n        } else if (view.toLowerCase() === 'year') {\n          view = 'Year';\n        } else if (view.toLowerCase() === 'decade') {\n          view = 'Decade';\n        } else {\n          return;\n        }\n\n        if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n          view = this.depth;\n        }\n\n        if (this.isMobile) {\n          _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, date);\n        } else {\n          if (date < this.min) {\n            date = new Date(+this.min);\n          } else if (date >= this.max) {\n            date = new Date(+this.max);\n          }\n\n          if (view === 'Month' && this.isSameMonth(date, this.max)) {\n            date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n          } else if (view === 'Year' && this.isSameYear(date, this.max)) {\n            date = new Date(this.max.getFullYear() - 1, this.max.getMonth(), this.max.getDate());\n          } else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n            date = new Date(this.max.getFullYear() - 10, this.max.getMonth(), this.max.getDate());\n          }\n\n          this.leftCalCurrentDate = date;\n          this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n\n          if (view === 'Month') {\n            date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n          } else if (view === 'Year') {\n            date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n          } else {\n            date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n          }\n\n          this.rightCalCurrentDate = date;\n          this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n          this.leftKeyboardModule = this.rightKeyboardModule = null;\n          this.updateNavIcons();\n        }\n\n        if (this.currentView() === this.depth) {\n          this.bindCalendarCellEvents();\n        }\n\n        this.removeFocusedDate();\n        this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n      }\n    }\n  }, {\n    key: \"navigate\",\n    value: function navigate(calendar, date, view) {\n      this.calendarElement = calendar;\n      this.table = calendar.querySelector('table');\n      this.tableBodyElement = calendar.querySelector('tbody');\n      this.headerTitleElement = calendar.querySelector('.e-title');\n      this.tableHeadElement = calendar.querySelector('thead');\n      this.contentElement = calendar.querySelector('.e-content');\n      this.previousIcon = calendar.querySelector('.e-prev');\n      this.nextIcon = calendar.querySelector('.e-next');\n      this.effect = ZOOMIN$1;\n\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"navigateTo\", this).call(this, view, date);\n    }\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      if (document.activeElement !== this.inputElement && this.enabled) {\n        addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        this.inputElement.focus();\n      }\n    }\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusOut\",\n    value: function focusOut() {\n      var isBlur = this.preventBlur;\n\n      if (document.activeElement === this.inputElement) {\n        removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        this.preventBlur = false;\n        this.inputElement.blur();\n        this.preventBlur = isBlur;\n      }\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unBindEvents();\n      this.hide(null);\n      var ariaAttrs = {\n        'aria-readonly': this.readonly ? 'true' : 'false',\n        'tabindex': '0',\n        'aria-haspopup': 'true',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_popup',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'aria-disabled': !this.enabled ? 'true' : 'false',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'aria-invalid': 'false',\n        'spellcheck': 'false'\n      };\n\n      if (this.inputElement) {\n        removeClass([this.inputElement], [ROOT$2]);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        Input.removeAttributes(ariaAttrs, this.inputElement);\n\n        if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n          this.inputElement.setAttribute('tabindex', this.tabIndex);\n        } else {\n          this.inputElement.removeAttribute('tabindex');\n        }\n\n        this.ensureInputAttribute();\n        this.inputElement.classList.remove('e-input');\n\n        if (!isNullOrUndefined(this.inputWrapper)) {\n          EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n\n          if (this.angularTag === null) {\n            this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n          }\n\n          detach(this.inputWrapper.container);\n        }\n      }\n\n      if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n        this.inputKeyboardModule.destroy();\n      }\n\n      if (this.popupObj) {\n        if (!this.isMobile) {\n          this.clearCalendarEvents();\n        }\n      }\n\n      _get(_getPrototypeOf(DateRangePicker.prototype), \"destroy\", this).call(this);\n\n      this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n      }\n\n      if (!isNullOrUndefined(this.firstHiddenChild) && !isNullOrUndefined(this.secondHiddenChild)) {\n        detach(this.firstHiddenChild);\n        detach(this.secondHiddenChild);\n        this.firstHiddenChild = this.secondHiddenChild = null;\n        this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n        this.inputElement.removeAttribute('data-name');\n      }\n    }\n  }, {\n    key: \"ensureInputAttribute\",\n    value: function ensureInputAttribute() {\n      var attr = [];\n\n      for (var i = 0; i < this.inputElement.attributes.length; i++) {\n        attr[i] = this.inputElement.attributes[i].name;\n      }\n\n      for (var _i13 = 0; _i13 < attr.length; _i13++) {\n        if (isNullOrUndefined(this.cloneElement.getAttribute(attr[_i13]))) {\n          if (attr[_i13].toLowerCase() === 'value') {\n            this.inputElement.value = '';\n          }\n\n          this.inputElement.removeAttribute(attr[_i13]);\n        } else {\n          if (attr[_i13].toLowerCase() === 'value') {\n            this.inputElement.value = this.cloneElement.getAttribute(attr[_i13]);\n          }\n\n          this.inputElement.setAttribute(attr[_i13], this.cloneElement.getAttribute(attr[_i13]));\n        }\n      }\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'daterangepicker';\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['startDate', 'endDate', 'value'];\n      return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     *\n     * @returns {Object}\n     */\n\n  }, {\n    key: \"getSelectedRange\",\n    value: function getSelectedRange() {\n      var range;\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n        this.disabledDateRender();\n\n        if (!isNullOrUndefined(this.disabledDayCnt)) {\n          range = range - this.disabledDayCnt;\n          this.disabledDayCnt = null;\n        }\n      } else {\n        range = 0;\n      }\n\n      return {\n        startDate: this.startValue,\n        endDate: this.endValue,\n        daySpan: range\n      };\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     *\n     * @param {HTMLElement} element - Specifies element.\n     * @returns {void}\n     */\n\n  }, {\n    key: \"show\",\n    value: function show(element, event) {\n      var _this10 = this;\n\n      if (this.isMobile && this.popupObj) {\n        this.popupObj.refreshPosition();\n      }\n\n      if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n        return;\n      } else {\n        if (!this.isPopupOpen()) {\n          if (element) {\n            this.targetElement = element;\n          }\n\n          this.createPopup();\n\n          if (this.isMobile || Browser.isDevice) {\n            this.mobileRangePopupWrap = this.createElement('div', {\n              className: 'e-daterangepick-mob-popup-wrap'\n            });\n            document.body.appendChild(this.mobileRangePopupWrap);\n          }\n\n          this.openEventArgs = {\n            popup: this.popupObj || null,\n            cancel: false,\n            date: this.inputElement.value,\n            model: this,\n            event: event ? event : null,\n            appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n          };\n          var eventArgs = this.openEventArgs;\n          this.trigger('open', eventArgs, function (eventArgs) {\n            _this10.openEventArgs = eventArgs;\n\n            if (!_this10.openEventArgs.cancel) {\n              _this10.openEventArgs.appendTo.appendChild(_this10.popupWrapper);\n\n              _this10.showPopup(element, event);\n\n              var isPreset = !_this10.isCustomRange || _this10.isMobile && _this10.isCustomRange;\n\n              if (!isUndefined(_this10.presets[0].start && _this10.presets[0].end && _this10.presets[0].label) && isPreset) {\n                _this10.setScrollPosition();\n              }\n\n              _this10.checkMinMaxDays();\n\n              if (_this10.isMobile && !isNullOrUndefined(_this10.startDate) && isNullOrUndefined(_this10.endDate)) {\n                _this10.endButton.element.classList.add(ACTIVE$1);\n\n                _this10.startButton.element.classList.remove(ACTIVE$1);\n\n                _this10.endButton.element.removeAttribute('disabled');\n\n                _this10.selectableDates();\n              }\n\n              _get(_getPrototypeOf(DateRangePicker.prototype), \"setOverlayIndex\", _this10).call(_this10, _this10.mobileRangePopupWrap, _this10.popupObj.element, _this10.modal, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              _this10.isMobile || Browser.isDevice);\n            }\n          });\n        }\n      }\n    }\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide(event) {\n      var _this11 = this;\n\n      if (this.popupObj) {\n        if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n          this.clearRange();\n        } else {\n          if (!isNullOrUndefined(this.previousStartValue)) {\n            this.startValue = new Date(this.checkValue(this.previousStartValue));\n            this.setValue();\n            this.currentDate = new Date(this.checkValue(this.startValue));\n          } else {\n            this.startValue = null;\n            this.setValue();\n          }\n\n          if (!isNullOrUndefined(this.previousEndValue)) {\n            this.endValue = new Date(this.checkValue(this.previousEndValue));\n            this.setValue();\n          } else {\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n\n        if (this.isPopupOpen()) {\n          this.closeEventArgs = {\n            cancel: false,\n            popup: this.popupObj,\n            date: this.inputElement.value,\n            model: this,\n            event: event ? event : null\n          };\n          var eventArgs = this.closeEventArgs;\n          this.trigger('close', eventArgs, function (eventArgs) {\n            _this11.closeEventArgs = eventArgs;\n\n            if (!_this11.closeEventArgs.cancel) {\n              if (_this11.isMobile) {\n                if (!isNullOrUndefined(_this11.startButton) && !isNullOrUndefined(_this11.endButton)) {\n                  EventHandler.remove(_this11.startButton.element, 'click touchstart', _this11.deviceHeaderClick);\n                  EventHandler.remove(_this11.endButton.element, 'click touchstart', _this11.deviceHeaderClick);\n                }\n              }\n\n              if (_this11.popupObj) {\n                _this11.popupObj.hide();\n\n                if (_this11.preventBlur) {\n                  _this11.inputElement.focus();\n\n                  addClass([_this11.inputWrapper.container], [INPUTFOCUS$1]);\n                }\n              }\n\n              if (!_this11.isMobile) {\n                if (!isNullOrUndefined(_this11.leftKeyboardModule) && !isNullOrUndefined(_this11.rightKeyboardModule)) {\n                  _this11.leftKeyboardModule.destroy();\n\n                  _this11.rightKeyboardModule.destroy();\n                }\n\n                if (!isNullOrUndefined(_this11.presetElement)) {\n                  _this11.presetKeyboardModule.destroy();\n                }\n\n                if (!isNullOrUndefined(_this11.cancelButton)) {\n                  _this11.btnKeyboardModule.destroy();\n                }\n              }\n\n              _this11.targetElement = null;\n              removeClass([document.body], OVERFLOW$1);\n              EventHandler.remove(document, 'mousedown touchstart', _this11.documentHandler);\n\n              if (_this11.isMobile && _this11.modal) {\n                _this11.modal.style.display = 'none';\n                _this11.modal.outerHTML = '';\n                _this11.modal = null;\n              }\n\n              if (_this11.isMobile || Browser.isDevice) {\n                if (!isNullOrUndefined(_this11.mobileRangePopupWrap)) {\n                  _this11.mobileRangePopupWrap.remove();\n\n                  _this11.mobileRangePopupWrap = null;\n                }\n              }\n\n              _this11.isKeyPopup = _this11.dateDisabled = false;\n            } else {\n              removeClass([_this11.inputWrapper.buttons[0]], ACTIVE$1);\n            }\n\n            _this11.updateClearIconState();\n\n            _this11.updateHiddenInput();\n\n            if (_this11.isMobile && _this11.allowEdit && !_this11.readonly) {\n              _this11.inputElement.removeAttribute('readonly');\n            }\n          });\n        }\n      } else {\n        this.updateClearIconState();\n        this.updateHiddenInput();\n\n        if (this.isMobile && this.allowEdit && !this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n      }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n  }, {\n    key: \"setLocale\",\n    value: function setLocale() {\n      this.globalize = new Internationalization(this.locale);\n      this.l10n.setLocale(this.locale);\n      this.setProperties({\n        placeholder: this.l10n.getConstant('placeholder')\n      }, true);\n      Input.setPlaceholder(this.placeholder, this.inputElement);\n      this.updateInput();\n      this.updateHiddenInput();\n      this.changeTrigger();\n    }\n  }, {\n    key: \"refreshChange\",\n    value: function refreshChange() {\n      this.checkView();\n      this.refreshControl();\n      this.changeTrigger();\n    }\n  }, {\n    key: \"setDate\",\n    value: function setDate() {\n      Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n      this.refreshChange();\n    }\n  }, {\n    key: \"enableInput\",\n    value: function enableInput() {\n      if (+this.min <= +this.max) {\n        this.setProperties({\n          enabled: true\n        }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n\n        if (this.element.hasAttribute('disabled')) {\n          this.bindEvents();\n        }\n      }\n    }\n  }, {\n    key: \"clearModelvalue\",\n    value: function clearModelvalue(newProp, oldProp) {\n      this.setProperties({\n        startDate: null\n      }, true);\n      this.setProperties({\n        endDate: null\n      }, true);\n\n      if (oldProp.value && oldProp.value.length > 0) {\n        this.setProperties({\n          value: null\n        }, true);\n      } else if (oldProp.value && oldProp.value.start) {\n        this.setProperties({\n          value: {\n            start: null,\n            end: null\n          }\n        }, true);\n      } else if (oldProp.value && !oldProp.value.start) {\n        this.setProperties({\n          value: {\n            start: null,\n            end: null\n          }\n        }, true);\n      }\n\n      this.updateValue();\n      this.setDate();\n    }\n  }, {\n    key: \"createHiddenInput\",\n    value: function createHiddenInput() {\n      if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n        this.firstHiddenChild = this.createElement('input');\n        this.secondHiddenChild = this.createElement('input');\n      }\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n        this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n        this.inputElement.removeAttribute('name');\n      }\n\n      attributes(this.firstHiddenChild, {\n        'type': 'text',\n        'name': this.inputElement.getAttribute('data-name'),\n        'class': HIDDENELEMENT\n      });\n      attributes(this.secondHiddenChild, {\n        'type': 'text',\n        'name': this.inputElement.getAttribute('data-name'),\n        'class': HIDDENELEMENT\n      });\n      var format = {\n        type: 'datetime',\n        skeleton: 'yMd'\n      };\n      this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n      this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n      this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n      this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    }\n  }, {\n    key: \"setMinMaxDays\",\n    value: function setMinMaxDays() {\n      if (this.isPopupOpen()) {\n        this.removeClassDisabled();\n        this.checkMinMaxDays();\n\n        if (this.isMobile) {\n          this.selectableDates();\n        }\n\n        if (!this.strictMode && isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n          this.removeSelection();\n        } else {\n          this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n        }\n\n        this.updateHeader();\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      var format = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n\n      for (var _i14 = 0, _Object$keys10 = Object.keys(newProp); _i14 < _Object$keys10.length; _i14++) {\n        var prop = _Object$keys10[_i14];\n        var openPopup = ['maxDays', 'minDays', 'value'];\n\n        if (openPopup.indexOf(prop) < 0) {\n          this.hide(null);\n        }\n\n        switch (prop) {\n          case 'width':\n            this.setEleWidth(this.width);\n            break;\n\n          case 'separator':\n            this.previousEleValue = this.inputElement.value;\n            this.setProperties({\n              separator: newProp.separator\n            }, true);\n            this.updateInput();\n            this.changeTrigger();\n            break;\n\n          case 'placeholder':\n            Input.setPlaceholder(newProp.placeholder, this.inputElement);\n            this.setProperties({\n              placeholder: newProp.placeholder\n            }, true);\n            break;\n\n          case 'readonly':\n            Input.setReadonly(this.readonly, this.inputElement);\n            this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n            this.setRangeAllowEdit();\n            break;\n\n          case 'cssClass':\n            this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n            break;\n\n          case 'enabled':\n            this.setProperties({\n              enabled: newProp.enabled\n            }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n\n            if (this.enabled) {\n              this.inputElement.setAttribute('tabindex', this.tabIndex);\n            } else {\n              this.inputElement.tabIndex = -1;\n            }\n\n            break;\n\n          case 'allowEdit':\n            this.setRangeAllowEdit();\n            break;\n\n          case 'enableRtl':\n            this.setProperties({\n              enableRtl: newProp.enableRtl\n            }, true);\n            Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n            break;\n\n          case 'zIndex':\n            this.setProperties({\n              zIndex: newProp.zIndex\n            }, true);\n            break;\n\n          case 'format':\n            this.setProperties({\n              format: newProp.format\n            }, true);\n            this.checkFormat();\n            this.updateInput();\n            this.changeTrigger();\n            break;\n\n          case 'locale':\n            this.globalize = new Internationalization(this.locale);\n            this.l10n.setLocale(this.locale);\n            this.setProperties({\n              placeholder: this.l10n.getConstant('placeholder')\n            }, true);\n            Input.setPlaceholder(this.placeholder, this.inputElement);\n            this.setLocale();\n            break;\n\n          case 'htmlAttributes':\n            this.updateHtmlAttributeToElement();\n            this.updateHtmlAttributeToWrapper();\n            this.setDataAttribute(true);\n            this.checkHtmlAttributes(true);\n            break;\n\n          case 'showClearButton':\n            Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n            this.bindClearEvent();\n            break;\n\n          case 'startDate':\n            if (typeof newProp.startDate === 'string') {\n              newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n            }\n\n            if (+this.initStartDate !== +newProp.startDate) {\n              this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n              this.setDate();\n              this.setValue();\n            }\n\n            break;\n\n          case 'endDate':\n            if (typeof newProp.endDate === 'string') {\n              newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n            }\n\n            if (+this.initEndDate !== +newProp.endDate) {\n              this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n              this.setDate();\n              this.setValue();\n            }\n\n            break;\n\n          case 'value':\n            this.invalidValueString = null;\n            this.checkInvalidRange(newProp.value);\n\n            if (typeof newProp.value === 'string') {\n              if (!this.invalidValueString) {\n                var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                this.updateValue();\n                this.setDate();\n              } else {\n                this.clearModelvalue(newProp, oldProp);\n              }\n            } else {\n              if (!isNullOrUndefined(newProp.value) && newProp.value.length > 0 || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                this.valueType = newProp.value;\n\n                if (newProp.value[0] === null || newProp.value.start === null) {\n                  if (newProp.value.length === 1 || newProp.value.start) {\n                    this.clearModelvalue(newProp, oldProp);\n                  } else if (newProp.value[1] === null || newProp.value.start === null) {\n                    this.clearModelvalue(newProp, oldProp);\n                  }\n                } else if (+this.initStartDate !== +newProp.value[0] || +this.initEndDate !== +newProp.value[1] || +this.initStartDate !== +(newProp.value.start || +this.initEndDate !== +newProp.value.start)) {\n                  if (newProp.value.length === 1) {\n                    this.modelValue = newProp.value;\n                  } else if (newProp.value.start) {\n                    this.modelValue = newProp.value;\n                  }\n\n                  this.updateValue();\n                  this.setDate();\n                }\n              } else {\n                if (isNullOrUndefined(this.value) || newProp.value.start == null) {\n                  this.valueType = newProp.value;\n                  this.startValue = null;\n                  this.endValue = null;\n                  this.clearModelvalue(newProp, oldProp);\n                }\n              }\n            }\n\n            if (this.isPopupOpen()) {\n              if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n                this.removeSelection();\n\n                if (this.isMobile) {\n                  this.deviceHeaderUpdate();\n                }\n\n                return;\n              }\n\n              if (this.isMobile) {\n                this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n                this.deviceHeaderUpdate();\n              } else {\n                this.navigate(this.leftCalendar, this.startValue, this.currentView());\n                this.updateControl(this.leftCalendar);\n                this.navigate(this.rightCalendar, this.endValue, this.currentView());\n                this.updateControl(this.rightCalendar);\n              }\n\n              this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n              this.updateHeader();\n              this.applyButton.disabled = this.applyButton.element.disabled = false;\n            }\n\n            this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n            break;\n\n          case 'minDays':\n            this.setProperties({\n              minDays: newProp.minDays\n            }, true);\n            this.refreshChange();\n            this.setMinMaxDays();\n            break;\n\n          case 'maxDays':\n            this.setProperties({\n              maxDays: newProp.maxDays\n            }, true);\n            this.refreshChange();\n            this.setMinMaxDays();\n            break;\n\n          case 'min':\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n            this.previousEleValue = this.inputElement.value;\n            this.enableInput();\n            this.refreshChange();\n            break;\n\n          case 'max':\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n            this.enableInput();\n            this.refreshChange();\n            break;\n\n          case 'strictMode':\n            this.invalidValueString = null;\n            this.setProperties({\n              strictMode: newProp.strictMode\n            }, true);\n            this.refreshChange();\n            break;\n\n          case 'presets':\n            this.setProperties({\n              presets: newProp.presets\n            }, true);\n            this.processPresets();\n            break;\n\n          case 'floatLabelType':\n            this.floatLabelType = newProp.floatLabelType;\n            Input.removeFloating(this.inputWrapper);\n            Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n            break;\n\n          case 'start':\n            this.setProperties({\n              start: newProp.start\n            }, true);\n            this.refreshChange();\n            break;\n\n          case 'depth':\n            this.setProperties({\n              depth: newProp.depth\n            }, true);\n            this.refreshChange();\n            break;\n        }\n      }\n    }\n  }]);\n\n  return DateRangePicker;\n}(CalendarBase);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"value\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$2([Property(new Date(1900, 0, 1))], DateRangePicker.prototype, \"min\", void 0);\n\n__decorate$2([Property(new Date(2099, 11, 31))], DateRangePicker.prototype, \"max\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"locale\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"weekNumber\", void 0);\n\n__decorate$2([Property('Gregorian')], DateRangePicker.prototype, \"calendarMode\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"created\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"destroyed\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"change\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"cleared\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"navigated\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"renderDayCell\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"startDate\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"endDate\", void 0);\n\n__decorate$2([Collection([{}], Presets)], DateRangePicker.prototype, \"presets\", void 0);\n\n__decorate$2([Property('')], DateRangePicker.prototype, \"width\", void 0);\n\n__decorate$2([Property(1000)], DateRangePicker.prototype, \"zIndex\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"showTodayButton\", void 0);\n\n__decorate$2([Property('Month')], DateRangePicker.prototype, \"start\", void 0);\n\n__decorate$2([Property('Month')], DateRangePicker.prototype, \"depth\", void 0);\n\n__decorate$2([Property('')], DateRangePicker.prototype, \"cssClass\", void 0);\n\n__decorate$2([Property('-')], DateRangePicker.prototype, \"separator\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"minDays\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"maxDays\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"strictMode\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"format\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"enabled\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"readonly\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$2([Property('Never')], DateRangePicker.prototype, \"floatLabelType\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"placeholder\", void 0);\n\n__decorate$2([Property({})], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"open\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"close\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"select\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"focus\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"blur\", void 0);\n\nDateRangePicker = __decorate$2([NotifyPropertyChanges], DateRangePicker);\n/**\n * DateRangePicker modules\n */\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP$2 = 'e-popup';\nvar ERROR$2 = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH$2 = new Date().getMonth();\nvar YEAR$2 = new Date().getFullYear();\nvar ROOT$3 = 'e-timepicker';\nvar LIBRARY$2 = 'e-lib';\nvar CONTROL$2 = 'e-control';\nvar CONTENT$2 = 'e-content';\nvar SELECTED$4 = 'e-active';\nvar HOVER$1 = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED$3 = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS$1 = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW$2 = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style']; // eslint-disable-next-line @typescript-eslint/no-namespace\n\nvar TimePickerBase;\n\n(function (TimePickerBase) {\n  // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n  function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n    if (this.calendarMode === 'Gregorian') {} else {// eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n\n    var start;\n    var interval = step * 60000;\n    var listItems = [];\n    var timeCollections = [];\n    start = +min.setMilliseconds(0);\n    var end = +max.setMilliseconds(0);\n\n    while (end >= start) {\n      timeCollections.push(start);\n      listItems.push(globalize.formatDate(new Date(start), {\n        format: timeFormat,\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listTag = ListBase.createList(createdEl, listItems, null, true);\n    return {\n      collection: timeCollections,\n      list: listTag\n    };\n  }\n\n  TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n\nvar TimeMaskPlaceholder = /*#__PURE__*/function (_ChildProperty3) {\n  _inherits(TimeMaskPlaceholder, _ChildProperty3);\n\n  var _super7 = _createSuper(TimeMaskPlaceholder);\n\n  function TimeMaskPlaceholder() {\n    _classCallCheck(this, TimeMaskPlaceholder);\n\n    return _super7.apply(this, arguments);\n  }\n\n  return TimeMaskPlaceholder;\n}(ChildProperty);\n\n__decorate$3([Property('day')], TimeMaskPlaceholder.prototype, \"day\", void 0);\n\n__decorate$3([Property('month')], TimeMaskPlaceholder.prototype, \"month\", void 0);\n\n__decorate$3([Property('year')], TimeMaskPlaceholder.prototype, \"year\", void 0);\n\n__decorate$3([Property('day of the week')], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n\n__decorate$3([Property('hour')], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n\n__decorate$3([Property('minute')], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n\n__decorate$3([Property('second')], TimeMaskPlaceholder.prototype, \"second\", void 0);\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\n\n\nvar TimePicker = /*#__PURE__*/function (_Component2) {\n  _inherits(TimePicker, _Component2);\n\n  var _super8 = _createSuper(TimePicker);\n\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {TimePickerModel} options - Specifies the TimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function TimePicker(options, element) {\n    var _this12;\n\n    _classCallCheck(this, TimePicker);\n\n    _this12 = _super8.call(this, options, element);\n    _this12.liCollections = [];\n    _this12.timeCollections = [];\n    _this12.disableItemCollection = [];\n    _this12.invalidValueString = null;\n    _this12.isAngular = false;\n    _this12.preventChange = false;\n    _this12.maskedDateValue = '';\n    _this12.moduleName = _this12.getModuleName();\n    _this12.timeOptions = options;\n    return _this12;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  _createClass(TimePicker, [{\n    key: \"preRender\",\n    value: function preRender() {\n      this.keyConfigure = {\n        enter: 'enter',\n        escape: 'escape',\n        end: 'end',\n        tab: 'tab',\n        home: 'home',\n        down: 'downarrow',\n        up: 'uparrow',\n        left: 'leftarrow',\n        right: 'rightarrow',\n        open: 'alt+downarrow',\n        close: 'alt+uparrow'\n      };\n      this.cloneElement = this.element.cloneNode(true);\n      removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n      this.inputElement = this.element;\n      this.angularTag = null;\n      this.formElement = closest(this.element, 'form');\n\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        this.angularTag = this.element.tagName;\n        this.inputElement = this.createElement('input');\n        this.element.appendChild(this.inputElement);\n      }\n\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n      this.openPopupEventArgs = {\n        appendTo: document.body\n      };\n    } // element creation\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.initialize();\n      this.createInputElement();\n      this.updateHtmlAttributeToWrapper();\n      this.setTimeAllowEdit();\n      this.setEnable();\n      this.validateInterval();\n      this.bindEvents();\n      this.validateDisable();\n      this.setValue(this.getFormattedValue(this.value));\n\n      if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.checkErrorState(this.maskedDateValue);\n      }\n\n      this.anchor = this.inputElement;\n      this.inputElement.setAttribute('value', this.inputElement.value);\n      this.inputEleValue = this.getDateObject(this.inputElement.value);\n      this.renderComplete();\n    }\n  }, {\n    key: \"setTimeAllowEdit\",\n    value: function setTimeAllowEdit() {\n      if (this.allowEdit) {\n        if (!this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n      } else {\n        attributes(this.inputElement, {\n          'readonly': ''\n        });\n      }\n\n      this.clearIconState();\n    }\n  }, {\n    key: \"clearIconState\",\n    value: function clearIconState() {\n      if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n        if (this.inputElement.value === '') {\n          removeClass([this.inputWrapper.container], [EDITABLE]);\n        } else {\n          addClass([this.inputWrapper.container], [EDITABLE]);\n        }\n      } else if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], [EDITABLE]);\n      }\n    }\n  }, {\n    key: \"validateDisable\",\n    value: function validateDisable() {\n      this.setMinMax(this.initMin, this.initMax);\n      this.popupCreation();\n      this.popupObj.destroy();\n      this.popupWrapper = this.popupObj = null;\n\n      if (!isNaN(+this.value) && this.value !== null) {\n        if (!this.valueIsDisable(this.value)) {\n          //disable value given in value property so reset the date based on current date\n          if (this.strictMode) {\n            this.resetState();\n          }\n\n          this.initValue = null;\n          this.initMax = this.getDateObject(this.initMax);\n          this.initMin = this.getDateObject(this.initMin);\n          this.timeCollections = this.liCollections = [];\n          this.setMinMax(this.initMin, this.initMax);\n        }\n      }\n    }\n  }, {\n    key: \"validationAttribute\",\n    value: function validationAttribute(target, input) {\n      var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n      input.setAttribute('name', name);\n      target.removeAttribute('name');\n      var attributes$$1 = ['required', 'aria-required', 'form'];\n\n      for (var i = 0; i < attributes$$1.length; i++) {\n        if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n          continue;\n        }\n\n        var attr = target.getAttribute(attributes$$1[i]);\n        input.setAttribute(attributes$$1[i], attr);\n        target.removeAttribute(attributes$$1[i]);\n      }\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this.globalize = new Internationalization(this.locale);\n      this.defaultCulture = new Internationalization('en');\n      this.checkTimeFormat();\n      this.checkInvalidValue(this.value); // persist the value property.\n\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkInValue(this.value)))\n      }, true);\n      this.setProperties({\n        min: this.checkDateValue(new Date(this.checkInValue(this.min)))\n      }, true);\n      this.setProperties({\n        max: this.checkDateValue(new Date(this.checkInValue(this.max)))\n      }, true);\n      this.setProperties({\n        scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))\n      }, true);\n\n      if (this.angularTag !== null) {\n        this.validationAttribute(this.element, this.inputElement);\n      }\n\n      this.updateHtmlAttributeToElement();\n      this.checkAttributes(false); //check the input element attributes\n\n      var localeText = {\n        placeholder: this.placeholder\n      };\n      this.l10n = new L10n('timepicker', localeText, this.locale);\n      this.setProperties({\n        placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n      }, true);\n      this.initValue = this.checkDateValue(this.value);\n      this.initMin = this.checkDateValue(this.min);\n      this.initMax = this.checkDateValue(this.max);\n      this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n      this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n\n      if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n        if (this.angularTag !== null) {\n          this.inputElement.id = this.element.getAttribute('id') + '_input';\n        }\n      } else {\n        //for angular case\n        this.element.id = getUniqueID('ej2_timepicker');\n\n        if (this.angularTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      }\n\n      if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n        attributes(this.inputElement, {\n          'name': this.element.id\n        });\n      }\n\n      if (this.enableMask) {\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }, {\n    key: \"checkTimeFormat\",\n    value: function checkTimeFormat() {\n      if (this.format) {\n        if (typeof this.format === 'string') {\n          this.formatString = this.format;\n        } else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n          var skeletonString = this.format.skeleton;\n          this.formatString = this.globalize.getDatePattern({\n            type: 'time',\n            skeleton: skeletonString\n          });\n        } else {\n          this.formatString = this.globalize.getDatePattern({\n            type: 'time',\n            skeleton: 'short'\n          });\n        }\n      } else {\n        this.formatString = null;\n      }\n    }\n  }, {\n    key: \"checkDateValue\",\n    value: function checkDateValue(value) {\n      return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n    }\n  }, {\n    key: \"createInputElement\",\n    value: function createInputElement() {\n      var updatedCssClassesValue = this.cssClass;\n      var isBindClearAction = this.enableMask ? false : true;\n\n      if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n        updatedCssClassesValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n      }\n\n      this.inputWrapper = Input.createInput({\n        element: this.inputElement,\n        bindClearAction: isBindClearAction,\n        floatLabelType: this.floatLabelType,\n        properties: {\n          readonly: this.readonly,\n          placeholder: this.placeholder,\n          cssClass: updatedCssClassesValue,\n          enabled: this.enabled,\n          enableRtl: this.enableRtl,\n          showClearButton: this.showClearButton\n        },\n        buttons: [' e-input-group-icon e-time-icon e-icons']\n      }, this.createElement);\n      this.inputWrapper.container.style.width = this.setWidth(this.width);\n      attributes(this.inputElement, {\n        'aria-haspopup': 'true',\n        'aria-autocomplete': 'list',\n        'tabindex': '0',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_options',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false',\n        'aria-disabled': 'false',\n        'aria-invalid': 'false'\n      });\n\n      if (!this.isNullOrEmpty(this.inputStyle)) {\n        Input.addAttributes({\n          'style': this.inputStyle\n        }, this.inputElement);\n      }\n\n      addClass([this.inputWrapper.container], WRAPPERCLASS);\n    }\n  }, {\n    key: \"getCldrDateTimeFormat\",\n    value: function getCldrDateTimeFormat() {\n      var culture = new Internationalization(this.locale);\n      var cldrTime;\n      var dateFormat = culture.getDatePattern({\n        skeleton: 'yMd'\n      });\n\n      if (this.isNullOrEmpty(this.formatString)) {\n        cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n      } else {\n        cldrTime = this.formatString;\n      }\n\n      return cldrTime;\n    }\n  }, {\n    key: \"checkInvalidValue\",\n    value: function checkInvalidValue(value) {\n      var isInvalid = false;\n\n      if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n        var valueString = value;\n\n        if (typeof valueString === 'string') {\n          valueString = valueString.trim();\n        }\n\n        var valueExpression = null;\n        var valueExp = null;\n\n        if (typeof value === 'number') {\n          valueString = value.toString();\n        } else if (typeof value === 'string') {\n          if (!/^[a-zA-Z0-9- ]*$/.test(value)) {\n            valueExpression = this.setCurrentDate(this.getDateObject(value));\n\n            if (isNullOrUndefined(valueExpression)) {\n              valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(),\n                type: 'datetime'\n              }));\n\n              if (isNullOrUndefined(valueExpression)) {\n                valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                  format: this.formatString,\n                  type: 'dateTime',\n                  skeleton: 'yMd'\n                }));\n              }\n            }\n          }\n        }\n\n        valueExp = this.globalize.parseDate(valueString, {\n          format: this.getCldrDateTimeFormat(),\n          type: 'datetime'\n        });\n        valueExpression = !isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp) ? valueExp : null;\n\n        if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n          var extISOString = null;\n          var basicISOString = null; // eslint-disable-next-line\n\n          extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n          basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n          if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(value) || isNaN(+new Date('' + valueString))) {\n            isInvalid = true;\n          } else {\n            valueExpression = new Date('' + valueString);\n          }\n        }\n\n        if (isInvalid) {\n          if (!this.strictMode) {\n            this.invalidValueString = valueString;\n          }\n\n          this.setProperties({\n            value: null\n          }, true);\n          this.initValue = null;\n        } else {\n          this.setProperties({\n            value: valueExpression\n          }, true);\n          this.initValue = this.value;\n        }\n      }\n    }\n  }, {\n    key: \"requiredModules\",\n    value: function requiredModules() {\n      var modules = [];\n\n      if (this.enableMask) {\n        modules.push({\n          args: [this],\n          member: 'MaskedDateTime'\n        });\n      }\n\n      return modules;\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"cldrFormat\",\n    value: function cldrFormat(type) {\n      var cldrDateTimeString;\n\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrDateTimeString = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrDateTimeString = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n\n      return cldrDateTimeString;\n    } // destroy function\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.hide();\n      this.unBindEvents();\n      var ariaAttribute = {\n        'aria-haspopup': 'true',\n        'aria-autocomplete': 'list',\n        'tabindex': '0',\n        'aria-activedescendant': 'null',\n        'aria-owns': this.element.id + '_options',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false',\n        'aria-disabled': 'true',\n        'aria-invalid': 'false'\n      };\n\n      if (this.inputElement) {\n        Input.removeAttributes(ariaAttribute, this.inputElement);\n\n        if (this.angularTag === null) {\n          this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n        }\n\n        if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n          this.inputElement.setAttribute('tabindex', this.tabIndex);\n        } else {\n          this.inputElement.removeAttribute('tabindex');\n        }\n\n        this.ensureInputAttribute();\n        this.enableElement([this.inputElement]);\n        this.inputElement.classList.remove('e-input');\n\n        if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n          Input.setEnabled(true, this.inputElement, this.floatLabelType);\n        }\n      }\n\n      if (this.inputWrapper.container) {\n        detach(this.inputWrapper.container);\n      }\n\n      this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n      this.liCollections = this.timeCollections = this.disableItemCollection = [];\n\n      if (!isNullOrUndefined(this.rippleFn)) {\n        this.rippleFn();\n      }\n\n      _get(_getPrototypeOf(TimePicker.prototype), \"destroy\", this).call(this);\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n      }\n    }\n  }, {\n    key: \"ensureInputAttribute\",\n    value: function ensureInputAttribute() {\n      var propertyList = [];\n\n      for (var i = 0; i < this.inputElement.attributes.length; i++) {\n        propertyList[i] = this.inputElement.attributes[i].name;\n      }\n\n      for (var _i15 = 0; _i15 < propertyList.length; _i15++) {\n        if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[_i15]))) {\n          this.inputElement.setAttribute(propertyList[_i15], this.cloneElement.getAttribute(propertyList[_i15]));\n\n          if (propertyList[_i15].toLowerCase() === 'value') {\n            this.inputElement.value = this.cloneElement.getAttribute(propertyList[_i15]);\n          }\n        } else {\n          this.inputElement.removeAttribute(propertyList[_i15]);\n\n          if (propertyList[_i15].toLowerCase() === 'value') {\n            this.inputElement.value = '';\n          }\n        }\n      }\n    } //popup creation\n\n  }, {\n    key: \"popupCreation\",\n    value: function popupCreation() {\n      this.popupWrapper = this.createElement('div', {\n        className: ROOT$3 + ' ' + POPUP$2,\n        attrs: {\n          'id': this.element.id + '_popup',\n          'style': 'visibility:hidden'\n        }\n      });\n\n      if (!isNullOrUndefined(this.cssClass)) {\n        this.popupWrapper.className += ' ' + this.cssClass;\n      }\n\n      if (!isNullOrUndefined(this.step) && this.step > 0) {\n        this.generateList();\n        append([this.listWrapper], this.popupWrapper);\n      }\n\n      this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n      this.addSelection();\n      this.renderPopup();\n      detach(this.popupWrapper);\n    }\n  }, {\n    key: \"getPopupHeight\",\n    value: function getPopupHeight() {\n      var height = parseInt(POPUPDIMENSION, 10);\n      var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n      return popupHeight > height ? height : popupHeight;\n    }\n  }, {\n    key: \"generateList\",\n    value: function generateList() {\n      this.createListItems();\n      this.wireListEvents();\n      var rippleModel = {\n        duration: 300,\n        selector: '.' + LISTCLASS$1\n      };\n      this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n      this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n    }\n  }, {\n    key: \"renderPopup\",\n    value: function renderPopup() {\n      var _this13 = this;\n\n      this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n      this.popupObj = new Popup(this.popupWrapper, {\n        width: this.setPopupWidth(this.width),\n        zIndex: this.zIndex,\n        targetType: 'relative',\n        position: Browser.isDevice ? {\n          X: 'center',\n          Y: 'center'\n        } : {\n          X: 'left',\n          Y: 'bottom'\n        },\n        collision: Browser.isDevice ? {\n          X: 'fit',\n          Y: 'fit'\n        } : {\n          X: 'flip',\n          Y: 'flip'\n        },\n        enableRtl: this.enableRtl,\n        relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n        offsetY: OFFSETVAL,\n        open: function open() {\n          _this13.popupWrapper.style.visibility = 'visible';\n          addClass([_this13.inputWrapper.buttons[0]], SELECTED$4);\n        },\n        close: function close() {\n          removeClass([_this13.inputWrapper.buttons[0]], SELECTED$4);\n\n          _this13.unWireListEvents();\n\n          _this13.inputElement.setAttribute('aria-activedescendant', 'null');\n\n          remove(_this13.popupObj.element);\n\n          _this13.popupObj.destroy();\n\n          _this13.popupWrapper.innerHTML = '';\n          _this13.listWrapper = _this13.popupWrapper = _this13.listTag = undefined;\n        },\n        targetExitViewport: function targetExitViewport() {\n          if (!Browser.isDevice) {\n            _this13.hide();\n          }\n        }\n      });\n\n      if (!Browser.isDevice) {\n        this.popupObj.collision = {\n          X: 'none',\n          Y: 'flip'\n        };\n      }\n\n      this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    } //util function\n\n  }, {\n    key: \"getFormattedValue\",\n    value: function getFormattedValue(value) {\n      if (isNullOrUndefined(this.checkDateValue(value))) {\n        return null;\n      } else {\n        return this.globalize.formatDate(value, {\n          skeleton: 'medium',\n          type: 'time'\n        });\n      }\n    }\n  }, {\n    key: \"getDateObject\",\n    value: function getDateObject(text) {\n      if (!this.isNullOrEmpty(text)) {\n        var dateValue = this.createDateObj(text);\n        var value = !this.isNullOrEmpty(this.initValue);\n\n        if (this.checkDateValue(dateValue)) {\n          var date = value ? this.initValue.getDate() : DAY;\n          var month = value ? this.initValue.getMonth() : MONTH$2;\n          var year = value ? this.initValue.getFullYear() : YEAR$2;\n          return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"updateHtmlAttributeToWrapper\",\n    value: function updateHtmlAttributeToWrapper() {\n      if (!isNullOrUndefined(this.htmlAttributes)) {\n        for (var _i16 = 0, _Object$keys11 = Object.keys(this.htmlAttributes); _i16 < _Object$keys11.length; _i16++) {\n          var key = _Object$keys11[_i16];\n\n          if (wrapperAttributes.indexOf(key) > -1) {\n            if (key === 'class') {\n              var updatedClassesValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n              if (updatedClassesValue !== '') {\n                addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n              }\n            } else if (key === 'style') {\n              var timeStyle = this.inputWrapper.container.getAttribute(key);\n              timeStyle = !isNullOrUndefined(timeStyle) ? timeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n              this.inputWrapper.container.setAttribute(key, timeStyle);\n            } else {\n              this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateHtmlAttributeToElement\",\n    value: function updateHtmlAttributeToElement() {\n      if (!isNullOrUndefined(this.htmlAttributes)) {\n        for (var _i17 = 0, _Object$keys12 = Object.keys(this.htmlAttributes); _i17 < _Object$keys12.length; _i17++) {\n          var key = _Object$keys12[_i17];\n\n          if (wrapperAttributes.indexOf(key) < 0) {\n            this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"updateCssClass\",\n    value: function updateCssClass(cssClassNew, cssClassOld) {\n      if (!isNullOrUndefined(cssClassOld)) {\n        cssClassOld = cssClassOld.replace(/\\s+/g, ' ').trim();\n      }\n\n      if (!isNullOrUndefined(cssClassNew)) {\n        cssClassNew = cssClassNew.replace(/\\s+/g, ' ').trim();\n      }\n\n      Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n\n      if (this.popupWrapper) {\n        Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n      }\n    }\n  }, {\n    key: \"removeErrorClass\",\n    value: function removeErrorClass() {\n      removeClass([this.inputWrapper.container], ERROR$2);\n      attributes(this.inputElement, {\n        'aria-invalid': 'false'\n      });\n    }\n  }, {\n    key: \"checkErrorState\",\n    value: function checkErrorState(val) {\n      var value = this.getDateObject(val);\n\n      if (this.validateState(value) && !this.invalidValueString || this.enableMask && this.inputElement.value === this.maskedDateValue) {\n        this.removeErrorClass();\n      } else {\n        addClass([this.inputWrapper.container], ERROR$2);\n        attributes(this.inputElement, {\n          'aria-invalid': 'true'\n        });\n      }\n    }\n  }, {\n    key: \"validateInterval\",\n    value: function validateInterval() {\n      if (!isNullOrUndefined(this.step) && this.step > 0) {\n        this.enableElement([this.inputWrapper.buttons[0]]);\n      } else {\n        this.disableTimeIcon();\n      }\n    }\n  }, {\n    key: \"disableTimeIcon\",\n    value: function disableTimeIcon() {\n      this.disableElement([this.inputWrapper.buttons[0]]);\n      this.hide();\n    }\n  }, {\n    key: \"disableElement\",\n    value: function disableElement(element) {\n      addClass(element, DISABLED$3);\n    }\n  }, {\n    key: \"enableElement\",\n    value: function enableElement(element) {\n      removeClass(element, DISABLED$3);\n    }\n  }, {\n    key: \"selectInputText\",\n    value: function selectInputText() {\n      this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n    }\n  }, {\n    key: \"setCursorToEnd\",\n    value: function setCursorToEnd() {\n      this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);\n    }\n  }, {\n    key: \"getMeridianText\",\n    value: function getMeridianText() {\n      var meridian;\n\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n      } else {\n        var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n        var mainVal = 'main.';\n        meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n      }\n\n      return meridian;\n    }\n  }, {\n    key: \"getCursorSelection\",\n    value: function getCursorSelection() {\n      var input = this.inputElement;\n      var start = 0;\n      var end = 0;\n\n      if (!isNaN(input.selectionStart)) {\n        start = input.selectionStart;\n        end = input.selectionEnd;\n      }\n\n      return {\n        start: Math.abs(start),\n        end: Math.abs(end)\n      };\n    }\n  }, {\n    key: \"getActiveElement\",\n    value: function getActiveElement() {\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"isNullOrEmpty\",\n    value: function isNullOrEmpty(value) {\n      if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"setWidth\",\n    value: function setWidth(width) {\n      if (typeof width === 'number') {\n        width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        width = width.match(/px|%|em/) ? width : formatUnit(width);\n      } else {\n        width = '100%';\n      }\n\n      return width;\n    }\n  }, {\n    key: \"setPopupWidth\",\n    value: function setPopupWidth(width) {\n      width = this.setWidth(width);\n\n      if (width.indexOf('%') > -1) {\n        var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n        width = inputWidth.toString() + 'px';\n      }\n\n      return width;\n    }\n  }, {\n    key: \"setScrollPosition\",\n    value: function setScrollPosition() {\n      var element = this.selectedElement;\n\n      if (!isNullOrUndefined(element)) {\n        this.findScrollTop(element);\n      } else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n        this.setScrollTo();\n      }\n    }\n  }, {\n    key: \"findScrollTop\",\n    value: function findScrollTop(element) {\n      var listHeight = this.getPopupHeight();\n      var nextEle = element.nextElementSibling;\n      var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n      var liHeight = element.getBoundingClientRect().height;\n\n      if (height + element.offsetTop > listHeight) {\n        this.popupWrapper.scrollTop = nextEle ? height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION) : height;\n      } else {\n        this.popupWrapper.scrollTop = 0;\n      }\n    }\n  }, {\n    key: \"setScrollTo\",\n    value: function setScrollTo() {\n      var element;\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n        if (items.length) {\n          var initialTime = this.timeCollections[0];\n          var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n          element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n      } else {\n        this.popupWrapper.scrollTop = 0;\n      }\n\n      if (!isNullOrUndefined(element)) {\n        this.findScrollTop(element);\n      } else {\n        this.popupWrapper.scrollTop = 0;\n      }\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      return isNullOrUndefined(this.checkDateValue(this.value)) ? '' : this.getValue(this.value);\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(value) {\n      return isNullOrUndefined(this.checkDateValue(value)) ? null : this.globalize.formatDate(value, {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      });\n    }\n  }, {\n    key: \"cldrDateFormat\",\n    value: function cldrDateFormat() {\n      var cldrDate;\n\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrDate = getValue('dateFormats.short', getDefaultDateObject());\n      } else {\n        cldrDate = this.getCultureDateObject(cldrData, '' + this.locale);\n      }\n\n      return cldrDate;\n    }\n  }, {\n    key: \"cldrTimeFormat\",\n    value: function cldrTimeFormat() {\n      var cldrTime;\n\n      if (this.isNullOrEmpty(this.formatString)) {\n        if (this.locale === 'en' || this.locale === 'en-US') {\n          cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n        } else {\n          cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n        }\n      } else {\n        cldrTime = this.formatString;\n      }\n\n      return cldrTime;\n    }\n  }, {\n    key: \"dateToNumeric\",\n    value: function dateToNumeric() {\n      var cldrTime;\n\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.medium', getDefaultDateObject());\n      } else {\n        cldrTime = getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData);\n      }\n\n      return cldrTime;\n    }\n  }, {\n    key: \"getExactDateTime\",\n    value: function getExactDateTime(value) {\n      if (isNullOrUndefined(this.checkDateValue(value))) {\n        return null;\n      } else {\n        return this.globalize.formatDate(value, {\n          format: this.dateToNumeric(),\n          type: 'time'\n        });\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      var time = this.checkValue(value);\n\n      if (!this.strictMode && !this.validateState(time)) {\n        if (this.checkDateValue(this.valueWithMinutes) === null) {\n          this.initValue = this.valueWithMinutes = null;\n        }\n\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        if (this.isNullOrEmpty(time)) {\n          this.initValue = null;\n          this.validateMinMax(this.value, this.min, this.max);\n        } else {\n          this.initValue = this.compareFormatChange(time);\n        }\n      }\n\n      this.updateInput(true, this.initValue);\n    }\n  }, {\n    key: \"compareFormatChange\",\n    value: function compareFormatChange(value) {\n      if (isNullOrUndefined(value)) {\n        return null;\n      }\n\n      return value !== this.getText() ? this.getDateObject(value) : this.getDateObject(this.value);\n    }\n  }, {\n    key: \"updatePlaceHolder\",\n    value: function updatePlaceHolder() {\n      Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    } //event related functions\n\n  }, {\n    key: \"updateInputValue\",\n    value: function updateInputValue(value) {\n      Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  }, {\n    key: \"preventEventBubbling\",\n    value: function preventEventBubbling(e) {\n      e.preventDefault();\n      this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n    }\n  }, {\n    key: \"popupHandler\",\n    value: function popupHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (Browser.isDevice) {\n        this.inputElement.setAttribute('readonly', '');\n      }\n\n      e.preventDefault();\n\n      if (this.isPopupOpen()) {\n        this.closePopup(0, e);\n      } else {\n        this.inputElement.focus();\n        this.show(e);\n      }\n    }\n  }, {\n    key: \"mouseDownHandler\",\n    value: function mouseDownHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (!this.readonly) {\n        this.inputElement.setSelectionRange(0, 0);\n        EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n      }\n    }\n  }, {\n    key: \"mouseUpHandler\",\n    value: function mouseUpHandler(event) {\n      if (!this.readonly) {\n        event.preventDefault();\n\n        if (this.enableMask) {\n          event.preventDefault();\n          this.notify(\"setMaskSelection\", {\n            module: \"MaskedDateTime\"\n          });\n          return;\n        } else {\n          EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n          var curPos = this.getCursorSelection();\n\n          if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n            if (this.inputElement.value.length > 0) {\n              this.cursorDetails = this.focusSelection();\n            }\n\n            this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"focusSelection\",\n    value: function focusSelection() {\n      var regex = new RegExp('^[a-zA-Z0-9]+$');\n      var split = this.inputElement.value.split('');\n      split.push(' ');\n      var curPos = this.getCursorSelection();\n      var start = 0;\n      var end = 0;\n      var isSeparator = false;\n\n      if (!this.isTextSelected) {\n        for (var i = 0; i < split.length; i++) {\n          if (!regex.test(split[i])) {\n            end = i;\n            isSeparator = true;\n          }\n\n          if (isSeparator) {\n            if (curPos.start >= start && curPos.end <= end) {\n              // eslint-disable-next-line no-self-assign\n              end = end;\n              this.isTextSelected = true;\n              break;\n            } else {\n              start = i + 1;\n              isSeparator = false;\n            }\n          }\n        }\n      } else {\n        start = curPos.start;\n        end = curPos.end;\n        this.isTextSelected = false;\n      }\n\n      return {\n        start: start,\n        end: end\n      };\n    }\n  }, {\n    key: \"inputHandler\",\n    value: function inputHandler(event) {\n      if (!this.readonly && this.enabled) {\n        if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n          event.preventDefault();\n        }\n\n        switch (event.action) {\n          case 'home':\n          case 'end':\n          case 'up':\n          case 'down':\n            if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n              event.preventDefault();\n              this.notify(\"keyDownHandler\", {\n                module: \"MaskedDateTime\",\n                e: event\n              });\n            }\n\n            if (!this.enableMask || this.isPopupOpen()) {\n              this.keyHandler(event);\n            }\n\n            break;\n\n          case 'enter':\n            if (this.isNavigate) {\n              this.selectedElement = this.liCollections[this.activeIndex];\n              this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n              this.updateValue(this.valueWithMinutes, event);\n            } else {\n              this.updateValue(this.inputElement.value, event);\n            }\n\n            this.hide();\n            this.isNavigate = false;\n\n            if (this.isPopupOpen()) {\n              event.stopPropagation();\n            }\n\n            break;\n\n          case 'open':\n            this.show(event);\n            break;\n\n          case 'escape':\n            this.updateInputValue(this.objToString(this.value));\n\n            if (this.enableMask) {\n              if (!this.value) {\n                this.updateInputValue(this.maskedDateValue);\n              }\n\n              this.createMask();\n            }\n\n            this.previousState(this.value);\n            this.hide();\n            break;\n\n          case 'close':\n            this.hide();\n            break;\n\n          case 'right':\n          case 'left':\n          case 'tab':\n          case 'shiftTab':\n            if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n              if (this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length || this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab' || this.inputElement.selectionStart !== 0 && event.action == 'shiftTab' || event.action == 'left' || event.action == 'right') {\n                event.preventDefault();\n              }\n\n              this.notify(\"keyDownHandler\", {\n                module: \"MaskedDateTime\",\n                e: event\n              });\n            }\n\n            break;\n\n          default:\n            this.isNavigate = false;\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"onMouseClick\",\n    value: function onMouseClick(event) {\n      var target = event.target;\n      var li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n      this.setSelection(li, event);\n\n      if (li && li.classList.contains(LISTCLASS$1)) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"closePopup\",\n    value: function closePopup(delay, e) {\n      var _this14 = this;\n\n      if (this.isPopupOpen() && this.popupWrapper) {\n        var args = {\n          popup: this.popupObj,\n          event: e || null,\n          cancel: false,\n          name: 'open'\n        };\n        removeClass([document.body], OVERFLOW$2);\n        this.trigger('close', args, function (args) {\n          if (!args.cancel) {\n            var animModel = {\n              name: 'FadeOut',\n              duration: ANIMATIONDURATION,\n              delay: delay ? delay : 0\n            };\n\n            _this14.popupObj.hide(new Animation(animModel));\n\n            removeClass([_this14.inputWrapper.container], [ICONANIMATION]);\n            attributes(_this14.inputElement, {\n              'aria-expanded': 'false'\n            });\n            EventHandler.remove(document, 'mousedown touchstart', _this14.documentClickHandler);\n          }\n\n          if (Browser.isDevice && _this14.modal) {\n            _this14.modal.style.display = 'none';\n            _this14.modal.outerHTML = '';\n            _this14.modal = null;\n          }\n\n          if (Browser.isDevice) {\n            if (!isNullOrUndefined(_this14.mobileTimePopupWrap)) {\n              _this14.mobileTimePopupWrap.remove();\n\n              _this14.mobileTimePopupWrap = null;\n            }\n          }\n\n          if (Browser.isDevice && _this14.allowEdit && !_this14.readonly) {\n            _this14.inputElement.removeAttribute('readonly');\n          }\n        });\n      } else {\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n      }\n    }\n  }, {\n    key: \"disposeServerPopup\",\n    value: function disposeServerPopup() {\n      if (this.popupWrapper) {\n        this.popupWrapper.style.visibility = 'hidden';\n        this.popupWrapper.style.top = '-9999px';\n        this.popupWrapper.style.left = '-9999px';\n        this.popupWrapper.style.width = '0px';\n        this.popupWrapper.style.height = '0px';\n      }\n    }\n  }, {\n    key: \"checkValueChange\",\n    value: function checkValueChange(event, isNavigation) {\n      if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n        if (this.checkDateValue(this.valueWithMinutes) === null) {\n          this.initValue = this.valueWithMinutes = null;\n        }\n\n        this.setProperties({\n          value: this.compareFormatChange(this.inputElement.value)\n        }, true);\n        this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n        this.prevValue = this.inputElement.value;\n\n        if (+this.prevDate !== +this.value) {\n          this.changeEvent(event);\n        }\n      } else {\n        if (!isNavigation) {\n          if (this.prevValue !== this.inputElement.value || isNullOrUndefined(this.checkDateValue(this.value))) {\n            this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n          }\n        } else {\n          var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n\n          if (+this.prevDate !== +value) {\n            this.valueProcess(event, value);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"onMouseOver\",\n    value: function onMouseOver(event) {\n      var currentLi = closest(event.target, '.' + LISTCLASS$1);\n      this.setHover(currentLi, HOVER$1);\n    }\n  }, {\n    key: \"setHover\",\n    value: function setHover(li, className) {\n      if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n        this.removeHover(className);\n        addClass([li], className);\n\n        if (className === NAVIGATION) {\n          li.setAttribute('aria-selected', 'true');\n        }\n      }\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(li, event) {\n      if (this.isValidLI(li)) {\n        this.checkValue(li.getAttribute('data-value'));\n\n        if (this.enableMask) {\n          this.notify(\"setMaskSelection\", {\n            module: \"MaskedDateTime\"\n          });\n        }\n\n        this.selectedElement = li;\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n        addClass([this.selectedElement], SELECTED$4);\n        this.selectedElement.setAttribute('aria-selected', 'true');\n        this.checkValueChange(event, true);\n      }\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.removeHover(HOVER$1);\n    }\n  }, {\n    key: \"scrollHandler\",\n    value: function scrollHandler() {\n      if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n        return;\n      } else {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"setMinMax\",\n    value: function setMinMax(minVal, maxVal) {\n      if (isNullOrUndefined(this.checkDateValue(minVal))) {\n        this.initMin = this.getDateObject('12:00:00 AM');\n      }\n\n      if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n        this.initMax = this.getDateObject('11:59:59 PM');\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"validateMinMax\",\n    value: function validateMinMax(dateVal, minVal, maxVal) {\n      var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n\n      if (!isNullOrUndefined(this.checkDateValue(value))) {\n        dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n      } else if (+this.createDateObj(this.getFormattedValue(this.initMin)) > +this.createDateObj(this.getFormattedValue(this.initMax))) {\n        this.disableTimeIcon();\n      }\n\n      if (this.strictMode) {\n        dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n      }\n\n      this.checkErrorState(dateVal);\n      return dateVal;\n    }\n  }, {\n    key: \"valueIsDisable\",\n    value: function valueIsDisable(value) {\n      if (this.disableItemCollection.length > 0) {\n        if (this.disableItemCollection.length === this.timeCollections.length) {\n          return false;\n        }\n\n        var time = value instanceof Date ? this.objToString(value) : value;\n\n        for (var index = 0; index < this.disableItemCollection.length; index++) {\n          if (time === this.disableItemCollection[index]) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"validateState\",\n    value: function validateState(val) {\n      if (!this.strictMode) {\n        if (this.valueIsDisable(val)) {\n          var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) : this.setCurrentDate(this.getDateObject(val));\n          var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n          var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n\n          if (!isNullOrUndefined(this.checkDateValue(value))) {\n            if (+value > +maxValue || +value < +minValue) {\n              return false;\n            }\n          } else {\n            if (+maxValue < +minValue || this.inputElement.value !== '') {\n              return false;\n            }\n          }\n        } else {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"strictOperation\",\n    value: function strictOperation(minimum, maximum, dateVal, val) {\n      var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n      var minValue = this.createDateObj(this.getFormattedValue(minimum));\n      var value = this.createDateObj(this.getFormattedValue(val));\n\n      if (this.strictMode) {\n        if (+minValue > +maxValue) {\n          this.disableTimeIcon();\n          this.initValue = this.getDateObject(maxValue);\n          this.updateInputValue(this.getValue(this.initValue));\n\n          if (this.enableMask) {\n            this.createMask();\n          }\n\n          return this.inputElement.value;\n        } else if (+minValue >= +value) {\n          return this.getDateObject(minValue);\n        } else if (+value >= +maxValue || +minValue === +maxValue) {\n          return this.getDateObject(maxValue);\n        }\n      } else {\n        if (+minValue > +maxValue) {\n          this.disableTimeIcon();\n\n          if (!isNaN(+this.createDateObj(dateVal))) {\n            return dateVal;\n          }\n        }\n      }\n\n      return dateVal;\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n      EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n      EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n      EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n      EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n\n      if (this.enableMask) {\n        EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n      }\n\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n      }\n\n      if (this.formElement) {\n        EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n      }\n\n      if (!Browser.isDevice) {\n        this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n        this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n          keyAction: this.inputHandler.bind(this),\n          keyConfigs: this.keyConfigure,\n          eventName: 'keydown'\n        });\n\n        if (this.showClearButton && this.inputElement) {\n          EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n        }\n      }\n    }\n  }, {\n    key: \"keydownHandler\",\n    value: function keydownHandler(e) {\n      switch (e.code) {\n        case 'Delete':\n          if (this.enableMask && !this.popupObj && !this.readonly) {\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: e\n            });\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"formResetHandler\",\n    value: function formResetHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (!this.inputElement.disabled) {\n        var timeValue = this.inputElement.getAttribute('value');\n        var val = this.checkDateValue(this.inputEleValue);\n\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\n          val = null;\n          timeValue = '';\n          this.inputElement.setAttribute('value', '');\n        }\n\n        this.setProperties({\n          value: val\n        }, true);\n        this.prevDate = this.value;\n        this.valueWithMinutes = this.value;\n        this.initValue = this.value;\n\n        if (this.inputElement) {\n          this.updateInputValue(timeValue);\n\n          if (this.enableMask) {\n            if (!timeValue) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n\n            this.createMask();\n          }\n\n          this.checkErrorState(timeValue);\n          this.prevValue = this.inputElement.value;\n        }\n      }\n    }\n  }, {\n    key: \"inputChangeHandler\",\n    value: function inputChangeHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      e.stopPropagation();\n    }\n  }, {\n    key: \"inputEventHandler\",\n    value: function inputEventHandler() {\n      if (this.enableMask) {\n        this.notify(\"inputHandler\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }, {\n    key: \"unBindEvents\",\n    value: function unBindEvents() {\n      if (this.inputWrapper) {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n      }\n\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n      EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n\n      if (this.inputEvent) {\n        this.inputEvent.destroy();\n      }\n\n      EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n\n      if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n        EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n      }\n\n      if (this.formElement) {\n        EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n      }\n    }\n  }, {\n    key: \"bindClearEvent\",\n    value: function bindClearEvent() {\n      if (this.showClearButton && this.inputWrapper.clearButton) {\n        EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n      }\n    }\n  }, {\n    key: \"raiseClearedEvent\",\n    value: function raiseClearedEvent(e) {\n      var clearedArgs = {\n        event: e\n      };\n      this.trigger('cleared', clearedArgs);\n    }\n  }, {\n    key: \"clearHandler\",\n    value: function clearHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      e.preventDefault();\n\n      if (!isNullOrUndefined(this.value)) {\n        this.clear(e);\n      } else {\n        this.resetState();\n        this.raiseClearedEvent(e);\n      }\n\n      if (this.popupWrapper) {\n        this.popupWrapper.scrollTop = 0;\n      }\n\n      if (this.enableMask) {\n        this.notify(\"clearHandler\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear(event) {\n      this.setProperties({\n        value: null\n      }, true);\n      this.initValue = null;\n      this.resetState();\n      this.raiseClearedEvent(event);\n      this.changeEvent(event);\n    }\n  }, {\n    key: \"setZIndex\",\n    value: function setZIndex() {\n      if (this.popupObj) {\n        this.popupObj.zIndex = this.zIndex;\n        this.popupObj.dataBind();\n      }\n    }\n  }, {\n    key: \"checkAttributes\",\n    value: function checkAttributes(isDynamic) {\n      var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n      var value;\n\n      var _iterator18 = _createForOfIteratorHelper(attributes$$1),\n          _step18;\n\n      try {\n        for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n          var prop = _step18.value;\n\n          if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n            switch (prop) {\n              case 'disabled':\n                if (isNullOrUndefined(this.timeOptions) || this.timeOptions['enabled'] === undefined || isDynamic) {\n                  var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                  this.setProperties({\n                    enabled: enabled\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'style':\n                this.inputStyle = this.inputElement.getAttribute(prop);\n                break;\n\n              case 'readonly':\n                if (isNullOrUndefined(this.timeOptions) || this.timeOptions['readonly'] === undefined || isDynamic) {\n                  var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                  this.setProperties({\n                    readonly: readonly\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'name':\n                this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                break;\n\n              case 'step':\n                this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                break;\n\n              case 'placeholder':\n                if (isNullOrUndefined(this.timeOptions) || this.timeOptions['placeholder'] === undefined || isDynamic) {\n                  this.setProperties({\n                    placeholder: this.inputElement.getAttribute(prop)\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'min':\n                if (isNullOrUndefined(this.timeOptions) || this.timeOptions['min'] === undefined || isDynamic) {\n                  value = new Date(this.inputElement.getAttribute(prop));\n\n                  if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    this.setProperties({\n                      min: value\n                    }, !isDynamic);\n                  }\n                }\n\n                break;\n\n              case 'max':\n                if (isNullOrUndefined(this.timeOptions) || this.timeOptions['max'] === undefined || isDynamic) {\n                  value = new Date(this.inputElement.getAttribute(prop));\n\n                  if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    this.setProperties({\n                      max: value\n                    }, !isDynamic);\n                  }\n                }\n\n                break;\n\n              case 'value':\n                if (isNullOrUndefined(this.timeOptions) || this.timeOptions['value'] === undefined || isDynamic) {\n                  value = new Date(this.inputElement.getAttribute(prop));\n\n                  if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    this.initValue = value;\n                    this.updateInput(false, this.initValue);\n                    this.setProperties({\n                      value: value\n                    }, !isDynamic);\n                  }\n                }\n\n                break;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator18.e(err);\n      } finally {\n        _iterator18.f();\n      }\n    }\n  }, {\n    key: \"setCurrentDate\",\n    value: function setCurrentDate(value) {\n      if (isNullOrUndefined(this.checkDateValue(value))) {\n        return null;\n      }\n\n      return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    }\n  }, {\n    key: \"getTextFormat\",\n    value: function getTextFormat() {\n      var time = 0;\n\n      if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n        time = 1;\n      } else if (this.cldrTimeFormat().indexOf('a') < 0) {\n        var strArray = this.cldrTimeFormat().split(' ');\n\n        for (var i = 0; i < strArray.length; i++) {\n          if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n            time = i;\n            break;\n          }\n        }\n      }\n\n      return time;\n    }\n  }, {\n    key: \"updateValue\",\n    value: function updateValue(value, event) {\n      var val;\n\n      if (this.isNullOrEmpty(value)) {\n        this.resetState();\n      } else {\n        val = this.checkValue(value);\n\n        if (this.strictMode) {\n          // this case set previous value to the text box when set invalid date\n          var inputVal = val === null && value.trim().length > 0 ? this.previousState(this.prevDate) : this.inputElement.value;\n          this.updateInputValue(inputVal);\n\n          if (this.enableMask) {\n            if (!inputVal) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n\n            this.createMask();\n          }\n        }\n      }\n\n      this.checkValueChange(event, typeof value === 'string' ? false : true);\n    }\n  }, {\n    key: \"previousState\",\n    value: function previousState(date) {\n      var value = this.getDateObject(date);\n\n      for (var i = 0; i < this.timeCollections.length; i++) {\n        if (+value === this.timeCollections[i]) {\n          this.activeIndex = i;\n          this.selectedElement = this.liCollections[i];\n          this.valueWithMinutes = new Date(this.timeCollections[i]);\n          break;\n        }\n      }\n\n      return this.prevValue;\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      this.removeSelection();\n      Input.setValue('', this.inputElement, this.floatLabelType, false);\n      this.valueWithMinutes = this.activeIndex = null;\n\n      if (!this.strictMode) {\n        this.checkErrorState(null);\n      }\n    }\n  }, {\n    key: \"objToString\",\n    value: function objToString(val) {\n      if (isNullOrUndefined(this.checkDateValue(val))) {\n        return null;\n      } else {\n        return this.globalize.formatDate(val, {\n          format: this.cldrTimeFormat(),\n          type: 'time'\n        });\n      }\n    }\n  }, {\n    key: \"checkValue\",\n    value: function checkValue(value) {\n      if (!this.isNullOrEmpty(value)) {\n        var date = value instanceof Date ? value : this.getDateObject(value);\n        return this.validateValue(date, value);\n      }\n\n      this.resetState();\n      return this.valueWithMinutes = null;\n    }\n  }, {\n    key: \"validateValue\",\n    value: function validateValue(date, value) {\n      var time;\n      var val = this.validateMinMax(value, this.min, this.max);\n      var newval = this.createDateObj(val);\n\n      if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n        this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n        time = this.objToString(this.valueWithMinutes);\n      } else {\n        if (this.strictMode) {\n          //for strict mode case, when value not present within a range. Reset the nearest range value.\n          date = newval;\n        }\n\n        this.valueWithMinutes = this.checkDateValue(date);\n        time = this.objToString(this.valueWithMinutes);\n      }\n\n      if (!this.strictMode && isNullOrUndefined(time)) {\n        var _value = val.trim().length > 0 ? val : '';\n\n        this.updateInputValue(_value);\n\n        if (this.enableMask) {\n          if (!_value) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n        }\n      } else {\n        this.updateInputValue(time);\n\n        if (this.enableMask) {\n          if (time == '') {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          this.createMask();\n        }\n      }\n\n      return time;\n    }\n  }, {\n    key: \"createMask\",\n    value: function createMask() {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }, {\n    key: \"findNextElement\",\n    value: function findNextElement(event) {\n      var textVal = this.inputElement.value;\n      var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n      var timeVal = null;\n      var count = this.liCollections.length;\n      var collections = this.timeCollections;\n\n      if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n        if (event.action === 'home') {\n          var index = this.validLiElement(0);\n          timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n          this.activeIndex = index;\n        } else if (event.action === 'end') {\n          var _index2 = this.validLiElement(collections.length - 1, true);\n\n          timeVal = +this.createDateObj(new Date(this.timeCollections[_index2]));\n          this.activeIndex = _index2;\n        } else {\n          if (event.action === 'down') {\n            for (var i = 0; i < count; i++) {\n              if (+value < this.timeCollections[i]) {\n                var _index3 = this.validLiElement(i);\n\n                timeVal = +this.createDateObj(new Date(this.timeCollections[_index3]));\n                this.activeIndex = _index3;\n                break;\n              } else if (i === count - 1) {\n                var _index4 = this.validLiElement(0);\n\n                timeVal = +this.createDateObj(new Date(this.timeCollections[_index4]));\n                this.activeIndex = _index4;\n                break;\n              }\n            }\n          } else {\n            for (var _i18 = count - 1; _i18 >= 0; _i18--) {\n              if (+value > this.timeCollections[_i18]) {\n                var _index5 = this.validLiElement(_i18, true);\n\n                timeVal = +this.createDateObj(new Date(this.timeCollections[_index5]));\n                this.activeIndex = _index5;\n                break;\n              } else if (_i18 === 0) {\n                var _index6 = this.validLiElement(count - 1);\n\n                timeVal = +this.createDateObj(new Date(this.timeCollections[_index6]));\n                this.activeIndex = _index6;\n                break;\n              }\n            }\n          }\n        }\n\n        this.selectedElement = this.liCollections[this.activeIndex];\n        this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n      } else {\n        this.selectNextItem(event);\n      }\n    }\n  }, {\n    key: \"selectNextItem\",\n    value: function selectNextItem(event) {\n      var index = this.validLiElement(0, event.action === 'down' ? false : true);\n      this.activeIndex = index;\n      this.selectedElement = this.liCollections[index];\n      this.elementValue(new Date(this.timeCollections[index]));\n    }\n  }, {\n    key: \"elementValue\",\n    value: function elementValue(value) {\n      if (!isNullOrUndefined(this.checkDateValue(value))) {\n        this.checkValue(value);\n      }\n    }\n  }, {\n    key: \"validLiElement\",\n    value: function validLiElement(index, backward) {\n      var elementIndex = null;\n      var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections : this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n      var isCheck = true;\n\n      if (items.length) {\n        if (backward) {\n          for (var i = index; i >= 0; i--) {\n            if (!items[i].classList.contains(DISABLED$3)) {\n              elementIndex = i;\n              break;\n            } else if (i === 0) {\n              if (isCheck) {\n                index = i = items.length;\n                isCheck = false;\n              }\n            }\n          }\n        } else {\n          for (var _i19 = index; _i19 <= items.length - 1; _i19++) {\n            if (!items[_i19].classList.contains(DISABLED$3)) {\n              elementIndex = _i19;\n              break;\n            } else if (_i19 === items.length - 1) {\n              if (isCheck) {\n                index = _i19 = -1;\n                isCheck = false;\n              }\n            }\n          }\n        }\n      }\n\n      return elementIndex;\n    }\n  }, {\n    key: \"keyHandler\",\n    value: function keyHandler(event) {\n      if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n        return;\n      }\n\n      var count = this.timeCollections.length;\n\n      if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n        if (this.liCollections.length > 0) {\n          if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n            var index = this.validLiElement(0, event.action === 'down' ? false : true);\n            this.activeIndex = index;\n            this.selectedElement = this.liCollections[index];\n            this.elementValue(new Date(this.timeCollections[index]));\n          } else {\n            this.findNextElement(event);\n          }\n        } else {\n          this.findNextElement(event);\n        }\n      } else {\n        var nextItem;\n\n        if (event.keyCode >= 37 && event.keyCode <= 40) {\n          var _index7 = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n\n          this.activeIndex = _index7 = this.activeIndex === count ? 0 : this.activeIndex;\n          this.activeIndex = _index7 = this.activeIndex < 0 ? count - 1 : this.activeIndex;\n          this.activeIndex = _index7 = this.validLiElement(this.activeIndex, event.keyCode === 40 || event.keyCode === 39 ? false : true);\n          nextItem = isNullOrUndefined(this.timeCollections[_index7]) ? this.timeCollections[0] : this.timeCollections[_index7];\n        } else if (event.action === 'home') {\n          var _index8 = this.validLiElement(0);\n\n          this.activeIndex = _index8;\n          nextItem = this.timeCollections[_index8];\n        } else if (event.action === 'end') {\n          var _index9 = this.validLiElement(count - 1, true);\n\n          this.activeIndex = _index9;\n          nextItem = this.timeCollections[_index9];\n        }\n\n        this.selectedElement = this.liCollections[this.activeIndex];\n        this.elementValue(new Date(nextItem));\n      }\n\n      this.isNavigate = true;\n      this.setHover(this.selectedElement, NAVIGATION);\n      this.setActiveDescendant();\n      this.selectInputText();\n\n      if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n        this.setScrollPosition();\n      }\n    }\n  }, {\n    key: \"getCultureTimeObject\",\n    value: function getCultureTimeObject(ld, c) {\n      return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    }\n  }, {\n    key: \"getCultureDateObject\",\n    value: function getCultureDateObject(ld, c) {\n      return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    }\n  }, {\n    key: \"wireListEvents\",\n    value: function wireListEvents() {\n      EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n      if (!Browser.isDevice) {\n        EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  }, {\n    key: \"unWireListEvents\",\n    value: function unWireListEvents() {\n      if (this.listWrapper) {\n        EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n\n        if (!Browser.isDevice) {\n          EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n          EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n        }\n      }\n    }\n  }, {\n    key: \"valueProcess\",\n    value: function valueProcess(event, value) {\n      var result = isNullOrUndefined(this.checkDateValue(value)) ? null : value;\n\n      if (+this.prevDate !== +result) {\n        this.initValue = result;\n        this.changeEvent(event);\n      }\n    }\n  }, {\n    key: \"changeEvent\",\n    value: function changeEvent(e) {\n      this.addSelection();\n      this.updateInput(true, this.initValue);\n      var eventArgs = {\n        event: e || null,\n        value: this.value,\n        text: this.inputElement.value,\n        isInteracted: !isNullOrUndefined(e),\n        element: this.element\n      };\n      eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n      this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', eventArgs);\n      }\n\n      this.invalidValueString = null;\n      this.checkErrorState(this.value);\n    }\n  }, {\n    key: \"updateInput\",\n    value: function updateInput(isUpdate, date) {\n      if (isUpdate) {\n        this.prevValue = this.getValue(date);\n      }\n\n      this.prevDate = this.valueWithMinutes = date;\n\n      if (typeof date !== 'number' || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n        this.setProperties({\n          value: date\n        }, true);\n\n        if (this.enableMask) {\n          this.createMask();\n        }\n      }\n\n      if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n        this.checkErrorState(this.invalidValueString);\n        this.updateInputValue(this.invalidValueString);\n      }\n\n      this.clearIconState();\n    }\n  }, {\n    key: \"setActiveDescendant\",\n    value: function setActiveDescendant() {\n      if (!isNullOrUndefined(this.selectedElement)) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': this.selectedElement.getAttribute('id')\n        });\n      } else {\n        attributes(this.inputElement, {\n          'aria-activedescendant': 'null'\n        });\n      }\n    }\n  }, {\n    key: \"removeSelection\",\n    value: function removeSelection() {\n      this.removeHover(HOVER$1);\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        var items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n\n        if (items.length) {\n          removeClass(items, SELECTED$4);\n          items[0].removeAttribute('aria-selected');\n        }\n      }\n    }\n  }, {\n    key: \"removeHover\",\n    value: function removeHover(className) {\n      var hoveredItem = this.getHoverItem(className);\n\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, className);\n\n        if (className === NAVIGATION) {\n          hoveredItem[0].removeAttribute('aria-selected');\n        }\n      }\n    }\n  }, {\n    key: \"getHoverItem\",\n    value: function getHoverItem(className) {\n      var hoveredItem;\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n      }\n\n      return hoveredItem;\n    }\n  }, {\n    key: \"setActiveClass\",\n    value: function setActiveClass() {\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n        if (items.length) {\n          for (var i = 0; i < items.length; i++) {\n            if (this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes)) {\n              items[i].setAttribute('aria-selected', 'true');\n              this.selectedElement = items[i];\n              this.activeIndex = i;\n              break;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"addSelection\",\n    value: function addSelection() {\n      this.selectedElement = null;\n      this.removeSelection();\n      this.setActiveClass();\n\n      if (!isNullOrUndefined(this.selectedElement)) {\n        addClass([this.selectedElement], SELECTED$4);\n        this.selectedElement.setAttribute('aria-selected', 'true');\n      }\n    }\n  }, {\n    key: \"isValidLI\",\n    value: function isValidLI(li) {\n      return li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3);\n    }\n  }, {\n    key: \"createDateObj\",\n    value: function createDateObj(val) {\n      var formatStr = null;\n      var today = this.globalize.formatDate(new Date(), {\n        format: formatStr,\n        skeleton: 'short',\n        type: 'date'\n      });\n      var value = null;\n\n      if (typeof val === 'string') {\n        if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n          today = this.defaultCulture.formatDate(new Date(), {\n            format: formatStr,\n            skeleton: 'short',\n            type: 'date'\n          });\n          value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n\n          if (isNullOrUndefined(value)) {\n            value = this.timeParse(today, val);\n          }\n        } else {\n          value = this.timeParse(today, val);\n        }\n      } else if (val instanceof Date) {\n        value = val;\n      }\n\n      return value;\n    }\n  }, {\n    key: \"timeParse\",\n    value: function timeParse(today, val) {\n      var value;\n      value = this.globalize.parseDate(today + ' ' + val, {\n        format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(),\n        type: 'datetime'\n      });\n      value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n        format: this.cldrDateFormat() + ' ' + this.dateToNumeric(),\n        type: 'datetime'\n      }) : value;\n      value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n      return value;\n    }\n  }, {\n    key: \"createListItems\",\n    value: function createListItems() {\n      var _this15 = this;\n\n      this.listWrapper = this.createElement('div', {\n        className: CONTENT$2,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      var start;\n      var interval = this.step * 60000;\n      var listItems = [];\n      this.timeCollections = [];\n      this.disableItemCollection = [];\n      start = +this.getDateObject(this.initMin).setMilliseconds(0);\n      var end = +this.getDateObject(this.initMax).setMilliseconds(0);\n\n      while (end >= start) {\n        this.timeCollections.push(start);\n        listItems.push(this.globalize.formatDate(new Date(start), {\n          format: this.cldrTimeFormat(),\n          type: 'time'\n        }));\n        start += interval;\n      }\n\n      var listBaseOptions = {\n        itemCreated: function itemCreated(args) {\n          var eventArgs = {\n            element: args.item,\n            text: args.text,\n            value: _this15.getDateObject(args.text),\n            isDisabled: false\n          };\n\n          _this15.trigger('itemRender', eventArgs, function (eventArgs) {\n            if (eventArgs.isDisabled) {\n              eventArgs.element.classList.add(DISABLED$3);\n            }\n\n            if (eventArgs.element.classList.contains(DISABLED$3)) {\n              _this15.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n            }\n          });\n        }\n      };\n      this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n      attributes(this.listTag, {\n        'role': 'listbox',\n        'aria-hidden': 'false',\n        'id': this.element.id + '_options'\n      });\n      append([this.listTag], this.listWrapper);\n    }\n  }, {\n    key: \"documentClickHandler\",\n    value: function documentClickHandler(event) {\n      var target = event.target;\n\n      if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) || this.popupObj.element && this.popupObj.element.contains(target)) && event.type !== 'touchstart') {\n        event.preventDefault();\n      }\n\n      if (!closest(target, '[id=\"' + this.popupObj.element.id + '\"]') && target !== this.inputElement && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) && target !== (this.inputWrapper && this.inputWrapper.clearButton) && target !== (this.inputWrapper && this.inputWrapper.container)) {\n        if (this.isPopupOpen()) {\n          this.hide();\n          this.focusOut();\n        }\n      } else if (target !== this.inputElement) {\n        if (!Browser.isDevice) {\n          this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement && target === this.popupWrapper;\n        }\n      }\n    }\n  }, {\n    key: \"setEnableRtl\",\n    value: function setEnableRtl() {\n      Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n\n      if (this.popupObj) {\n        this.popupObj.enableRtl = this.enableRtl;\n        this.popupObj.dataBind();\n      }\n    }\n  }, {\n    key: \"setEnable\",\n    value: function setEnable() {\n      Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n\n      if (this.enabled) {\n        removeClass([this.inputWrapper.container], DISABLED$3);\n        attributes(this.inputElement, {\n          'aria-disabled': 'false'\n        });\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.hide();\n        addClass([this.inputWrapper.container], DISABLED$3);\n        attributes(this.inputElement, {\n          'aria-disabled': 'true'\n        });\n        this.inputElement.tabIndex = -1;\n      }\n    }\n  }, {\n    key: \"getProperty\",\n    value: function getProperty(date, val) {\n      if (val === 'min') {\n        this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n        this.setProperties({\n          min: this.initMin\n        }, true);\n      } else {\n        this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n        this.setProperties({\n          max: this.initMax\n        }, true);\n      }\n\n      if (this.inputElement.value === '') {\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        this.checkValue(this.inputElement.value);\n      }\n\n      this.checkValueChange(null, false);\n    }\n  }, {\n    key: \"inputBlurHandler\",\n    value: function inputBlurHandler(e) {\n      if (!this.enabled) {\n        return;\n      } // IE popup closing issue when click over the scrollbar\n\n\n      if (this.isPreventBlur && this.isPopupOpen()) {\n        this.inputElement.focus();\n        return;\n      }\n\n      this.closePopup(0, e);\n\n      if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n        if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n          this.updateInputValue('');\n        }\n      }\n\n      removeClass([this.inputWrapper.container], [FOCUS]);\n      var blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n\n      if (this.getText() !== this.inputElement.value) {\n        this.updateValue(this.inputElement.value, e);\n      } else if (this.inputElement.value.trim().length === 0) {\n        this.resetState();\n      }\n\n      this.cursorDetails = null;\n      this.isNavigate = false;\n\n      if (this.inputElement.value === '') {\n        this.invalidValueString = null;\n      }\n    }\n    /**\n     * Focuses out the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusOut\",\n    value: function focusOut() {\n      if (document.activeElement === this.inputElement) {\n        this.inputElement.blur();\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        var blurArguments = {\n          model: this\n        };\n        this.trigger('blur', blurArguments);\n      }\n    }\n  }, {\n    key: \"isPopupOpen\",\n    value: function isPopupOpen() {\n      if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"inputFocusHandler\",\n    value: function inputFocusHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      var focusArguments = {\n        model: this\n      };\n\n      if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n        this.selectInputText();\n      }\n\n      if (this.enableMask && !this.inputElement.value && this.placeholder) {\n        if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n          this.updateInputValue(this.maskedDateValue);\n          this.inputElement.selectionStart = 0;\n          this.inputElement.selectionEnd = this.inputElement.value.length;\n        }\n      }\n\n      this.trigger('focus', focusArguments);\n      this.clearIconState();\n\n      if (this.openOnFocus) {\n        this.show();\n      }\n    }\n    /**\n     * Focused the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      if (document.activeElement !== this.inputElement && this.enabled) {\n        this.inputElement.focus();\n      }\n    }\n    /**\n     * Hides the TimePicker popup.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.closePopup(100, null);\n      this.clearIconState();\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n    /**\n     * Opens the popup to show the list items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"show\",\n    value: function show(event) {\n      var _this16 = this;\n\n      if (this.enabled && this.readonly || !this.enabled || this.popupWrapper) {\n        return;\n      } else {\n        this.popupCreation();\n\n        if (Browser.isDevice && this.listWrapper) {\n          this.modal = this.createElement('div');\n          this.modal.className = '' + ROOT$3 + ' e-time-modal';\n          document.body.className += ' ' + OVERFLOW$2;\n          document.body.appendChild(this.modal);\n        }\n\n        if (Browser.isDevice) {\n          this.mobileTimePopupWrap = this.createElement('div', {\n            className: 'e-timepicker-mob-popup-wrap'\n          });\n          document.body.appendChild(this.mobileTimePopupWrap);\n        }\n\n        this.openPopupEventArgs = {\n          popup: this.popupObj || null,\n          cancel: false,\n          event: event || null,\n          name: 'open',\n          appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n        };\n        var eventArgs = this.openPopupEventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n          _this16.openPopupEventArgs = eventArgs;\n\n          if (!_this16.openPopupEventArgs.cancel && !_this16.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n            _this16.openPopupEventArgs.appendTo.appendChild(_this16.popupWrapper);\n\n            _this16.popupAlignment(_this16.openPopupEventArgs);\n\n            _this16.setScrollPosition();\n\n            if (!Browser.isDevice) {\n              _this16.inputElement.focus();\n            }\n\n            var openAnimation = {\n              name: 'FadeIn',\n              duration: ANIMATIONDURATION\n            };\n\n            _this16.popupObj.refreshPosition(_this16.anchor);\n\n            if (_this16.zIndex === 1000) {\n              _this16.popupObj.show(new Animation(openAnimation), _this16.element);\n            } else {\n              _this16.popupObj.show(new Animation(openAnimation), null);\n            }\n\n            _this16.setActiveDescendant();\n\n            attributes(_this16.inputElement, {\n              'aria-expanded': 'true'\n            });\n            addClass([_this16.inputWrapper.container], FOCUS);\n            EventHandler.add(document, 'mousedown touchstart', _this16.documentClickHandler, _this16);\n\n            _this16.setOverlayIndex(_this16.mobileTimePopupWrap, _this16.popupObj.element, _this16.modal, Browser.isDevice);\n          } else {\n            _this16.popupObj.destroy();\n\n            _this16.popupWrapper = _this16.listTag = undefined;\n            _this16.liCollections = _this16.timeCollections = _this16.disableItemCollection = [];\n            _this16.popupObj = null;\n          }\n        });\n      }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n  }, {\n    key: \"setOverlayIndex\",\n    value: function setOverlayIndex(popupWrapper, timePopupElement, modal, isDevice) {\n      if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n        var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n        modal.style.zIndex = (index - 1).toString();\n        popupWrapper.style.zIndex = index.toString();\n      }\n    }\n  }, {\n    key: \"formatValues\",\n    value: function formatValues(type) {\n      var value;\n\n      if (typeof type === 'number') {\n        value = formatUnit(type);\n      } else if (typeof type === 'string') {\n        value = type.match(/px|%|em/) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n      }\n\n      return value;\n    }\n  }, {\n    key: \"popupAlignment\",\n    value: function popupAlignment(args) {\n      args.popup.position.X = this.formatValues(args.popup.position.X);\n      args.popup.position.Y = this.formatValues(args.popup.position.Y);\n\n      if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n        this.popupObj.relateTo = this.anchor = document.body;\n        this.popupObj.targetType = 'container';\n      }\n\n      if (!isNaN(parseFloat(args.popup.position.X))) {\n        this.popupObj.offsetX = parseFloat(args.popup.position.X);\n      }\n\n      if (!isNaN(parseFloat(args.popup.position.Y))) {\n        this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n      }\n\n      if (!Browser.isDevice) {\n        switch (args.popup.position.X) {\n          case 'left':\n            break;\n\n          case 'right':\n            args.popup.offsetX = this.containerStyle.width;\n            break;\n\n          case 'center':\n            args.popup.offsetX = -(this.containerStyle.width / 2);\n            break;\n        }\n\n        switch (args.popup.position.Y) {\n          case 'top':\n            break;\n\n          case 'bottom':\n            break;\n\n          case 'center':\n            args.popup.offsetY = -(this.containerStyle.height / 2);\n            break;\n        }\n\n        if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n          this.popupObj.relateTo = this.inputWrapper.container;\n          this.anchor = this.inputElement;\n          this.popupObj.targetType = 'relative';\n        }\n      } else {\n        if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n          this.popupObj.relateTo = this.anchor = document.body;\n          this.popupObj.offsetY = 0;\n          this.popupObj.targetType = 'container';\n          this.popupObj.collision = {\n            X: 'fit',\n            Y: 'fit'\n          };\n        }\n      }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"getPersistData\",\n    value: function getPersistData() {\n      var keyEntity = ['value'];\n      return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'timepicker';\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i20 = 0, _Object$keys13 = Object.keys(newProp); _i20 < _Object$keys13.length; _i20++) {\n        var prop = _Object$keys13[_i20];\n\n        switch (prop) {\n          case 'placeholder':\n            Input.setPlaceholder(newProp.placeholder, this.inputElement);\n            this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n            break;\n\n          case 'readonly':\n            Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n\n            if (this.readonly) {\n              this.hide();\n            }\n\n            this.setTimeAllowEdit();\n            break;\n\n          case 'enabled':\n            this.setProperties({\n              enabled: newProp.enabled\n            }, true);\n            this.setEnable();\n            break;\n\n          case 'allowEdit':\n            this.setTimeAllowEdit();\n            break;\n\n          case 'enableRtl':\n            this.setProperties({\n              enableRtl: newProp.enableRtl\n            }, true);\n            this.setEnableRtl();\n            break;\n\n          case 'cssClass':\n            this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n            break;\n\n          case 'zIndex':\n            this.setProperties({\n              zIndex: newProp.zIndex\n            }, true);\n            this.setZIndex();\n            break;\n\n          case 'htmlAttributes':\n            this.updateHtmlAttributeToElement();\n            this.updateHtmlAttributeToWrapper();\n            this.checkAttributes(true);\n            break;\n\n          case 'min':\n          case 'max':\n            this.getProperty(newProp, prop);\n            break;\n\n          case 'showClearButton':\n            Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n            this.bindClearEvent();\n            break;\n\n          case 'locale':\n            this.setProperties({\n              locale: newProp.locale\n            }, true);\n            this.globalize = new Internationalization(this.locale);\n            this.l10n.setLocale(this.locale);\n            this.updatePlaceHolder();\n            this.setValue(this.value);\n\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n            }\n\n            break;\n\n          case 'width':\n            setStyleAttribute(this.inputWrapper.container, {\n              'width': this.setWidth(newProp.width)\n            });\n            this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n            break;\n\n          case 'format':\n            this.setProperties({\n              format: newProp.format\n            }, true);\n            this.checkTimeFormat();\n            this.setValue(this.value);\n\n            if (this.enableMask) {\n              this.createMask();\n\n              if (!this.value) {\n                this.updateInputValue(this.maskedDateValue);\n              }\n            }\n\n            break;\n\n          case 'value':\n            this.invalidValueString = null;\n            this.checkInvalidValue(newProp.value);\n            newProp.value = this.value;\n\n            if (!this.invalidValueString) {\n              if (typeof newProp.value === 'string') {\n                this.setProperties({\n                  value: this.checkDateValue(new Date(newProp.value))\n                }, true);\n                newProp.value = this.value;\n              } else {\n                if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                  newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                }\n              }\n\n              this.initValue = newProp.value;\n              newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n            } else {\n              this.updateInputValue(this.invalidValueString);\n              this.checkErrorState(this.invalidValueString);\n            }\n\n            this.checkValueChange(null, false);\n\n            if (this.isPopupOpen()) {\n              this.setScrollPosition();\n            }\n\n            if (this.isAngular && this.preventChange) {\n              this.preventChange = false;\n            }\n\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n            }\n\n            break;\n\n          case 'floatLabelType':\n            this.floatLabelType = newProp.floatLabelType;\n            Input.removeFloating(this.inputWrapper);\n            Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n            break;\n\n          case 'strictMode':\n            this.invalidValueString = null;\n\n            if (newProp.strictMode) {\n              this.checkErrorState(null);\n            }\n\n            this.setProperties({\n              strictMode: newProp.strictMode\n            }, true);\n            this.checkValue(this.inputElement.value);\n            this.checkValueChange(null, false);\n            break;\n\n          case 'scrollTo':\n            if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n              if (this.popupWrapper) {\n                this.setScrollTo();\n              }\n\n              this.setProperties({\n                scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))\n              }, true);\n            } else {\n              this.setProperties({\n                scrollTo: null\n              }, true);\n            }\n\n            break;\n\n          case 'enableMask':\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n              this.updateInputValue(this.maskedDateValue);\n            } else {\n              if (this.inputElement.value === this.maskedDateValue) {\n                this.updateInputValue('');\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"checkInValue\",\n    value: function checkInValue(inValue) {\n      if (inValue instanceof Date) {\n        return inValue.toUTCString();\n      } else {\n        return '' + inValue;\n      }\n    }\n  }]);\n\n  return TimePicker;\n}(Component);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"width\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"cssClass\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"strictMode\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"format\", void 0);\n\n__decorate$3([Property(true)], TimePicker.prototype, \"enabled\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"readonly\", void 0);\n\n__decorate$3([Property({})], TimePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$3([Property('Never')], TimePicker.prototype, \"floatLabelType\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"placeholder\", void 0);\n\n__decorate$3([Property(1000)], TimePicker.prototype, \"zIndex\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$3([Property(true)], TimePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$3([Property(30)], TimePicker.prototype, \"step\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"scrollTo\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"value\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"min\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"max\", void 0);\n\n__decorate$3([Property(true)], TimePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"enableMask\", void 0);\n\n__decorate$3([Property({\n  day: 'day',\n  month: 'month',\n  year: 'year',\n  hour: 'hour',\n  minute: 'minute',\n  second: 'second',\n  dayOfTheWeek: 'day of the week'\n})], TimePicker.prototype, \"maskPlaceholder\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"change\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"created\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"destroyed\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"open\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"itemRender\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"close\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"cleared\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"blur\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"focus\", void 0);\n\nTimePicker = __decorate$3([NotifyPropertyChanges], TimePicker);\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\n\n\nvar DATEWRAPPER$1 = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY$1 = new Date().getDate();\nvar MONTH$3 = new Date().getMonth();\nvar YEAR$3 = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT$4 = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER$1 = 'e-input-group-icon';\nvar POPUP$3 = 'e-popup';\nvar TIMEICON$1 = 'e-time-icon';\nvar INPUTFOCUS$2 = 'e-input-focus';\nvar POPUPDIMENSION$1 = '250px';\nvar ICONANIMATION$1 = 'e-icon-anim';\nvar DISABLED$4 = 'e-disabled';\nvar ERROR$3 = 'e-error';\nvar CONTENT$3 = 'e-content';\nvar NAVIGATION$1 = 'e-navigation';\nvar ACTIVE$2 = 'e-active';\nvar HOVER$2 = 'e-hover';\nvar ICONS$1 = 'e-icons';\nvar HALFPOSITION$1 = 2;\nvar LISTCLASS$2 = 'e-list-item';\nvar ANIMATIONDURATION$1 = 100;\nvar OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\n\nvar DateTimePicker = /*#__PURE__*/function (_DatePicker) {\n  _inherits(DateTimePicker, _DatePicker);\n\n  var _super9 = _createSuper(DateTimePicker);\n\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  function DateTimePicker(options, element) {\n    var _this17;\n\n    _classCallCheck(this, DateTimePicker);\n\n    _this17 = _super9.call(this, options, element);\n    _this17.valueWithMinutes = null;\n    _this17.scrollInvoked = false;\n    _this17.moduleName = _this17.getModuleName();\n    _this17.dateTimeOptions = options;\n    return _this17;\n  }\n\n  _createClass(DateTimePicker, [{\n    key: \"focusHandler\",\n    value: function focusHandler() {\n      if (!this.enabled) {\n        return;\n      }\n\n      addClass([this.inputWrapper.container], INPUTFOCUS$2);\n    }\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusIn\",\n    value: function focusIn() {\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"focusIn\", this).call(this);\n    }\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"focusOut\",\n    value: function focusOut() {\n      if (document.activeElement === this.inputElement) {\n        this.inputElement.blur();\n        removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n      }\n    }\n  }, {\n    key: \"blurHandler\",\n    value: function blurHandler(e) {\n      if (!this.enabled) {\n        return;\n      } // IE popup closing issue when click over the scrollbar\n\n\n      if (this.isTimePopupOpen() && this.isPreventBlur) {\n        this.inputElement.focus();\n        return;\n      }\n\n      removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n      var blurArguments = {\n        model: this\n      };\n\n      if (this.isTimePopupOpen()) {\n        this.hide(e);\n      }\n\n      this.trigger('blur', blurArguments);\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n        this.popupObject.destroy();\n        detach(this.dateTimeWrapper);\n        this.dateTimeWrapper = undefined;\n        this.liCollections = this.timeCollections = [];\n\n        if (!isNullOrUndefined(this.rippleFn)) {\n          this.rippleFn();\n        }\n      }\n\n      var ariaAttribute = {\n        'aria-live': 'assertive',\n        'aria-atomic': 'true',\n        'aria-invalid': 'false',\n        'aria-haspopup': 'true',\n        'aria-activedescendant': 'null',\n        'autocorrect': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false',\n        'aria-owns': this.element.id + '_options',\n        'aria-expanded': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off'\n      };\n\n      if (this.inputElement) {\n        Input.removeAttributes(ariaAttribute, this.inputElement);\n        this.inputElement.removeAttribute('aria-placeholder');\n      }\n\n      if (this.isCalendar()) {\n        if (this.popupWrapper) {\n          detach(this.popupWrapper);\n        }\n\n        this.popupObject = this.popupWrapper = null;\n        this.keyboardHandler.destroy();\n      }\n\n      this.unBindInputEvents();\n\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.timekeyConfigure = {\n        enter: 'enter',\n        escape: 'escape',\n        end: 'end',\n        tab: 'tab',\n        home: 'home',\n        down: 'downarrow',\n        up: 'uparrow',\n        left: 'leftarrow',\n        right: 'rightarrow',\n        open: 'alt+downarrow',\n        close: 'alt+uparrow'\n      };\n      this.valueWithMinutes = null;\n      this.previousDateTime = null;\n      this.isPreventBlur = false;\n      this.cloneElement = this.element.cloneNode(true);\n      this.dateTimeFormat = this.cldrDateTimeFormat();\n      this.initValue = this.value;\n\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"updateHtmlAttributeToElement\", this).call(this);\n\n      this.checkAttributes(false);\n      var localeText = {\n        placeholder: this.placeholder\n      };\n      this.l10n = new L10n('datetimepicker', localeText, this.locale);\n      this.setProperties({\n        placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n      }, true);\n\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"render\", this).call(this);\n\n      this.createInputElement();\n\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"updateHtmlAttributeToWrapper\", this).call(this);\n\n      this.bindInputEvents();\n\n      if (this.enableMask) {\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n\n      this.setValue();\n\n      if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n\n      this.setProperties({\n        scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo)))\n      }, true);\n      this.previousDateTime = this.value && new Date(+this.value);\n\n      if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n\n        if (!this.enabled) {\n          this.inputElement.tabIndex = -1;\n        }\n      }\n\n      this.renderComplete();\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue() {\n      this.initValue = this.validateMinMaxRange(this.value);\n\n      if (!this.strictMode && this.isDateObject(this.initValue)) {\n        var value = this.validateMinMaxRange(this.initValue);\n        Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({\n          value: value\n        }, true);\n      } else {\n        if (isNullOrUndefined(this.value)) {\n          this.initValue = null;\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      this.valueWithMinutes = this.value;\n\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"updateInput\", this).call(this);\n    }\n  }, {\n    key: \"validateMinMaxRange\",\n    value: function validateMinMaxRange(value) {\n      var result = value;\n\n      if (this.isDateObject(value)) {\n        result = this.validateValue(value);\n      } else {\n        if (+this.min > +this.max) {\n          this.disablePopupButton(true);\n        }\n      }\n\n      this.checkValidState(result);\n      return result;\n    }\n  }, {\n    key: \"checkValidState\",\n    value: function checkValidState(value) {\n      this.isValidState = true;\n\n      if (!this.strictMode) {\n        if (+value > +this.max || +value < +this.min) {\n          this.isValidState = false;\n        }\n      }\n\n      this.checkErrorState();\n    }\n  }, {\n    key: \"checkErrorState\",\n    value: function checkErrorState() {\n      if (this.isValidState) {\n        removeClass([this.inputWrapper.container], ERROR$3);\n      } else {\n        addClass([this.inputWrapper.container], ERROR$3);\n      }\n\n      attributes(this.inputElement, {\n        'aria-invalid': this.isValidState ? 'false' : 'true'\n      });\n    }\n  }, {\n    key: \"validateValue\",\n    value: function validateValue(value) {\n      var dateVal = value;\n\n      if (this.strictMode) {\n        if (+this.min > +this.max) {\n          this.disablePopupButton(true);\n          dateVal = this.max;\n        } else if (+value < +this.min) {\n          dateVal = this.min;\n        } else if (+value > +this.max) {\n          dateVal = this.max;\n        }\n      } else {\n        if (+this.min > +this.max) {\n          this.disablePopupButton(true);\n          dateVal = value;\n        }\n      }\n\n      return dateVal;\n    }\n  }, {\n    key: \"disablePopupButton\",\n    value: function disablePopupButton(isDisable) {\n      if (isDisable) {\n        addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n        this.hide();\n      } else {\n        removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n      }\n    }\n  }, {\n    key: \"getFormattedValue\",\n    value: function getFormattedValue(value) {\n      var dateOptions;\n\n      if (!isNullOrUndefined(value)) {\n        if (this.calendarMode === 'Gregorian') {\n          dateOptions = {\n            format: this.cldrDateTimeFormat(),\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          dateOptions = {\n            format: this.cldrDateTimeFormat(),\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        return this.globalize.formatDate(value, dateOptions);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"isDateObject\",\n    value: function isDateObject(value) {\n      return !isNullOrUndefined(value) && !isNaN(+value) ? true : false;\n    }\n  }, {\n    key: \"createInputElement\",\n    value: function createInputElement() {\n      removeClass([this.inputElement], DATEPICKERROOT);\n      removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n      addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n      addClass([this.inputElement], ROOT$4);\n      this.renderTimeIcon();\n    }\n  }, {\n    key: \"renderTimeIcon\",\n    value: function renderTimeIcon() {\n      this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n    }\n  }, {\n    key: \"bindInputEvents\",\n    value: function bindInputEvents() {\n      EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n      EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n      EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n      EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n        eventName: 'keydown',\n        keyAction: this.inputKeyAction.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  }, {\n    key: \"unBindInputEvents\",\n    value: function unBindInputEvents() {\n      EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n\n      if (this.inputElement) {\n        EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n      }\n\n      if (this.keyboardHandler) {\n        this.keyboardHandler.destroy();\n      }\n    }\n  }, {\n    key: \"cldrTimeFormat\",\n    value: function cldrTimeFormat() {\n      var cldrTime;\n\n      if (this.isNullOrEmpty(this.timeFormat)) {\n        if (this.locale === 'en' || this.locale === 'en-US') {\n          cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n        } else {\n          cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n        }\n      } else {\n        cldrTime = this.timeFormat;\n      }\n\n      return cldrTime;\n    }\n  }, {\n    key: \"cldrDateTimeFormat\",\n    value: function cldrDateTimeFormat() {\n      var cldrTime;\n      var culture = new Internationalization(this.locale);\n      var dateFormat = culture.getDatePattern({\n        skeleton: 'yMd'\n      });\n\n      if (this.isNullOrEmpty(this.formatString)) {\n        cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n      } else {\n        cldrTime = this.formatString;\n      }\n\n      return cldrTime;\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"getCldrFormat\",\n    value: function getCldrFormat(type) {\n      var cldrDateTime;\n\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrDateTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrDateTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n\n      return cldrDateTime;\n    }\n  }, {\n    key: \"isNullOrEmpty\",\n    value: function isNullOrEmpty(value) {\n      if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n        return true;\n      } else {\n        return false;\n      }\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"getCultureTimeObject\",\n    value: function getCultureTimeObject(ld, c) {\n      if (this.calendarMode === 'Gregorian') {\n        return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n      } else {\n        return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n      }\n    }\n  }, {\n    key: \"timeHandler\",\n    value: function timeHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      this.isIconClicked = true;\n\n      if (Browser.isDevice) {\n        this.inputElement.setAttribute('readonly', '');\n      }\n\n      if (e.currentTarget === this.timeIcon) {\n        e.preventDefault();\n      }\n\n      if (this.enabled && !this.readonly) {\n        if (this.isDatePopupOpen()) {\n          _get(_getPrototypeOf(DateTimePicker.prototype), \"hide\", this).call(this, e);\n        }\n\n        if (this.isTimePopupOpen()) {\n          this.closePopup(e);\n        } else {\n          this.inputElement.focus();\n          this.popupCreation('time', e);\n          addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n        }\n      }\n\n      this.isIconClicked = false;\n    }\n  }, {\n    key: \"dateHandler\",\n    value: function dateHandler(e) {\n      if (!this.enabled) {\n        return;\n      }\n\n      if (e.currentTarget === this.inputWrapper.buttons[0]) {\n        e.preventDefault();\n      }\n\n      if (this.enabled && !this.readonly) {\n        if (this.isTimePopupOpen()) {\n          this.closePopup(e);\n        }\n\n        if (!isNullOrUndefined(this.popupWrapper)) {\n          this.popupCreation('date', e);\n        }\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(type, e) {\n      if (this.enabled && this.readonly || !this.enabled) {\n        return;\n      } else {\n        if (type === 'time' && !this.dateTimeWrapper) {\n          if (this.isDatePopupOpen()) {\n            this.hide(e);\n          }\n\n          this.popupCreation('time', e);\n        } else if (!this.popupObj) {\n          if (this.isTimePopupOpen()) {\n            this.hide(e);\n          }\n\n          _get(_getPrototypeOf(DateTimePicker.prototype), \"show\", this).call(this);\n\n          this.popupCreation('date', e);\n        }\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(e) {\n      if (this.isDatePopupOpen()) {\n        _get(_getPrototypeOf(DateTimePicker.prototype), \"hide\", this).call(this, e);\n\n        this.show('time', null);\n      } else if (this.isTimePopupOpen()) {\n        this.hide(e);\n\n        _get(_getPrototypeOf(DateTimePicker.prototype), \"show\", this).call(this, null, e);\n\n        this.popupCreation('date', null);\n      } else {\n        this.show(null, e);\n      }\n    }\n  }, {\n    key: \"listCreation\",\n    value: function listCreation() {\n      var dateObject;\n\n      if (this.calendarMode === 'Gregorian') {\n        dateObject = this.globalize.parseDate(this.inputElement.value, {\n          format: this.cldrDateTimeFormat(),\n          type: 'datetime'\n        });\n      } else {\n        dateObject = this.globalize.parseDate(this.inputElement.value, {\n          format: this.cldrDateTimeFormat(),\n          type: 'datetime',\n          calendar: 'islamic'\n        });\n      }\n\n      var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ? dateObject : new Date() : this.value;\n      this.valueWithMinutes = value;\n      this.listWrapper = createElement('div', {\n        className: CONTENT$3,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      var min = this.startTime(value);\n      var max = this.endTime(value);\n      var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n      this.timeCollections = listDetails.collection;\n      this.listTag = listDetails.list;\n      attributes(this.listTag, {\n        'role': 'listbox',\n        'aria-hidden': 'false',\n        'id': this.element.id + '_options'\n      });\n      append([listDetails.list], this.listWrapper);\n      this.wireTimeListEvents();\n      var rippleModel = {\n        duration: 300,\n        selector: '.' + LISTCLASS$2\n      };\n      this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n      this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n    }\n  }, {\n    key: \"popupCreation\",\n    value: function popupCreation(type, e) {\n      if (Browser.isDevice) {\n        this.element.setAttribute('readonly', 'readonly');\n      }\n\n      if (type === 'date') {\n        if (!this.readonly && this.popupWrapper) {\n          addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n          attributes(this.popupWrapper, {\n            'id': this.element.id + '_datepopup'\n          });\n        }\n      } else {\n        if (!this.readonly) {\n          this.dateTimeWrapper = createElement('div', {\n            className: ROOT$4 + ' ' + POPUP$3,\n            attrs: {\n              'id': this.element.id + '_timepopup',\n              'style': 'visibility:hidden ; display:block'\n            }\n          });\n\n          if (!isNullOrUndefined(this.cssClass)) {\n            this.dateTimeWrapper.className += ' ' + this.cssClass;\n          }\n\n          if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.listCreation();\n            append([this.listWrapper], this.dateTimeWrapper);\n          }\n\n          document.body.appendChild(this.dateTimeWrapper);\n          this.addTimeSelection();\n          this.renderPopup();\n          this.setTimeScrollPosition();\n          this.openPopup(e);\n          this.popupObject.refreshPosition(this.inputElement);\n        }\n      }\n    }\n  }, {\n    key: \"openPopup\",\n    value: function openPopup(e) {\n      var _this18 = this;\n\n      this.preventArgs = {\n        cancel: false,\n        popup: this.popupObject,\n        event: e || null\n      };\n      var eventArgs = this.preventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        _this18.preventArgs = eventArgs;\n\n        if (!_this18.preventArgs.cancel && !_this18.readonly) {\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: ANIMATIONDURATION$1\n          };\n\n          if (_this18.zIndex === 1000) {\n            _this18.popupObject.show(new Animation(openAnimation), _this18.element);\n          } else {\n            _this18.popupObject.show(new Animation(openAnimation), null);\n          }\n\n          addClass([_this18.inputWrapper.container], [ICONANIMATION$1]);\n          attributes(_this18.inputElement, {\n            'aria-expanded': 'true'\n          });\n          EventHandler.add(document, 'mousedown touchstart', _this18.documentClickHandler, _this18);\n        }\n      });\n    }\n  }, {\n    key: \"documentClickHandler\",\n    value: function documentClickHandler(event) {\n      var target = event.target;\n\n      if (!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) || this.popupObject.element && this.popupObject.element.contains(target)) && event.type !== 'touchstart') {\n        event.preventDefault();\n      }\n\n      if (!closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]')) && target !== this.inputElement && target !== this.timeIcon && target !== this.inputWrapper.container) {\n        if (this.isTimePopupOpen()) {\n          this.hide(event);\n          this.focusOut();\n        }\n      } else if (target !== this.inputElement) {\n        if (!Browser.isDevice) {\n          this.isPreventBlur = document.activeElement === this.inputElement && (Browser.isIE || Browser.info.name === 'edge') && target === this.popupObject.element;\n        }\n      }\n    }\n  }, {\n    key: \"isTimePopupOpen\",\n    value: function isTimePopupOpen() {\n      return this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4) ? true : false;\n    }\n  }, {\n    key: \"isDatePopupOpen\",\n    value: function isDatePopupOpen() {\n      return this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER) ? true : false;\n    }\n  }, {\n    key: \"renderPopup\",\n    value: function renderPopup() {\n      var _this19 = this;\n\n      this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n\n      if (Browser.isDevice) {\n        this.timeModal = createElement('div');\n        this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n        document.body.className += ' ' + OVERFLOW$3;\n        this.timeModal.style.display = 'block';\n        document.body.appendChild(this.timeModal);\n      }\n\n      var offset = 4;\n      this.popupObject = new Popup(this.dateTimeWrapper, {\n        width: this.setPopupWidth(),\n        zIndex: this.zIndex,\n        targetType: 'container',\n        collision: Browser.isDevice ? {\n          X: 'fit',\n          Y: 'fit'\n        } : {\n          X: 'flip',\n          Y: 'flip'\n        },\n        relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n        position: Browser.isDevice ? {\n          X: 'center',\n          Y: 'center'\n        } : {\n          X: 'left',\n          Y: 'bottom'\n        },\n        enableRtl: this.enableRtl,\n        offsetY: offset,\n        open: function open() {\n          _this19.dateTimeWrapper.style.visibility = 'visible';\n          addClass([_this19.timeIcon], ACTIVE$2);\n\n          if (!Browser.isDevice) {\n            _this19.timekeyConfigure = extend(_this19.timekeyConfigure, _this19.keyConfigs);\n            _this19.inputEvent = new KeyboardEvents(_this19.inputWrapper.container, {\n              keyAction: _this19.timeKeyActionHandle.bind(_this19),\n              keyConfigs: _this19.timekeyConfigure,\n              eventName: 'keydown'\n            });\n          }\n        },\n        close: function close() {\n          removeClass([_this19.timeIcon], ACTIVE$2);\n\n          _this19.unWireTimeListEvents();\n\n          _this19.inputElement.setAttribute('aria-activedescendant', 'null');\n\n          remove(_this19.popupObject.element);\n\n          _this19.popupObject.destroy();\n\n          _this19.dateTimeWrapper.innerHTML = '';\n          _this19.listWrapper = _this19.dateTimeWrapper = undefined;\n\n          if (_this19.inputEvent) {\n            _this19.inputEvent.destroy();\n          }\n        },\n        targetExitViewport: function targetExitViewport() {\n          if (!Browser.isDevice) {\n            _this19.hide();\n          }\n        }\n      });\n      this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n    }\n  }, {\n    key: \"setDimension\",\n    value: function setDimension(width) {\n      if (typeof width === 'number') {\n        width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        // eslint-disable-next-line no-self-assign\n        width = width;\n      } else {\n        width = '100%';\n      }\n\n      return width;\n    }\n  }, {\n    key: \"setPopupWidth\",\n    value: function setPopupWidth() {\n      var width = this.setDimension(this.width);\n\n      if (width.indexOf('%') > -1) {\n        var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n        width = inputWidth.toString() + 'px';\n      }\n\n      return width;\n    }\n  }, {\n    key: \"wireTimeListEvents\",\n    value: function wireTimeListEvents() {\n      EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n      if (!Browser.isDevice) {\n        EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  }, {\n    key: \"unWireTimeListEvents\",\n    value: function unWireTimeListEvents() {\n      if (this.listWrapper) {\n        EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n        EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n\n        if (!Browser.isDevice) {\n          EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n          EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n      }\n    }\n  }, {\n    key: \"onMouseOver\",\n    value: function onMouseOver(event) {\n      var currentLi = closest(event.target, '.' + LISTCLASS$2);\n      this.setTimeHover(currentLi, HOVER$2);\n    }\n  }, {\n    key: \"onMouseLeave\",\n    value: function onMouseLeave() {\n      this.removeTimeHover(HOVER$2);\n    }\n  }, {\n    key: \"setTimeHover\",\n    value: function setTimeHover(li, className) {\n      if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n        this.removeTimeHover(className);\n        addClass([li], className);\n      }\n    }\n  }, {\n    key: \"getPopupHeight\",\n    value: function getPopupHeight() {\n      var height = parseInt(POPUPDIMENSION$1, 10);\n      var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n      return popupHeight > height ? height : popupHeight;\n    }\n  }, {\n    key: \"changeEvent\",\n    value: function changeEvent(e) {\n      if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n        _get(_getPrototypeOf(DateTimePicker.prototype), \"changeEvent\", this).call(this, e);\n\n        this.valueWithMinutes = this.value;\n        this.setInputValue('date');\n        this.previousDateTime = this.value && new Date(+this.value);\n      }\n    }\n  }, {\n    key: \"updateValue\",\n    value: function updateValue(e) {\n      this.setInputValue('time');\n\n      if (+this.previousDateTime !== +this.value) {\n        this.changedArgs = {\n          value: this.value,\n          event: e || null,\n          isInteracted: !isNullOrUndefined(e),\n          element: this.element\n        };\n        this.addTimeSelection();\n        this.trigger('change', this.changedArgs);\n        this.previousDateTime = this.value;\n      }\n    }\n  }, {\n    key: \"setTimeScrollPosition\",\n    value: function setTimeScrollPosition() {\n      var popupElement = this.selectedElement;\n\n      if (!isNullOrUndefined(popupElement)) {\n        this.findScrollTop(popupElement);\n      } else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n        this.setScrollTo();\n      }\n    }\n  }, {\n    key: \"findScrollTop\",\n    value: function findScrollTop(element) {\n      var listHeight = this.getPopupHeight();\n      var nextElement = element.nextElementSibling;\n      var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n      var lineHeight = element.getBoundingClientRect().height;\n\n      if (height + element.offsetTop > listHeight) {\n        this.dateTimeWrapper.scrollTop = nextElement ? height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1) : height;\n      } else {\n        this.dateTimeWrapper.scrollTop = 0;\n      }\n    }\n  }, {\n    key: \"setScrollTo\",\n    value: function setScrollTo() {\n      var element;\n      var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n\n      if (items.length >= 0) {\n        this.scrollInvoked = true;\n        var initialTime = this.timeCollections[0];\n        var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n        element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n      } else {\n        this.dateTimeWrapper.scrollTop = 0;\n      }\n\n      if (!isNullOrUndefined(element)) {\n        this.findScrollTop(element);\n      } else {\n        this.dateTimeWrapper.scrollTop = 0;\n      }\n    }\n  }, {\n    key: \"setInputValue\",\n    value: function setInputValue(type) {\n      if (type === 'date') {\n        this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n        this.setProperties({\n          value: this.getFullDateTime()\n        }, true);\n      } else {\n        var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n        Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.previousElementValue = this.inputElement.value;\n        this.setProperties({\n          value: new Date(this.timeCollections[this.activeIndex])\n        }, true);\n\n        if (this.enableMask) {\n          this.createMask();\n        }\n      }\n\n      this.updateIconState();\n    }\n  }, {\n    key: \"getFullDateTime\",\n    value: function getFullDateTime() {\n      var value = null;\n\n      if (this.isDateObject(this.valueWithMinutes)) {\n        value = this.combineDateTime(this.valueWithMinutes);\n      } else {\n        value = this.previousDate;\n      }\n\n      return this.validateMinMaxRange(value);\n    }\n  }, {\n    key: \"createMask\",\n    value: function createMask() {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }, {\n    key: \"combineDateTime\",\n    value: function combineDateTime(value) {\n      if (this.isDateObject(value)) {\n        var day = this.previousDate.getDate();\n        var month = this.previousDate.getMonth();\n        var year = this.previousDate.getFullYear();\n        var hour = value.getHours();\n        var minutes = value.getMinutes();\n        var seconds = value.getSeconds();\n        return new Date(year, month, day, hour, minutes, seconds);\n      } else {\n        return this.previousDate;\n      }\n    }\n  }, {\n    key: \"onMouseClick\",\n    value: function onMouseClick(event) {\n      var target = event.target;\n      var li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n\n      if (li && li.classList.contains(LISTCLASS$2)) {\n        this.timeValue = li.getAttribute('data-value');\n        this.hide(event);\n      }\n\n      this.setSelection(li, event);\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(li, event) {\n      if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n        this.selectedElement = li;\n        var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        this.activeIndex = index;\n        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n        addClass([this.selectedElement], ACTIVE$2);\n        this.selectedElement.setAttribute('aria-selected', 'true');\n        this.updateValue(event);\n      }\n    }\n  }, {\n    key: \"setTimeActiveClass\",\n    value: function setTimeActiveClass() {\n      var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n\n      if (!isNullOrUndefined(collections)) {\n        var items = collections.querySelectorAll('.' + LISTCLASS$2);\n\n        if (items.length) {\n          for (var i = 0; i < items.length; i++) {\n            if (this.timeCollections[i] === +this.valueWithMinutes) {\n              items[i].setAttribute('aria-selected', 'true');\n              this.selectedElement = items[i];\n              this.activeIndex = i;\n              this.setTimeActiveDescendant();\n              break;\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setTimeActiveDescendant\",\n    value: function setTimeActiveDescendant() {\n      if (!isNullOrUndefined(this.selectedElement)) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': this.selectedElement.getAttribute('id')\n        });\n      } else {\n        attributes(this.inputElement, {\n          'aria-activedescendant': 'null'\n        });\n      }\n    }\n  }, {\n    key: \"addTimeSelection\",\n    value: function addTimeSelection() {\n      this.selectedElement = null;\n      this.removeTimeSelection();\n      this.setTimeActiveClass();\n\n      if (!isNullOrUndefined(this.selectedElement)) {\n        addClass([this.selectedElement], ACTIVE$2);\n        this.selectedElement.setAttribute('aria-selected', 'true');\n      }\n    }\n  }, {\n    key: \"removeTimeSelection\",\n    value: function removeTimeSelection() {\n      this.removeTimeHover(HOVER$2);\n\n      if (!isNullOrUndefined(this.dateTimeWrapper)) {\n        var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n\n        if (items.length) {\n          removeClass(items, ACTIVE$2);\n          items[0].removeAttribute('aria-selected');\n        }\n      }\n    }\n  }, {\n    key: \"removeTimeHover\",\n    value: function removeTimeHover(className) {\n      var hoveredItem = this.getTimeHoverItem(className);\n\n      if (hoveredItem && hoveredItem.length) {\n        removeClass(hoveredItem, className);\n      }\n    }\n  }, {\n    key: \"getTimeHoverItem\",\n    value: function getTimeHoverItem(className) {\n      var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n      var hoveredItem;\n\n      if (!isNullOrUndefined(collections)) {\n        hoveredItem = collections.querySelectorAll('.' + className);\n      }\n\n      return hoveredItem;\n    }\n  }, {\n    key: \"isValidLI\",\n    value: function isValidLI(li) {\n      return li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4);\n    }\n  }, {\n    key: \"calculateStartEnd\",\n    value: function calculateStartEnd(value, range, method) {\n      var day = value.getDate();\n      var month = value.getMonth();\n      var year = value.getFullYear();\n      var hours = value.getHours();\n      var minutes = value.getMinutes();\n      var seconds = value.getSeconds();\n      var milliseconds = value.getMilliseconds();\n\n      if (range) {\n        if (method === 'starttime') {\n          return new Date(year, month, day, 0, 0, 0);\n        } else {\n          return new Date(year, month, day, 23, 59, 59);\n        }\n      } else {\n        return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n      }\n    }\n  }, {\n    key: \"startTime\",\n    value: function startTime(date) {\n      var tempStartValue;\n      var start;\n      var tempMin = this.min;\n      var value = date === null ? new Date() : date;\n\n      if (+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() && +value.getFullYear() === +tempMin.getFullYear() || +new Date(value.getFullYear(), value.getMonth(), value.getDate()) <= +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate())) {\n        start = false;\n        tempStartValue = this.min;\n      } else if (+value < +this.max && +value > +this.min) {\n        start = true;\n        tempStartValue = value;\n      } else if (+value >= +this.max) {\n        start = true;\n        tempStartValue = this.max;\n      }\n\n      return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    }\n  }, {\n    key: \"endTime\",\n    value: function endTime(date) {\n      var tempEndValue;\n      var end;\n      var tempMax = this.max;\n      var value = date === null ? new Date() : date;\n\n      if (+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() && +value.getFullYear() === +tempMax.getFullYear() || +new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >= +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate())) {\n        end = false;\n        tempEndValue = this.max;\n      } else if (+value < +this.max && +value > +this.min) {\n        end = true;\n        tempEndValue = value;\n      } else if (+value <= +this.min) {\n        end = true;\n        tempEndValue = this.min;\n      }\n\n      return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(e) {\n      var _this20 = this;\n\n      if (this.popupObj || this.dateTimeWrapper) {\n        this.preventArgs = {\n          cancel: false,\n          popup: this.popupObj || this.popupObject,\n          event: e || null\n        };\n        var eventArgs = this.preventArgs;\n\n        if (isNullOrUndefined(this.popupObj)) {\n          this.trigger('close', eventArgs, function (eventArgs) {\n            _this20.dateTimeCloseEventCallback(e, eventArgs);\n          });\n        } else {\n          this.dateTimeCloseEventCallback(e, eventArgs);\n        }\n      } else {\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n\n        this.setAllowEdit();\n      }\n    }\n  }, {\n    key: \"dateTimeCloseEventCallback\",\n    value: function dateTimeCloseEventCallback(e, eventArgs) {\n      this.preventArgs = eventArgs;\n\n      if (!this.preventArgs.cancel) {\n        if (this.isDatePopupOpen()) {\n          _get(_getPrototypeOf(DateTimePicker.prototype), \"hide\", this).call(this, e);\n        } else if (this.isTimePopupOpen()) {\n          this.closePopup(e);\n          removeClass([document.body], OVERFLOW$3);\n\n          if (Browser.isDevice && this.timeModal) {\n            this.timeModal.style.display = 'none';\n            this.timeModal.outerHTML = '';\n            this.timeModal = null;\n          }\n\n          this.setTimeActiveDescendant();\n        }\n      }\n\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  }, {\n    key: \"closePopup\",\n    value: function closePopup(e) {\n      if (this.isTimePopupOpen() && this.popupObject) {\n        var animModel = {\n          name: 'FadeOut',\n          duration: ANIMATIONDURATION$1,\n          delay: 0\n        };\n        this.popupObject.hide(new Animation(animModel));\n        this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n        attributes(this.inputElement, {\n          'aria-expanded': 'false'\n        });\n        EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n      }\n    }\n  }, {\n    key: \"preRender\",\n    value: function preRender() {\n      this.checkFormat();\n      this.dateTimeFormat = this.cldrDateTimeFormat();\n\n      _get(_getPrototypeOf(DateTimePicker.prototype), \"preRender\", this).call(this);\n\n      removeClass([this.inputElementCopy], [ROOT$4]);\n    }\n  }, {\n    key: \"getProperty\",\n    value: function getProperty(date, val) {\n      if (val === 'min') {\n        this.setProperties({\n          min: this.validateValue(date.min)\n        }, true);\n      } else {\n        this.setProperties({\n          max: this.validateValue(date.max)\n        }, true);\n      }\n    }\n  }, {\n    key: \"checkAttributes\",\n    value: function checkAttributes(isDynamic) {\n      var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n      var value;\n\n      var _iterator19 = _createForOfIteratorHelper(attributes$$1),\n          _step19;\n\n      try {\n        for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n          var prop = _step19.value;\n\n          if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n            switch (prop) {\n              case 'name':\n                this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                break;\n\n              case 'step':\n                this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                break;\n\n              case 'readonly':\n                if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['readonly'] === undefined || isDynamic) {\n                  var readonly = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                  this.setProperties({\n                    readonly: readonly\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'placeholder':\n                if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['placeholder'] === undefined || isDynamic) {\n                  this.setProperties({\n                    placeholder: this.inputElement.getAttribute(prop)\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'min':\n                if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['min'] === undefined || isDynamic) {\n                  value = new Date(this.inputElement.getAttribute(prop));\n\n                  if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                    this.setProperties({\n                      min: value\n                    }, !isDynamic);\n                  }\n                }\n\n                break;\n\n              case 'disabled':\n                if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['enabled'] === undefined || isDynamic) {\n                  var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? false : true;\n                  this.setProperties({\n                    enabled: enabled\n                  }, !isDynamic);\n                }\n\n                break;\n\n              case 'value':\n                if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['value'] === undefined || isDynamic) {\n                  value = new Date(this.inputElement.getAttribute(prop));\n\n                  if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                    this.setProperties({\n                      value: value\n                    }, !isDynamic);\n                  }\n                }\n\n                break;\n\n              case 'max':\n                if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['max'] === undefined || isDynamic) {\n                  value = new Date(this.inputElement.getAttribute(prop));\n\n                  if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                    this.setProperties({\n                      max: value\n                    }, !isDynamic);\n                  }\n                }\n\n                break;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator19.e(err);\n      } finally {\n        _iterator19.f();\n      }\n    }\n  }, {\n    key: \"requiredModules\",\n    value: function requiredModules() {\n      var modules = [];\n\n      if (this) {\n        modules.push({\n          args: [this],\n          member: 'islamic'\n        });\n      }\n\n      if (this.enableMask) {\n        modules.push(this.maskedDateModule());\n      }\n\n      return modules;\n    }\n  }, {\n    key: \"maskedDateModule\",\n    value: function maskedDateModule() {\n      var modules = {\n        args: [this],\n        member: 'MaskedDateTime'\n      };\n      return modules;\n    }\n  }, {\n    key: \"getTimeActiveElement\",\n    value: function getTimeActiveElement() {\n      if (!isNullOrUndefined(this.dateTimeWrapper)) {\n        return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"createDateObj\",\n    value: function createDateObj(val) {\n      return val instanceof Date ? val : null;\n    }\n  }, {\n    key: \"getDateObject\",\n    value: function getDateObject(text) {\n      if (!this.isNullOrEmpty(text)) {\n        var dateValue = this.createDateObj(text);\n        var value = this.valueWithMinutes;\n        var status = !isNullOrUndefined(value);\n\n        if (this.checkDateValue(dateValue)) {\n          var date = status ? value.getDate() : DAY$1;\n          var month = status ? value.getMonth() : MONTH$3;\n          var year = status ? value.getFullYear() : YEAR$3;\n          var hour = status ? value.getHours() : HOUR;\n          var minute = status ? value.getMinutes() : MINUTE;\n          var second = status ? value.getSeconds() : SECOND;\n          var millisecond = status ? value.getMilliseconds() : MILLISECOND;\n\n          if (!this.scrollInvoked) {\n            return new Date(year, month, date, hour, minute, second, millisecond);\n          } else {\n            this.scrollInvoked = false;\n            return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"findNextTimeElement\",\n    value: function findNextTimeElement(event) {\n      var textVal = this.inputElement.value;\n      var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n      var dateTimeVal = null;\n      var listCount = this.liCollections.length;\n\n      if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n        if (event.action === 'home') {\n          dateTimeVal = +this.createDateObj(new Date(this.timeCollections[0]));\n          this.activeIndex = 0;\n        } else if (event.action === 'end') {\n          dateTimeVal = +this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1]));\n          this.activeIndex = this.timeCollections.length - 1;\n        } else {\n          if (event.action === 'down') {\n            for (var i = 0; i < listCount; i++) {\n              if (+value < this.timeCollections[i]) {\n                dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n                this.activeIndex = i;\n                break;\n              }\n            }\n          } else {\n            for (var _i21 = listCount - 1; _i21 >= 0; _i21--) {\n              if (+value > this.timeCollections[_i21]) {\n                dateTimeVal = +this.createDateObj(new Date(this.timeCollections[_i21]));\n                this.activeIndex = _i21;\n                break;\n              }\n            }\n          }\n        }\n\n        this.selectedElement = this.liCollections[this.activeIndex];\n        this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n      }\n    }\n  }, {\n    key: \"setTimeValue\",\n    value: function setTimeValue(date, value) {\n      var dateString;\n      var time;\n      var val = this.validateMinMaxRange(value);\n      var newval = this.createDateObj(val);\n\n      if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n        this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n        time = new Date(+this.valueWithMinutes);\n      } else {\n        if (this.strictMode) {\n          //for strict mode case, when value not present within a range. Reset the nearest range value.\n          date = newval;\n        }\n\n        this.valueWithMinutes = this.checkDateValue(date);\n        time = new Date(+this.valueWithMinutes);\n      }\n\n      if (this.calendarMode === 'Gregorian') {\n        dateString = this.globalize.formatDate(time, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd'\n        });\n      } else {\n        dateString = this.globalize.formatDate(time, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        });\n      }\n\n      if (!this.strictMode && isNullOrUndefined(time)) {\n        Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n      } else {\n        Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n      }\n\n      return time;\n    }\n  }, {\n    key: \"timeElementValue\",\n    value: function timeElementValue(value) {\n      if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n        var date = value instanceof Date ? value : this.getDateObject(value);\n        return this.setTimeValue(date, value);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"timeKeyHandler\",\n    value: function timeKeyHandler(event) {\n      if (isNullOrUndefined(this.step) || this.step <= 0) {\n        return;\n      }\n\n      var listCount = this.timeCollections.length;\n\n      if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n        if (this.liCollections.length > 0) {\n          if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n            this.activeIndex = 0;\n            this.selectedElement = this.liCollections[0];\n            this.timeElementValue(new Date(this.timeCollections[0]));\n          } else {\n            this.findNextTimeElement(event);\n          }\n        }\n      } else {\n        var nextItemValue;\n\n        if (event.keyCode >= 37 && event.keyCode <= 40) {\n          var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n          this.activeIndex = index = this.activeIndex === listCount ? 0 : this.activeIndex;\n          this.activeIndex = index = this.activeIndex < 0 ? listCount - 1 : this.activeIndex;\n          nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n        } else if (event.action === 'home') {\n          this.activeIndex = 0;\n          nextItemValue = this.timeCollections[0];\n        } else if (event.action === 'end') {\n          this.activeIndex = listCount - 1;\n          nextItemValue = this.timeCollections[listCount - 1];\n        }\n\n        this.selectedElement = this.liCollections[this.activeIndex];\n        this.timeElementValue(new Date(nextItemValue));\n      }\n\n      this.isNavigate = true;\n      this.setTimeHover(this.selectedElement, NAVIGATION$1);\n      this.setTimeActiveDescendant();\n\n      if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n        this.setTimeScrollPosition();\n      }\n    }\n  }, {\n    key: \"timeKeyActionHandle\",\n    value: function timeKeyActionHandle(event) {\n      if (this.enabled) {\n        if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n          event.preventDefault();\n        }\n\n        switch (event.action) {\n          case 'up':\n          case 'down':\n          case 'home':\n          case 'end':\n            this.timeKeyHandler(event);\n            break;\n\n          case 'enter':\n            if (this.isNavigate) {\n              this.selectedElement = this.liCollections[this.activeIndex];\n              this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n              this.setInputValue('time');\n\n              if (+this.previousDateTime !== +this.value) {\n                this.changedArgs.value = this.value;\n                this.addTimeSelection();\n                this.previousDateTime = this.value;\n              }\n            } else {\n              this.updateValue(event);\n            }\n\n            this.hide(event);\n            addClass([this.inputWrapper.container], INPUTFOCUS$2);\n            this.isNavigate = false;\n            event.stopPropagation();\n            break;\n\n          case 'escape':\n            this.hide(event);\n            break;\n\n          default:\n            this.isNavigate = false;\n            break;\n        }\n      }\n    }\n  }, {\n    key: \"inputKeyAction\",\n    value: function inputKeyAction(event) {\n      switch (event.action) {\n        case 'altDownArrow':\n          this.strictModeUpdate();\n          this.updateInput();\n          this.toggle(event);\n          break;\n      }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @deprecated\n     */\n\n  }, {\n    key: \"onPropertyChanged\",\n    value: function onPropertyChanged(newProp, oldProp) {\n      for (var _i22 = 0, _Object$keys14 = Object.keys(newProp); _i22 < _Object$keys14.length; _i22++) {\n        var prop = _Object$keys14[_i22];\n\n        switch (prop) {\n          case 'value':\n            this.isDynamicValueChanged = true;\n            this.invalidValueString = null;\n            this.checkInvalidValue(newProp.value);\n            newProp.value = this.value;\n            newProp.value = this.validateValue(newProp.value);\n            Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.valueWithMinutes = newProp.value;\n            this.setProperties({\n              value: newProp.value\n            }, true);\n\n            if (this.popupObj) {\n              this.popupUpdate();\n            }\n\n            this.previousDateTime = new Date(this.inputElement.value);\n            this.updateInput();\n            this.changeTrigger(null);\n            this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n            if (this.enableMask && this.value) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n            }\n\n            break;\n\n          case 'min':\n          case 'max':\n            this.getProperty(newProp, prop);\n            this.updateInput();\n            break;\n\n          case 'enableRtl':\n            Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n            break;\n\n          case 'cssClass':\n            if (!isNullOrUndefined(oldProp.cssClass)) {\n              oldProp.cssClass = oldProp.cssClass.replace(/\\s+/g, ' ').trim();\n            }\n\n            if (!isNullOrUndefined(newProp.cssClass)) {\n              newProp.cssClass = newProp.cssClass.replace(/\\s+/g, ' ').trim();\n            }\n\n            Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n\n            if (this.dateTimeWrapper) {\n              Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n            }\n\n            break;\n\n          case 'locale':\n            this.globalize = new Internationalization(this.locale);\n            this.l10n.setLocale(this.locale);\n            this.setProperties({\n              placeholder: this.l10n.getConstant('placeholder')\n            }, true);\n            Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n            this.dateTimeFormat = this.cldrDateTimeFormat();\n\n            _get(_getPrototypeOf(DateTimePicker.prototype), \"updateInput\", this).call(this);\n\n            break;\n\n          case 'htmlAttributes':\n            this.updateHtmlAttributeToElement();\n            this.updateHtmlAttributeToWrapper();\n            this.checkAttributes(true);\n            break;\n\n          case 'format':\n            this.setProperties({\n              format: newProp.format\n            }, true);\n            this.checkFormat();\n            this.dateTimeFormat = this.formatString;\n            this.setValue();\n\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n\n              if (!this.value) {\n                Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n              }\n            }\n\n            break;\n\n          case 'placeholder':\n            Input.setPlaceholder(newProp.placeholder, this.inputElement);\n            this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n            break;\n\n          case 'enabled':\n            Input.setEnabled(this.enabled, this.inputElement);\n\n            if (!this.enabled) {\n              this.inputElement.tabIndex = -1;\n            }\n\n            break;\n\n          case 'strictMode':\n            this.invalidValueString = null;\n            this.updateInput();\n            break;\n\n          case 'width':\n            this.setWidth(newProp.width);\n            break;\n\n          case 'readonly':\n            Input.setReadonly(this.readonly, this.inputElement);\n            break;\n\n          case 'floatLabelType':\n            this.floatLabelType = newProp.floatLabelType;\n            Input.removeFloating(this.inputWrapper);\n            Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n            break;\n\n          case 'scrollTo':\n            if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n              if (this.dateTimeWrapper) {\n                this.setScrollTo();\n              }\n\n              this.setProperties({\n                scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))\n              }, true);\n            } else {\n              this.setProperties({\n                scrollTo: null\n              }, true);\n            }\n\n            break;\n\n          case 'enableMask':\n            if (this.enableMask) {\n              this.notify(\"createMask\", {\n                module: \"MaskedDateTime\"\n              });\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            } else {\n              if (this.inputElement.value === this.maskedDateValue) {\n                this.maskedDateValue = '';\n                Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n              }\n            }\n\n            break;\n\n          default:\n            _get(_getPrototypeOf(DateTimePicker.prototype), \"onPropertyChanged\", this).call(this, newProp, oldProp);\n\n            break;\n        }\n\n        if (!this.isDynamicValueChanged) {\n          this.hide(null);\n        }\n\n        this.isDynamicValueChanged = false;\n      }\n    }\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n\n  }, {\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'datetimepicker';\n    }\n  }, {\n    key: \"restoreValue\",\n    value: function restoreValue() {\n      this.previousDateTime = this.previousDate;\n      this.currentDate = this.value ? this.value : new Date();\n      this.valueWithMinutes = this.value;\n      this.previousDate = this.value;\n      this.previousElementValue = this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.getFormattedValue(this.inputValueCopy);\n    }\n  }]);\n\n  return DateTimePicker;\n}(DatePicker);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"timeFormat\", void 0);\n\n__decorate$4([Property(30)], DateTimePicker.prototype, \"step\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"scrollTo\", void 0);\n\n__decorate$4([Property(1000)], DateTimePicker.prototype, \"zIndex\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"value\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$4([Property({})], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$4([Property(true)], DateTimePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"values\", void 0);\n\n__decorate$4([Property(true)], DateTimePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"placeholder\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"strictMode\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n__decorate$4([Property(new Date(1900, 0, 1))], DateTimePicker.prototype, \"min\", void 0);\n\n__decorate$4([Property(new Date(2099, 11, 31))], DateTimePicker.prototype, \"max\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n\n__decorate$4([Property('Gregorian')], DateTimePicker.prototype, \"calendarMode\", void 0);\n\n__decorate$4([Property('Month')], DateTimePicker.prototype, \"start\", void 0);\n\n__decorate$4([Property('Month')], DateTimePicker.prototype, \"depth\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"weekNumber\", void 0);\n\n__decorate$4([Property(true)], DateTimePicker.prototype, \"showTodayButton\", void 0);\n\n__decorate$4([Property('Short')], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"enableMask\", void 0);\n\n__decorate$4([Property({\n  day: 'day',\n  month: 'month',\n  year: 'year',\n  hour: 'hour',\n  minute: 'minute',\n  second: 'second',\n  dayOfTheWeek: 'day of the week'\n})], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"open\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"close\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"cleared\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"blur\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"focus\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"created\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"destroyed\", void 0);\n\nDateTimePicker = __decorate$4([NotifyPropertyChanges], DateTimePicker);\n/**\n * DateTimePicker modules\n */\n\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\n\nvar MaskedDateTime = /*#__PURE__*/function () {\n  function MaskedDateTime(parent) {\n    _classCallCheck(this, MaskedDateTime);\n\n    this.mask = '';\n    this.defaultConstant = {\n      day: 'day',\n      month: 'month',\n      year: 'year',\n      hour: 'hour',\n      minute: 'minute',\n      second: 'second',\n      dayOfTheWeek: 'day of the week'\n    };\n    this.hiddenMask = '';\n    this.validCharacters = 'dMyhmHfasz';\n    this.isDayPart = false;\n    this.isMonthPart = false;\n    this.isYearPart = false;\n    this.isHourPart = false;\n    this.isMinutePart = false;\n    this.isSecondsPart = false;\n    this.isMilliSecondsPart = false;\n    this.monthCharacter = '';\n    this.periodCharacter = '';\n    this.isHiddenMask = false;\n    this.isComplete = false;\n    this.isNavigate = false;\n    this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n    this.isDeletion = false;\n    this.isShortYear = false;\n    this.isDeleteKey = false;\n    this.isDateZero = false;\n    this.isMonthZero = false;\n    this.isYearZero = false;\n    this.dayTypeCount = 0;\n    this.monthTypeCount = 0;\n    this.parent = parent;\n    this.dateformat = this.getCulturedFormat();\n    this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n    this.maskDateValue.setMonth(0);\n    this.maskDateValue.setHours(0);\n    this.maskDateValue.setMinutes(0);\n    this.maskDateValue.setSeconds(0);\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.removeEventListener();\n    this.addEventListener();\n  }\n\n  _createClass(MaskedDateTime, [{\n    key: \"getModuleName\",\n    value: function getModuleName() {\n      return 'MaskedDateTime';\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener() {\n      if (this.parent.isDestroyed) {\n        return;\n      }\n\n      this.parent.on('createMask', this.createMask, this);\n      this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n      this.parent.on('inputHandler', this.maskInputHandler, this);\n      this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n      this.parent.on('clearHandler', this.clearHandler, this);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener() {\n      if (this.parent.isDestroyed) {\n        return;\n      }\n\n      this.parent.off('createMask', this.createMask);\n      this.parent.off('setMaskSelection', this.validCharacterCheck);\n      this.parent.off('inputHandler', this.maskInputHandler);\n      this.parent.off('keyDownHandler', this.maskKeydownHandler);\n      this.parent.off('clearHandler', this.clearHandler);\n    }\n  }, {\n    key: \"createMask\",\n    value: function createMask(dateformat) {\n      this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n      this.dateformat = this.getCulturedFormat();\n      if (this.parent.maskPlaceholder.day) this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n      if (this.parent.maskPlaceholder.month) this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n      if (this.parent.maskPlaceholder.year) this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n      if (this.parent.maskPlaceholder.hour) this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n      if (this.parent.maskPlaceholder.minute) this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n      if (this.parent.maskPlaceholder.second) this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n      if (this.parent.maskPlaceholder.dayOfTheWeek) this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n      this.getCUltureMaskFormat();\n      var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.mask = this.previousValue = inputValue;\n      this.parent.maskedDateValue = this.mask;\n\n      if (this.parent.value) {\n        this.setDynamicValue();\n      }\n    }\n  }, {\n    key: \"getCUltureMaskFormat\",\n    value: function getCUltureMaskFormat() {\n      this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n      this.objectString = Object.keys(this.defaultConstant);\n\n      for (var i = 0; i < this.objectString.length; i++) {\n        this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n      }\n    }\n  }, {\n    key: \"validCharacterCheck\",\n    value: function validCharacterCheck() {\n      var start = this.parent.inputElement.selectionStart;\n\n      for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n        if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n          this.setSelection(this.hiddenMask[i]);\n          return;\n        }\n\n        if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n          this.setSelection(this.hiddenMask[j]);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"setDynamicValue\",\n    value: function setDynamicValue() {\n      this.maskDateValue = this.parent.value;\n      this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n      this.updateValue(); // this.parent.inputElement.selectionStart = start;\n      // this.validCharacterCheck();\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(validChar) {\n      var start = -1;\n      var end = 0;\n\n      for (var i = 0; i < this.hiddenMask.length; i++) {\n        if (this.hiddenMask[i] === validChar) {\n          end = i + 1;\n\n          if (start === -1) {\n            start = i;\n          }\n        }\n      }\n\n      if (start < 0) {\n        start = 0;\n      }\n\n      this.parent.inputElement.setSelectionRange(start, end);\n    }\n  }, {\n    key: \"maskKeydownHandler\",\n    value: function maskKeydownHandler(args) {\n      if (args.e.key === 'Delete') {\n        this.isDeleteKey = true;\n        return;\n      }\n\n      if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB || args.e.key === END || args.e.key === HOME)) {\n        var start = this.parent.inputElement.selectionStart;\n        var end = this.parent.inputElement.selectionEnd;\n        var length = this.parent.inputElement.value.length;\n\n        if (start == 0 && end == length && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n          var index = args.e.action === SHIFTTAB ? end : 0;\n          this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n        }\n\n        if (args.e.key === END || args.e.key === HOME) {\n          var range = args.e.key === END ? length : 0;\n          this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n        }\n\n        this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n      }\n\n      if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n        var _start = this.parent.inputElement.selectionStart;\n        this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.inputElement.value = inputValue;\n        this.parent.inputElement.selectionStart = _start;\n        this.validCharacterCheck();\n      }\n    }\n  }, {\n    key: \"differenceCheck\",\n    value: function differenceCheck() {\n      var start = this.parent.inputElement.selectionStart;\n      var inputValue = this.parent.inputElement.value;\n      var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n      var newVal = inputValue.substring(0, start);\n      var newDateValue = this.maskDateValue;\n      var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n      if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n        for (var i = newVal.length; i < previousVal.length; i++) {\n          if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n            this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n          }\n        }\n\n        if (this.isDeletion) {\n          return;\n        }\n      }\n\n      switch (this.previousHiddenMask[start - 1]) {\n        case 'd':\n          var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.isDateZero = newVal[start - 1] == '0';\n\n          if (isNaN(date)) {\n            return;\n          }\n\n          for (var _i23 = 0; date > maxDate; _i23++) {\n            date = parseInt(date.toString().slice(1), 10);\n          }\n\n          if (date >= 1) {\n            newDateValue.setDate(date);\n            this.isNavigate = date.toString().length === 2;\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n\n            if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n              return;\n            }\n\n            this.isDayPart = true;\n            this.dayTypeCount = this.dayTypeCount + 1;\n          } else {\n            this.isDayPart = false;\n            this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n          }\n\n          break;\n\n        case 'M':\n          var month;\n\n          if (newDateValue.getMonth().toString().length < 2) {\n            month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n          } else {\n            month = parseInt(newVal[start - 1], 10);\n          }\n\n          this.isMonthZero = newVal[start - 1] == '0';\n\n          if (!isNaN(month)) {\n            while (month > 12) {\n              month = parseInt(month.toString().slice(1), 10);\n            }\n\n            if (month >= 1) {\n              newDateValue.setMonth(month - 1);\n              this.isNavigate = month.toString().length === 2;\n\n              if (newDateValue.getMonth() !== month - 1) {\n                newDateValue.setDate(1);\n                newDateValue.setMonth(month - 1);\n              }\n\n              if (this.isDayPart) {\n                var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n                if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                  newDateValue.setDate(currentMaxDate);\n                }\n              }\n\n              this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n              this.isMonthPart = true;\n              this.monthTypeCount = this.monthTypeCount + 1;\n            } else {\n              newDateValue.setMonth(0);\n              this.isMonthPart = false;\n              this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n            }\n          } else {\n            // let monthString: string[] = <string[]>(getValue('months[stand-alone].wide', getDefaultDateObject()));\n            var monthString = this.getCulturedValue('months[stand-alone].wide');\n            var monthValue = Object.keys(monthString);\n            this.monthCharacter += newVal[start - 1].toLowerCase();\n\n            while (this.monthCharacter.length > 0) {\n              var _i24 = 1;\n\n              var _iterator20 = _createForOfIteratorHelper(monthValue),\n                  _step20;\n\n              try {\n                for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n                  var months = _step20.value;\n\n                  if (monthString[_i24].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                    newDateValue.setMonth(_i24 - 1);\n                    this.isMonthPart = true;\n                    this.maskDateValue = newDateValue;\n                    return;\n                  }\n\n                  _i24++;\n                }\n              } catch (err) {\n                _iterator20.e(err);\n              } finally {\n                _iterator20.f();\n              }\n\n              this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n            }\n          }\n\n          break;\n\n        case 'y':\n          var year = (this.isYearPart && newDateValue.getFullYear().toString().length < 4 && !this.isShortYear ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.isShortYear = false;\n          this.isYearZero = newVal[start - 1] == '0';\n\n          if (isNaN(year)) {\n            return;\n          }\n\n          while (year > 9999) {\n            year = parseInt(year.toString().slice(1), 10);\n          }\n\n          if (year < 1) {\n            this.isYearPart = false;\n          } else {\n            newDateValue.setFullYear(year);\n\n            if (year.toString().length === 4) {\n              this.isNavigate = true;\n            }\n\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n            this.isYearPart = true;\n          }\n\n          break;\n\n        case 'h':\n          this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n\n          if (isNaN(this.hour)) {\n            return;\n          }\n\n          while (this.hour > 12) {\n            this.hour = parseInt(this.hour.toString().slice(1), 10);\n          }\n\n          newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + this.hour % 12);\n          this.isNavigate = this.hour.toString().length === 2;\n          this.isHourPart = true;\n          break;\n\n        case 'H':\n          this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n\n          if (isNaN(this.hour)) {\n            return;\n          }\n\n          for (var _i25 = 0; this.hour > 23; _i25++) {\n            this.hour = parseInt(this.hour.toString().slice(1), 10);\n          }\n\n          newDateValue.setHours(this.hour);\n          this.isNavigate = this.hour.toString().length === 2;\n          this.isHourPart = true;\n          break;\n\n        case 'm':\n          var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n\n          if (isNaN(minutes)) {\n            return;\n          }\n\n          for (var _i26 = 0; minutes > 59; _i26++) {\n            minutes = parseInt(minutes.toString().slice(1), 10);\n          }\n\n          newDateValue.setMinutes(minutes);\n          this.isNavigate = minutes.toString().length === 2;\n          this.isMinutePart = true;\n          break;\n\n        case 's':\n          var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n\n          if (isNaN(seconds)) {\n            return;\n          }\n\n          for (var _i27 = 0; seconds > 59; _i27++) {\n            seconds = parseInt(seconds.toString().slice(1), 10);\n          }\n\n          newDateValue.setSeconds(seconds);\n          this.isNavigate = seconds.toString().length === 2;\n          this.isSecondsPart = true;\n          break;\n\n        case 'a':\n          this.periodCharacter += newVal[start - 1].toLowerCase(); // let periodString: string[] = <string[]>(getValue('dayPeriods.format.wide', getDefaultDateObject()));;\n\n          var periodString = this.getCulturedValue('dayPeriods.format.wide');\n          var periodkeys = Object.keys(periodString); //periodString[periodkeys[0]] : periodString[periodkeys[1]] : periodString[periodkeys[0]];\n\n          for (var _i28 = 0; this.periodCharacter.length > 0; _i28++) {\n            if (periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12 || periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12) {\n              newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n              this.maskDateValue = newDateValue;\n            }\n\n            this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length); // Object.values()\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      this.maskDateValue = newDateValue;\n    }\n  }, {\n    key: \"formatCheck\",\n    value: function formatCheck() {\n      var proxy = this;\n\n      function formatValueSpecifier(formattext) {\n        var result;\n        var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n        var dayKeyAbbreviated = Object.keys(daysAbbreviated);\n        var daysWide = proxy.getCulturedValue('days[stand-alone].wide');\n        var dayKeyWide = Object.keys(daysWide);\n        var daysNarrow = proxy.getCulturedValue('days[stand-alone].narrow');\n        var dayKeyNarrow = Object.keys(daysNarrow);\n        var monthAbbreviated = proxy.getCulturedValue('months[stand-alone].abbreviated');\n        var monthWide = proxy.getCulturedValue('months[stand-alone].wide');\n        var periodString = proxy.getCulturedValue('dayPeriods.format.wide');\n        var periodkeys = Object.keys(periodString);\n        var milliseconds;\n        var dateOptions;\n\n        switch (formattext) {\n          case 'ddd':\n          case 'dddd':\n          case 'd':\n            result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n            result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n            break;\n\n          case 'dd':\n            result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n            result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n            if (proxy.dayTypeCount == 2) {\n              proxy.isNavigate = true;\n              proxy.dayTypeCount = 0;\n            }\n\n            break;\n\n          case 'E':\n          case 'EE':\n          case 'EEE':\n            result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n            break;\n\n          case 'EEEE':\n            result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n            break;\n\n          case 'EEEEE':\n            result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n            break;\n\n          case 'M':\n            result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n            result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n            break;\n\n          case 'MM':\n            result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n            result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n            if (proxy.monthTypeCount == 2) {\n              proxy.isNavigate = true;\n              proxy.monthTypeCount = 0;\n            }\n\n            break;\n\n          case 'MMM':\n            result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n            break;\n\n          case 'MMMM':\n            result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n            break;\n\n          case 'yy':\n            result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n            result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n\n            if (proxy.isYearPart) {\n              proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n            }\n\n            break;\n\n          case 'y':\n          case 'yyyy':\n            result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n            result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n            break;\n\n          case 'h':\n            result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n            break;\n\n          case 'hh':\n            result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n            break;\n\n          case 'H':\n            result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n            break;\n\n          case 'HH':\n            result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n            break;\n\n          case 'm':\n            result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n            break;\n\n          case 'mm':\n            result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n            break;\n\n          case 's':\n            result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n            break;\n\n          case 'ss':\n            result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n            break;\n\n          case 'f':\n            result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n            break;\n\n          case 'ff':\n            milliseconds = proxy.maskDateValue.getMilliseconds();\n\n            if (proxy.maskDateValue.getMilliseconds() > 99) {\n              milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n            }\n\n            result = proxy.roundOff(milliseconds, 2);\n            break;\n\n          case 'fff':\n            result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n            break;\n\n          case 'a':\n          case 'aa':\n            result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n            break;\n\n          case 'z':\n          case 'zz':\n          case 'zzz':\n          case 'zzzz':\n            dateOptions = {\n              format: formattext,\n              type: 'dateTime',\n              skeleton: 'yMd',\n              calendar: proxy.parent.calendarMode\n            };\n            result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n            break;\n        }\n\n        result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n\n        if (proxy.isHiddenMask) {\n          var hiddenChar = '';\n\n          for (var i = 0; i < result.length; i++) {\n            hiddenChar += formattext[0];\n          }\n\n          return hiddenChar;\n        } else {\n          return result;\n        }\n      }\n\n      return formatValueSpecifier;\n    }\n  }, {\n    key: \"maskInputHandler\",\n    value: function maskInputHandler() {\n      var start = this.parent.inputElement.selectionStart;\n      var selectionChar = this.previousHiddenMask[start - 1];\n      var inputValue;\n      this.differenceCheck();\n      inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isDateZero = this.isMonthZero = this.isYearZero = false;\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.previousValue = inputValue;\n      this.parent.inputElement.value = inputValue;\n      this.parent.inputElement.selectionStart = start;\n      this.validCharacterCheck();\n\n      if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n        var isbackward = this.isNavigate ? false : true;\n        this.isNavigate = this.isDeletion = false;\n        this.navigateSelection(isbackward);\n      }\n\n      this.isDeleteKey = false; // this.setSelection(selectionChar);\n      // this.navigateSelection(inputValue);\n    }\n  }, {\n    key: \"navigateSelection\",\n    value: function navigateSelection(isbackward) {\n      var start = this.parent.inputElement.selectionStart;\n      var end = this.parent.inputElement.selectionEnd;\n      var formatIndex = isbackward ? start - 1 : end + 1;\n\n      while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n        if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n          this.setSelection(this.hiddenMask[formatIndex]);\n          break;\n        }\n\n        formatIndex = formatIndex + (isbackward ? -1 : 1);\n      }\n    }\n  }, {\n    key: \"roundOff\",\n    value: function roundOff(val, count) {\n      var valueText = val.toString();\n      var length = count - valueText.length;\n      var result = '';\n\n      for (var i = 0; i < length; i++) {\n        result += '0';\n      }\n\n      return result + valueText;\n    }\n  }, {\n    key: \"zeroCheck\",\n    value: function zeroCheck(isZero, isDayPart, resultValue) {\n      var result = resultValue;\n\n      if (isZero && !isDayPart) {\n        result = '0';\n      }\n\n      return result;\n    }\n  }, {\n    key: \"handleDeletion\",\n    value: function handleDeletion(format, isSegment) {\n      switch (format) {\n        case 'd':\n          this.isDayPart = isSegment;\n          break;\n\n        case 'M':\n          this.isMonthPart = isSegment;\n\n          if (!isSegment) {\n            this.maskDateValue.setMonth(0);\n            this.monthCharacter = '';\n          }\n\n          break;\n\n        case 'y':\n          this.isYearPart = isSegment;\n          break;\n\n        case 'H':\n        case 'h':\n          this.isHourPart = isSegment;\n\n          if (!isSegment) {\n            this.periodCharacter = '';\n          }\n\n          break;\n\n        case 'm':\n          this.isMinutePart = isSegment;\n          break;\n\n        case 's':\n          this.isSecondsPart = isSegment;\n          break;\n\n        default:\n          return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"dateAlteration\",\n    value: function dateAlteration(isDecrement) {\n      var start = this.parent.inputElement.selectionStart;\n      var formatText = '';\n\n      if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n        formatText = this.hiddenMask[start];\n      } else {\n        return;\n      }\n\n      var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n      this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n      var incrementValue = isDecrement ? -1 : 1;\n\n      switch (formatText) {\n        case 'd':\n          newDateValue.setDate(newDateValue.getDate() + incrementValue);\n          break;\n\n        case 'M':\n          var newMonth = newDateValue.getMonth() + incrementValue;\n          newDateValue.setDate(1);\n          newDateValue.setMonth(newMonth);\n\n          if (this.isDayPart) {\n            var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n            var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n            if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n              newDateValue.setDate(currentMaxDate);\n            } else {\n              newDateValue.setDate(this.previousDate.getDate());\n            }\n          } else {\n            newDateValue.setDate(this.previousDate.getDate());\n          }\n\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n          break;\n\n        case 'y':\n          newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n          break;\n\n        case 'H':\n        case 'h':\n          newDateValue.setHours(newDateValue.getHours() + incrementValue);\n          break;\n\n        case 'm':\n          newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n          break;\n\n        case 's':\n          newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n          break;\n\n        case 'a':\n          newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n          break;\n\n        default:\n          break;\n      }\n\n      this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n\n      if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n        this.handleDeletion(this.hiddenMask[start], true);\n      }\n    }\n  }, {\n    key: \"getCulturedValue\",\n    value: function getCulturedValue(format) {\n      var locale = this.parent.locale;\n      var result;\n\n      if (locale === 'en' || locale === 'en-US') {\n        result = getValue(format, getDefaultDateObject());\n      } else {\n        result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getCulturedFormat\",\n    value: function getCulturedFormat() {\n      var formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.moduleName == 'datepicker') {\n        formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n        if (this.parent.format && this.parent.formatString) {\n          formatString = this.parent.formatString;\n        }\n      }\n\n      if (this.parent.moduleName == 'datetimepicker') {\n        formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n        if (this.parent.dateTimeFormat) {\n          formatString = this.parent.dateTimeFormat;\n        }\n      }\n\n      if (this.parent.moduleName == 'timepicker') {\n        formatString = this.parent.cldrTimeFormat();\n      }\n\n      return formatString;\n    }\n  }, {\n    key: \"clearHandler\",\n    value: function clearHandler() {\n      this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n      this.updateValue();\n    }\n  }, {\n    key: \"updateValue\",\n    value: function updateValue() {\n      this.monthCharacter = this.periodCharacter = '';\n      var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.previousValue = inputValue;\n      this.parent.updateInputValue(inputValue); //this.parent.inputElement.value = inputValue;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.removeEventListener();\n    }\n  }]);\n\n  return MaskedDateTime;\n}();\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\n\nexport { MaskPlaceholder, CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };","map":{"version":3,"sources":["D:/angularStarter/11-24/syncfusion-mytemplate/template-v1/node_modules/@syncfusion/ej2-calendars/dist/es6/ej2-calendars.es2015.js"],"names":["Animation","Browser","ChildProperty","Collection","Component","Event","EventHandler","HijriParser","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","addClass","append","attributes","cldrData","closest","createElement","detach","extend","formatUnit","getDefaultDateObject","getUniqueID","getValue","isNullOrUndefined","isUndefined","merge","prepend","remove","removeClass","rippleEffect","select","setStyleAttribute","setValue","throwError","Popup","Input","Button","ListBase","__decorate","undefined","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","MaskPlaceholder","prototype","CalendarBase","options","element","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createHeader","createContent","wireEvents","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","value","checkDateValue","checkValue","currentDate","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","createContentHeader","createContentBody","showTodayButton","createContentFooter","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","keys","obj","push","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","getCultureValues","days","toCapitalize","innerHTML","start","renderYears","renderDecades","renderMonths","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","updateFooter","footer","contains","todayButtonClick","id","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","getDefaultKeyConfig","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","tableBodyElement","renderDayCellArgs","multiSelection","focusedDate","querySelector","selectedDate","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","focus","number","date","isMonthYearRange","addDay","isMinMaxRange","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","minMaxDate","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","disabled","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","tempValue","formatOptions","calendar","getDateVal","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","select$$1","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","currentTarget","getIdValue","islamicDate","getIslamicDate","toGregorian","modules","args","member","keyEntity","addOnPersist","newProp","oldProp","prop","minMaxUpdate","validateValues","checkView","setLocale","copyValues","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","dayFormatOptions","monthFormatOptions","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","switchView","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","Array","call","tempElement","selectedElement","indexOf","dates","previousValue","checkPrevious","setActiveDescendant","name","trigger","navigatedArgs","event","navigatedEvent","startDate","endDate","modifier","result","compare","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","validateDate","setEnable","enabled","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","isDayLightSaving","changedArgs","setMinutes","setMilliseconds","generateTodayVal","todayButtonEvent","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","tempDates","isInteracted","Number","NaN","changeEvent","OTHERMONTH$1","YEAR$1","MONTH$1","DECADE$1","DISABLED$1","OVERLAY$1","WEEKEND$1","WEEKNUMBER$1","SELECTED$1","FOCUSEDDATE$1","OTHERMONTHROW$1","TODAY$1","LINK$1","CELL$1","dayMilliSeconds$1","minDecade","maxDecade","Islamic","instance","calendarInstance","islamicInValue","islamicTitleUpdate","gregorianObject","islamicDayCell","hijriMonthObject","prevMonthCompare","islamicCompareMonth","nextMonthCompare","prevYearCompare","hijriCompareYear","nextYearCompare","prevDecadeCompare","hijriCompareDecade","nextDecadeCompare","rowCount","hijriStart","hijriEnd","getHijriDate","islamicCompare","__decorate$1","DATEWRAPPER","ROOT$1","LIBRARY","CONTROL","POPUPWRAPPER","INPUTWRAPPER","POPUP","INPUTCONTAINER","INPUTFOCUS","INPUTROOT","ERROR","ACTIVE","OVERFLOW","DATEICON","ICONS","OPENDURATION","OFFSETVALUE","SELECTED$2","FOCUSEDDATE$2","NONEDIT","containerAttr","DatePicker","previousElementValue","isDateIconClicked","isAltKeyPressed","invalidValueString","checkPreviousValue","maskedDateValue","isIconClicked","isDynamicValueChanged","datepickerOptions","initialize","bindEvents","updateInput","allowEdit","readonly","inputElement","updateIconState","inputWrapper","container","enableMask","notify","module","checkInvalidValue","createInput","updateHtmlAttributeToWrapper","setAllowEdit","floatLabelType","placeholder","updateInputValue","inputValueCopy","ariaAttrs","l10n","updatedCssClassValues","isBindClearAction","bindClearAction","properties","showClearButton","buttons","setWidth","width","addAttributes","isDynamic","isCalendar","disabledDates","strictMode","minMaxUpdates","dateValue","tempFormat","formatString","dateTimeFormat","errorClass","val","returnDate","formatDateTime","culture","getDatePattern","valueDate","valueString","invalid","checkStringValue","extISOString","basicISOString","test","inputHandler","dateIconHandler","mouseUpHandler","inputFocusHandler","inputBlurHandler","keydownHandler","bindInputEvent","inputChangeHandler","clearButton","resetHandler","formElement","resetFormHandler","keyboardModules","inputKeyActionHandle","code","popupObj","tagName","restoreValue","stopPropagation","clear","clearedArgs","popupUpdate","interopAdaptor","invokeMethodAsync","blur","hide","show","htmlAttributes","updatedClassValues","setStyle","charAt","setCssClass","selectionStart","selectionEnd","focusArguments","model","openOnFocus","strictModeUpdate","changeTrigger","document","activeElement","blurArguments","calendarKeyboardModules","firstElementChild","calendarKeyActionHandle","focusOut","parentElement","clickedView","defaultAction","targetdate","len","dateOptions","modelHeader","body","display","content","relateTo","position","X","Y","offsetY","targetType","collision","open","close","resetCalendar","preventArgs","setAriaAttributes","targetExitViewport","yearHeading","h2","daySpan","monthSpan","insertBefore","selectCalendar","match","prevent","outOfRange","createCalendar","mobilePopupWrapper","popup","cancel","appendTo","eventArgs","refreshPosition","openAnimation","documentHandler","closeEventCallback","outerHTML","triggerEvent","unBindEvents","removeAttributes","inputElementCopy","ensureInputAttribute","ngTag","insertAdjacentElement","validationAttribute","updateHtmlAttributeToElement","checkHtmlAttributes","altDownArrow","escape","enter","shiftTab","tab","nameAttribute","attribute","attr","skeletonString","dynamic","checkFormat","attributes$$1","valueCopy","previousValCopy","dateIdString","inputVal","isDisabledDate","setPlaceholder","setReadonly","setEnabled","setAriaDisabled","setEnableRtl","updateCssClass","setClearButton","bindClearEvent","removeFloating","addFloating","hour","minute","second","dayOfTheWeek","__decorate$2","DATERANGEWRAPPER","INPUTCONTAINER$1","DATERANGEICON","POPUP$1","LEFTCALENDER","RIGHTCALENDER","LEFTCONTAINER","RIGHTCONTAINER","ROOT$2","LIBRARY$1","CONTROL$1","ERROR$1","ACTIVE$1","STARTENDCONTAINER","STARTDATE","ENDDATE","STARTBUTTON","INPUTFOCUS$1","ENDBUTTON","RANGEHOVER","OTHERMONTH$2","STARTLABEL","ENDLABEL","DISABLED$2","SELECTED$3","CALENDAR","NEXTICON$1","PREVICON$1","HEADER$1","TITLE$1","ICONCONTAINER$1","RANGECONTAINER","RANGEHEADER","PRESETS","FOOTER$1","RANGEBORDER","TODAY$2","FOCUSDATE","CONTENT$1","DAYSPAN","WEEKNUMBER$2","DATEDISABLED","ICONDISABLED","CALENDARCONTAINER","SEPARATOR","APPLY","CANCEL","DEVICE$1","OVERLAY$2","CHANGEICON","LISTCLASS","RTL$1","HOVER","OVERFLOW$1","OFFSETVALUE$1","PRIMARY$1","FLAT$1","CSS$1","ZOOMIN$1","NONEDITABLE","DAYHEADERLONG$1","HIDDENELEMENT","wrapperAttr","Presets","DateRangePicker","isCustomRange","isCustomWindow","presetsItem","liCollections","previousEleValue","isKeyPopup","dateDisabled","isRangeIconClicked","isMaxDaysClicked","disabledDays","preventBlur","preventFocus","dateRangeOptions","startValue","endValue","setModelValue","setDataAttribute","keyInputConfigs","defaultConstant","startLabel","endLabel","customRange","applyText","cancelText","selectedDays","isMobile","window","matchMedia","matches","angularTag","cloneElement","checkInvalidRange","rangeArray","separator","initProperty","navNextFunction","navNextMonth","navPrevFunction","navPrevMonth","deviceNavNextFunction","deviceNavNext","deviceNavPrevFunction","deviceNavPrevious","initStartDate","initEndDate","updateValue","processPresets","setRangeAllowEdit","pro","firstHiddenChild","secondHiddenChild","updateClearIconState","input","updatedClassValue","dateRangeStyle","cssNewClass","cssOldClass","presets","label","range","activeIndex","rangeIconHandler","inputKeyboardModule","dispatchEvent","updateHiddenInput","valueType","clearRange","previousStartValue","previousEndValue","startCopy","endCopy","applyButton","removeSelection","targetElement","isPopupOpen","applyFunction","leftCalendar","calendarFocus","minDays","maxDays","adjustLongHeaderWidth","isPreset","createPresets","listRippleEffect","renderPopup","renderControl","createControl","bindCalendarEvents","updateRange","rightCalendar","disabledDateRender","updateHeader","clearEvents","leftCalPrevIcon","leftCalNextIcon","rightCalPrevIcon","rightCalNextIcon","clearCalendarEvents","updateNavIcons","calendarIconEvent","calendarIconRipple","leftKeyboardModule","keyInputHandler","rightKeyboardModule","deviceCalendarEvent","startButton","deviceHeaderClick","endButton","bindCalendarCellEvents","removeFocusedDate","updateDeviceCalendar","deviceNavigation","deviceCalendar","getElementsByTagName","removeClassDisabled","updateMinMaxDays","selectableDates","prevStartVal","prevEndVal","refreshControl","inputStr","isDateDisabled","isLeftCalendar","ele","leftCalCurrentDate","rightCalCurrentDate","updateCalendarElement","leftLimit","rightLimit","keyCalendarUpdate","keyNavigation","rightDateLimit","leftDateLimit","presetElement","selectRange","yearDate","cancelButton","calendarNavigation","navInCalendar","checkMinMaxDays","presetHeight","tdCells","cell","disabledCell","hoverSelection","isDate","eleDate","isSameMonth","isSameYear","currentElement","isDisabledCell","startDateValue","eleDateValue","startVal","endVal","isSame","elementCollection","isSameStartEnd","addSelectedAttributes","endDateValue","inputValue","round","removeTimeValueFromDate","isStartDate","sameDate","tdCell","y","m","firstMonth","lastMonth","otherMonthSelect","rangeArgs","endEle","removeSelectedAttributes","startMonth","startValueSelected","maxEle","disabledDayCnt","updateControl","labelContainer","changeIcon","endBtn","startBtn","disableInput","validateMinMaxDays","endYear","isSameDecade","decyr","startMonthCurrentDate","calendarContainer","selectStartMonth","renderCalendar","leftTitle","leftContainer","rightContainer","leftNavTitle","selectNextMonth","selectNextYear","selectNextDecade","rightTitle","rightNavTitle","prevIcon","getCalendarView","controlContainer","headerContainer","createRangeHeader","footerSection","cancelBtn","applyBtn","cancelFunction","height","getBoundingClientRect","deviceHeaderUpdate","isValueChanged","closeEventArgs","popupKeyboardModule","popupKeyActionHandle","item","li","isClick","setListSelection","renderCustomPopup","removeListSelection","applyPresetRange","modelValue","openEventArgs","showPopup","listTag","createList","customElement","wireListEvents","onMouseClick","onMouseOver","onMouseLeave","popupWidth","offsetX","btnKeyboardModule","presetKeyboardModule","presetKeyActionHandler","popupKeyBoardHandler","popupCloseHandler","unWireListEvents","keyCode","rangeContainer","listMoveDown","setScrollPosition","listMoveUp","hvrItem","getHoverLI","actItem","getActiveLI","nextElementSibling","previousElementSibling","listHeight","hover","active","nextEle","offsetTop","liHeight","scrollTop","updatedCssClassValue","setEleWidth","validateMinMax","validateRangeStrict","validateRange","formatOption","startinvalue","endinvalue","startString","endString","startObject","endObject","invalidobject","getstringvalue","toLocaleDateString","stringValue","formatOpt","extISOStr","basISOString","virtualRenderCellArgs","virtualRenderCellEvent","isStartDisabled","isEndDisabled","createHiddenInput","evt","createEvent","initEvent","navigate","isBlur","createPopup","mobileRangePopupWrap","refreshChange","openPopup","clearModelvalue","setMinMaxDays","enableInput","__decorate$3","WRAPPERCLASS","POPUP$2","ERROR$2","POPUPDIMENSION","DAY","MONTH$2","YEAR$2","ROOT$3","LIBRARY$2","CONTROL$2","CONTENT$2","SELECTED$4","HOVER$1","NAVIGATION","DISABLED$3","ICONANIMATION","FOCUS","LISTCLASS$1","HALFPOSITION","ANIMATIONDURATION","OVERFLOW$2","OFFSETVAL","EDITABLE","wrapperAttributes","TimePickerBase","createListItems","createdEl","timeFormat","step","interval","listItems","timeCollections","list","TimeMaskPlaceholder","TimePicker","disableItemCollection","timeOptions","keyConfigure","down","up","left","right","openPopupEventArgs","createInputElement","setTimeAllowEdit","validateInterval","validateDisable","getFormattedValue","checkErrorState","anchor","inputEleValue","getDateObject","clearIconState","setMinMax","initMin","initMax","popupCreation","valueIsDisable","resetState","initValue","defaultCulture","checkTimeFormat","checkInValue","scrollTo","checkAttributes","localeText","isNavigate","isPreventBlur","isTextSelected","valueWithMinutes","prevDate","updatedCssClassesValue","isNullOrEmpty","inputStyle","cldrTime","dateFormat","cldrFormat","isInvalid","valueExpression","valueExp","setCurrentDate","getCldrDateTimeFormat","cldrDateTimeString","getCultureTimeObject","ariaAttribute","enableElement","rippleFn","propertyList","generateList","listWrapper","addSelection","popupHeight","rippleModel","containerStyle","setPopupWidth","visibility","maxHeight","createDateObj","updatedClassesValue","timeStyle","cssClassNew","cssClassOld","validateState","removeErrorClass","disableTimeIcon","disableElement","setSelectionRange","meridian","inputWidth","parseFloat","findScrollTop","setScrollTo","getPopupHeight","items","initialTime","scrollTime","cldrTimeFormat","cldrDate","getCultureDateObject","dateToNumeric","compareFormatChange","getText","closePopup","curPos","getCursorSelection","cursorDetails","focusSelection","regex","RegExp","isSeparator","keyHandler","objToString","createMask","previousState","setSelection","delay","animModel","documentClickHandler","mobileTimePopupWrap","top","isNavigation","prevValue","valueProcess","currentLi","setHover","isValidLI","removeHover","checkValueChange","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","popupHandler","inputEventHandler","clearHandler","inputEvent","mouseDownHandler","timeValue","raiseClearedEvent","dataBind","strArray","validateValue","newval","textVal","timeVal","collections","validLiElement","elementValue","selectNextItem","backward","elementIndex","isCheck","getActiveElement","findNextElement","nextItem","selectInputText","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","timeParse","cldrDateFormat","listBaseOptions","itemCreated","isIE","info","popupAlignment","setOverlayIndex","timePopupElement","formatValues","setZIndex","getProperty","updatePlaceHolder","__decorate$4","DATEWRAPPER$1","DATEPICKERROOT","DATETIMEWRAPPER","DAY$1","MONTH$3","YEAR$3","HOUR","MINUTE","SECOND","MILLISECOND","ROOT$4","DATETIMEPOPUPWRAPPER","INPUTWRAPPER$1","POPUP$3","TIMEICON$1","INPUTFOCUS$2","POPUPDIMENSION$1","ICONANIMATION$1","DISABLED$4","ERROR$3","CONTENT$3","NAVIGATION$1","ACTIVE$2","HOVER$2","ICONS$1","HALFPOSITION$1","LISTCLASS$2","ANIMATIONDURATION$1","OVERFLOW$3","DateTimePicker","scrollInvoked","dateTimeOptions","isTimePopupOpen","popupObject","dateTimeWrapper","keyboardHandler","unBindInputEvents","timekeyConfigure","cldrDateTimeFormat","bindInputEvents","validateMinMaxRange","isDateObject","disablePopupButton","checkValidState","isValidState","isDisable","timeIcon","renderTimeIcon","appendSpan","timeHandler","dateHandler","blurHandler","focusHandler","inputKeyAction","getCldrFormat","cldrDateTime","isDatePopupOpen","dateObject","startTime","endTime","listDetails","wireTimeListEvents","listCreation","addTimeSelection","setTimeScrollPosition","timeModal","offset","timeKeyActionHandle","unWireTimeListEvents","setDimension","setTimeHover","removeTimeHover","setInputValue","nextElement","lineHeight","getFullDateTime","tempVal","combineDateTime","minutes","seconds","setTimeActiveDescendant","removeTimeSelection","setTimeActiveClass","getTimeHoverItem","method","hours","milliseconds","tempStartValue","tempMin","calculateStartEnd","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","maskedDateModule","status","millisecond","dateTimeVal","listCount","timeElementValue","setTimeValue","getTimeActiveElement","findNextTimeElement","nextItemValue","timeKeyHandler","toggle","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","TAB","SHIFTTAB","END","HOME","MaskedDateTime","parent","mask","hiddenMask","validCharacters","isDayPart","isMonthPart","isYearPart","isHourPart","isMinutePart","isSecondsPart","isMilliSecondsPart","monthCharacter","periodCharacter","isHiddenMask","isComplete","formatRegex","isDeletion","isShortYear","isDeleteKey","isDateZero","isMonthZero","isYearZero","dayTypeCount","monthTypeCount","dateformat","getCulturedFormat","maskDateValue","removeEventListener","addEventListener","isDestroyed","on","validCharacterCheck","maskInputHandler","maskKeydownHandler","off","maskPlaceholder","getCUltureMaskFormat","formatCheck","previousHiddenMask","setDynamicValue","objectString","j","validChar","altKey","ctrlKey","navigateSelection","dateAlteration","previousVal","substring","newVal","newDateValue","handleDeletion","previousMaxDate","currentMaxDate","monthString","getCulturedValue","monthValue","months","floor","periodString","periodkeys","proxy","formatValueSpecifier","formattext","daysAbbreviated","dayKeyAbbreviated","daysWide","dayKeyWide","daysNarrow","dayKeyNarrow","monthAbbreviated","monthWide","zeroCheck","roundOff","hiddenChar","selectionChar","differenceCheck","isbackward","formatIndex","valueText","isZero","resultValue","isSegment","isDecrement","formatText","incrementValue","newMonth"],"mappings":"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","sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n//class constant defination.\nconst OTHERMONTH = 'e-other-month';\nconst OTHERDECADE = 'e-other-year';\nconst ROOT = 'e-calendar';\nconst DEVICE = 'e-device';\nconst HEADER = 'e-header';\nconst RTL = 'e-rtl';\nconst CONTENT = 'e-content';\nconst YEAR = 'e-year';\nconst MONTH = 'e-month';\nconst DECADE = 'e-decade';\nconst ICON = 'e-icons';\nconst PREVICON = 'e-prev';\nconst NEXTICON = 'e-next';\nconst PREVSPAN = 'e-date-icon-prev';\nconst NEXTSPAN = 'e-date-icon-next ';\nconst ICONCONTAINER = 'e-icon-container';\nconst DISABLED = 'e-disabled';\nconst OVERLAY = 'e-overlay';\nconst WEEKEND = 'e-weekend';\nconst WEEKNUMBER = 'e-week-number';\nconst SELECTED = 'e-selected';\nconst FOCUSEDDATE = 'e-focused-date';\nconst OTHERMONTHROW = 'e-month-hide';\nconst TODAY = 'e-today';\nconst TITLE = 'e-title';\nconst LINK = 'e-day';\nconst CELL = 'e-cell';\nconst WEEKHEADER = 'e-week-header';\nconst ZOOMIN = 'e-zoomin';\nconst FOOTER = 'e-footer-container';\nconst BTN = 'e-btn';\nconst FLAT = 'e-flat';\nconst CSS = 'e-css';\nconst PRIMARY = 'e-primary';\nconst DAYHEADERLONG = 'e-calendar-day-header-lg';\nconst dayMilliSeconds = 86400000;\nconst minutesMilliSeconds = 60000;\nclass MaskPlaceholder extends ChildProperty {\n}\n__decorate([\n    Property('day')\n], MaskPlaceholder.prototype, \"day\", void 0);\n__decorate([\n    Property('month')\n], MaskPlaceholder.prototype, \"month\", void 0);\n__decorate([\n    Property('year')\n], MaskPlaceholder.prototype, \"year\", void 0);\n__decorate([\n    Property('hour')\n], MaskPlaceholder.prototype, \"hour\", void 0);\n__decorate([\n    Property('minute')\n], MaskPlaceholder.prototype, \"minute\", void 0);\n__decorate([\n    Property('second')\n], MaskPlaceholder.prototype, \"second\", void 0);\n__decorate([\n    Property('day of the week')\n], MaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n/**\n *\n * @private\n */\nlet CalendarBase = class CalendarBase extends Component {\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.effect = '';\n        this.isPopupClicked = false;\n        this.isDateSelected = true;\n        this.isTodayClicked = false;\n        this.preventChange = false;\n        this.isAngular = false;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'role': 'calendar'\n            });\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    }\n    rangeValidation(min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    }\n    getDefaultKeyConfig() {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    }\n    validateDate(value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    }\n    setOverlayIndex(popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            const index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    }\n    minMaxUpdate(value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    }\n    createHeader() {\n        const ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        const ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        const ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        const iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    }\n    createContent() {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '' } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    }\n    getCultureValues() {\n        const culShortNames = [];\n        let cldrObj;\n        const dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        for (const obj of Object.keys(cldrObj)) {\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    }\n    toCapitalize(text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    }\n    createContentHeader() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        const daysCount = 6;\n        let html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        const shortNames = this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek);\n        for (let days = 0; days <= daysCount; days++) {\n            html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    }\n    createContentBody() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    }\n    updateFooter() {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    }\n    createContentFooter() {\n        if (this.showTodayButton) {\n            const minimum = new Date(+this.min);\n            const maximum = new Date(+this.max);\n            const l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    }\n    wireEvents(id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    }\n    dateWireEvents(id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    }\n    todayButtonClick(e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    }\n    resetCalendar() {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    }\n    keyActionHandle(e, value, multiSelection) {\n        const focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        let selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        let view = this.getViewNumber(this.currentView());\n        const depthValue = this.getViewNumber(this.depth);\n        const levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    const element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            const d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    keyboardNavigate(number, currentView, e, max, min) {\n        const date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    preRender(value) {\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = (e) => {\n            this.triggerNavigate(e);\n        };\n    }\n    minMaxDate(localDate) {\n        const currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        const minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        const maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    }\n    renderMonths(e, value, isCustomDate) {\n        const numCells = this.weekNumber ? 8 : 7;\n        let tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    }\n    renderDays(currentDate, value, multiSelection, values, isTodayDate) {\n        const tdEles = [];\n        const cellsCount = 42;\n        const todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        let localDate = new Date(this.checkValue(currentDate));\n        let minMaxDate;\n        const currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        const d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (let day = 0; day < cellsCount; ++day) {\n            const weekEle = this.createElement('td', { className: CELL });\n            const weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                const numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                const finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            const dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            const date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            const tdEle = this.dayCell(localDate);\n            const title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            const dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            const disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            const argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                const selectDate = new Date(this.checkValue(value));\n                const argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (let index = 0; index < values.length; index++) {\n                            const localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            const tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            const otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            const disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (let tempValue = 0; tempValue < values.length; tempValue++) {\n                    const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    const formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    const localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    const tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    }\n    updateFocus(otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    }\n    renderYears(e, value) {\n        this.removeTableHeadElement();\n        const numCells = 4;\n        const tdEles = [];\n        const valueUtil = isNullOrUndefined(value);\n        const curDate = new Date(this.checkValue(this.currentDate));\n        const mon = curDate.getMonth();\n        const yr = curDate.getFullYear();\n        const localDate = curDate;\n        const curYrs = localDate.getFullYear();\n        const minYr = new Date(this.checkValue(this.min)).getFullYear();\n        const minMonth = new Date(this.checkValue(this.min)).getMonth();\n        const maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        const maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (let month = 0; month < 12; ++month) {\n            const tdEle = this.dayCell(localDate);\n            const dayLink = this.createElement('span');\n            const localMonth = (value && (value).getMonth() === localDate.getMonth());\n            const select$$1 = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    }\n    renderDecades(e, value) {\n        this.removeTableHeadElement();\n        const numCells = 4;\n        const yearCell = 12;\n        const tdEles = [];\n        const localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        const localYr = localDate.getFullYear();\n        const startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        const endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        const startFullYr = startYr.getFullYear();\n        const endFullYr = endYr.getFullYear();\n        const startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        const endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        const start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        const startYear = start.getFullYear();\n        for (let rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            const year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            const tdEle = this.dayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            const dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    }\n    dayCell(localDate) {\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        const dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        const date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        const value = date.valueOf();\n        const attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.createElement('td', attrs);\n    }\n    firstDay(date) {\n        const collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (let i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    }\n    lastDay(date, view) {\n        const lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            const timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    }\n    checkDateValue(value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    }\n    findLastDay(date) {\n        const collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (let i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    }\n    removeTableHeadElement() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    renderTemplate(elements, count, classNm, e, value) {\n        const view = this.getViewNumber(this.currentView());\n        let trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        const weekNumCell = 41;\n        const numberCell = 35;\n        const otherMonthCell = 6;\n        let row = count;\n        let rowIterator = 0;\n        for (let dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    }\n    clickHandler(e, value) {\n        this.clickEventEmitter(e);\n        const eve = e.currentTarget;\n        const view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    // Content click event handler required for extended components\n    clickEventEmitter(e) {\n        e.preventDefault();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    contentClick(e, view, element, value) {\n        const currentView = this.getViewNumber(this.currentView());\n        const d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        const islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    }\n    switchView(view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n                    this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n                }\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'calendar';\n    }\n    /**\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    requiredModules() {\n        const modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        const keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    }\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    validateValues(multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            const copyValues = this.copyValues(values);\n            for (let skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                const tempValue = copyValues[skipIndex];\n                const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                let tempValueString;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                const minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                const minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                const minString = minStringValue;\n                const maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                const maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                const maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    }\n    setValueUpdate() {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    }\n    copyValues(values) {\n        const copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (let index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    }\n    titleUpdate(date, view) {\n        const globalize = new Internationalization(this.locale);\n        let dayFormatOptions;\n        let monthFormatOptions;\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    }\n    setActiveDescendant() {\n        let id;\n        const focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        const selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        let title;\n        const view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    }\n    iconHandler() {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        super.destroy();\n    }\n    title(e) {\n        let currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    }\n    getViewNumber(stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    }\n    navigateTitle(e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    previous() {\n        this.effect = '';\n        const currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    }\n    navigatePrevious(e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    next() {\n        this.effect = '';\n        const currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    }\n    navigateNext(eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    navigateTo(view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    currentView() {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    getDateVal(date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getCultureObjects(ld, c) {\n        const gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        const islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        const mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    }\n    getWeek(d) {\n        const currentDate = new Date(this.checkValue(d)).valueOf();\n        const date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    }\n    setStartDate(date, time) {\n        const tzOffset = date.getTimezoneOffset();\n        const d = new Date(date.getTime() + time);\n        const tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    }\n    addMonths(date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            const day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            const islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    }\n    addYears(date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            const day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            const islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    }\n    getIdValue(e, element) {\n        let eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        const dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        const dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        const date = this.globalize.parseDate(dateString, dateFormatOptions);\n        const value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    }\n    adjustLongHeaderSize() {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    }\n    selectDate(e, date, node, multiSelection, values) {\n        const element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                const copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        let tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            const copyValues = this.copyValues(values);\n            const collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (let index = 0; index < collection.length; index++) {\n                const tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                const selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (let i = 0; i < copyValues.length; i++) {\n                    const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    const formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    const localDateString = this.globalize.formatDate(date, formatOptions);\n                    const tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        const index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    }\n    checkPresentDate(dates, values) {\n        let previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (let checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                const localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                const tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    }\n    setAriaActiveDescendant() {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    }\n    previousIconHandler(disabled) {\n        if (disabled) {\n            EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n            addClass([this.previousIcon], '' + DISABLED);\n            addClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    }\n    renderDayCellEvent(args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    }\n    navigatedEvent(eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    }\n    triggerNavigate(event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    }\n    nextIconHandler(disabled) {\n        if (disabled) {\n            EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n            addClass([this.nextIcon], DISABLED);\n            addClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    }\n    compare(startDate, endDate, modifier) {\n        let start = endDate.getFullYear();\n        let end;\n        let result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    }\n    isMinMaxRange(date) {\n        return +date >= +this.min && +date <= +this.max;\n    }\n    isMonthYearRange(date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            const islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    }\n    compareYear(start, end) {\n        return this.compare(start, end, 0);\n    }\n    compareDecade(start, end) {\n        return this.compare(start, end, 10);\n    }\n    shiftArray(array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    }\n    addDay(date, i, e, max, min) {\n        let column = i;\n        const value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            const rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    }\n    findNextTD(date, column, max, min) {\n        const value = new Date(date.setDate(date.getDate() + column));\n        let collection = [];\n        let isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            let tdEles;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter((element) => {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (let i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    }\n    getMaxDays(d) {\n        let date;\n        const tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        const month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    }\n    setDateDecade(date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    }\n    setDateYear(date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    }\n    compareMonth(start, end) {\n        let result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    }\n    checkValue(inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    }\n    checkView() {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    }\n    getDate(date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    }\n};\n__decorate([\n    Property(new Date(1900, 0, 1))\n], CalendarBase.prototype, \"min\", void 0);\n__decorate([\n    Property(true)\n], CalendarBase.prototype, \"enabled\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"cssClass\", void 0);\n__decorate([\n    Property(new Date(2099, 11, 31))\n], CalendarBase.prototype, \"max\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n__decorate([\n    Property('Gregorian')\n], CalendarBase.prototype, \"calendarMode\", void 0);\n__decorate([\n    Property('Month')\n], CalendarBase.prototype, \"start\", void 0);\n__decorate([\n    Property('Month')\n], CalendarBase.prototype, \"depth\", void 0);\n__decorate([\n    Property(false)\n], CalendarBase.prototype, \"weekNumber\", void 0);\n__decorate([\n    Property('FirstDay')\n], CalendarBase.prototype, \"weekRule\", void 0);\n__decorate([\n    Property(true)\n], CalendarBase.prototype, \"showTodayButton\", void 0);\n__decorate([\n    Property('Short')\n], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n__decorate([\n    Property(false)\n], CalendarBase.prototype, \"enablePersistence\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"keyConfigs\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"created\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"destroyed\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"navigated\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"renderDayCell\", void 0);\nCalendarBase = __decorate([\n    NotifyPropertyChanges\n], CalendarBase);\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nlet Calendar = class Calendar extends CalendarBase {\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            const tempValues = [];\n            const copyValues = [];\n            for (let limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (let index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        const copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        super.render();\n        if (this.getModuleName() === 'calendar') {\n            const form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    }\n    setEnable(enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    }\n    setClass(newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    }\n    isDayLightSaving() {\n        const secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        const firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    }\n    setTimeZone(offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            const serverTimezoneDiff = offsetValue;\n            const clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            let timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    }\n    formResetHandler() {\n        this.setProperties({ value: null }, true);\n    }\n    validateDate() {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        super.validateDate(this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    }\n    minMaxUpdate() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                super.minMaxUpdate(this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    super.minMaxUpdate(this.max);\n                }\n            }\n        }\n        else {\n            super.minMaxUpdate(this.value);\n        }\n    }\n    generateTodayVal(value) {\n        let tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = super.getDate(tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    }\n    todayButtonClick(e) {\n        if (this.showTodayButton) {\n            const tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                const copyValues = this.copyValues(this.values);\n                if (!super.checkPresentDate(tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            super.todayButtonClick(e, new Date(+this.value));\n        }\n    }\n    keyActionHandle(e) {\n        super.keyActionHandle(e, this.value, this.isMultiSelection);\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.changeHandler = (e) => {\n            this.triggerChange(e);\n        };\n        this.checkView();\n        super.preRender(this.value);\n    }\n    /**\n     * @returns {void}\n     * @deprecated\n     */\n    createContent() {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        super.createContent();\n    }\n    minMaxDate(localDate) {\n        return super.minMaxDate(localDate);\n    }\n    renderMonths(e, value, isCustomDate) {\n        super.renderMonths(e, this.value, isCustomDate);\n    }\n    renderDays(currentDate, value, isMultiSelect, values, isCustomDate) {\n        const tempDays = super.renderDays(currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n        if (this.isMultiSelection) {\n            super.validateValues(this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    }\n    renderYears(e) {\n        if (this.calendarMode === 'Gregorian') {\n            super.renderYears(e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    }\n    renderDecades(e) {\n        if (this.calendarMode === 'Gregorian') {\n            super.renderDecades(e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    }\n    renderTemplate(elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            super.renderTemplate(elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    }\n    clickHandler(e) {\n        const eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                const copyValues = this.copyValues(this.values);\n                copyValues.push(this.getIdValue(e, null));\n                this.setProperties({ values: copyValues }, true);\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        const storeView = this.currentView();\n        super.clickHandler(e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    }\n    switchView(view, e, isMultiSelection, isCustomDate) {\n        super.switchView(view, e, this.isMultiSelection, isCustomDate);\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    getModuleName() {\n        super.getModuleName();\n        return 'calendar';\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        super.getPersistData();\n        const keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            const copyValues = this.copyValues(this.values);\n                            for (let index = 0; index < copyValues.length; index++) {\n                                const tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !super.checkPresentDate(tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    super.onPropertyChanged(newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        super.destroy();\n        if (this.getModuleName() === 'calendar') {\n            const form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     * @deprecated\n     */\n    navigateTo(view, date, isCustomDate) {\n        this.minMaxUpdate();\n        super.navigateTo(view, date, isCustomDate);\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    currentView() {\n        return super.currentView();\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    addDate(dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            let copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                const tempDates = dates;\n                for (let i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !super.checkPresentDate(tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !super.checkPresentDate(dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    }\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    removeDate(dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            const copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                const tempDates = dates;\n                for (let index = 0; index < tempDates.length; index++) {\n                    for (let i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (let i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    }\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    setTodayDate(date) {\n        const todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        super.todayButtonClick(null, todayDate, true);\n    }\n    update() {\n        this.validateDate();\n        this.minMaxUpdate();\n        super.setValueUpdate();\n    }\n    selectDate(e, date, element) {\n        super.selectDate(e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    changeEvent(e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    }\n    triggerChange(e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    }\n};\n__decorate([\n    Property(null)\n], Calendar.prototype, \"value\", void 0);\n__decorate([\n    Property(null)\n], Calendar.prototype, \"values\", void 0);\n__decorate([\n    Property(false)\n], Calendar.prototype, \"isMultiSelection\", void 0);\n__decorate([\n    Event()\n], Calendar.prototype, \"change\", void 0);\nCalendar = __decorate([\n    NotifyPropertyChanges\n], Calendar);\n\n/**\n *\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\nconst OTHERMONTH$1 = 'e-other-month';\nconst YEAR$1 = 'e-year';\nconst MONTH$1 = 'e-month';\nconst DECADE$1 = 'e-decade';\nconst DISABLED$1 = 'e-disabled';\nconst OVERLAY$1 = 'e-overlay';\nconst WEEKEND$1 = 'e-weekend';\nconst WEEKNUMBER$1 = 'e-week-number';\nconst SELECTED$1 = 'e-selected';\nconst FOCUSEDDATE$1 = 'e-focused-date';\nconst OTHERMONTHROW$1 = 'e-month-hide';\nconst TODAY$1 = 'e-today';\nconst LINK$1 = 'e-day';\nconst CELL$1 = 'e-cell';\nconst dayMilliSeconds$1 = 86400000;\nconst minDecade = 2060;\nconst maxDecade = 2069;\nclass Islamic {\n    constructor(instance) {\n        this.calendarInstance = instance;\n    }\n    getModuleName() {\n        return 'islamic';\n    }\n    islamicTitleUpdate(date, view) {\n        const globalize = new Internationalization(this.calendarInstance.locale);\n        switch (view) {\n            case 'days':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'MMMMyyyy', calendar: 'islamic' });\n                break;\n            case 'months':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'yyyy', calendar: 'islamic' });\n        }\n    }\n    islamicRenderDays(currentDate, value, multiSelection, values) {\n        const tdEles = [];\n        const cellsCount = 42;\n        let localDate = new Date(this.islamicInValue(currentDate));\n        let minMaxDate;\n        this.islamicTitleUpdate(currentDate, 'days');\n        const islamicDate = this.getIslamicDate(localDate);\n        const gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n        const currentMonth = islamicDate.month;\n        localDate = gregorianObject;\n        while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n            this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n        }\n        for (let day = 0; day < cellsCount; ++day) {\n            const weekEle = this.calendarInstance.createElement('td', { className: CELL$1 });\n            const weekAnchor = this.calendarInstance.createElement('span');\n            if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n                weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER$1);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.calendarInstance.minMaxDate(localDate);\n            const dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: 'islamic' };\n            const date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            const tdEle = this.islamicDayCell(localDate);\n            const title = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'full', calendar: 'islamic' });\n            const dayLink = this.calendarInstance.createElement('span');\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'd', calendar: 'islamic' });\n            const disabled = (this.calendarInstance.min > localDate) || (this.calendarInstance.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            const hijriMonthObject = this.getIslamicDate(localDate);\n            if (currentMonth !== hijriMonthObject.month) {\n                addClass([tdEle], OTHERMONTH$1);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND$1);\n            }\n            tdEle.appendChild(dayLink);\n            this.calendarInstance.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            const argument = this.calendarInstance.renderDayCellArgs;\n            this.calendarInstance.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                if (this.calendarInstance.isMultiSelection) {\n                    if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n                        for (let index = 0; index < values.length; index++) {\n                            const localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            const tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            if (localDateString === tempDateString) {\n                                this.calendarInstance.values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (value && +value === +argument.date) {\n                    this.calendarInstance.setProperties({ value: null }, true);\n                }\n            }\n            if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n                if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n                    this.calendarInstance.todayDisabled = true;\n                }\n            }\n            const otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n            const disabledCls = tdEle.classList.contains(DISABLED$1);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) &&\n                !otherMnthBool && !disabledCls) {\n                for (let tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n                    const localDateString = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    const tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    if (localDateString === tempDateString &&\n                        this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n                        addClass([tdEle], SELECTED$1);\n                    }\n                    else {\n                        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (this.calendarInstance.values.length <= 0) {\n                    this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n            if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n                if (date.getFullYear() === new Date().getFullYear()) {\n                    addClass([tdEle], TODAY$1);\n                }\n            }\n            localDate = new Date(+minMaxDate);\n            tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n            this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n        }\n        return tdEles;\n    }\n    islamicIconHandler() {\n        new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n        const date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                {\n                    const prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n                    const nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevMonthCompare);\n                    this.calendarInstance.nextIconHandler(nextMonthCompare);\n                }\n                break;\n            case 'Year':\n                {\n                    const prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n                    const nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevYearCompare);\n                    this.calendarInstance.nextIconHandler(nextYearCompare);\n                }\n                break;\n            case 'Decade': {\n                const prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n                const nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n                this.calendarInstance.previousIconHandler(prevDecadeCompare);\n                this.calendarInstance.nextIconHandler(nextDecadeCompare);\n            }\n        }\n    }\n    islamicNext() {\n        this.calendarInstance.effect = '';\n        const view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        const islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Decade':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n        }\n    }\n    islamicPrevious() {\n        const currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        this.calendarInstance.effect = '';\n        const islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Decade':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n        }\n    }\n    islamicRenderYears(e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        const numCells = 4;\n        const tdEles = [];\n        const valueUtil = isNullOrUndefined(value);\n        const curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        let localDate = curDate;\n        const islamicDate = this.getIslamicDate(localDate);\n        const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        const mon = islamicDate.month;\n        const yr = islamicDate.year;\n        const curYrs = islamicDate.year;\n        const minYr = (this.getIslamicDate(this.calendarInstance.min)).year;\n        const minMonth = (this.getIslamicDate(this.calendarInstance.min)).month;\n        const maxYr = (this.getIslamicDate(this.calendarInstance.max)).year;\n        const maxMonth = (this.getIslamicDate(this.calendarInstance.max)).month;\n        this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n        for (let month = 1; month <= 12; ++month) {\n            const islamicDate = this.getIslamicDate(localDate);\n            const gregorianObject = HijriParser.toGregorian(islamicDate.year, month, 1);\n            localDate = gregorianObject;\n            const tdEle = this.islamicDayCell(localDate);\n            const dayLink = this.calendarInstance.createElement('span');\n            const localMonth = (value &&\n                (this.getIslamicDate(value)).month === (this.getIslamicDate(localDate)).month);\n            const select$$1 = (value && (this.getIslamicDate(value)).year === yr && localMonth);\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'MMM', calendar: 'islamic' });\n            if ((this.calendarInstance.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.calendarInstance.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED$1);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                if ((this.getIslamicDate(localDate)).month === mon &&\n                    (this.getIslamicDate(this.calendarInstance.currentDate)).month === mon) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED$1)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n    }\n    islamicRenderDecade(e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        const numCells = 4;\n        const yearCell = 12;\n        const tdEles = [];\n        let localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        const islamicDate = this.getIslamicDate(localDate);\n        const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        const localYr = localDate.getFullYear();\n        const startYr = new Date(this.islamicInValue((localYr - localYr % 10)));\n        const endYr = new Date(this.islamicInValue((localYr - localYr % 10 + (10 - 1))));\n        const startFullYr = startYr.getFullYear();\n        const endFullYr = endYr.getFullYear();\n        const startHdrYr = this.calendarInstance.globalize.formatDate(startYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        const endHdrYr = this.calendarInstance.globalize.formatDate(endYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        const start = new Date(localYr - (localYr % 10) - 2, 0, 1);\n        const startYear = start.getFullYear();\n        for (let rowCount = 1; rowCount <= yearCell; ++rowCount) {\n            const year = startYear + rowCount;\n            localDate.setFullYear(year);\n            localDate.setDate(1);\n            localDate.setMonth(0);\n            const islamicDate = this.getIslamicDate(localDate);\n            const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n            localDate = gregorianObject;\n            const tdEle = this.islamicDayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            const dayLink = this.calendarInstance.createElement('span');\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERMONTH$1);\n            }\n            else if (year < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()\n                || year > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n                addClass([tdEle], DISABLED$1);\n            }\n            else if (!isNullOrUndefined(value) &&\n                (this.getIslamicDate(localDate)).year ===\n                    (this.getIslamicDate(value)).year) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED$1)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n    }\n    islamicDayCell(localDate) {\n        const dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: 'islamic' };\n        const formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n        const date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n        const value = date.valueOf();\n        const attrs = {\n            className: CELL$1, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.calendarInstance.createElement('td', attrs);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    islamicRenderTemplate(elements, count, classNm, e, value) {\n        const view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        let trEle;\n        this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n        this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n        removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n        addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n        const weekNumCell = 41;\n        const numberCell = 35;\n        const otherMonthCell = 6;\n        let row = count;\n        let rowCount = 0;\n        for (let dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.calendarInstance.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n                if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n                    addClass([elements[rowCount].children[0]], [LINK$1]);\n                    rippleEffect(elements[rowCount].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowCount]);\n                if (this.calendarInstance.weekNumber &&\n                    rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (!this.calendarInstance.weekNumber\n                    && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (this.calendarInstance.weekNumber) {\n                    if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n                else {\n                    if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n            }\n            row = row + count;\n            rowCount = rowCount + 0;\n            this.calendarInstance.tableBodyElement.appendChild(trEle);\n        }\n        this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n        this.islamicIconHandler();\n        if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())\n            || (view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))) {\n            this.calendarInstance.navigateHandler(e);\n        }\n        this.calendarInstance.setAriaActiveDescendant();\n        this.calendarInstance.changedArgs = { value: this.calendarInstance.value, values: this.calendarInstance.values };\n        this.calendarInstance.changeHandler();\n    }\n    islamicCompareMonth(start, end) {\n        const hijriStart = (this.getIslamicDate(start));\n        const hijriEnd = (this.getIslamicDate(end));\n        let result;\n        if (hijriStart.year > hijriEnd.year) {\n            result = 1;\n        }\n        else if (hijriStart.year < hijriEnd.year) {\n            result = -1;\n        }\n        else {\n            result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n        }\n        return result;\n    }\n    islamicCompare(startDate, endDate, modifier) {\n        const hijriStart = this.getIslamicDate(startDate);\n        const hijriEnd = this.getIslamicDate(endDate);\n        let start = hijriEnd.year;\n        let end;\n        let result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (hijriStart.year > end) {\n            result = 1;\n        }\n        else if ((this.calendarInstance.currentView() === 'Decade') && hijriStart.year < start &&\n            !((startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade))) {\n            result = -1;\n        }\n        else if (hijriStart.year < start && (this.calendarInstance.currentView() === 'Year')) {\n            result = -1;\n        }\n        return result;\n    }\n    getIslamicDate(date) {\n        return (HijriParser.getHijriDate(date));\n    }\n    toGregorian(year, month, date) {\n        return HijriParser.toGregorian(year, month, date);\n    }\n    hijriCompareYear(start, end) {\n        return this.islamicCompare(start, end, 0);\n    }\n    hijriCompareDecade(start, end) {\n        return this.islamicCompare(start, end, 10);\n    }\n    destroy() {\n        this.calendarInstance = null;\n    }\n    islamicInValue(inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    }\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\nconst DATEWRAPPER = 'e-date-wrapper';\nconst ROOT$1 = 'e-datepicker';\nconst LIBRARY = 'e-lib';\nconst CONTROL = 'e-control';\nconst POPUPWRAPPER = 'e-popup-wrapper';\nconst INPUTWRAPPER = 'e-input-group-icon';\nconst POPUP = 'e-popup';\nconst INPUTCONTAINER = 'e-input-group';\nconst INPUTFOCUS = 'e-input-focus';\nconst INPUTROOT = 'e-input';\nconst ERROR = 'e-error';\nconst ACTIVE = 'e-active';\nconst OVERFLOW = 'e-date-overflow';\nconst DATEICON = 'e-date-icon';\nconst ICONS = 'e-icons';\nconst OPENDURATION = 300;\nconst OFFSETVALUE = 4;\nconst SELECTED$2 = 'e-selected';\nconst FOCUSEDDATE$2 = 'e-focused-date';\nconst NONEDIT = 'e-non-edit';\nconst containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\nlet DatePicker = class DatePicker extends Calendar {\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param {DatePickerModel} options - Specifies the DatePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.previousElementValue = '';\n        this.isDateIconClicked = false;\n        this.isAltKeyPressed = false;\n        this.isInteracted = true;\n        this.invalidValueString = null;\n        this.checkPreviousValue = null;\n        this.maskedDateValue = '';\n        this.isAngular = false;\n        this.preventChange = false;\n        this.isIconClicked = false;\n        this.isDynamicValueChanged = false;\n        this.moduleName = this.getModuleName();\n        this.datepickerOptions = options;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initialize();\n        this.bindEvents();\n        this.renderComplete();\n        this.setTimeZone(this.serverTimezoneOffset);\n    }\n    setTimeZone(offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            const clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            const serverTimezoneDiff = offsetValue;\n            let timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date((this.value).getTime() + (timeZoneDiff * 60 * 60 * 1000));\n            this.updateInput();\n        }\n    }\n    isDayLightSaving() {\n        const firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        const secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    }\n    setAllowEdit() {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateIconState();\n    }\n    updateIconState() {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDIT]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDIT]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDIT]);\n        }\n    }\n    initialize() {\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.checkInvalidValue(this.value);\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setAllowEdit();\n        this.updateInput();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n        }\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputValueCopy = this.value;\n    }\n    createInput() {\n        const ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-invalid': 'false'\n        };\n        if (this.getModuleName() === 'datepicker') {\n            const l10nLocale = { placeholder: this.placeholder };\n            this.globalize = new Internationalization(this.locale);\n            this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        let updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        let isBindClearAction = this.enableMask ? false : true;\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            bindClearAction: isBindClearAction,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n        }, this.createElement);\n        this.setWidth(this.width);\n        if (this.inputElement.name !== '') {\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n        }\n        else {\n            this.inputElement.setAttribute('name', '' + this.element.id);\n        }\n        attributes(this.inputElement, ariaAttrs);\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        addClass([this.inputWrapper.container], DATEWRAPPER);\n    }\n    updateInput(isDynamic = false) {\n        let formatOptions;\n        if (this.value && !this.isCalendar() && !isDynamic) {\n            this.disabledDates();\n        }\n        if (isNaN(+new Date(this.checkValue(this.value)))) {\n            this.setProperties({ value: null }, true);\n        }\n        if (this.strictMode) {\n            //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n            super.validateDate();\n            this.minMaxUpdates();\n            super.minMaxUpdate();\n        }\n        if (!isNullOrUndefined(this.value)) {\n            const dateValue = this.value;\n            let dateString;\n            const tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd'\n                    });\n                }\n                else {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                    });\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                dateString = this.globalize.formatDate(this.value, formatOptions);\n            }\n            if ((+dateValue <= +this.max) && (+dateValue >= +this.min)) {\n                this.updateInputValue(dateString);\n            }\n            else {\n                const value = (+dateValue >= +this.max || !+this.value) || (!+this.value || +dateValue <= +this.min);\n                if (!this.strictMode && value) {\n                    this.updateInputValue(dateString);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.value) && this.strictMode) {\n            if (!this.enableMask) {\n                this.updateInputValue('');\n            }\n            else {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.changedArgs = { value: this.value };\n        this.errorClass();\n        this.updateIconState();\n    }\n    minMaxUpdates() {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n            this.setProperties({ value: this.min }, true);\n            this.changedArgs = { value: this.value };\n        }\n        else {\n            if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n                this.setProperties({ value: this.max }, true);\n                this.changedArgs = { value: this.value };\n            }\n        }\n    }\n    checkStringValue(val) {\n        let returnDate = null;\n        let formatOptions = null;\n        let formatDateTime = null;\n        if (this.getModuleName() === 'datetimepicker') {\n            const culture = new Internationalization(this.locale);\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n            }\n            else {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n        if (isNullOrUndefined(returnDate) && (this.getModuleName() === 'datetimepicker')) {\n            returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n        }\n        return returnDate;\n    }\n    checkInvalidValue(value) {\n        if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n            let valueDate = null;\n            let valueString = value;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            let formatOptions = null;\n            let formatDateTime = null;\n            if (this.getModuleName() === 'datetimepicker') {\n                const culture = new Internationalization(this.locale);\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n                }\n                else {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n            }\n            let invalid = false;\n            if (typeof valueString !== 'string') {\n                valueString = null;\n                invalid = true;\n            }\n            else {\n                if (typeof valueString === 'string') {\n                    valueString = valueString.trim();\n                }\n                valueDate = this.checkStringValue(valueString);\n                if (!valueDate) {\n                    let extISOString = null;\n                    let basicISOString = null;\n                    // eslint-disable-next-line\n                    extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    // eslint-disable-next-line\n                    basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                        || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                        invalid = true;\n                    }\n                    else {\n                        valueDate = new Date(valueString);\n                    }\n                }\n            }\n            if (invalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n            }\n            else {\n                this.setProperties({ value: valueDate }, true);\n            }\n        }\n    }\n    bindInputEvent() {\n        if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n            if (this.enableMask || this.formatString.indexOf('y') === -1) {\n                EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n            }\n        }\n    }\n    bindEvents() {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n        EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        this.bindInputEvent();\n        // To prevent the twice triggering.\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n        }\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardModules = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyActionHandle.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    }\n    keydownHandler(e) {\n        switch (e.code) {\n            case 'ArrowLeft':\n            case 'ArrowRight':\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case 'Home':\n            case 'End':\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    if (e.code !== 'Delete') {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    unBindEvents() {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.enableMask) {\n            EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    }\n    resetFormHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            let value = this.inputElement.getAttribute('value');\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                value = '';\n                this.inputValueCopy = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: this.inputValueCopy }, true);\n            this.restoreValue();\n            if (this.inputElement) {\n                this.updateInputValue(value);\n                this.errorClass();\n            }\n        }\n    }\n    restoreValue() {\n        this.currentDate = this.value ? this.value : new Date();\n        this.previousDate = this.value;\n        this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.globalize.formatDate(this.inputValueCopy, {\n                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n            });\n    }\n    inputChangeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    }\n    bindClearEvent() {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    }\n    resetHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        this.clear(e);\n    }\n    mouseUpHandler(e) {\n        if (this.enableMask) {\n            e.preventDefault();\n            this.notify(\"setMaskSelection\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    clear(event) {\n        this.setProperties({ value: null }, true);\n        if (!this.enableMask) {\n            this.updateInputValue('');\n        }\n        const clearedArgs = {\n            event: event\n        };\n        this.trigger('cleared', clearedArgs);\n        this.invalidValueString = '';\n        this.updateInput();\n        this.popupUpdate();\n        this.changeEvent(event);\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    preventEventBubbling(e) {\n        e.preventDefault();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n    }\n    updateInputValue(value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    dateIconHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n            this.inputElement.blur();\n        }\n        e.preventDefault();\n        if (!this.readonly) {\n            if (this.isCalendar()) {\n                this.hide(e);\n            }\n            else {\n                this.isDateIconClicked = true;\n                this.show(null, e);\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                this.inputElement.focus();\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                addClass(this.inputWrapper.buttons, ACTIVE);\n            }\n        }\n        this.isIconClicked = false;\n    }\n    updateHtmlAttributeToWrapper() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (!isNullOrUndefined(this.htmlAttributes[key])) {\n                    if (containerAttr.indexOf(key) > -1) {\n                        if (key === 'class') {\n                            const updatedClassValues = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                            if (updatedClassValues !== '') {\n                                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                            }\n                        }\n                        else if (key === 'style') {\n                            let setStyle = this.inputWrapper.container.getAttribute(key);\n                            if (!isNullOrUndefined(setStyle)) {\n                                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                                    setStyle = setStyle + this.htmlAttributes[key];\n                                }\n                                else {\n                                    setStyle = setStyle + ';' + this.htmlAttributes[key];\n                                }\n                            }\n                            else {\n                                setStyle = this.htmlAttributes[key];\n                            }\n                            this.inputWrapper.container.setAttribute(key, setStyle);\n                        }\n                        else {\n                            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    updateHtmlAttributeToElement() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (containerAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    }\n    updateCssClass(newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n        }\n    }\n    calendarKeyActionHandle(e) {\n        switch (e.action) {\n            case 'escape':\n                if (this.isCalendar()) {\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[this.index].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isCalendar()) {\n                    this.show(null, e);\n                }\n                else {\n                    if (+this.value !== +this.currentDate && !this.isCalendar()) {\n                        this.inputWrapper.container.children[this.index].focus();\n                    }\n                }\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n        }\n    }\n    inputFocusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        const focusArguments = {\n            model: this\n        };\n        this.isDateIconClicked = false;\n        this.trigger('focus', focusArguments);\n        this.updateIconState();\n        if (this.openOnFocus && !this.isIconClicked) {\n            this.show();\n        }\n    }\n    inputHandler() {\n        this.isPopupClicked = false;\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    inputBlurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.strictModeUpdate();\n        if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n            this.invalidValueString = null;\n            this.updateInputValue('');\n        }\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        this.errorClass();\n        if (this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n        }\n        if (this.getModuleName() === 'datepicker') {\n            const blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n        if (this.isCalendar()) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: this.calendarKeyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        this.isPopupClicked = false;\n    }\n    documentHandler(e) {\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) ||\n            (this.popupObj.element && this.popupObj.element.contains(e.target)))) && e.type !== 'touchstart') {\n            e.preventDefault();\n        }\n        const target = e.target;\n        if (!(closest(target, '.e-datepicker.e-popup-wrapper'))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && (!target.classList.contains('e-day'))) {\n            this.hide(e);\n            this.focusOut();\n        }\n        else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n            // Fix for close the popup when select the previously selected value.\n            if (target.classList.contains('e-day')\n                && !isNullOrUndefined(e.target.parentElement)\n                && e.target.parentElement.classList.contains('e-selected')\n                && closest(target, '.e-content')\n                && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n                this.hide(e);\n            }\n            else if (closest(target, '.e-footer-container')\n                && target.classList.contains('e-today')\n                && target.classList.contains('e-btn')\n                && (+new Date(+this.value) === +super.generateTodayVal(this.value))) {\n                this.hide(e);\n            }\n        }\n    }\n    inputKeyActionHandle(e) {\n        const clickedView = this.currentView();\n        switch (e.action) {\n            case 'altUpArrow':\n                this.isAltKeyPressed = false;\n                this.hide(e);\n                this.inputElement.focus();\n                break;\n            case 'altDownArrow':\n                this.isAltKeyPressed = true;\n                this.strictModeUpdate();\n                this.updateInput();\n                this.changeTrigger(e);\n                if (this.getModuleName() === 'datepicker') {\n                    this.show(null, e);\n                }\n                break;\n            case 'escape':\n                this.hide(e);\n                break;\n            case 'enter':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (!this.isCalendar() && document.activeElement === this.inputElement) {\n                    this.hide(e);\n                }\n                if (this.isCalendar()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                let start = this.inputElement.selectionStart;\n                let end = this.inputElement.selectionEnd;\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    let length = this.inputElement.value.length;\n                    if ((start == 0 && end == length) || (end !== length && e.action == 'tab') || (start !== 0 && e.action == 'shiftTab')) {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                    start = this.inputElement.selectionStart;\n                    end = this.inputElement.selectionEnd;\n                }\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (this.enableMask) {\n                    this.inputElement.selectionStart = start;\n                    this.inputElement.selectionEnd = end;\n                }\n                this.hide(e);\n                break;\n            default:\n                this.defaultAction(e);\n                // Fix for close the popup when select the previously selected value.\n                if (e.action === 'select' && clickedView === this.depth) {\n                    this.hide(e);\n                }\n        }\n    }\n    defaultAction(e) {\n        this.previousDate = ((!isNullOrUndefined(this.value) && new Date(+this.value)) || null);\n        if (this.isCalendar()) {\n            super.keyActionHandle(e);\n            if (this.isCalendar()) {\n                attributes(this.inputElement, {\n                    'aria-activedescendant': '' + this.setActiveDescendant()\n                });\n            }\n        }\n    }\n    popupUpdate() {\n        if ((isNullOrUndefined(this.value)) && (!isNullOrUndefined(this.previousDate)) ||\n            (+this.value !== +this.previousDate)) {\n            if (this.popupObj) {\n                if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n                    removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n                }\n            }\n            if (!isNullOrUndefined(this.value)) {\n                if ((+this.value >= +this.min) && (+this.value <= +this.max)) {\n                    const targetdate = new Date(this.checkValue(this.value));\n                    super.navigateTo('Month', targetdate);\n                }\n            }\n        }\n    }\n    strictModeUpdate() {\n        let format;\n        let formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n        }\n        if (!isNullOrUndefined(format)) {\n            const len = format.split('M').length - 1;\n            if (len < 3) {\n                format = format.replace('MM', 'M');\n            }\n        }\n        let dateOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            dateOptions = formatOptions;\n        }\n        let date;\n        if (typeof this.inputElement.value === 'string') {\n            this.inputElement.value = this.inputElement.value.trim();\n        }\n        if ((this.getModuleName() === 'datetimepicker')) {\n            if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n                date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n            }\n        }\n        else {\n            date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            date = (!isNullOrUndefined(date) && isNaN(+date)) ? null : date;\n            if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n                if ((this.isPopupClicked || (!this.isPopupClicked && this.inputElement.value === this.previousElementValue))\n                    && this.formatString.indexOf('y') === -1) {\n                    date.setFullYear(this.value.getFullYear());\n                }\n            }\n        }\n        // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n        if ((this.getModuleName() === 'datepicker') && (this.value && !isNaN(+this.value)) && date) {\n            date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n        }\n        if (this.strictMode && date) {\n            this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        else if (!this.strictMode) {\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        if (this.strictMode && !date && this.inputElement.value === '') {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNullOrUndefined(this.value)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n    }\n    createCalendar() {\n        this.popupWrapper = this.createElement('div', { className: '' + ROOT$1 + ' ' + POPUPWRAPPER });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (Browser.isDevice) {\n            this.modelHeader();\n            this.modal = this.createElement('div');\n            this.modal.className = '' + ROOT$1 + ' e-date-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n        //this.calendarElement represent the Calendar object from the Calendar class.\n        this.calendarElement.querySelector('table tbody').className = '';\n        this.popupObj = new Popup(this.popupWrapper, {\n            content: this.calendarElement,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            offsetY: OFFSETVALUE,\n            targetType: 'container',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            open: () => {\n                if (this.getModuleName() !== 'datetimepicker') {\n                    if (document.activeElement !== this.inputElement) {\n                        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n                        this.calendarElement.children[1].firstElementChild.focus();\n                        this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                            eventName: 'keydown',\n                            keyAction: this.calendarKeyActionHandle.bind(this),\n                            keyConfigs: this.defaultKeyConfigs\n                        });\n                        this.calendarKeyboardModules = new KeyboardEvents(this.inputWrapper.container.children[this.index], {\n                            eventName: 'keydown',\n                            keyAction: this.calendarKeyActionHandle.bind(this),\n                            keyConfigs: this.defaultKeyConfigs\n                        });\n                    }\n                }\n            }, close: () => {\n                if (this.isDateIconClicked) {\n                    this.inputWrapper.container.children[this.index].focus();\n                }\n                if (this.value) {\n                    this.disabledDates();\n                }\n                if (this.popupObj) {\n                    this.popupObj.destroy();\n                }\n                this.resetCalendar();\n                detach(this.popupWrapper);\n                this.popupObj = this.popupWrapper = null;\n                this.preventArgs = null;\n                this.calendarKeyboardModules = null;\n                this.setAriaAttributes();\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        this.popupObj.element.className += ' ' + this.cssClass;\n        this.setAriaAttributes();\n    }\n    setAriaDisabled() {\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n    }\n    modelHeader() {\n        let dateOptions;\n        const modelHeader = this.createElement('div', { className: 'e-model-header' });\n        const yearHeading = this.createElement('h1', { className: 'e-model-year' });\n        const h2 = this.createElement('div');\n        const daySpan = this.createElement('span', { className: 'e-model-day' });\n        const monthSpan = this.createElement('span', { className: 'e-model-month' });\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'y', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'y', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'E', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'E', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        modelHeader.appendChild(yearHeading);\n        h2.appendChild(daySpan);\n        h2.appendChild(monthSpan);\n        modelHeader.appendChild(h2);\n        this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    }\n    changeTrigger(event) {\n        if (this.inputElement.value !== this.previousElementValue) {\n            if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n                if (this.isDynamicValueChanged && this.isCalendar()) {\n                    this.popupUpdate();\n                }\n                this.changedArgs.value = this.value;\n                this.changedArgs.event = event || null;\n                this.changedArgs.element = this.element;\n                this.changedArgs.isInteracted = !isNullOrUndefined(event);\n                if (this.isAngular && this.preventChange) {\n                    this.preventChange = false;\n                }\n                else {\n                    this.trigger('change', this.changedArgs);\n                }\n                this.previousElementValue = this.inputElement.value;\n                this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n                this.isInteracted = true;\n            }\n        }\n    }\n    navigatedEvent() {\n        this.trigger('navigated', this.navigatedArgs);\n    }\n    changeEvent(event) {\n        if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n            this.selectCalendar(event);\n            this.changedArgs.event = event ? event : null;\n            this.changedArgs.element = this.element;\n            this.changedArgs.isInteracted = this.isInteracted;\n            if (!this.isDynamicValueChanged) {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = this.value && new Date(+this.value);\n            if (!this.isDynamicValueChanged) {\n                this.hide(event);\n            }\n            this.previousElementValue = this.inputElement.value;\n            this.errorClass();\n        }\n    }\n    requiredModules() {\n        const modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    selectCalendar(e) {\n        let date;\n        let tempFormat;\n        let formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            tempFormat = this.formatString;\n        }\n        if (this.value) {\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            if (this.enableMask) {\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!isNullOrUndefined(date)) {\n            this.updateInputValue(date);\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n        }\n    }\n    isCalendar() {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n            return true;\n        }\n        return false;\n    }\n    setWidth(width) {\n        if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (this.width) : (formatUnit(this.width));\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Shows the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    show(type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            let prevent = true;\n            let outOfRange;\n            if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n                outOfRange = new Date(this.checkValue(this.value));\n                this.setProperties({ 'value': null }, true);\n            }\n            else {\n                outOfRange = this.value || null;\n            }\n            if (!this.isCalendar()) {\n                super.render();\n                this.setProperties({ 'value': outOfRange || null }, true);\n                this.previousDate = outOfRange;\n                this.createCalendar();\n            }\n            if (Browser.isDevice) {\n                this.mobilePopupWrapper = this.createElement('div', { className: 'e-datepick-mob-popup-wrap' });\n                document.body.appendChild(this.mobilePopupWrapper);\n            }\n            this.preventArgs = {\n                preventDefault: () => {\n                    prevent = false;\n                },\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n            };\n            const eventArgs = this.preventArgs;\n            this.trigger('open', eventArgs, (eventArgs) => {\n                this.preventArgs = eventArgs;\n                if (prevent && !this.preventArgs.cancel) {\n                    addClass(this.inputWrapper.buttons, ACTIVE);\n                    this.preventArgs.appendTo.appendChild(this.popupWrapper);\n                    this.popupObj.refreshPosition(this.inputElement);\n                    const openAnimation = {\n                        name: 'FadeIn',\n                        duration: Browser.isDevice ? 0 : OPENDURATION\n                    };\n                    if (this.zIndex === 1000) {\n                        this.popupObj.show(new Animation(openAnimation), this.element);\n                    }\n                    else {\n                        this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    super.setOverlayIndex(this.mobilePopupWrapper, this.popupObj.element, this.modal, Browser.isDevice);\n                    this.setAriaAttributes();\n                }\n                else {\n                    this.popupObj.destroy();\n                    this.popupWrapper = this.popupObj = null;\n                }\n                if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n                    if (!isNullOrUndefined(this.tableBodyElement) && this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n                        addClass([this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n                        removeClass(this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n                    }\n                }\n                EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n            });\n        }\n    }\n    /**\n     * Hide the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    hide(event) {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            let prevent = true;\n            this.preventArgs = {\n                preventDefault: () => {\n                    prevent = false;\n                },\n                popup: this.popupObj,\n                event: event || null,\n                cancel: false\n            };\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n            removeClass([document.body], OVERFLOW);\n            const eventArgs = this.preventArgs;\n            if (this.isCalendar()) {\n                this.trigger('close', eventArgs, (eventArgs) => {\n                    this.closeEventCallback(prevent, eventArgs);\n                });\n            }\n            else {\n                this.closeEventCallback(prevent, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    closeEventCallback(prevent, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (this.isCalendar() && (prevent && !this.preventArgs.cancel)) {\n            this.popupObj.hide();\n            this.isAltKeyPressed = false;\n            this.keyboardModule.destroy();\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n        }\n        this.setAriaAttributes();\n        if (Browser.isDevice && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n        if (Browser.isDevice) {\n            if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n                this.mobilePopupWrapper.remove();\n                this.mobilePopupWrapper = null;\n            }\n        }\n        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    }\n    /* eslint-disable jsdoc/require-param */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusIn(triggerEvent) {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    }\n    /* eslint-enable jsdoc/require-param */\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.blur();\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the DatePicker.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    currentView() {\n        let currentView;\n        if (this.calendarElement) {\n            // calls the Calendar currentView public method\n            currentView = super.currentView();\n        }\n        return currentView;\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     *\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @deprecated\n     */\n    navigateTo(view, date) {\n        if (this.calendarElement) {\n            // calls the Calendar navigateTo public method\n            super.navigateTo(view, date);\n        }\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.unBindEvents();\n        super.destroy();\n        this.keyboardModules.destroy();\n        if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n            super.destroy();\n        }\n        const ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-disabled': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            this.ensureInputAttribute();\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObj = this.popupWrapper = null;\n            this.keyboardModule.destroy();\n        }\n        if (this.ngTag === null) {\n            if (this.inputElement) {\n                this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n                removeClass([this.inputElement], [INPUTROOT]);\n            }\n            removeClass([this.element], [ROOT$1]);\n            detach(this.inputWrapper.container);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    }\n    ensureInputAttribute() {\n        const prop = [];\n        for (let i = 0; i < this.inputElement.attributes.length; i++) {\n            prop[i] = this.inputElement.attributes[i].name;\n        }\n        for (let i = 0; i < prop.length; i++) {\n            if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(prop[i]);\n            }\n            else {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n                }\n                this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n            }\n        }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.inputElementCopy = this.element.cloneNode(true);\n        removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.formElement = closest(this.inputElement, 'form');\n        this.index = this.showClearButton ? 2 : 1;\n        this.ngTag = null;\n        if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.ngTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        if (this.element.getAttribute('id')) {\n            if (this.ngTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            if (this.getModuleName() === 'datetimepicker') {\n                this.element.id = getUniqueID('ej2-datetimepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n            else {\n                this.element.id = getUniqueID('ej2-datepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n        }\n        if (this.ngTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.checkHtmlAttributes(false);\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        super.preRender();\n    }\n    getDefaultKeyConfig() {\n        this.defaultKeyConfigs = {\n            altUpArrow: 'alt+uparrow',\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            shiftTab: 'shift+tab',\n            tab: 'tab'\n        };\n        return this.defaultKeyConfigs;\n    }\n    validationAttribute(target, inputElement) {\n        const nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        inputElement.setAttribute('name', nameAttribute);\n        target.removeAttribute('name');\n        const attribute = ['required', 'aria-required', 'form'];\n        for (let i = 0; i < attribute.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n                continue;\n            }\n            const attr = target.getAttribute(attribute[i]);\n            inputElement.setAttribute(attribute[i], attr);\n            target.removeAttribute(attribute[i]);\n        }\n    }\n    checkFormat() {\n        const culture = new Internationalization(this.locale);\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                const skeletonString = this.format.skeleton;\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'dateTime' });\n                }\n                else {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'date' });\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = this.dateTimeFormat;\n                }\n                else {\n                    this.formatString = null;\n                }\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    }\n    checkHtmlAttributes(dynamic) {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        const attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n        let options;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['enabled'] === undefined)) || dynamic)) {\n                            const enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !dynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['readonly'] === undefined)) || dynamic)) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !dynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['placeholder'] === undefined)) || dynamic)) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !dynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'value':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['value'] === undefined)) || dynamic)) {\n                            const value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((+this.min === +new Date(1900, 0, 1)) || dynamic) {\n                            const min = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                        }\n                        break;\n                    case 'max':\n                        if ((+this.max === +new Date(2099, 11, 31)) || dynamic) {\n                            const max = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'datepicker';\n    }\n    disabledDates() {\n        let formatOptions;\n        let globalize;\n        const valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n        const previousValCopy = this.previousDate;\n        //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n        this.minMaxUpdates();\n        super.render();\n        this.previousDate = previousValCopy;\n        const date = valueCopy && +(valueCopy);\n        const dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n        if (!this.strictMode) {\n            if (typeof this.value === 'string' || ((typeof this.value === 'object') && (+this.value) !== (+valueCopy))) {\n                this.setProperties({ value: valueCopy }, true);\n            }\n        }\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n            if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n                if (!this.strictMode) {\n                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                }\n            }\n        }\n        let inputVal;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                });\n            }\n            else {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                });\n            }\n            inputVal = globalize;\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n        }\n        if (!this.popupObj) {\n            this.updateInputValue(inputVal);\n            if (this.enableMask) {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n    }\n    setAriaAttributes() {\n        if (this.isCalendar()) {\n            Input.addAttributes({ 'aria-expanded': 'true' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-activedescendant': '' + this.setActiveDescendant() });\n        }\n        else {\n            Input.addAttributes({ 'aria-expanded': 'false' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    }\n    errorClass() {\n        const dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + (+this.value));\n        const isDisabledDate = this.calendarElement &&\n            this.calendarElement.querySelectorAll(dateIdString)[0] &&\n            this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n        if ((!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min\n            && +new Date(+this.value).setMilliseconds(0) <= +this.max))\n            || (!this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate)) {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            removeClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'false' });\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.isInteracted = false;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    this.previousElementValue = this.inputElement.value;\n                    if (isNullOrUndefined(this.value)) {\n                        this.updateInputValue('');\n                        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                    }\n                    this.updateInput(true);\n                    if (+this.previousDate !== +this.value) {\n                        this.changeTrigger(null);\n                    }\n                    this.isInteracted = true;\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'format':\n                    this.checkFormat();\n                    this.bindInputEvent();\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setAllowEdit();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.setAriaDisabled();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'start':\n                case 'depth':\n                    this.checkView();\n                    if (this.calendarElement) {\n                        super.onPropertyChanged(newProp, oldProp);\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    this.index = this.showClearButton ? 2 : 1;\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                        this.bindInputEvent();\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n                default:\n                    if (this.calendarElement && this.isCalendar()) {\n                        super.onPropertyChanged(newProp, oldProp);\n                    }\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    }\n};\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"width\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"value\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"cssClass\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"strictMode\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"format\", void 0);\n__decorate$1([\n    Property(true)\n], DatePicker.prototype, \"enabled\", void 0);\n__decorate$1([\n    Property({})\n], DatePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"values\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"isMultiSelection\", void 0);\n__decorate$1([\n    Property(true)\n], DatePicker.prototype, \"showClearButton\", void 0);\n__decorate$1([\n    Property(true)\n], DatePicker.prototype, \"allowEdit\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"keyConfigs\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"enablePersistence\", void 0);\n__decorate$1([\n    Property(1000)\n], DatePicker.prototype, \"zIndex\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"readonly\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"placeholder\", void 0);\n__decorate$1([\n    Property('Never')\n], DatePicker.prototype, \"floatLabelType\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"openOnFocus\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"enableMask\", void 0);\n__decorate$1([\n    Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n], DatePicker.prototype, \"maskPlaceholder\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"open\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"cleared\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"close\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"blur\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"focus\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"created\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"destroyed\", void 0);\nDatePicker = __decorate$1([\n    NotifyPropertyChanges\n], DatePicker);\n\n/**\n * Datepicker modules\n */\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\nconst DATERANGEWRAPPER = 'e-date-range-wrapper';\nconst INPUTCONTAINER$1 = 'e-input-group';\nconst DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nconst POPUP$1 = 'e-popup';\nconst LEFTCALENDER = 'e-left-calendar';\nconst RIGHTCALENDER = 'e-right-calendar';\nconst LEFTCONTAINER = 'e-left-container';\nconst RIGHTCONTAINER = 'e-right-container';\nconst ROOT$2 = 'e-daterangepicker';\nconst LIBRARY$1 = 'e-lib';\nconst CONTROL$1 = 'e-control';\nconst ERROR$1 = 'e-error';\nconst ACTIVE$1 = 'e-active';\nconst STARTENDCONTAINER = 'e-start-end';\nconst STARTDATE = 'e-start-date';\nconst ENDDATE = 'e-end-date';\nconst STARTBUTTON = 'e-start-btn';\nconst INPUTFOCUS$1 = 'e-input-focus';\nconst ENDBUTTON = 'e-end-btn';\nconst RANGEHOVER = 'e-range-hover';\nconst OTHERMONTH$2 = 'e-other-month';\nconst STARTLABEL = 'e-start-label';\nconst ENDLABEL = 'e-end-label';\nconst DISABLED$2 = 'e-disabled';\nconst SELECTED$3 = 'e-selected';\nconst CALENDAR = 'e-calendar';\nconst NEXTICON$1 = 'e-next';\nconst PREVICON$1 = 'e-prev';\nconst HEADER$1 = 'e-header';\nconst TITLE$1 = 'e-title';\nconst ICONCONTAINER$1 = 'e-icon-container';\nconst RANGECONTAINER = 'e-date-range-container';\nconst RANGEHEADER = 'e-range-header';\nconst PRESETS = 'e-presets';\nconst FOOTER$1 = 'e-footer';\nconst RANGEBORDER = 'e-range-border';\nconst TODAY$2 = 'e-today';\nconst FOCUSDATE = 'e-focused-date';\nconst CONTENT$1 = 'e-content';\nconst DAYSPAN = 'e-day-span';\nconst WEEKNUMBER$2 = 'e-week-number';\nconst DATEDISABLED = 'e-date-disabled';\nconst ICONDISABLED = 'e-icon-disabled';\nconst CALENDARCONTAINER = 'e-calendar-container';\nconst SEPARATOR = 'e-separator';\nconst APPLY = 'e-apply';\nconst CANCEL = 'e-cancel';\nconst DEVICE$1 = 'e-device';\nconst OVERLAY$2 = 'e-overlay';\nconst CHANGEICON = 'e-change-icon e-icons';\nconst LISTCLASS = 'e-list-item';\nconst RTL$1 = 'e-rtl';\nconst HOVER = 'e-hover';\nconst OVERFLOW$1 = 'e-range-overflow';\nconst OFFSETVALUE$1 = 4;\nconst PRIMARY$1 = 'e-primary';\nconst FLAT$1 = 'e-flat';\nconst CSS$1 = 'e-css';\nconst ZOOMIN$1 = 'e-zoomin';\nconst NONEDITABLE = 'e-non-edit';\nconst DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nconst HIDDENELEMENT = 'e-daterange-hidden';\nconst wrapperAttr = ['title', 'class', 'style'];\nclass Presets extends ChildProperty {\n}\n__decorate$2([\n    Property()\n], Presets.prototype, \"label\", void 0);\n__decorate$2([\n    Property()\n], Presets.prototype, \"start\", void 0);\n__decorate$2([\n    Property()\n], Presets.prototype, \"end\", void 0);\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\nlet DateRangePicker = class DateRangePicker extends CalendarBase {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.isCustomRange = false;\n        this.isCustomWindow = false;\n        this.presetsItem = [];\n        this.liCollections = [];\n        this.previousEleValue = '';\n        this.isKeyPopup = false;\n        this.dateDisabled = false;\n        this.isRangeIconClicked = false;\n        this.isMaxDaysClicked = false;\n        this.disabledDays = [];\n        this.preventBlur = false;\n        this.preventFocus = false;\n        this.invalidValueString = null;\n        this.isAngular = false;\n        this.preventChange = false;\n        this.dateRangeOptions = options;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initialize();\n        this.setProperties({ startDate: this.startValue }, true);\n        this.setProperties({ endDate: this.endValue }, true);\n        this.setModelValue();\n        this.setDataAttribute(false);\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        this.renderComplete();\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.keyInputConfigs = {\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            tab: 'tab',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            spacebar: 'space'\n        };\n        this.defaultConstant = {\n            placeholder: this.placeholder,\n            startLabel: 'Start Date',\n            endLabel: 'End Date',\n            customRange: 'Custom Range',\n            applyText: 'Apply',\n            cancelText: 'Cancel',\n            selectedDays: 'Selected Days',\n            days: 'days'\n        };\n        /**\n         * Mobile View\n         */\n        this.isMobile = window.matchMedia('(max-width:550px)').matches;\n        this.inputElement = this.element;\n        this.angularTag = null;\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n        this.updateHtmlAttributeToElement();\n        if (this.element.getAttribute('id')) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            this.element.id = getUniqueID('ej2-datetimepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        this.checkInvalidRange(this.value);\n        if (!this.invalidValueString && (typeof (this.value) === 'string')) {\n            const rangeArray = this.value.split(' ' + this.separator + ' ');\n            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n        }\n        this.initProperty();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        super.preRender();\n        this.navNextFunction = this.navNextMonth.bind(this);\n        this.navPrevFunction = this.navPrevMonth.bind(this);\n        this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n        this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.formElement = closest(this.element, 'form');\n    }\n    updateValue() {\n        if (this.value && this.value.length > 0) {\n            if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n                this.setProperties({ startDate: this.value[0] }, true);\n                this.startValue = this.value[0];\n            }\n            else if (typeof this.value[0] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ startDate: new Date(this.checkValue(this.value[0])) }, true);\n                    this.startValue = new Date(this.checkValue(this.value[0]));\n                }\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n                this.setProperties({ endDate: this.value[1] }, true);\n                this.endValue = this.value[1];\n            }\n            else if (typeof this.value[1] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.setProperties({ endDate: null }, true);\n                    this.endValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ endDate: new Date(this.checkValue(this.value[1])) }, true);\n                    this.endValue = new Date(this.checkValue(this.value[1]));\n                    this.setValue();\n                }\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (this.value && this.value.start) {\n            if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n                this.setProperties({ startDate: this.value.start }, true);\n                this.startValue = this.value.start;\n            }\n            else if (typeof this.value.start === 'string') {\n                this.setProperties({ startDate: new Date(this.checkValue(this.value.start)) }, true);\n                this.startValue = new Date(this.checkValue(this.value.start));\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n                this.setProperties({ endDate: this.value.end }, true);\n                this.endValue = this.value.end;\n            }\n            else if (typeof this.value.end === 'string') {\n                this.setProperties({ endDate: new Date(this.checkValue(this.value.end)) }, true);\n                this.endValue = new Date(this.checkValue(this.value.end));\n                this.setValue();\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (isNullOrUndefined(this.value)) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n            this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n            this.setValue();\n        }\n    }\n    initProperty() {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.updateValue();\n    }\n    checkFormat() {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                const skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ skeleton: skeletonString, type: 'date' });\n            }\n            else {\n                this.formatString = null;\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    }\n    initialize() {\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.checkHtmlAttributes(false);\n        merge(this.defaultKeyConfigs, { shiftTab: 'shift+tab' });\n        const start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n        this.setProperties({ startDate: start }, true); // persist the value propeerty.\n        this.setProperties({ endValue: this.checkDateValue(new Date(this.checkValue(this.endValue))) }, true);\n        this.setValue();\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.processPresets();\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setRangeAllowEdit();\n        this.bindEvents();\n    }\n    setDataAttribute(isDynamic) {\n        let attributes$$1 = {};\n        if (!isDynamic) {\n            for (let i = 0; i < this.element.attributes.length; i++) {\n                attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n            }\n        }\n        else {\n            attributes$$1 = this.htmlAttributes;\n        }\n        for (const pro of Object.keys(attributes$$1)) {\n            if (pro.indexOf('data') === 0) {\n                this.firstHiddenChild.setAttribute(pro, attributes$$1[pro]);\n                this.secondHiddenChild.setAttribute(pro, attributes$$1[pro]);\n            }\n        }\n    }\n    setRangeAllowEdit() {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateClearIconState();\n    }\n    updateClearIconState() {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n    }\n    validationAttribute(element, input) {\n        const name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n        input.setAttribute('name', name);\n        element.removeAttribute('name');\n        const attributes$$1 = ['required', 'aria-required', 'form'];\n        for (let i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            const attr = element.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            element.removeAttribute(attributes$$1[i]);\n        }\n    }\n    updateHtmlAttributeToWrapper() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        const updatedClassValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        let dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n                        dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? (dateRangeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    }\n    updateHtmlAttributeToElement() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    }\n    updateCssClass(cssNewClass, cssOldClass) {\n        if (!isNullOrUndefined(cssOldClass)) {\n            cssOldClass = (cssOldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssNewClass)) {\n            cssNewClass = (cssNewClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n        }\n    }\n    processPresets() {\n        this.presetsItem = [];\n        let i = 0;\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            for (const range of this.presets) {\n                const id = range.label.replace(/\\s+/g, '') + '_' + (++i);\n                if (typeof range.end === 'string') {\n                    this.presetsItem.push({\n                        id: id, text: range.label, end: new Date(this.checkValue(range.end)), start: new Date(this.checkValue(range.start))\n                    });\n                }\n                else {\n                    this.presetsItem.push({ id: id, text: range.label, start: range.start, end: range.end });\n                }\n            }\n            const startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n            const endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n            this.presetsItem.push({ id: 'custom_range', text: this.l10n.getConstant('customRange'), start: startDate, end: endDate });\n            if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n                this.isCustomRange = true;\n                this.activeIndex = this.presetsItem.length - 1;\n            }\n        }\n    }\n    bindEvents() {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n        if (!this.isMobile) {\n            this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n            this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n                eventName: 'keydown',\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyInputConfigs\n            });\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.inputElement.tabIndex = -1;\n        }\n    }\n    unBindEvents() {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.inputKeyboardModule)) {\n                this.inputKeyboardModule.destroy();\n            }\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        this.inputElement.tabIndex = -1;\n    }\n    updateHiddenInput() {\n        if (this.firstHiddenChild && this.secondHiddenChild) {\n            const format = { type: 'datetime', skeleton: 'yMd' };\n            if (typeof this.startDate === 'string') {\n                this.startDate = this.globalize.parseDate(this.startDate, format);\n            }\n            if (typeof this.endDate === 'string') {\n                this.endDate = this.globalize.parseDate(this.endDate, format);\n            }\n            this.firstHiddenChild.value = (this.startDate && this.globalize.formatDate(this.startDate, format))\n                || (this.inputElement.value);\n            this.secondHiddenChild.value = (this.endDate && this.globalize.formatDate(this.endDate, format)) ||\n                (this.inputElement.value);\n            this.dispatchEvent(this.firstHiddenChild, 'focusout');\n            this.dispatchEvent(this.firstHiddenChild, 'change');\n        }\n    }\n    inputChangeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n        this.updateHiddenInput();\n    }\n    bindClearEvent() {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    }\n    resetHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.valueType = this.value;\n        e.preventDefault();\n        this.clear();\n        const clearedArgs = {\n            event: e\n        };\n        this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n        this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n        this.trigger('cleared', clearedArgs);\n        this.changeTrigger(e);\n        this.clearRange();\n        this.hide(e);\n    }\n    restoreValue() {\n        this.previousEleValue = this.inputElement.value;\n        this.previousStartValue = this.startValue;\n        this.previousEndValue = this.endValue;\n        this.valueType = null;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.setValue();\n        this.setModelValue();\n    }\n    formResetHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.formElement && (e.target === this.formElement) && !this.inputElement.disabled) {\n            let val = this.inputElement.getAttribute('value');\n            if (!isNullOrUndefined(this.startCopy)) {\n                if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n                    this.setProperties({ value: { start: this.startCopy, end: this.endCopy } }, true);\n                    this.startValue = this.value.start;\n                    this.endValue = this.value.end;\n                }\n                else {\n                    this.setProperties({ value: [this.startCopy, this.endCopy] }, true);\n                    this.startValue = this.value[0];\n                    this.endValue = this.value[1];\n                }\n                this.setProperties({ startDate: this.startValue, endDate: this.endValue }, true);\n            }\n            else {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                this.startValue = this.endValue = null;\n            }\n            if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                val = '';\n                this.startValue = this.endValue = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.restoreValue();\n            if (this.inputElement) {\n                Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.errorClass();\n            }\n        }\n    }\n    clear() {\n        if (this.startValue !== null) {\n            this.startValue = null;\n        }\n        if (this.endValue !== null) {\n            this.endValue = null;\n        }\n        if (this.value && this.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        if (this.value !== null && this.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        if (!(isNullOrUndefined(this.applyButton))) {\n            this.applyButton.disabled = this.applyButton.element.disabled = true;\n        }\n        this.removeSelection();\n    }\n    rangeIconHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isMobile) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        this.targetElement = null;\n        if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n            this.applyFunction(e);\n        }\n        else {\n            this.isRangeIconClicked = true;\n            this.inputWrapper.container.children[0].focus();\n            this.show(null, e);\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.leftCalendar)) {\n                    this.isRangeIconClicked = false;\n                    this.calendarFocus();\n                    this.isRangeIconClicked = true;\n                }\n            }\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n    }\n    checkHtmlAttributes(isDynamic) {\n        this.globalize = new Internationalization(this.locale);\n        const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder',\n                'type', 'value'];\n        const format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['enabled'] === undefined)) || isDynamic) {\n                            const disabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ enabled: !disabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['readonly'] === undefined)) || isDynamic) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['value'] === undefined)) || isDynamic) {\n                            const value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, value, {}), !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1)) || isDynamic) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31)) || isDynamic) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'startDate':\n                        if (isNullOrUndefined(this.startDate)) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.startValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'endDate':\n                        if (isNullOrUndefined(this.endDate)) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.endValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'minDays':\n                        if (isNullOrUndefined(this.minDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'maxDays':\n                        if (isNullOrUndefined(this.maxDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    createPopup() {\n        for (let i = 0; i < this.presetsItem.length; i++) {\n            if ((i !== (this.presetsItem.length - 1)) && this.presetsItem[i].id === 'custom_range') {\n                this.presetsItem.splice(i, 1);\n            }\n        }\n        this.activeIndex = this.presetsItem.length - 1;\n        this.isCustomRange = true;\n        for (let i = 0; i <= this.presetsItem.length - 2; i++) {\n            const startDate = this.presetsItem[i].start;\n            const endDate = this.presetsItem[i].end;\n            if (this.startValue && this.endValue) {\n                if ((+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0))) &&\n                    (+new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0)))) {\n                    this.activeIndex = i;\n                    this.isCustomRange = false;\n                }\n            }\n        }\n        this.popupWrapper = createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.adjustLongHeaderWidth();\n        const isPreset = (!this.isCustomRange || this.isMobile);\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n            this.isCustomWindow = false;\n            this.createPresets();\n            this.listRippleEffect();\n            this.renderPopup();\n        }\n        else {\n            this.isCustomWindow = true;\n            this.renderControl();\n        }\n    }\n    renderControl() {\n        this.createControl();\n        this.bindCalendarEvents();\n        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            this.disabledDateRender();\n        }\n        this.updateHeader();\n    }\n    clearCalendarEvents() {\n        EventHandler.clearEvents(this.leftCalPrevIcon);\n        EventHandler.clearEvents(this.leftCalNextIcon);\n        EventHandler.clearEvents(this.rightCalPrevIcon);\n        EventHandler.clearEvents(this.rightCalNextIcon);\n    }\n    updateNavIcons() {\n        super.iconHandler();\n    }\n    calendarIconEvent() {\n        this.clearCalendarEvents();\n        if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n        if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n    }\n    bindCalendarEvents() {\n        if (!this.isMobile) {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n            this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.deviceCalendarEvent();\n            EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n            EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n        }\n        if (this.start === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    }\n    calendarIconRipple() {\n        rippleEffect(this.leftCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.leftCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n    }\n    deviceCalendarEvent() {\n        EventHandler.clearEvents(this.nextIcon);\n        EventHandler.clearEvents(this.previousIcon);\n        rippleEffect(this.nextIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.previousIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n        }\n        if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n        }\n    }\n    deviceNavNext(e) {\n        const calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigateNext(e);\n        this.deviceNavigation();\n    }\n    deviceNavPrevious(e) {\n        const calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigatePrevious(e);\n        this.deviceNavigation();\n    }\n    updateDeviceCalendar(calendar) {\n        if (calendar) {\n            this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n            this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n            this.calendarElement = calendar;\n            this.deviceCalendar = calendar;\n            this.contentElement = calendar.querySelector('.' + CONTENT$1);\n            this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n            this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n            this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n            this.headerElement = calendar.querySelector('.' + HEADER$1);\n        }\n    }\n    deviceHeaderClick(event) {\n        const element = event.currentTarget;\n        if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n            this.endButton.element.classList.remove(ACTIVE$1);\n            this.startButton.element.classList.add(ACTIVE$1);\n            const calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.startValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.removeClassDisabled();\n        }\n        else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.startButton.element.classList.remove(ACTIVE$1);\n            this.endButton.element.classList.add(ACTIVE$1);\n            const calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.endValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            this.selectableDates();\n        }\n    }\n    inputFocusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        this.preventBlur = false;\n        const focusArguments = {\n            model: this\n        };\n        if (!this.preventFocus) {\n            this.trigger('focus', focusArguments);\n        }\n        this.updateClearIconState();\n        this.updateHiddenInput();\n        if (this.openOnFocus && !this.preventFocus) {\n            this.preventFocus = true;\n            this.show();\n        }\n        else {\n            this.preventFocus = true;\n        }\n    }\n    inputBlurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.preventBlur) {\n            const value = this.inputElement.value;\n            if (!isNullOrUndefined(this.presetsItem)) {\n                if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n                    this.activeIndex = this.presetsItem.length - 1;\n                    this.isCustomRange = true;\n                }\n            }\n            if (!isNullOrUndefined(value) && value.trim() !== '') {\n                const range = value.split(' ' + this.separator + ' ');\n                if (range.length > 1) {\n                    this.invalidValueString = null;\n                    const dateOptions = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n                    const startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n                    const endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n                    if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n                        const prevStartVal = this.startValue;\n                        this.startValue = startDate;\n                        const prevEndVal = this.endValue;\n                        this.endValue = endDate;\n                        this.setValue();\n                        this.refreshControl();\n                        if (value !== this.previousEleValue) {\n                            this.changeTrigger(e);\n                        }\n                        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                            this.preventFocus = false;\n                            const blurArguments = {\n                                model: this\n                            };\n                            this.trigger('blur', blurArguments);\n                        }\n                        this.updateHiddenInput();\n                        // For Mobile mode, when a value is present and choose another range and click on console\n                        // when popup is open, two startvalues and end values are updated in the popup.\n                        if (this.isMobile && this.isPopupOpen()) {\n                            this.startValue = prevStartVal;\n                            this.endValue = prevEndVal;\n                        }\n                        return;\n                    }\n                    else {\n                        if (!this.strictMode) {\n                            this.startValue = null;\n                            this.endValue = null;\n                            this.setValue();\n                        }\n                    }\n                }\n                else {\n                    if (!this.strictMode) {\n                        this.startValue = null;\n                        this.endValue = null;\n                        this.setValue();\n                    }\n                }\n            }\n            if (!this.strictMode) {\n                if (isNullOrUndefined(this.popupObj)) {\n                    this.currentDate = null;\n                }\n                this.previousStartValue = this.previousEndValue = null;\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n            }\n            else {\n                if (!isNullOrUndefined(value) && value.trim() === '') {\n                    this.startValue = null;\n                    this.endValue = null;\n                }\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n                this.updateInput();\n            }\n            this.errorClass();\n            this.changeTrigger(e);\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                const blurArguments = {\n                    model: this\n                };\n                this.trigger('blur', blurArguments);\n            }\n        }\n        this.updateHiddenInput();\n    }\n    clearRange() {\n        this.previousStartValue = this.previousEndValue = null;\n        this.currentDate = null;\n    }\n    errorClass() {\n        const inputStr = this.inputElement.value.trim();\n        if (((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '') ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max))\n            || ((this.startValue && this.isDateDisabled(this.startValue))\n                || (this.endValue && this.isDateDisabled(this.endValue)))) && inputStr !== '') {\n            addClass([this.inputWrapper.container], ERROR$1);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            if (this.inputWrapper) {\n                removeClass([this.inputWrapper.container], ERROR$1);\n                attributes(this.inputElement, { 'aria-invalid': 'false' });\n            }\n        }\n    }\n    keyCalendarUpdate(isLeftCalendar, ele) {\n        this.removeFocusedDate();\n        if (isLeftCalendar) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            ele = this.leftCalendar;\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            ele = this.rightCalendar;\n        }\n        this.updateCalendarElement(ele);\n        this.table.focus();\n        return ele;\n    }\n    navInCalendar(e, isLeftCalendar, leftLimit, rightLimit, ele) {\n        const view = this.getViewNumber(this.currentView());\n        let date;\n        const min = this.min;\n        let max;\n        if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n            max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        }\n        else {\n            max = this.max;\n        }\n        switch (e.action) {\n            case 'moveRight':\n                date = new Date(+this.currentDate);\n                this.addDay(date, 1, e, max, min);\n                if (isLeftCalendar && +date === +rightLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.keyboardNavigate(1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveLeft':\n                date = new Date(+this.currentDate);\n                this.addDay(date, -1, e, max, min);\n                if (!isLeftCalendar) {\n                    if (+date === +leftLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                }\n                this.keyboardNavigate(-1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, -7, e, max, min);\n                    if (+date <= +leftLimit && !isLeftCalendar) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    this.keyboardNavigate(-7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, 7, e, max, min);\n                    if (isLeftCalendar && +date >= +rightLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    this.keyboardNavigate(7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n        }\n    }\n    keyInputHandler(e, value) {\n        let date;\n        let view = this.getViewNumber(this.currentView());\n        const rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n        const leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n        let ele = closest(e.target, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n        const isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n        this.updateCalendarElement(ele);\n        const selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        const focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n        const startDate = ele.querySelector('tr td.' + STARTDATE);\n        const endDate = ele.querySelector('tr td.' + ENDDATE);\n        const depthValue = this.getViewNumber(this.depth);\n        const levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        const leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n        const rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n        const presetElement = closest(e.target, '.' + PRESETS);\n        if (!isNullOrUndefined(focusedDate)) {\n            // eslint-disable-next-line no-self-assign\n            this.currentDate = this.currentDate;\n        }\n        else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.startValue);\n        }\n        else if (!this.dateDisabled) {\n            this.currentDate.setDate(1);\n        }\n        this.effect = '';\n        switch (e.action) {\n            case 'altUpArrow':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                    this.preventFocus = true;\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n                }\n                break;\n            case 'select':\n                if (levelRestrict) {\n                    const element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n                        this.selectRange(null, (element));\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n                        if (!isNullOrUndefined(this.value)) {\n                            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                                value = this.startDate;\n                            }\n                            else {\n                                value = this.endDate;\n                            }\n                        }\n                        this.controlDown = e;\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                {\n                    const yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n                    if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    super.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else if (!isNullOrUndefined(rightCalendar)) {\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.presetElement.focus();\n                        this.removeFocusedDate();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(presetElement)) {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    if (this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(rightCalendar)) {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlUp':\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                else {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n                    if (!isNullOrUndefined(this.value)) {\n                        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                            value = this.startDate;\n                        }\n                        else {\n                            value = this.endDate;\n                        }\n                    }\n                    this.controlDown = e;\n                    this.contentClick(null, --view, (selectedDate || focusedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                {\n                    const yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n                    if (isLeftCalendar && +yearDate > +rightDateLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    super.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'pageUp':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addMonths(this.currentDate, -1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageDown':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addMonths(this.currentDate, 1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageUp':\n                date = new Date(+this.currentDate);\n                this.addYears(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addYears(this.currentDate, -1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageDown':\n                date = new Date(+this.currentDate);\n                this.addYears(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addYears(this.currentDate, 1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftTab':\n                if (!isNullOrUndefined(this.presetElement)) {\n                    this.presetElement.setAttribute('tabindex', '0');\n                    this.presetElement.focus();\n                    this.removeFocusedDate();\n                }\n                e.preventDefault();\n                break;\n            case 'spacebar':\n                if (this.applyButton && !this.applyButton.disabled) {\n                    this.applyFunction(e);\n                }\n                break;\n            default:\n                this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                this.checkMinMaxDays();\n        }\n        this.presetHeight();\n    }\n    keyNavigation(calendar, e) {\n        this.bindCalendarCellEvents(calendar);\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.updateRange([calendar]);\n        this.dateDisabled = this.isDateDisabled(this.currentDate);\n        e.preventDefault();\n    }\n    inputHandler(e) {\n        switch (e.action) {\n            case 'altDownArrow':\n                if (!this.isPopupOpen()) {\n                    if (this.inputElement.value === '') {\n                        this.clear();\n                        this.changeTrigger(e);\n                        this.clearRange();\n                    }\n                    this.show(null, e);\n                    this.isRangeIconClicked = false;\n                    if (!this.isMobile) {\n                        if (!isNullOrUndefined(this.leftCalendar)) {\n                            this.calendarFocus();\n                        }\n                    }\n                    this.isKeyPopup = true;\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                }\n                break;\n            case 'enter':\n                if (document.activeElement === this.inputElement) {\n                    this.inputBlurHandler(e);\n                    this.hide(e);\n                }\n                break;\n            case 'tab':\n                if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    }\n    bindCalendarCellEvents(calendar) {\n        let tdCells;\n        if (calendar) {\n            tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        else {\n            tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        for (const cell of tdCells) {\n            EventHandler.clearEvents(cell);\n            const disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n            if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n                if (!this.isMobile) {\n                    EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n                }\n                EventHandler.add(cell, 'mousedown', this.selectRange, this);\n            }\n        }\n    }\n    removeFocusedDate() {\n        const isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n        const focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n        for (const ele of focusedDate) {\n            const today = new Date();\n            const eleDate = this.getIdValue(null, ele);\n            if ((this.depth === 'Month' && this.currentView() === 'Month' &&\n                (!ele.classList.contains(TODAY$2) || (ele.classList.contains(TODAY$2) && isDate)))\n                || (this.depth === 'Year' && this.currentView() === 'Year' &&\n                    ((!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate)) || isDate))\n                || (this.depth === 'Decade' && this.currentView() === 'Decade' &&\n                    (!this.isSameYear(today, eleDate) || isDate))) {\n                ele.classList.remove(FOCUSDATE);\n                if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n                    ele.removeAttribute('aria-label');\n                }\n            }\n        }\n    }\n    hoverSelection(event, element) {\n        const currentElement = element || event.currentTarget;\n        const currentDate = this.getIdValue(null, currentElement);\n        if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n            if ((!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)\n                && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue))\n                || (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                const tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n                for (const ele of tdCells) {\n                    const isDisabledCell = (!ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED));\n                    if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n                        const eleDate = this.getIdValue(null, ele);\n                        const startDateValue = new Date(+this.startValue);\n                        const eleDateValue = new Date(+eleDate);\n                        if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                            addClass([ele], RANGEHOVER);\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    isSameStartEnd(startVal, endVal) {\n        let isSame = false;\n        if (this.depth === 'Month') {\n            if ((startVal).setHours(0, 0, 0, 0) === (endVal).setHours(0, 0, 0, 0)) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Year') {\n            if ((startVal.getFullYear() === endVal.getFullYear()) &&\n                (startVal.getMonth() === endVal.getMonth())) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Decade') {\n            if (startVal.getFullYear() === endVal.getFullYear()) {\n                isSame = true;\n            }\n        }\n        return isSame;\n    }\n    updateRange(elementCollection) {\n        if (!isNullOrUndefined(this.startValue)) {\n            for (const calendar of elementCollection) {\n                const tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                for (const ele of tdCells) {\n                    if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n                        const eleDate = this.getIdValue(null, ele);\n                        const eleDateValue = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(this.endValue)) {\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) &&\n                                !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) &&\n                                +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min\n                                && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], RANGEHOVER);\n                            }\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) &&\n                            (+eleDateValue !== +this.endValue)) {\n                            removeClass([ele], [SELECTED$3]);\n                            removeClass([ele], [ENDDATE]);\n                        }\n                        if (ele.classList.contains(RANGEHOVER) && (+eleDateValue > +this.endValue)) {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (!ele.classList.contains(OTHERMONTH$2)) {\n                            const startDateValue = new Date(+this.startValue);\n                            let eleDateValue = new Date(+eleDate);\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [STARTDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, true);\n                            }\n                            const endDateValue = new Date(+this.endValue);\n                            if (this.currentView() === 'Year') {\n                                eleDateValue = new Date(eleDateValue.getFullYear(), eleDateValue.getMonth() + 1, 0);\n                            }\n                            else if (this.currentView() === 'Decade') {\n                                eleDateValue = new Date(eleDateValue.getFullYear(), 11, 31);\n                            }\n                            if (this.currentView() === this.depth &&\n                                !isNullOrUndefined(this.endValue) &&\n                                +eleDateValue.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [ENDDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, false);\n                            }\n                            if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                                this.addSelectedAttributes(ele, this.endValue, false, true);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    checkMinMaxDays() {\n        if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n            if (!this.isMobile) {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n            }\n            else {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            }\n        }\n    }\n    rangeArgs(e) {\n        let inputValue;\n        let range;\n        const startDate = !isNullOrUndefined(this.startValue) ?\n            this.globalize.formatDate(this.startValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        const endDate = !isNullOrUndefined(this.endValue) ?\n            this.globalize.formatDate(this.endValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n        }\n        else {\n            inputValue = '';\n            range = 0;\n        }\n        const args = {\n            value: this.value,\n            startDate: this.startValue,\n            endDate: this.endValue,\n            daySpan: range,\n            event: e || null,\n            element: this.element,\n            isInteracted: !isNullOrUndefined(e),\n            text: inputValue\n        };\n        return args;\n    }\n    otherMonthSelect(ele, isStartDate, sameDate) {\n        const value = +this.getIdValue(null, ele);\n        const dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n        const tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n        if (!isNullOrUndefined(tdCell)) {\n            if (isStartDate) {\n                addClass([tdCell], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.startValue, true);\n            }\n            else {\n                addClass([tdCell], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.endValue, true);\n            }\n            if (sameDate) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n            }\n        }\n    }\n    selectRange(event, element) {\n        let leftCalendar;\n        let rightCalendar;\n        if (event) {\n            event.preventDefault();\n        }\n        const date = isNullOrUndefined(event) ? this.getIdValue(null, element)\n            : this.getIdValue(event, null);\n        const y = date.getFullYear();\n        const m = date.getMonth();\n        const firstDay = new Date(y, m, 1);\n        const lastDay = new Date(y, m + 1, 0);\n        const firstMonth = new Date(y, 0, 1);\n        const lastMonth = new Date(y, 11, 31);\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n                this.removeSelection();\n            }\n        }\n        else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n            this.removeSelection();\n        }\n        const ele = element || event.currentTarget;\n        if (isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.previousStartValue)) {\n                date.setHours(this.previousStartValue.getHours());\n                date.setMinutes(this.previousStartValue.getMinutes());\n                date.setSeconds(this.previousStartValue.getSeconds());\n            }\n            this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                (this.depth === 'Year') ? firstDay : firstMonth;\n            this.endValue = null;\n            this.setValue();\n            addClass([ele], STARTDATE);\n            this.addSelectedAttributes(ele, this.startValue, true);\n            if (ele.classList.contains(OTHERMONTH$2)) {\n                this.otherMonthSelect(ele, true);\n            }\n            this.checkMinMaxDays();\n            this.applyButton.disabled = true;\n            this.applyButton.element.disabled = true;\n            if (this.isMobile) {\n                this.endButton.element.classList.add(ACTIVE$1);\n                this.startButton.element.classList.remove(ACTIVE$1);\n                this.endButton.element.removeAttribute('disabled');\n                this.selectableDates();\n            }\n            this.trigger('select', this.rangeArgs(event));\n        }\n        else {\n            if (+date === +this.startValue || +date > +this.startValue) {\n                if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n                    return;\n                }\n                this.endValue = null;\n                this.setValue();\n                if (this.isMobile || element) {\n                    this.hoverSelection(event, element);\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    date.setHours(this.previousEndValue.getHours());\n                    date.setMinutes(this.previousEndValue.getMinutes());\n                    date.setSeconds(this.previousEndValue.getSeconds());\n                }\n                this.endValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? lastDay : lastMonth;\n                this.setValue();\n                let endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                if (this.isMobile) {\n                    this.startButton.element.classList.remove(ACTIVE$1);\n                    this.endButton.element.classList.add(ACTIVE$1);\n                    for (const ele of endEle) {\n                        ele.removeAttribute('aria-label');\n                        if (!ele.classList.contains(STARTDATE)) {\n                            ele.setAttribute('aria-selected', 'false');\n                            removeClass([ele], [ENDDATE, SELECTED$3]);\n                        }\n                        else {\n                            this.addSelectedAttributes(ele, this.startValue, true);\n                            removeClass([ele], [ENDDATE]);\n                        }\n                    }\n                }\n                addClass([ele], ENDDATE);\n                if (+this.endValue === +this.startValue) {\n                    this.addSelectedAttributes(ele, this.endValue, false, true);\n                }\n                else {\n                    this.addSelectedAttributes(ele, this.endValue, false);\n                }\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    if (+this.endValue === +this.startValue) {\n                        this.otherMonthSelect(ele, false, true);\n                    }\n                    else {\n                        this.otherMonthSelect(ele, false);\n                    }\n                }\n                endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                for (const ele of endEle) {\n                    if (ele.classList.contains(STARTDATE)) {\n                        removeClass([ele], [RANGEHOVER]);\n                    }\n                }\n                this.applyButton.disabled = false;\n                this.applyButton.element.disabled = false;\n                if (!this.isMobile) {\n                    this.removeClassDisabled();\n                }\n                this.disabledDateRender();\n                this.trigger('select', this.rangeArgs(event));\n            }\n            else if (+date < +this.startValue) {\n                this.removeClassDisabled();\n                this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? firstDay : firstMonth;\n                this.setValue();\n                this.removeSelectedAttributes();\n                removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n                addClass([ele], STARTDATE);\n                this.addSelectedAttributes(ele, this.startValue, true);\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    this.otherMonthSelect(ele, true);\n                }\n                this.checkMinMaxDays();\n            }\n        }\n        if (event) {\n            leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n        }\n        if (!isNullOrUndefined(leftCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n        }\n        else {\n            if (event) {\n                rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n            }\n            if (!isNullOrUndefined(rightCalendar)) {\n                this.rightCalendar.children[1].firstElementChild.focus();\n            }\n        }\n        addClass([ele], SELECTED$3);\n        this.updateHeader();\n        this.removeFocusedDate();\n    }\n    selectableDates() {\n        if (!isNullOrUndefined(this.startValue)) {\n            const tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n            let isStartDate = false;\n            if (this.currentView() === this.depth) {\n                for (const ele of tdCells) {\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            const eleDate = this.getIdValue(null, ele);\n                            if (+eleDate < +this.startValue) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                                continue;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                    if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n                        isStartDate = true;\n                        break;\n                    }\n                }\n                if (isStartDate) {\n                    if (!this.previousIcon.classList.contains(DISABLED$2)) {\n                        addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                    }\n                }\n            }\n            else {\n                for (const ele of tdCells) {\n                    const startMonth = this.startValue.getMonth();\n                    const startYear = this.startValue.getFullYear();\n                    const element = this.getIdValue(null, ele);\n                    if (!this.startButton.element.classList.contains(ACTIVE$1) && ((this.currentView() === 'Year' &&\n                        (element.getMonth() < startMonth) && (element.getFullYear() <= startYear))\n                        || (this.currentView() === 'Decade' && (element.getMonth() <= startMonth) &&\n                            (element.getFullYear() < startYear)))) {\n                        addClass([ele], [DISABLED$2]);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (tdCells[0].classList.contains(DISABLED$2)) {\n                    this.previousIconHandler(true);\n                }\n                else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n                    this.nextIconHandler(true);\n                }\n            }\n        }\n    }\n    updateMinMaxDays(calendar) {\n        if ((!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) ||\n            (this.isMobile && this.endButton.element.classList.contains(ACTIVE$1))) {\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n                const startValueSelected = this.removeTimeValueFromDate(this.startValue);\n                let minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n                let maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n                minDate = (!isNullOrUndefined(this.minDays) && this.minDays > 0) ? minDate : null;\n                maxDate = (!isNullOrUndefined(this.maxDays) && this.maxDays > 0) ? maxDate : null;\n                if (this.currentView() === 'Year') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n                }\n                else if (this.currentView() === 'Decade') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n                }\n                const tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                let maxEle;\n                for (const ele of tdCells) {\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        let eleDate = this.getIdValue(null, ele);\n                        eleDate = this.removeTimeValueFromDate(eleDate);\n                        if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n                            minDate.setDate(minDate.getDate() + 1);\n                        }\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            if (+eleDate <= +startValueSelected) {\n                                continue;\n                            }\n                            if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                            }\n                            if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                this.isMaxDaysClicked = true;\n                                EventHandler.clearEvents(ele);\n                                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                                    maxEle = ele;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(maxEle)) {\n                    if (this.isMobile) {\n                        if (!this.nextIcon.classList.contains(DISABLED$2)) {\n                            addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                        }\n                    }\n                    else {\n                        let calendar = closest(maxEle, '.' + RIGHTCALENDER);\n                        calendar = isNullOrUndefined(calendar) ? this.leftCalendar : calendar;\n                        const isLeftCalendar = calendar.classList.contains(LEFTCALENDER);\n                        if (!isLeftCalendar) {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                        else {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.isMaxDaysClicked = false;\n        }\n    }\n    removeTimeValueFromDate(value) {\n        const dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n        return dateValue;\n    }\n    removeClassDisabled() {\n        const tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n        for (const ele of tdCells) {\n            if (ele.classList.contains(DATEDISABLED)) {\n                removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.add(ele, 'click', this.selectRange, this);\n                if (!this.isMobile) {\n                    EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n                }\n            }\n        }\n        if (this.isMobile) {\n            if (this.nextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.previousIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n        else {\n            if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n    }\n    updateHeader() {\n        const format = { type: 'date', skeleton: 'yMMMd' };\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            let range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n        }\n        else {\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            if (!isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n            }\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n            }\n        }\n        if ((this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue)) ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue))\n                    && +this.startValue > +this.endValue))) {\n            if (!this.isMobile) {\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n            }\n        }\n        if (this.popupObj.element.querySelector('#custom_range')) {\n            this.popupObj.element.querySelector('#custom_range').textContent =\n                this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n    }\n    removeSelection() {\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.removeSelectedAttributes();\n        if (this.popupObj) {\n            if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n            }\n        }\n    }\n    addSelectedAttributes(ele, date, isStartDate, sameDate) {\n        if (ele) {\n            const title = this.globalize.formatDate(date, { type: 'date', skeleton: 'full' });\n            if (!isNullOrUndefined(sameDate) && sameDate) {\n                ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n            }\n            else {\n                ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n            }\n            ele.setAttribute('aria-selected', 'true');\n        }\n    }\n    removeSelectedAttributes() {\n        if (this.popupObj) {\n            const start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n            for (const ele of start) {\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n            const end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n            for (const ele of end) {\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n        }\n    }\n    updateCalendarElement(calendar) {\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.calendarElement = this.leftCalendar;\n            this.currentDate = this.leftCalCurrentDate;\n            this.previousIcon = this.leftCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n        }\n        else {\n            this.calendarElement = this.rightCalendar;\n            this.currentDate = this.rightCalCurrentDate;\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.rightCalNextIcon;\n        }\n        this.contentElement = calendar.querySelector('.' + CONTENT$1);\n        this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n        this.headerElement = calendar.querySelector('.' + HEADER$1);\n    }\n    navPrevMonth(e) {\n        e.preventDefault();\n        let ele = closest(e.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigatePrevious(e);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    deviceNavigation(ele) {\n        this.deviceCalendarEvent();\n        this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.selectableDates();\n        }\n        if (this.currentView() === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    }\n    updateControl(calendar) {\n        if (calendar.classList.contains(RIGHTCALENDER)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.calendarIconEvent();\n        if ((((this.depth === 'Month')\n            && this.leftCalendar.querySelector('.e-content').classList.contains('e-month')\n            && this.rightCalendar.querySelector('.e-content').classList.contains('e-month'))\n            || ((this.depth === 'Year')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-year')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-year'))\n            || ((this.depth === 'Decade')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade')))\n            || this.isMobile) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n        this.updateRange([calendar]);\n    }\n    navNextMonth(event) {\n        event.preventDefault();\n        let ele = closest(event.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigateNext(event);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    }\n    isPopupOpen() {\n        if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n            return true;\n        }\n        return false;\n    }\n    createRangeHeader() {\n        const labelContainer = this.createElement('div', { className: STARTENDCONTAINER });\n        if (!this.isMobile) {\n            const startLabel = this.createElement('a', { className: STARTLABEL });\n            const endLabel = this.createElement('a', { className: ENDLABEL });\n            const changeIcon = this.createElement('span', { className: CHANGEICON });\n            attributes(startLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'Start Date', 'role': 'button' });\n            attributes(endLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'End Date', 'role': 'button' });\n            labelContainer.appendChild(startLabel);\n            labelContainer.appendChild(changeIcon);\n            labelContainer.appendChild(endLabel);\n            startLabel.textContent = this.l10n.getConstant('startLabel');\n            endLabel.textContent = this.l10n.getConstant('endLabel');\n        }\n        else {\n            const endBtn = this.createElement('button', { className: ENDBUTTON });\n            const startBtn = this.createElement('button', { className: STARTBUTTON });\n            this.startButton = new Button({ content: this.l10n.getConstant('startLabel') }, startBtn);\n            this.endButton = new Button({ content: this.l10n.getConstant('endLabel') }, endBtn);\n            labelContainer.appendChild(startBtn);\n            labelContainer.appendChild(endBtn);\n        }\n        return labelContainer;\n    }\n    disableInput() {\n        if (this.strictMode) {\n            if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n                this.startValue = this.previousStartValue;\n                this.endValue = this.previousEndValue;\n                this.setValue();\n                this.updateInput();\n            }\n        }\n        else {\n            this.updateInput();\n            this.clearRange();\n            this.setProperties({ startDate: null }, true);\n            this.setProperties({ endDate: null }, true);\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n            this.errorClass();\n        }\n        this.setProperties({ enabled: false }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n        this.bindEvents();\n    }\n    validateMinMax() {\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (!(this.min <= this.max)) {\n            this.disableInput();\n            return;\n        }\n        if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n            if (this.maxDays > 0 && this.minDays > 0 && (this.minDays > this.maxDays)) {\n                this.maxDays = null;\n            }\n        }\n        if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n            this.minDays = null;\n        }\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n            this.maxDays = null;\n        }\n    }\n    validateRangeStrict() {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (+this.startValue <= +this.min) {\n                this.startValue = this.min;\n                this.setValue();\n            }\n            else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n                this.startValue = this.max;\n            }\n        }\n        if (!isNullOrUndefined(this.endValue)) {\n            if (+this.endValue > +this.max) {\n                this.endValue = this.max;\n                this.setValue();\n            }\n            else if (+this.endValue < +this.min) {\n                this.endValue = this.min;\n                this.setValue();\n            }\n        }\n        this.validateMinMaxDays();\n    }\n    validateRange() {\n        this.validateMinMaxDays();\n    }\n    validateMinMaxDays() {\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            const range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) && !(range >= this.minDays)) {\n                if (this.strictMode) {\n                    const date = new Date(+this.startValue);\n                    date.setDate(date.getDate() + (this.minDays - 1));\n                    if (+date > +this.max) {\n                        this.endValue = this.max;\n                        this.setValue();\n                    }\n                    else {\n                        this.endValue = date;\n                        this.setValue();\n                    }\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if ((!isNullOrUndefined(this.maxDays) && this.maxDays > 0) && !(range <= this.maxDays)) {\n                if (this.strictMode) {\n                    this.endValue = new Date(+this.startValue);\n                    this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n                    this.setValue();\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n        }\n    }\n    renderCalendar() {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(CALENDAR);\n        if (this.enableRtl) {\n            this.calendarElement.classList.add(RTL$1);\n        }\n        attributes(this.calendarElement, { 'role': 'calendar' });\n        super.createHeader();\n        super.createContent();\n    }\n    isSameMonth(start, end) {\n        if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    }\n    isSameYear(start, end) {\n        if (start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    }\n    isSameDecade(start, end) {\n        const startYear = start.getFullYear();\n        const endYear = end.getFullYear();\n        if ((startYear - (startYear % 10)) === (endYear - (endYear % 10))) {\n            return true;\n        }\n        return false;\n    }\n    startMonthCurrentDate() {\n        if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n            this.currentDate = new Date(+this.max);\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        }\n        else if (this.currentDate < this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n    }\n    selectNextMonth() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n            return;\n        }\n        if ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setDate(1);\n            const month = this.currentDate.getMonth() + 1;\n            this.currentDate.setMonth(month);\n        }\n    }\n    selectNextYear() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setMonth(0);\n            const yr = this.currentDate.getFullYear() + 1;\n            this.currentDate.setFullYear(yr);\n            return;\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setMonth(0);\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n        }\n    }\n    selectNextDecade() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            const decyr = this.currentDate.getFullYear() + 10;\n            this.currentDate.setFullYear(decyr);\n            return;\n        }\n        if (((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n        }\n    }\n    selectStartMonth() {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n                this.currentDate = new Date(+this.max);\n                this.currentDate.setDate(1);\n                this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n            }\n            else if (!(this.startValue >= this.min && this.startValue <= this.max)\n                || this.isDateDisabled(this.startValue)) {\n                this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n            else {\n                this.currentDate = new Date(+this.startValue);\n            }\n        }\n        else {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.startMonthCurrentDate();\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n        this.startMonthCurrentDate();\n    }\n    createCalendar() {\n        const calendarContainer = this.createElement('div', { className: CALENDARCONTAINER });\n        if (!this.isMobile) {\n            this.selectStartMonth();\n            this.renderCalendar();\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.calendarElement.classList.add(LEFTCALENDER);\n            this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n            this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n            this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n            prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n            this.leftCalendar = this.calendarElement;\n            const leftContainer = this.createElement('div', { className: LEFTCONTAINER });\n            const rightContainer = this.createElement('div', { className: RIGHTCONTAINER });\n            leftContainer.appendChild(this.leftCalendar);\n            calendarContainer.appendChild(leftContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n            }\n            if (this.start === 'Month') {\n                this.selectNextMonth();\n            }\n            if (this.start === 'Year') {\n                this.selectNextYear();\n            }\n            if (this.start === 'Decade') {\n                this.selectNextDecade();\n            }\n            this.renderCalendar();\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            addClass([this.calendarElement], RIGHTCALENDER);\n            this.rightCalendar = this.calendarElement;\n            removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n            this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n            this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('table').setAttribute('tabindex', '-1');\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n            prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n            rightContainer.appendChild(this.rightCalendar);\n            calendarContainer.appendChild(rightContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.currentDate = new Date(+this.startValue);\n            }\n            super.validateDate();\n            super.minMaxUpdate();\n            super.render();\n            const prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n            const nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n            remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n            prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n            this.deviceCalendar = this.calendarElement;\n            calendarContainer.appendChild(this.calendarElement);\n            this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n        }\n        return calendarContainer;\n    }\n    leftNavTitle(e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.leftCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    }\n    calendarNavigation(e, element) {\n        this.table = element.querySelector('table');\n        this.headerTitleElement = element.querySelector('.e-title');\n        this.tableBodyElement = element.querySelector('tbody');\n        this.tableHeadElement = element.querySelector('thead');\n        this.contentElement = element.querySelector('.e-content');\n        this.updateCalendarElement(element);\n        super.navigateTitle(e);\n        this.updateNavIcons();\n    }\n    rightNavTitle(e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.rightCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    }\n    clickEventEmitter(e) {\n        if (!this.isMobile) {\n            if (closest(e.target, '.e-calendar.e-left-calendar')) {\n                this.calendarElement = this.leftCalendar;\n                this.updateCalendarElement(this.leftCalendar);\n            }\n            else {\n                this.calendarElement = this.rightCalendar;\n                this.updateCalendarElement(this.rightCalendar);\n            }\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @private\n     * @hidden\n     */\n    currentView() {\n        return super.currentView();\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    getCalendarView(view) {\n        if (view === 'Year') {\n            return 'Year';\n        }\n        else if (view === 'Decade') {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    }\n    navigatedEvent(e) {\n        this.trigger('navigated', this.navigatedArgs);\n        if (!isNullOrUndefined(this.popupObj)) {\n            let element;\n            const view = this.getCalendarView(this.currentView());\n            if (this.isMobile) {\n                if (view === this.depth) {\n                    this.bindCalendarCellEvents();\n                    this.deviceNavigation();\n                    this.removeFocusedDate();\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.selectableDates();\n                }\n            }\n            else {\n                if (!this.isMobile && view === this.depth) {\n                    element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n                    if (element === this.leftCalendar && ((e && !e.currentTarget.children[0].classList.contains('e-icons'))\n                        || (!isNullOrUndefined(this.controlDown)))) {\n                        this.leftCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.leftCalCurrentDate;\n                        this.updateCalendarElement(this.leftCalendar);\n                        this.updateControl(this.leftCalendar);\n                        this.updateCalendarElement(this.rightCalendar);\n                        super.navigateTo.call(this, view, this.rightCalCurrentDate);\n                        this.updateControl(this.rightCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    else if (e && !e.currentTarget.children[0].classList.contains('e-icons')\n                        || (!isNullOrUndefined(this.controlDown))) {\n                        this.rightCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.rightCalCurrentDate;\n                        this.updateCalendarElement(this.rightCalendar);\n                        this.updateControl(this.rightCalendar);\n                        this.updateCalendarElement(this.leftCalendar);\n                        if (this.startValue && isNullOrUndefined(this.endValue)) {\n                            if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() &&\n                                this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                                super.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                                super.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else {\n                                super.navigateTo.call(this, view, this.leftCalCurrentDate);\n                            }\n                        }\n                        else {\n                            super.navigateTo.call(this, view, this.leftCalCurrentDate);\n                        }\n                        this.updateControl(this.leftCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.updateNavIcons();\n                    this.calendarIconEvent();\n                }\n            }\n        }\n    }\n    createControl() {\n        const controlContainer = this.createElement('div', { className: RANGECONTAINER });\n        const headerContainer = this.createElement('div', { className: RANGEHEADER });\n        const labelContainer = this.createRangeHeader();\n        headerContainer.appendChild(labelContainer);\n        const daySpan = this.createElement('div', { className: DAYSPAN });\n        attributes(daySpan, { 'aria-label': 'Selected Days' });\n        daySpan.textContent = this.l10n.getConstant('selectedDays');\n        headerContainer.appendChild(daySpan);\n        const separator = this.createElement('div', { className: SEPARATOR });\n        const calendarContainer = this.createCalendar();\n        controlContainer.appendChild(headerContainer);\n        controlContainer.appendChild(separator);\n        controlContainer.appendChild(calendarContainer);\n        const footerSection = this.createElement('div', { className: FOOTER$1 });\n        const cancelBtn = this.createElement('button', { className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1 });\n        const applyBtn = this.createElement('button');\n        addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n        footerSection.appendChild(applyBtn);\n        footerSection.appendChild(cancelBtn);\n        const enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n        this.cancelButton = new Button({ content: this.l10n.getConstant('cancelText') }, cancelBtn);\n        this.applyButton = new Button({ content: this.l10n.getConstant('applyText'), disabled: !enable }, applyBtn);\n        EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n        EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n        this.popupWrapper.appendChild(controlContainer);\n        if (!this.isMobile) {\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                this.createPresets();\n                this.listRippleEffect();\n                addClass([controlContainer], RANGEBORDER);\n                addClass([this.popupWrapper], 'e-preset-wrapper');\n                const presets = this.popupWrapper.querySelector('.' + PRESETS);\n                presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n            }\n        }\n        this.popupWrapper.appendChild(footerSection);\n        if (this.isMobile) {\n            this.deviceHeaderUpdate();\n        }\n        this.renderPopup();\n    }\n    cancelFunction(eve) {\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        eve.preventDefault();\n        if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n        }\n        this.startValue = null;\n        this.endValue = null;\n        this.removeSelection();\n        this.hide(eve);\n    }\n    deviceHeaderUpdate() {\n        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.endButton.element.setAttribute('disabled', '');\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n        else if (!isNullOrUndefined(this.startValue)) {\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n    }\n    applyFunction(eve) {\n        let isValueChanged = false;\n        if (eve.type !== 'touchstart') {\n            eve.preventDefault();\n        }\n        if (this.closeEventArgs && this.closeEventArgs.cancel) {\n            this.startValue = this.popupWrapper.querySelector('.e-start-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n            this.endValue = this.popupWrapper.querySelector('.e-end-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n            this.setValue();\n        }\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        if (eve.type !== 'touchstart' &&\n            this.closeEventArgs && !this.closeEventArgs.cancel) {\n            eve.preventDefault();\n        }\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n            this.previousEleValue = this.inputElement.value;\n            Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n            if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n                isValueChanged = true;\n            }\n            this.changeTrigger(eve);\n            this.hide(eve ? eve : null);\n            this.errorClass();\n            isValueChanged = true;\n        }\n        else {\n            this.hide(eve ? eve : null);\n        }\n        if (!(closest(eve.target, '.' + INPUTCONTAINER$1))\n            && (!isValueChanged)) {\n            this.focusOut();\n        }\n        if (!this.isMobile) {\n            this.isKeyPopup = false;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.children[1].focus();\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n                    eventName: 'keydown',\n                    keyConfigs: this.keyInputConfigs,\n                    keyAction: this.popupKeyActionHandle.bind(this)\n                });\n            }\n        }\n    }\n    onMouseClick(event, item) {\n        if (event.type === 'touchstart') {\n            return;\n        }\n        const target = item || event.target;\n        const li = closest(target, '.' + LISTCLASS);\n        const isClick = li && li.classList.contains(ACTIVE$1);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.setListSelection(li, event);\n        }\n        this.preventFocus = true;\n        this.inputElement.focus();\n        if (!this.isMobile) {\n            this.preventFocus = true;\n            if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n            else {\n                if (!isClick && event.type === 'keydown') {\n                    this.inputElement.focus();\n                }\n            }\n        }\n    }\n    onMouseOver(event) {\n        const li = closest(event.target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n            addClass([li], HOVER);\n        }\n    }\n    onMouseLeave(event) {\n        const item = closest(event.target, '.' + HOVER);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], HOVER);\n        }\n    }\n    setListSelection(li, event) {\n        if (li && (!li.classList.contains(ACTIVE$1) || (this.isMobile && li.classList.contains(ACTIVE$1)))) {\n            if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                const values = this.presetsItem[this.activeIndex];\n                if (values.id === 'custom_range') {\n                    this.renderCustomPopup();\n                    return;\n                }\n                return;\n            }\n            this.removeListSelection();\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            addClass([li], ACTIVE$1);\n            li.setAttribute('aria-selected', 'true');\n            const values = this.presetsItem[this.activeIndex];\n            if (values.id === 'custom_range') {\n                this.renderCustomPopup();\n            }\n            else {\n                this.applyPresetRange(values, event);\n            }\n        }\n    }\n    removeListSelection() {\n        const item = this.presetElement.querySelector('.' + ACTIVE$1);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], ACTIVE$1);\n            item.removeAttribute('aria-selected');\n        }\n    }\n    setValue() {\n        this.modelValue = [this.startValue, this.endValue];\n    }\n    applyPresetRange(values, e) {\n        this.hide(null);\n        this.presetsItem[this.presetsItem.length - 1].start = null;\n        this.presetsItem[this.presetsItem.length - 1].end = null;\n        this.startValue = values.start;\n        this.endValue = values.end;\n        this.setValue();\n        this.refreshControl();\n        this.trigger('select', this.rangeArgs(e));\n        this.changeTrigger(e);\n        this.previousEleValue = this.inputElement.value;\n        this.isCustomRange = false;\n        this.leftCalendar = this.rightCalendar = null;\n        if (this.isKeyPopup) {\n            this.isRangeIconClicked = false;\n            this.inputElement.focus();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    showPopup(element, event) {\n        this.presetHeight();\n        if (this.zIndex === 1000) {\n            this.popupObj.show(null, this.element);\n        }\n        else {\n            this.popupObj.show(null, null);\n        }\n        if (this.isMobile) {\n            this.popupObj.refreshPosition();\n        }\n    }\n    renderCustomPopup() {\n        this.isCustomWindow = true;\n        this.popupObj.hide();\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.renderControl();\n        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.showPopup();\n        this.isCustomRange = true;\n        if (!this.isMobile) {\n            this.calendarFocus();\n        }\n    }\n    listRippleEffect() {\n        for (const li of this.liCollections) {\n            rippleEffect(li);\n        }\n    }\n    createPresets() {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            this.presetElement = this.createElement('div', { className: PRESETS, attrs: { 'tabindex': '0' } });\n            const listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n            attributes(listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n            this.presetElement.appendChild(listTag);\n            this.popupWrapper.appendChild(this.presetElement);\n            const customElement = this.presetElement.querySelector('#custom_range');\n            if (!isNullOrUndefined(customElement)) {\n                customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange')\n                    : 'Custom Range';\n            }\n            this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n            this.wireListEvents();\n            if (this.isMobile) {\n                this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n            }\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n                addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n            }\n        }\n    }\n    wireListEvents() {\n        EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n        if (!this.isMobile) {\n            EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n        }\n    }\n    unWireListEvents() {\n        if (!isNullOrUndefined(this.presetElement)) {\n            EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n            if (!this.isMobile) {\n                EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n            }\n        }\n    }\n    renderPopup() {\n        this.popupWrapper.classList.add('e-control');\n        const popupWidth = this.popupWrapper.getBoundingClientRect().width;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            this.modal = this.createElement('div');\n            document.body.appendChild(this.modal);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n            relateTo: this.isMobile && this.isCustomWindow ? document.body :\n                (!isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container),\n            position: (this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'left', Y: 'bottom' } : { X: 'center', Y: 'center' }) :\n                this.enableRtl ? { X: 'left', Y: 'bottom' } : { X: 'right', Y: 'bottom' }),\n            offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n            offsetY: OFFSETVALUE$1,\n            collision: this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'fit' } : { X: 'fit', Y: 'fit' }) : { X: 'fit', Y: 'flip' },\n            targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            open: () => {\n                attributes(this.inputElement, { 'aria-expanded': 'true' });\n                addClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (!this.isMobile) {\n                    if (this.cancelButton) {\n                        this.btnKeyboardModule = new KeyboardEvents(this.cancelButton.element, {\n                            eventName: 'keydown',\n                            keyAction: this.popupKeyActionHandle.bind(this),\n                            keyConfigs: { tab: 'tab', altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        this.btnKeyboardModule = new KeyboardEvents(this.applyButton.element, {\n                            eventName: 'keydown',\n                            keyAction: this.popupKeyActionHandle.bind(this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                    }\n                    if (!isNullOrUndefined(this.leftCalendar)) {\n                        if (!this.isRangeIconClicked) {\n                            this.calendarFocus();\n                        }\n                    }\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                        this.presetKeyboardModule = new KeyboardEvents(this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: this.presetKeyActionHandler.bind(this),\n                            keyConfigs: this.keyInputConfigs\n                        });\n                        this.presetKeyboardModule = new KeyboardEvents(this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: this.popupKeyActionHandle.bind(this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        if (isNullOrUndefined(this.leftCalendar)) {\n                            this.preventBlur = true;\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.presetElement.setAttribute('tabindex', '-1');\n                        }\n                    }\n                    this.popupKeyBoardHandler();\n                }\n                if (this.isMobile && !Browser.isDevice) {\n                    EventHandler.add(document, 'keydown', this.popupCloseHandler, this);\n                }\n            },\n            close: () => {\n                attributes(this.inputElement, { 'aria-expanded': 'false' });\n                removeClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (this.isRangeIconClicked) {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                    this.unWireListEvents();\n                }\n                if (!isNullOrUndefined(this.popupObj)) {\n                    if (!isNullOrUndefined(this.popupObj.element.parentElement)) {\n                        detach(this.popupObj.element);\n                    }\n                    this.popupObj.destroy();\n                    this.popupObj = null;\n                }\n                if (this.isMobile && !Browser.isDevice) {\n                    EventHandler.remove(document, 'keydown', this.popupCloseHandler);\n                }\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        if (this.isMobile) {\n            this.popupObj.element.classList.add(DEVICE$1);\n            if (!this.isMobile) {\n                this.popupObj.element.classList.add('e-bigger');\n            }\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n            document.body.className += ' ' + OVERFLOW$1;\n            this.modal.style.display = 'block';\n        }\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    }\n    popupCloseHandler(e) {\n        switch (e.keyCode) {\n            case 27:\n                this.hide(e);\n                break;\n        }\n    }\n    calendarFocus() {\n        const startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n        if (startDate) {\n            let ele = closest(startDate, '.' + RIGHTCALENDER);\n            ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                ele.children[1].firstElementChild.focus();\n            }\n            addClass([startDate], FOCUSDATE);\n        }\n        else {\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n        }\n    }\n    presetHeight() {\n        const presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n        const rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n        if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n            presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n        }\n    }\n    presetKeyActionHandler(e) {\n        switch (e.action) {\n            case 'moveDown':\n                this.listMoveDown(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                this.listMoveUp(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'enter':\n                {\n                    const hvrItem = this.getHoverLI();\n                    const actItem = this.getActiveLI();\n                    if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n                        if (isNullOrUndefined(hvrItem) || (!isNullOrUndefined(actItem) && actItem === hvrItem)) {\n                            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                            const values = this.presetsItem[this.activeIndex];\n                            if (values.id === 'custom_range') {\n                                this.calendarFocus();\n                                actItem.classList.remove(HOVER);\n                                e.preventDefault();\n                                return;\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n                        this.onMouseClick(e, hvrItem || actItem);\n                    }\n                    e.preventDefault();\n                }\n                break;\n            case 'tab':\n                if (this.leftCalendar) {\n                    const item = this.getHoverLI();\n                    if (!isNullOrUndefined(item)) {\n                        item.classList.remove(HOVER);\n                    }\n                }\n                else {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    listMoveDown(e) {\n        const hvrItem = this.getHoverLI();\n        const actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            const li = hvrItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            const li = actItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n        else {\n            addClass([this.liCollections[0]], HOVER);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    listMoveUp(e) {\n        const hvrItem = this.getHoverLI();\n        const actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            const li = hvrItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            const li = actItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n    }\n    getHoverLI() {\n        const item = this.presetElement.querySelector('.' + HOVER);\n        return item;\n    }\n    getActiveLI() {\n        const item = this.presetElement.querySelector('.' + ACTIVE$1);\n        return item;\n    }\n    popupKeyBoardHandler() {\n        this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: { escape: 'escape' }\n        });\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: this.keyInputConfigs\n        });\n    }\n    setScrollPosition() {\n        const listHeight = this.presetElement.getBoundingClientRect().height;\n        const hover = this.presetElement.querySelector('.' + HOVER);\n        const active = this.presetElement.querySelector('.' + ACTIVE$1);\n        const element = !isNullOrUndefined(hover) ? hover : active;\n        if (!isNullOrUndefined(element)) {\n            const nextEle = element.nextElementSibling;\n            const height = nextEle ? nextEle.offsetTop : element.offsetTop;\n            const liHeight = element.getBoundingClientRect().height;\n            if ((height + element.offsetTop) > listHeight) {\n                this.presetElement.scrollTop = nextEle ? (height - (listHeight / 2 + liHeight / 2)) : height;\n            }\n            else {\n                this.presetElement.scrollTop = 0;\n            }\n        }\n    }\n    popupKeyActionHandle(e) {\n        const presetElement = closest(e.target, '.' + PRESETS);\n        switch (e.action) {\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    if (this.isKeyPopup) {\n                        this.inputElement.focus();\n                        this.isKeyPopup = false;\n                    }\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isPopupOpen()) {\n                    this.show(null, e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.cancelButton.element.focus();\n                }\n                else {\n                    if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else {\n                    if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n                        this.cancelButton.element.focus();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.presetElement) && (document.activeElement === this.cancelButton.element)) {\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.rightCalendar.children[1].firstElementChild.focus();\n                        }\n                    }\n                }\n                e.preventDefault();\n                break;\n        }\n    }\n    documentHandler(e) {\n        if (isNullOrUndefined(this.popupObj)) {\n            return;\n        }\n        const target = e.target;\n        if (!this.inputWrapper.container.contains(target) ||\n            (!isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]'))) {\n            if (e.type !== 'touchstart' && ((e.type === 'mousedown') ||\n                this.closeEventArgs && !this.closeEventArgs.cancel)) {\n                e.preventDefault();\n            }\n        }\n        if ((isNullOrUndefined(this.targetElement) ||\n            (!isNullOrUndefined(this.targetElement) && !(target === this.targetElement))) &&\n            !(closest(target, '[id=\"' + this.popupWrapper.id + '\"]'))\n            && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container)\n            && !(closest(target, '.e-daterangepicker.e-popup') && (!target.classList.contains('e-day')))) {\n            this.preventBlur = false;\n            if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n                this.applyFunction(e);\n                if (!this.isMobile) {\n                    this.isRangeIconClicked = false;\n                }\n            }\n        }\n    }\n    createInput() {\n        let updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            floatLabelType: this.floatLabelType,\n            element: this.inputElement,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [DATERANGEICON]\n        }, this.createElement);\n        attributes(this.inputElement, {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        });\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n            Input.addAttributes({ 'aria-placeholder': this.placeholder }, this.inputElement);\n        }\n        this.setEleWidth(this.width);\n        addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.inputElement.type === 'hidden') {\n            this.inputWrapper.container.style.display = 'none';\n        }\n        this.refreshControl();\n        this.previousEleValue = this.inputElement.value;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.startCopy = this.startDate;\n        this.endCopy = this.endDate;\n    }\n    setEleWidth(width) {\n        if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (this.width);\n        }\n        else if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    }\n    adjustLongHeaderWidth() {\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.popupWrapper], DAYHEADERLONG$1);\n        }\n    }\n    refreshControl() {\n        this.validateMinMax();\n        if (this.strictMode) {\n            this.validateRangeStrict();\n        }\n        const isDisabled = this.disabledDates();\n        if (this.strictMode && (isDisabled)) {\n            this.startValue = this.previousStartValue;\n            this.setProperties({ startDate: this.startValue }, true);\n            this.endValue = this.previousEndValue;\n            this.setProperties({ endDate: this.endValue }, true);\n            this.setValue();\n        }\n        this.updateInput();\n        if (!this.strictMode) {\n            this.validateRange();\n        }\n        if (!this.strictMode && (isDisabled)) {\n            this.clearRange();\n        }\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n            this.disabledDateRender();\n        }\n        this.errorClass();\n        this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n        this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    }\n    updateInput() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            const formatOption = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n            const startDate = this.globalize.formatDate(this.startValue, formatOption);\n            const endDate = this.globalize.formatDate(this.endValue, formatOption);\n            Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    }\n    checkInvalidRange(value) {\n        if (!isNullOrUndefined(value)) {\n            let invalid = false;\n            let startinvalue;\n            let endinvalue;\n            let startString = null;\n            let endString = null;\n            let valueString = null;\n            let startObject = false;\n            let endObject = false;\n            let invalidobject = false;\n            if (typeof (value) === 'string') {\n                const range = value.split(' ' + this.separator + ' ');\n                if (range.length === 2) {\n                    startString = range[0];\n                    endString = range[1];\n                }\n                else {\n                    invalid = true;\n                    valueString = value;\n                }\n            }\n            else {\n                if (value.length > 0) {\n                    startinvalue = value[0];\n                    endinvalue = value[1];\n                }\n                else {\n                    startinvalue = value.start;\n                    endinvalue = value.end;\n                }\n                if (!(startinvalue instanceof Date) && typeof (startinvalue) !== 'object') {\n                    startString = this.getstringvalue(startinvalue);\n                }\n                else if (startinvalue instanceof Date) {\n                    startObject = true;\n                }\n                else if (!isNullOrUndefined(startinvalue)) {\n                    invalidobject = true;\n                }\n                if (!(endinvalue instanceof Date) && typeof (endinvalue) !== 'object') {\n                    endString = this.getstringvalue(endinvalue);\n                }\n                else if (endinvalue instanceof Date) {\n                    endObject = true;\n                }\n                else if (!isNullOrUndefined(endinvalue)) {\n                    invalidobject = true;\n                }\n            }\n            if ((isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString)) ||\n                (!isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString))) {\n                invalid = true;\n            }\n            if (invalidobject) {\n                startString = endString = valueString = null;\n                invalid = true;\n            }\n            if (startString) {\n                invalid = invalid || this.checkInvalidValue(startString);\n            }\n            if (endString) {\n                invalid = invalid || this.checkInvalidValue(endString);\n            }\n            if (invalid) {\n                if (startObject && !invalidobject) {\n                    startString = startinvalue.toLocaleDateString();\n                }\n                if (endObject && !invalidobject) {\n                    endString = endinvalue.toLocaleDateString();\n                }\n                if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n                    valueString = startString + ' ' + this.separator + ' ' + endString;\n                }\n                else if (!isNullOrUndefined(startString)) {\n                    valueString = startString;\n                }\n                else if (!isNullOrUndefined(endString)) {\n                    valueString = endString;\n                }\n                this.invalidValueString = valueString;\n                this.setProperties({ value: null }, true);\n                this.setProperties({ startValue: null }, true);\n                this.setProperties({ endValue: null }, true);\n                this.startDate = null;\n                this.endDate = null;\n            }\n        }\n    }\n    getstringvalue(value) {\n        let stringValue = null;\n        if (!isNullOrUndefined(value) && (typeof value === 'number')) {\n            stringValue = (value).toString();\n        }\n        else if (!isNullOrUndefined(value) && (typeof value === 'string')) {\n            stringValue = '' + value;\n        }\n        return stringValue;\n    }\n    checkInvalidValue(value) {\n        const valueString = value;\n        let invalid = false;\n        let formatOpt = null;\n        formatOpt = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        if (typeof valueString !== 'string') {\n            invalid = true;\n        }\n        else {\n            const globalize = new Internationalization(this.locale);\n            if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n                let extISOStr = null;\n                let basISOString = null;\n                // eslint-disable-next-line\n                extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOStr.test(valueString) && !basISOString.test(valueString))\n                    || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                    invalid = true;\n                }\n            }\n        }\n        return invalid;\n    }\n    isDateDisabled(date) {\n        if (isNullOrUndefined(date)) {\n            return false;\n        }\n        const value = new Date(+date);\n        if (+value < +this.min || +value > +this.max) {\n            return true;\n        }\n        this.virtualRenderCellArgs = {\n            date: value,\n            isDisabled: false\n        };\n        const args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n        if (args.isDisabled) {\n            return true;\n        }\n        return false;\n    }\n    disabledDateRender() {\n        this.disabledDays = [];\n        this.disabledDayCnt = null;\n        const localDate = new Date(+this.startValue);\n        let count = 0;\n        while (+localDate <= +this.endValue) {\n            this.virtualRenderCellArgs = {\n                date: localDate,\n                isDisabled: false\n            };\n            const args = this.virtualRenderCellArgs;\n            this.virtualRenderCellEvent(args);\n            if (args.isDisabled) {\n                this.disabledDays.push(new Date(+args.date));\n                if (+localDate > +this.startValue && +localDate < +this.endValue) {\n                    count++;\n                }\n            }\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        this.disabledDayCnt = count;\n    }\n    virtualRenderCellEvent(args) {\n        extend(this.virtualRenderCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    }\n    disabledDates() {\n        let isStartDisabled = false;\n        let isEndDisabled = false;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            isStartDisabled = this.isDateDisabled(this.startValue);\n            isEndDisabled = this.isDateDisabled(this.endValue);\n            if (!this.isPopupOpen()) {\n                this.currentDate = null;\n            }\n            this.setValue();\n        }\n        return (isStartDisabled || isEndDisabled);\n    }\n    setModelValue() {\n        if (!this.value && this.startDate === null && this.endDate === null) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (this.value === null || this.value.start === null) {\n            if (this.value === null) {\n                this.setProperties({ value: [this.startDate, this.endDate] }, true);\n            }\n            else if (this.value.start === null) {\n                this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n            }\n        }\n        else {\n            if ((this.value && this.value.length > 0) ||\n                this.valueType && this.valueType.length > 0) {\n                if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n                    this.setProperties({ value: [this.startDate, this.endDate] }, true);\n                }\n                if (this.value && this.value[0] == null && this.value[1] == null) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            else {\n                if ((this.value && this.value.start)) {\n                    this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n                }\n            }\n        }\n        this.createHiddenInput();\n    }\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    dispatchEvent(element, type) {\n        const evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n        this.firstHiddenChild.dispatchEvent(evt);\n    }\n    changeTrigger(e) {\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n            this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n            this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n            this.setModelValue();\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.rangeArgs(e));\n            }\n        }\n        this.previousEleValue = this.inputElement.value;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @hidden\n     */\n    navigateTo(view, date) {\n        if (this.isPopupOpen()) {\n            if (view.toLowerCase() === 'month') {\n                view = 'Month';\n            }\n            else if (view.toLowerCase() === 'year') {\n                view = 'Year';\n            }\n            else if (view.toLowerCase() === 'decade') {\n                view = 'Decade';\n            }\n            else {\n                return;\n            }\n            if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n                view = this.depth;\n            }\n            if (this.isMobile) {\n                super.navigateTo.call(this, view, date);\n            }\n            else {\n                if (date < this.min) {\n                    date = new Date(+this.min);\n                }\n                else if (date >= this.max) {\n                    date = new Date(+this.max);\n                }\n                if (view === 'Month' && this.isSameMonth(date, this.max)) {\n                    date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n                }\n                else if (view === 'Year' && this.isSameYear(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 1), this.max.getMonth(), this.max.getDate());\n                }\n                else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 10), this.max.getMonth(), this.max.getDate());\n                }\n                this.leftCalCurrentDate = date;\n                this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n                if (view === 'Month') {\n                    date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n                }\n                else if (view === 'Year') {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n                }\n                else {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n                }\n                this.rightCalCurrentDate = date;\n                this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n                this.leftKeyboardModule = this.rightKeyboardModule = null;\n                this.updateNavIcons();\n            }\n            if (this.currentView() === this.depth) {\n                this.bindCalendarCellEvents();\n            }\n            this.removeFocusedDate();\n            this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        }\n    }\n    navigate(calendar, date, view) {\n        this.calendarElement = calendar;\n        this.table = calendar.querySelector('table');\n        this.tableBodyElement = calendar.querySelector('tbody');\n        this.headerTitleElement = calendar.querySelector('.e-title');\n        this.tableHeadElement = calendar.querySelector('thead');\n        this.contentElement = calendar.querySelector('.e-content');\n        this.previousIcon = calendar.querySelector('.e-prev');\n        this.nextIcon = calendar.querySelector('.e-next');\n        this.effect = ZOOMIN$1;\n        super.navigateTo.call(this, view, date);\n    }\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    focusIn() {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.inputElement.focus();\n        }\n    }\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        const isBlur = this.preventBlur;\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.preventBlur = false;\n            this.inputElement.blur();\n            this.preventBlur = isBlur;\n        }\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.unBindEvents();\n        this.hide(null);\n        const ariaAttrs = {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'aria-invalid': 'false', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            removeClass([this.inputElement], [ROOT$2]);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.inputElement.classList.remove('e-input');\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n            this.inputKeyboardModule.destroy();\n        }\n        if (this.popupObj) {\n            if (!this.isMobile) {\n                this.clearCalendarEvents();\n            }\n        }\n        super.destroy();\n        this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if ((!isNullOrUndefined(this.firstHiddenChild))\n            && (!isNullOrUndefined(this.secondHiddenChild))) {\n            detach(this.firstHiddenChild);\n            detach(this.secondHiddenChild);\n            this.firstHiddenChild = this.secondHiddenChild = null;\n            this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n            this.inputElement.removeAttribute('data-name');\n        }\n    }\n    ensureInputAttribute() {\n        const attr = [];\n        for (let i = 0; i < this.inputElement.attributes.length; i++) {\n            attr[i] = this.inputElement.attributes[i].name;\n        }\n        for (let i = 0; i < attr.length; i++) {\n            if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(attr[i]);\n            }\n            else {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n                }\n                this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n            }\n        }\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'daterangepicker';\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        const keyEntity = ['startDate', 'endDate', 'value'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     *\n     * @returns {Object}\n     */\n    getSelectedRange() {\n        let range;\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            this.disabledDateRender();\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n        }\n        else {\n            range = 0;\n        }\n        return { startDate: this.startValue, endDate: this.endValue, daySpan: range };\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     *\n     * @param {HTMLElement} element - Specifies element.\n     * @returns {void}\n     */\n    show(element, event) {\n        if (this.isMobile && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            if (!this.isPopupOpen()) {\n                if (element) {\n                    this.targetElement = element;\n                }\n                this.createPopup();\n                if (this.isMobile || Browser.isDevice) {\n                    this.mobileRangePopupWrap = this.createElement('div', { className: 'e-daterangepick-mob-popup-wrap' });\n                    document.body.appendChild(this.mobileRangePopupWrap);\n                }\n                this.openEventArgs = {\n                    popup: this.popupObj || null,\n                    cancel: false,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null,\n                    appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n                };\n                const eventArgs = this.openEventArgs;\n                this.trigger('open', eventArgs, (eventArgs) => {\n                    this.openEventArgs = eventArgs;\n                    if (!this.openEventArgs.cancel) {\n                        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n                        this.showPopup(element, event);\n                        const isPreset = (!this.isCustomRange || (this.isMobile && this.isCustomRange));\n                        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n                            this.setScrollPosition();\n                        }\n                        this.checkMinMaxDays();\n                        if ((this.isMobile) && (!isNullOrUndefined(this.startDate)) && (isNullOrUndefined(this.endDate))) {\n                            this.endButton.element.classList.add(ACTIVE$1);\n                            this.startButton.element.classList.remove(ACTIVE$1);\n                            this.endButton.element.removeAttribute('disabled');\n                            this.selectableDates();\n                        }\n                        super.setOverlayIndex(this.mobileRangePopupWrap, this.popupObj.element, this.modal, \n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.isMobile || Browser.isDevice);\n                    }\n                });\n            }\n        }\n    }\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     *\n     * @returns {void}\n     */\n    hide(event) {\n        if (this.popupObj) {\n            if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n                this.clearRange();\n            }\n            else {\n                if (!isNullOrUndefined(this.previousStartValue)) {\n                    this.startValue = new Date(this.checkValue(this.previousStartValue));\n                    this.setValue();\n                    this.currentDate = new Date(this.checkValue(this.startValue));\n                }\n                else {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    this.endValue = new Date(this.checkValue(this.previousEndValue));\n                    this.setValue();\n                }\n                else {\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if (this.isPopupOpen()) {\n                this.closeEventArgs = {\n                    cancel: false,\n                    popup: this.popupObj,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null\n                };\n                const eventArgs = this.closeEventArgs;\n                this.trigger('close', eventArgs, (eventArgs) => {\n                    this.closeEventArgs = eventArgs;\n                    if (!this.closeEventArgs.cancel) {\n                        if (this.isMobile) {\n                            if (!isNullOrUndefined(this.startButton) && !isNullOrUndefined(this.endButton)) {\n                                EventHandler.remove(this.startButton.element, 'click touchstart', this.deviceHeaderClick);\n                                EventHandler.remove(this.endButton.element, 'click touchstart', this.deviceHeaderClick);\n                            }\n                        }\n                        if (this.popupObj) {\n                            this.popupObj.hide();\n                            if (this.preventBlur) {\n                                this.inputElement.focus();\n                                addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n                            }\n                        }\n                        if (!this.isMobile) {\n                            if (!isNullOrUndefined(this.leftKeyboardModule) && !isNullOrUndefined(this.rightKeyboardModule)) {\n                                this.leftKeyboardModule.destroy();\n                                this.rightKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(this.presetElement)) {\n                                this.presetKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(this.cancelButton)) {\n                                this.btnKeyboardModule.destroy();\n                            }\n                        }\n                        this.targetElement = null;\n                        removeClass([document.body], OVERFLOW$1);\n                        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n                        if (this.isMobile && this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                        if (this.isMobile || Browser.isDevice) {\n                            if (!isNullOrUndefined(this.mobileRangePopupWrap)) {\n                                this.mobileRangePopupWrap.remove();\n                                this.mobileRangePopupWrap = null;\n                            }\n                        }\n                        this.isKeyPopup = this.dateDisabled = false;\n                    }\n                    else {\n                        removeClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n                    }\n                    this.updateClearIconState();\n                    this.updateHiddenInput();\n                    if (this.isMobile && this.allowEdit && !this.readonly) {\n                        this.inputElement.removeAttribute('readonly');\n                    }\n                });\n            }\n        }\n        else {\n            this.updateClearIconState();\n            this.updateHiddenInput();\n            if (this.isMobile && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    setLocale() {\n        this.globalize = new Internationalization(this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n        Input.setPlaceholder(this.placeholder, this.inputElement);\n        this.updateInput();\n        this.updateHiddenInput();\n        this.changeTrigger();\n    }\n    refreshChange() {\n        this.checkView();\n        this.refreshControl();\n        this.changeTrigger();\n    }\n    setDate() {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.refreshChange();\n    }\n    enableInput() {\n        if (+this.min <= +this.max) {\n            this.setProperties({ enabled: true }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n            if (this.element.hasAttribute('disabled')) {\n                this.bindEvents();\n            }\n        }\n    }\n    clearModelvalue(newProp, oldProp) {\n        this.setProperties({ startDate: null }, true);\n        this.setProperties({ endDate: null }, true);\n        if (oldProp.value && oldProp.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (oldProp.value && oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        else if (oldProp.value && !oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        this.updateValue();\n        this.setDate();\n    }\n    createHiddenInput() {\n        if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n            this.firstHiddenChild = this.createElement('input');\n            this.secondHiddenChild = this.createElement('input');\n        }\n        if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n            this.inputElement.removeAttribute('name');\n        }\n        attributes(this.firstHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        attributes(this.secondHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        const format = { type: 'datetime', skeleton: 'yMd' };\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n        this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n        this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    }\n    setMinMaxDays() {\n        if (this.isPopupOpen()) {\n            this.removeClassDisabled();\n            this.checkMinMaxDays();\n            if (this.isMobile) {\n                this.selectableDates();\n            }\n            if (!this.strictMode && (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                this.removeSelection();\n            }\n            else {\n                this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n            }\n            this.updateHeader();\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (const prop of Object.keys(newProp)) {\n            const openPopup = ['maxDays', 'minDays', 'value'];\n            if (openPopup.indexOf(prop) < 0) {\n                this.hide(null);\n            }\n            switch (prop) {\n                case 'width':\n                    this.setEleWidth(this.width);\n                    break;\n                case 'separator':\n                    this.previousEleValue = this.inputElement.value;\n                    this.setProperties({ separator: newProp.separator }, true);\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.setProperties({ placeholder: newProp.placeholder }, true);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n                    this.setRangeAllowEdit();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (this.enabled) {\n                        this.inputElement.setAttribute('tabindex', this.tabIndex);\n                    }\n                    else {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setRangeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.setLocale();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.setDataAttribute(true);\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'startDate':\n                    if (typeof newProp.startDate === 'string') {\n                        newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n                    }\n                    if (+this.initStartDate !== +newProp.startDate) {\n                        this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'endDate':\n                    if (typeof newProp.endDate === 'string') {\n                        newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n                    }\n                    if (+this.initEndDate !== +newProp.endDate) {\n                        this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidRange(newProp.value);\n                    if (typeof (newProp.value) === 'string') {\n                        if (!this.invalidValueString) {\n                            const rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                            this.updateValue();\n                            this.setDate();\n                        }\n                        else {\n                            this.clearModelvalue(newProp, oldProp);\n                        }\n                    }\n                    else {\n                        if ((!isNullOrUndefined(newProp.value) && newProp.value.length > 0)\n                            || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                            this.valueType = newProp.value;\n                            if (newProp.value[0] === null || (newProp.value.start === null)) {\n                                if (newProp.value.length === 1 || (newProp.value.start)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                                else if (newProp.value[1] === null ||\n                                    (newProp.value.start === null)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                            }\n                            else if ((+this.initStartDate !== +newProp.value[0]\n                                || +this.initEndDate !== +newProp.value[1]) ||\n                                (+this.initStartDate !== +(newProp.value.start\n                                    || +this.initEndDate !== +newProp.value.start))) {\n                                if (newProp.value.length === 1) {\n                                    this.modelValue = newProp.value;\n                                }\n                                else if (newProp.value.start) {\n                                    this.modelValue = newProp.value;\n                                }\n                                this.updateValue();\n                                this.setDate();\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(this.value)\n                                || newProp.value.start == null) {\n                                this.valueType = newProp.value;\n                                this.startValue = null;\n                                this.endValue = null;\n                                this.clearModelvalue(newProp, oldProp);\n                            }\n                        }\n                    }\n                    if (this.isPopupOpen()) {\n                        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n                            this.removeSelection();\n                            if (this.isMobile) {\n                                this.deviceHeaderUpdate();\n                            }\n                            return;\n                        }\n                        if (this.isMobile) {\n                            this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n                            this.deviceHeaderUpdate();\n                        }\n                        else {\n                            this.navigate(this.leftCalendar, this.startValue, this.currentView());\n                            this.updateControl(this.leftCalendar);\n                            this.navigate(this.rightCalendar, this.endValue, this.currentView());\n                            this.updateControl(this.rightCalendar);\n                        }\n                        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n                        this.updateHeader();\n                        this.applyButton.disabled = this.applyButton.element.disabled = false;\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'minDays':\n                    this.setProperties({ minDays: newProp.minDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'maxDays':\n                    this.setProperties({ maxDays: newProp.maxDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'min':\n                    this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    this.previousEleValue = this.inputElement.value;\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'max':\n                    this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.refreshChange();\n                    break;\n                case 'presets':\n                    this.setProperties({ presets: newProp.presets }, true);\n                    this.processPresets();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'start':\n                    this.setProperties({ start: newProp.start }, true);\n                    this.refreshChange();\n                    break;\n                case 'depth':\n                    this.setProperties({ depth: newProp.depth }, true);\n                    this.refreshChange();\n                    break;\n            }\n        }\n    }\n};\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"value\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"enablePersistence\", void 0);\n__decorate$2([\n    Property(new Date(1900, 0, 1))\n], DateRangePicker.prototype, \"min\", void 0);\n__decorate$2([\n    Property(new Date(2099, 11, 31))\n], DateRangePicker.prototype, \"max\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"locale\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"weekNumber\", void 0);\n__decorate$2([\n    Property('Gregorian')\n], DateRangePicker.prototype, \"calendarMode\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"openOnFocus\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"created\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"destroyed\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"change\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"cleared\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"navigated\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"renderDayCell\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"startDate\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"endDate\", void 0);\n__decorate$2([\n    Collection([{}], Presets)\n], DateRangePicker.prototype, \"presets\", void 0);\n__decorate$2([\n    Property('')\n], DateRangePicker.prototype, \"width\", void 0);\n__decorate$2([\n    Property(1000)\n], DateRangePicker.prototype, \"zIndex\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"showClearButton\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"showTodayButton\", void 0);\n__decorate$2([\n    Property('Month')\n], DateRangePicker.prototype, \"start\", void 0);\n__decorate$2([\n    Property('Month')\n], DateRangePicker.prototype, \"depth\", void 0);\n__decorate$2([\n    Property('')\n], DateRangePicker.prototype, \"cssClass\", void 0);\n__decorate$2([\n    Property('-')\n], DateRangePicker.prototype, \"separator\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"minDays\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"maxDays\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"strictMode\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"keyConfigs\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"format\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"enabled\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"readonly\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"allowEdit\", void 0);\n__decorate$2([\n    Property('Never')\n], DateRangePicker.prototype, \"floatLabelType\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"placeholder\", void 0);\n__decorate$2([\n    Property({})\n], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"open\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"close\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"select\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"focus\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"blur\", void 0);\nDateRangePicker = __decorate$2([\n    NotifyPropertyChanges\n], DateRangePicker);\n\n/**\n * DateRangePicker modules\n */\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst WRAPPERCLASS = 'e-time-wrapper';\nconst POPUP$2 = 'e-popup';\nconst ERROR$2 = 'e-error';\nconst POPUPDIMENSION = '240px';\nconst DAY = new Date().getDate();\nconst MONTH$2 = new Date().getMonth();\nconst YEAR$2 = new Date().getFullYear();\nconst ROOT$3 = 'e-timepicker';\nconst LIBRARY$2 = 'e-lib';\nconst CONTROL$2 = 'e-control';\nconst CONTENT$2 = 'e-content';\nconst SELECTED$4 = 'e-active';\nconst HOVER$1 = 'e-hover';\nconst NAVIGATION = 'e-navigation';\nconst DISABLED$3 = 'e-disabled';\nconst ICONANIMATION = 'e-icon-anim';\nconst FOCUS = 'e-input-focus';\nconst LISTCLASS$1 = 'e-list-item';\nconst HALFPOSITION = 2;\nconst ANIMATIONDURATION = 50;\nconst OVERFLOW$2 = 'e-time-overflow';\nconst OFFSETVAL = 4;\nconst EDITABLE = 'e-non-edit';\nconst wrapperAttributes = ['title', 'class', 'style'];\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TimePickerBase;\n(function (TimePickerBase) {\n    // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        if (this.calendarMode === 'Gregorian') {\n            \n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            \n        }\n        let start;\n        const interval = step * 60000;\n        const listItems = [];\n        const timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        const end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        const listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\nclass TimeMaskPlaceholder extends ChildProperty {\n}\n__decorate$3([\n    Property('day')\n], TimeMaskPlaceholder.prototype, \"day\", void 0);\n__decorate$3([\n    Property('month')\n], TimeMaskPlaceholder.prototype, \"month\", void 0);\n__decorate$3([\n    Property('year')\n], TimeMaskPlaceholder.prototype, \"year\", void 0);\n__decorate$3([\n    Property('day of the week')\n], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n__decorate$3([\n    Property('hour')\n], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n__decorate$3([\n    Property('minute')\n], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n__decorate$3([\n    Property('second')\n], TimeMaskPlaceholder.prototype, \"second\", void 0);\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nlet TimePicker = class TimePicker extends Component {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {TimePickerModel} options - Specifies the TimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.liCollections = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        this.invalidValueString = null;\n        this.isAngular = false;\n        this.preventChange = false;\n        this.maskedDateValue = '';\n        this.moduleName = this.getModuleName();\n        this.timeOptions = options;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        this.openPopupEventArgs = {\n            appendTo: document.body\n        };\n    }\n    // element creation\n    render() {\n        this.initialize();\n        this.createInputElement();\n        this.updateHtmlAttributeToWrapper();\n        this.setTimeAllowEdit();\n        this.setEnable();\n        this.validateInterval();\n        this.bindEvents();\n        this.validateDisable();\n        this.setValue(this.getFormattedValue(this.value));\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n            this.checkErrorState(this.maskedDateValue);\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputEleValue = this.getDateObject(this.inputElement.value);\n        this.renderComplete();\n    }\n    setTimeAllowEdit() {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    }\n    clearIconState() {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    }\n    validateDisable() {\n        this.setMinMax(this.initMin, this.initMax);\n        this.popupCreation();\n        this.popupObj.destroy();\n        this.popupWrapper = this.popupObj = null;\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    }\n    validationAttribute(target, input) {\n        const name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        const attributes$$1 = ['required', 'aria-required', 'form'];\n        for (let i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            const attr = target.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            target.removeAttribute(attributes$$1[i]);\n        }\n    }\n    initialize() {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        const localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n    }\n    checkTimeFormat() {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                const skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    }\n    checkDateValue(value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    }\n    createInputElement() {\n        let updatedCssClassesValue = this.cssClass;\n        let isBindClearAction = this.enableMask ? false : true;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            bindClearAction: isBindClearAction,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    }\n    getCldrDateTimeFormat() {\n        const culture = new Internationalization(this.locale);\n        let cldrTime;\n        const dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    }\n    checkInvalidValue(value) {\n        let isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            let valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            let valueExpression = null;\n            let valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                let extISOString = null;\n                let basicISOString = null;\n                // eslint-disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    }\n    requiredModules() {\n        const modules = [];\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    cldrFormat(type) {\n        let cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    }\n    // destroy function\n    destroy() {\n        this.hide();\n        this.unBindEvents();\n        const ariaAttribute = {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'true', 'aria-invalid': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            if (this.angularTag === null) {\n                this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n            }\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.enableElement([this.inputElement]);\n            this.inputElement.classList.remove('e-input');\n            if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                Input.setEnabled(true, this.inputElement, this.floatLabelType);\n            }\n        }\n        if (this.inputWrapper.container) {\n            detach(this.inputWrapper.container);\n        }\n        this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n        this.liCollections = this.timeCollections = this.disableItemCollection = [];\n        if (!isNullOrUndefined(this.rippleFn)) {\n            this.rippleFn();\n        }\n        super.destroy();\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    }\n    ensureInputAttribute() {\n        const propertyList = [];\n        for (let i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (let i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    }\n    //popup creation\n    popupCreation() {\n        this.popupWrapper = this.createElement('div', {\n            className: ROOT$3 + ' ' + POPUP$2,\n            attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n        });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.generateList();\n            append([this.listWrapper], this.popupWrapper);\n        }\n        this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    }\n    getPopupHeight() {\n        const height = parseInt(POPUPDIMENSION, 10);\n        const popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    }\n    generateList() {\n        this.createListItems();\n        this.wireListEvents();\n        const rippleModel = { duration: 300, selector: '.' + LISTCLASS$1 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n    }\n    renderPopup() {\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: () => {\n                this.popupWrapper.style.visibility = 'visible';\n                addClass([this.inputWrapper.buttons[0]], SELECTED$4);\n            }, close: () => {\n                removeClass([this.inputWrapper.buttons[0]], SELECTED$4);\n                this.unWireListEvents();\n                this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(this.popupObj.element);\n                this.popupObj.destroy();\n                this.popupWrapper.innerHTML = '';\n                this.listWrapper = this.popupWrapper = this.listTag = undefined;\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    }\n    //util function\n    getFormattedValue(value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: 'medium', type: 'time' });\n        }\n    }\n    getDateObject(text) {\n        if (!this.isNullOrEmpty(text)) {\n            const dateValue = this.createDateObj(text);\n            const value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                const date = value ? this.initValue.getDate() : DAY;\n                const month = value ? this.initValue.getMonth() : MONTH$2;\n                const year = value ? this.initValue.getFullYear() : YEAR$2;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    }\n    updateHtmlAttributeToWrapper() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        const updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        let timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    }\n    updateHtmlAttributeToElement() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    }\n    updateCssClass(cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    }\n    removeErrorClass() {\n        removeClass([this.inputWrapper.container], ERROR$2);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    }\n    checkErrorState(val) {\n        const value = this.getDateObject(val);\n        if ((this.validateState(value) && !this.invalidValueString) || (this.enableMask && this.inputElement.value === this.maskedDateValue)) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$2);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    }\n    validateInterval() {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    }\n    disableTimeIcon() {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    }\n    disableElement(element) {\n        addClass(element, DISABLED$3);\n    }\n    enableElement(element) {\n        removeClass(element, DISABLED$3);\n    }\n    selectInputText() {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    }\n    setCursorToEnd() {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    }\n    getMeridianText() {\n        let meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n        }\n        else {\n            const gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n            const mainVal = 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    }\n    getCursorSelection() {\n        const input = (this.inputElement);\n        let start = 0;\n        let end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    }\n    getActiveElement() {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n        }\n        else {\n            return null;\n        }\n    }\n    isNullOrEmpty(value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    setWidth(width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    }\n    setPopupWidth(width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            const inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    }\n    setScrollPosition() {\n        const element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    }\n    findScrollTop(element) {\n        const listHeight = this.getPopupHeight();\n        const nextEle = element.nextElementSibling;\n        const height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        const liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    }\n    setScrollTo() {\n        let element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            const items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                const initialTime = this.timeCollections[0];\n                const scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    }\n    getText() {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    }\n    getValue(value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    }\n    cldrDateFormat() {\n        let cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    }\n    cldrTimeFormat() {\n        let cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    }\n    dateToNumeric() {\n        let cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    }\n    getExactDateTime(value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    }\n    setValue(value) {\n        const time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    }\n    compareFormatChange(value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    }\n    updatePlaceHolder() {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    }\n    //event related functions\n    updateInputValue(value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    preventEventBubbling(e) {\n        e.preventDefault();\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n    }\n    popupHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        if (this.isPopupOpen()) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    }\n    mouseDownHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.readonly) {\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    }\n    mouseUpHandler(event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            if (this.enableMask) {\n                event.preventDefault();\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n                return;\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n                const curPos = this.getCursorSelection();\n                if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                    if (this.inputElement.value.length > 0) {\n                        this.cursorDetails = this.focusSelection();\n                    }\n                    this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n                }\n            }\n        }\n    }\n    focusSelection() {\n        const regex = new RegExp('^[a-zA-Z0-9]+$');\n        const split = this.inputElement.value.split('');\n        split.push(' ');\n        const curPos = this.getCursorSelection();\n        let start = 0;\n        let end = 0;\n        let isSeparator = false;\n        if (!this.isTextSelected) {\n            for (let i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        // eslint-disable-next-line no-self-assign\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    }\n    inputHandler(event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n                        event.preventDefault();\n                        this.notify(\"keyDownHandler\", {\n                            module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    if (!this.enableMask || this.isPopupOpen()) {\n                        this.keyHandler(event);\n                    }\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.updateValue(this.valueWithMinutes, event);\n                    }\n                    else {\n                        this.updateValue(this.inputElement.value, event);\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    this.show(event);\n                    break;\n                case 'escape':\n                    this.updateInputValue(this.objToString(this.value));\n                    if (this.enableMask) {\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                        this.createMask();\n                    }\n                    this.previousState(this.value);\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                case 'right':\n                case 'left':\n                case 'tab':\n                case 'shiftTab':\n                    if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n                        if ((this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length) ||\n                            (this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab') ||\n                            (this.inputElement.selectionStart !== 0 && event.action == 'shiftTab') || (event.action == 'left' || event.action == 'right')) {\n                            event.preventDefault();\n                        }\n                        this.notify(\"keyDownHandler\", { module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    }\n    onMouseClick(event) {\n        const target = event.target;\n        const li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS$1)) {\n            this.hide();\n        }\n    }\n    closePopup(delay, e) {\n        if (this.isPopupOpen() && this.popupWrapper) {\n            const args = {\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW$2);\n            this.trigger('close', args, (args) => {\n                if (!args.cancel) {\n                    const animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    this.popupObj.hide(new Animation(animModel));\n                    removeClass([this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(this.inputElement, { 'aria-expanded': 'false' });\n                    EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n                }\n                if (Browser.isDevice && this.modal) {\n                    this.modal.style.display = 'none';\n                    this.modal.outerHTML = '';\n                    this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(this.mobileTimePopupWrap)) {\n                        this.mobileTimePopupWrap.remove();\n                        this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                    this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    }\n    disposeServerPopup() {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    }\n    checkValueChange(event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                const value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    }\n    onMouseOver(event) {\n        const currentLi = closest(event.target, '.' + LISTCLASS$1);\n        this.setHover(currentLi, HOVER$1);\n    }\n    setHover(li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    }\n    setSelection(li, event) {\n        if (this.isValidLI(li)) {\n            this.checkValue(li.getAttribute('data-value'));\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n            this.selectedElement = li;\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.checkValueChange(event, true);\n        }\n    }\n    onMouseLeave() {\n        this.removeHover(HOVER$1);\n    }\n    scrollHandler() {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    }\n    setMinMax(minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    validateMinMax(dateVal, minVal, maxVal) {\n        const value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    }\n    valueIsDisable(value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            const time = value instanceof Date ? this.objToString(value) : value;\n            for (let index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    validateState(val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                const value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                const maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                const minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    strictOperation(minimum, maximum, dateVal, val) {\n        const maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        const minValue = this.createDateObj(this.getFormattedValue(minimum));\n        const value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                if (this.enableMask) {\n                    this.createMask();\n                }\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    }\n    bindEvents() {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    }\n    keydownHandler(e) {\n        switch (e.code) {\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    formResetHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            let timeValue = this.inputElement.getAttribute('value');\n            let val = this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: val }, true);\n            this.prevDate = this.value;\n            this.valueWithMinutes = this.value;\n            this.initValue = this.value;\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (this.enableMask) {\n                    if (!timeValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    this.createMask();\n                }\n                this.checkErrorState(timeValue);\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    }\n    inputChangeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    }\n    inputEventHandler() {\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    unBindEvents() {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    }\n    bindClearEvent() {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    }\n    raiseClearedEvent(e) {\n        const clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    }\n    clearHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    clear(event) {\n        this.setProperties({ value: null }, true);\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        this.changeEvent(event);\n    }\n    setZIndex() {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    }\n    checkAttributes(isDynamic) {\n        const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        let value;\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            const enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.initValue = value;\n                                this.updateInput(false, this.initValue);\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    setCurrentDate(value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    }\n    getTextFormat() {\n        let time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            const strArray = this.cldrTimeFormat().split(' ');\n            for (let i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    }\n    updateValue(value, event) {\n        let val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                const inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n                if (this.enableMask) {\n                    if (!inputVal) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    this.createMask();\n                }\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    }\n    previousState(date) {\n        const value = this.getDateObject(date);\n        for (let i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    }\n    resetState() {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode) {\n            this.checkErrorState(null);\n        }\n    }\n    objToString(val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    }\n    checkValue(value) {\n        if (!this.isNullOrEmpty(value)) {\n            const date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    }\n    validateValue(date, value) {\n        let time;\n        const val = this.validateMinMax(value, this.min, this.max);\n        const newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            const value = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value);\n            if (this.enableMask) {\n                if (!value) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        else {\n            this.updateInputValue(time);\n            if (this.enableMask) {\n                if (time == '') {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n                this.createMask();\n            }\n        }\n        return time;\n    }\n    createMask() {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    }\n    findNextElement(event) {\n        const textVal = (this.inputElement).value;\n        const value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        let timeVal = null;\n        const count = this.liCollections.length;\n        const collections = this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                const index = this.validLiElement(0);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                const index = this.validLiElement(collections.length - 1, true);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (let i = 0; i < count; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            const index = this.validLiElement(i);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            const index = this.validLiElement(0);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (let i = count - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            const index = this.validLiElement(i, true);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            const index = this.validLiElement(count - 1);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    }\n    selectNextItem(event) {\n        const index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        this.elementValue(new Date(this.timeCollections[index]));\n    }\n    elementValue(value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    }\n    validLiElement(index, backward) {\n        let elementIndex = null;\n        const items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n            this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n        let isCheck = true;\n        if (items.length) {\n            if (backward) {\n                for (let i = index; i >= 0; i--) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === 0) {\n                        if (isCheck) {\n                            index = i = items.length;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n            else {\n                for (let i = index; i <= items.length - 1; i++) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === items.length - 1) {\n                        if (isCheck) {\n                            index = i = -1;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    }\n    keyHandler(event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n            return;\n        }\n        const count = this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    const index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    this.selectedElement = this.liCollections[index];\n                    this.elementValue(new Date(this.timeCollections[index]));\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n            else {\n                this.findNextElement(event);\n            }\n        }\n        else {\n            let nextItem;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                let index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                const index = this.validLiElement(0);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            else if (event.action === 'end') {\n                const index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(new Date(nextItem));\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        this.selectInputText();\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    }\n    getCultureTimeObject(ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    }\n    getCultureDateObject(ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    }\n    wireListEvents() {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    }\n    unWireListEvents() {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    }\n    valueProcess(event, value) {\n        const result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    }\n    changeEvent(e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        const eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n        }\n        else {\n            this.trigger('change', eventArgs);\n        }\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    }\n    updateInput(isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    }\n    setActiveDescendant() {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    }\n    removeSelection() {\n        this.removeHover(HOVER$1);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            const items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n            if (items.length) {\n                removeClass(items, SELECTED$4);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    }\n    removeHover(className) {\n        const hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    }\n    getHoverItem(className) {\n        let hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    }\n    setActiveClass() {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            const items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                for (let i = 0; i < items.length; i++) {\n                    if ((this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    addSelection() {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    }\n    isValidLI(li) {\n        return (li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3));\n    }\n    createDateObj(val) {\n        const formatStr = null;\n        let today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        let value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.timeParse(today, val);\n                }\n            }\n            else {\n                value = this.timeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    }\n    timeParse(today, val) {\n        let value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    }\n    createListItems() {\n        this.listWrapper = this.createElement('div', { className: CONTENT$2, attrs: { 'tabindex': '0' } });\n        let start;\n        const interval = this.step * 60000;\n        const listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        const end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        const listBaseOptions = {\n            itemCreated: (args) => {\n                const eventArgs = {\n                    element: args.item,\n                    text: args.text, value: this.getDateObject(args.text), isDisabled: false\n                };\n                this.trigger('itemRender', eventArgs, (eventArgs) => {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED$3);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED$3)) {\n                        this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([this.listTag], this.listWrapper);\n    }\n    documentClickHandler(event) {\n        const target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    }\n    setEnableRtl() {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    }\n    setEnable() {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    }\n    getProperty(date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    }\n    inputBlurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        const blurArguments = {\n            model: this\n        };\n        this.trigger('blur', blurArguments);\n        if (this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    }\n    /**\n     * Focuses out the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            const blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    }\n    isPopupOpen() {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n            return true;\n        }\n        return false;\n    }\n    inputFocusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        const focusArguments = {\n            model: this\n        };\n        if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n            this.selectInputText();\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n        if (this.openOnFocus) {\n            this.show();\n        }\n    }\n    /**\n     * Focused the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    focusIn() {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    }\n    /**\n     * Hides the TimePicker popup.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    hide() {\n        this.closePopup(100, null);\n        this.clearIconState();\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup to show the list items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    show(event) {\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT$3 + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW$2;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.popupObj || null,\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            const eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, (eventArgs) => {\n                this.openPopupEventArgs = eventArgs;\n                if (!this.openPopupEventArgs.cancel && !this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n                    this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n                    this.popupAlignment(this.openPopupEventArgs);\n                    this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        this.inputElement.focus();\n                    }\n                    const openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION\n                    };\n                    this.popupObj.refreshPosition(this.anchor);\n                    if (this.zIndex === 1000) {\n                        this.popupObj.show(new Animation(openAnimation), this.element);\n                    }\n                    else {\n                        this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    this.setActiveDescendant();\n                    attributes(this.inputElement, { 'aria-expanded': 'true' });\n                    addClass([this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', this.documentClickHandler, this);\n                    this.setOverlayIndex(this.mobileTimePopupWrap, this.popupObj.element, this.modal, Browser.isDevice);\n                }\n                else {\n                    this.popupObj.destroy();\n                    this.popupWrapper = this.listTag = undefined;\n                    this.liCollections = this.timeCollections = this.disableItemCollection = [];\n                    this.popupObj = null;\n                }\n            });\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    setOverlayIndex(popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            const index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    }\n    formatValues(type) {\n        let value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    }\n    popupAlignment(args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        const keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'timepicker';\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    this.setEnableRtl();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.createMask();\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    if (!this.invalidValueString) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                            newProp.value = this.value;\n                        }\n                        else {\n                            if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                            }\n                        }\n                        this.initValue = newProp.value;\n                        newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                    }\n                    else {\n                        this.updateInputValue(this.invalidValueString);\n                        this.checkErrorState(this.invalidValueString);\n                    }\n                    this.checkValueChange(null, false);\n                    if (this.isPopupOpen()) {\n                        this.setScrollPosition();\n                    }\n                    if (this.isAngular && this.preventChange) {\n                        this.preventChange = false;\n                    }\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    if (newProp.strictMode) {\n                        this.checkErrorState(null);\n                    }\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.checkValue((this.inputElement).value);\n                    this.checkValueChange(null, false);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n            }\n        }\n    }\n    checkInValue(inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    }\n};\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"width\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"cssClass\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"strictMode\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"keyConfigs\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"format\", void 0);\n__decorate$3([\n    Property(true)\n], TimePicker.prototype, \"enabled\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"readonly\", void 0);\n__decorate$3([\n    Property({})\n], TimePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$3([\n    Property('Never')\n], TimePicker.prototype, \"floatLabelType\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"placeholder\", void 0);\n__decorate$3([\n    Property(1000)\n], TimePicker.prototype, \"zIndex\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"enablePersistence\", void 0);\n__decorate$3([\n    Property(true)\n], TimePicker.prototype, \"showClearButton\", void 0);\n__decorate$3([\n    Property(30)\n], TimePicker.prototype, \"step\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"scrollTo\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"value\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"min\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"max\", void 0);\n__decorate$3([\n    Property(true)\n], TimePicker.prototype, \"allowEdit\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"openOnFocus\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"enableMask\", void 0);\n__decorate$3([\n    Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n], TimePicker.prototype, \"maskPlaceholder\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"change\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"created\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"destroyed\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"open\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"itemRender\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"close\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"cleared\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"blur\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"focus\", void 0);\nTimePicker = __decorate$3([\n    NotifyPropertyChanges\n], TimePicker);\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\nconst DATEWRAPPER$1 = 'e-date-wrapper';\nconst DATEPICKERROOT = 'e-datepicker';\nconst DATETIMEWRAPPER = 'e-datetime-wrapper';\nconst DAY$1 = new Date().getDate();\nconst MONTH$3 = new Date().getMonth();\nconst YEAR$3 = new Date().getFullYear();\nconst HOUR = new Date().getHours();\nconst MINUTE = new Date().getMinutes();\nconst SECOND = new Date().getSeconds();\nconst MILLISECOND = new Date().getMilliseconds();\nconst ROOT$4 = 'e-datetimepicker';\nconst DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nconst INPUTWRAPPER$1 = 'e-input-group-icon';\nconst POPUP$3 = 'e-popup';\nconst TIMEICON$1 = 'e-time-icon';\nconst INPUTFOCUS$2 = 'e-input-focus';\nconst POPUPDIMENSION$1 = '250px';\nconst ICONANIMATION$1 = 'e-icon-anim';\nconst DISABLED$4 = 'e-disabled';\nconst ERROR$3 = 'e-error';\nconst CONTENT$3 = 'e-content';\nconst NAVIGATION$1 = 'e-navigation';\nconst ACTIVE$2 = 'e-active';\nconst HOVER$2 = 'e-hover';\nconst ICONS$1 = 'e-icons';\nconst HALFPOSITION$1 = 2;\nconst LISTCLASS$2 = 'e-list-item';\nconst ANIMATIONDURATION$1 = 100;\nconst OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nlet DateTimePicker = class DateTimePicker extends DatePicker {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.valueWithMinutes = null;\n        this.scrollInvoked = false;\n        this.moduleName = this.getModuleName();\n        this.dateTimeOptions = options;\n    }\n    focusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        addClass([this.inputWrapper.container], INPUTFOCUS$2);\n    }\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    focusIn() {\n        super.focusIn();\n    }\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n        }\n    }\n    blurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n        const blurArguments = {\n            model: this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        const ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            this.inputElement.removeAttribute('aria-placeholder');\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        super.destroy();\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        super.updateHtmlAttributeToElement();\n        this.checkAttributes(false);\n        const localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        super.render();\n        this.createInputElement();\n        super.updateHtmlAttributeToWrapper();\n        this.bindInputEvents();\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.setValue();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo))) }, true);\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        this.renderComplete();\n    }\n    setValue() {\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            const value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        super.updateInput();\n    }\n    validateMinMaxRange(value) {\n        let result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    }\n    checkValidState(value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    }\n    checkErrorState() {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR$3);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$3);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    }\n    validateValue(value) {\n        let dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    }\n    disablePopupButton(isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n        }\n    }\n    getFormattedValue(value) {\n        let dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    }\n    isDateObject(value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    }\n    createInputElement() {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT$4);\n        this.renderTimeIcon();\n    }\n    renderTimeIcon() {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n    }\n    bindInputEvents() {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    }\n    unBindInputEvents() {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    }\n    cldrTimeFormat() {\n        let cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    }\n    cldrDateTimeFormat() {\n        let cldrTime;\n        const culture = new Internationalization(this.locale);\n        const dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getCldrFormat(type) {\n        let cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    }\n    isNullOrEmpty(value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getCultureTimeObject(ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    }\n    timeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                super.hide(e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n            }\n        }\n        this.isIconClicked = false;\n    }\n    dateHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    }\n    show(type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                super.show();\n                this.popupCreation('date', e);\n            }\n        }\n    }\n    toggle(e) {\n        if (this.isDatePopupOpen()) {\n            super.hide(e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            super.show(null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    }\n    listCreation() {\n        let dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        const value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject :\n            new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT$3, attrs: { 'tabindex': '0' } });\n        const min = this.startTime(value);\n        const max = this.endTime(value);\n        const listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        const rippleModel = { duration: 300, selector: '.' + LISTCLASS$2 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n    }\n    popupCreation(type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT$4 + ' ' + POPUP$3,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    }\n    openPopup(e) {\n        this.preventArgs = {\n            cancel: false,\n            popup: this.popupObject,\n            event: e || null\n        };\n        const eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, (eventArgs) => {\n            this.preventArgs = eventArgs;\n            if (!this.preventArgs.cancel && !this.readonly) {\n                const openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION$1\n                };\n                if (this.zIndex === 1000) {\n                    this.popupObject.show(new Animation(openAnimation), this.element);\n                }\n                else {\n                    this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([this.inputWrapper.container], [ICONANIMATION$1]);\n                attributes(this.inputElement, { 'aria-expanded': 'true' });\n                EventHandler.add(document, 'mousedown touchstart', this.documentClickHandler, this);\n            }\n        });\n    }\n    documentClickHandler(event) {\n        const target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]'))) && target !== this.inputElement\n            && target !== this.timeIcon && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    }\n    isTimePopupOpen() {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4)) ? true : false;\n    }\n    isDatePopupOpen() {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    }\n    renderPopup() {\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW$3;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        const offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: () => {\n                this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([this.timeIcon], ACTIVE$2);\n                if (!Browser.isDevice) {\n                    this.timekeyConfigure = extend(this.timekeyConfigure, this.keyConfigs);\n                    this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                        keyAction: this.timeKeyActionHandle.bind(this),\n                        keyConfigs: this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: () => {\n                removeClass([this.timeIcon], ACTIVE$2);\n                this.unWireTimeListEvents();\n                this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(this.popupObject.element);\n                this.popupObject.destroy();\n                this.dateTimeWrapper.innerHTML = '';\n                this.listWrapper = this.dateTimeWrapper = undefined;\n                if (this.inputEvent) {\n                    this.inputEvent.destroy();\n                }\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n    }\n    setDimension(width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            // eslint-disable-next-line no-self-assign\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    }\n    setPopupWidth() {\n        let width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            const inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    }\n    wireTimeListEvents() {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    }\n    unWireTimeListEvents() {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    }\n    onMouseOver(event) {\n        const currentLi = closest(event.target, '.' + LISTCLASS$2);\n        this.setTimeHover(currentLi, HOVER$2);\n    }\n    onMouseLeave() {\n        this.removeTimeHover(HOVER$2);\n    }\n    setTimeHover(li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    }\n    getPopupHeight() {\n        const height = parseInt(POPUPDIMENSION$1, 10);\n        const popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    }\n    changeEvent(e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            super.changeEvent(e);\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    }\n    updateValue(e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.value;\n        }\n    }\n    setTimeScrollPosition() {\n        const popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    }\n    findScrollTop(element) {\n        const listHeight = this.getPopupHeight();\n        const nextElement = element.nextElementSibling;\n        const height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        const lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    }\n    setScrollTo() {\n        let element;\n        const items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n        if (items.length >= 0) {\n            this.scrollInvoked = true;\n            const initialTime = this.timeCollections[0];\n            const scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    }\n    setInputValue(type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            const tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        this.updateIconState();\n    }\n    getFullDateTime() {\n        let value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    }\n    createMask() {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    }\n    combineDateTime(value) {\n        if (this.isDateObject(value)) {\n            const day = this.previousDate.getDate();\n            const month = this.previousDate.getMonth();\n            const year = this.previousDate.getFullYear();\n            const hour = value.getHours();\n            const minutes = value.getMinutes();\n            const seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    }\n    onMouseClick(event) {\n        const target = event.target;\n        const li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n        if (li && li.classList.contains(LISTCLASS$2)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    }\n    setSelection(li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n            this.selectedElement = li;\n            const index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    }\n    setTimeActiveClass() {\n        const collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            const items = collections.querySelectorAll('.' + LISTCLASS$2);\n            if (items.length) {\n                for (let i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    setTimeActiveDescendant() {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    }\n    addTimeSelection() {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    }\n    removeTimeSelection() {\n        this.removeTimeHover(HOVER$2);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            const items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n            if (items.length) {\n                removeClass(items, ACTIVE$2);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    }\n    removeTimeHover(className) {\n        const hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    }\n    getTimeHoverItem(className) {\n        const collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        let hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    }\n    isValidLI(li) {\n        return (li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4));\n    }\n    calculateStartEnd(value, range, method) {\n        const day = value.getDate();\n        const month = value.getMonth();\n        const year = value.getFullYear();\n        const hours = value.getHours();\n        const minutes = value.getMinutes();\n        const seconds = value.getSeconds();\n        const milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    }\n    startTime(date) {\n        let tempStartValue;\n        let start;\n        const tempMin = this.min;\n        const value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    }\n    endTime(date) {\n        let tempEndValue;\n        let end;\n        const tempMax = this.max;\n        const value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    }\n    hide(e) {\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: this.popupObj || this.popupObject,\n                event: e || null\n            };\n            const eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, (eventArgs) => {\n                    this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    }\n    dateTimeCloseEventCallback(e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                super.hide(e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW$3);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    closePopup(e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            const animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION$1,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    }\n    preRender() {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        super.preRender();\n        removeClass([this.inputElementCopy], [ROOT$4]);\n    }\n    getProperty(date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    }\n    checkAttributes(isDynamic) {\n        const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        let value;\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            const enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    requiredModules() {\n        const modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push(this.maskedDateModule());\n        }\n        return modules;\n    }\n    maskedDateModule() {\n        let modules = { args: [this], member: 'MaskedDateTime' };\n        return modules;\n    }\n    getTimeActiveElement() {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n        }\n        else {\n            return null;\n        }\n    }\n    createDateObj(val) {\n        return val instanceof Date ? val : null;\n    }\n    getDateObject(text) {\n        if (!this.isNullOrEmpty(text)) {\n            const dateValue = this.createDateObj(text);\n            const value = this.valueWithMinutes;\n            const status = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                const date = status ? value.getDate() : DAY$1;\n                const month = status ? value.getMonth() : MONTH$3;\n                const year = status ? value.getFullYear() : YEAR$3;\n                const hour = status ? value.getHours() : HOUR;\n                const minute = status ? value.getMinutes() : MINUTE;\n                const second = status ? value.getSeconds() : SECOND;\n                const millisecond = status ? value.getMilliseconds() : MILLISECOND;\n                if (!this.scrollInvoked) {\n                    return new Date(year, month, date, hour, minute, second, millisecond);\n                }\n                else {\n                    this.scrollInvoked = false;\n                    return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n                }\n            }\n        }\n        return null;\n    }\n    findNextTimeElement(event) {\n        const textVal = (this.inputElement).value;\n        const value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        let dateTimeVal = null;\n        const listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (let i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (let i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    }\n    setTimeValue(date, value) {\n        let dateString;\n        let time;\n        const val = this.validateMinMaxRange(value);\n        const newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    }\n    timeElementValue(value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            const date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    }\n    timeKeyHandler(event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        const listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            let nextItemValue;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                let index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION$1);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    }\n    timeKeyActionHandle(event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    }\n    inputKeyAction(event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @deprecated\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    if (this.popupObj) {\n                        this.popupUpdate();\n                    }\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask && this.value) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    super.updateInput();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.maskedDateValue = '';\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                default:\n                    super.onPropertyChanged(newProp, oldProp);\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    }\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'datetimepicker';\n    }\n    restoreValue() {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    }\n};\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"timeFormat\", void 0);\n__decorate$4([\n    Property(30)\n], DateTimePicker.prototype, \"step\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"scrollTo\", void 0);\n__decorate$4([\n    Property(1000)\n], DateTimePicker.prototype, \"zIndex\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"value\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"keyConfigs\", void 0);\n__decorate$4([\n    Property({})\n], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"enablePersistence\", void 0);\n__decorate$4([\n    Property(true)\n], DateTimePicker.prototype, \"allowEdit\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"values\", void 0);\n__decorate$4([\n    Property(true)\n], DateTimePicker.prototype, \"showClearButton\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"placeholder\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"strictMode\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n__decorate$4([\n    Property(new Date(1900, 0, 1))\n], DateTimePicker.prototype, \"min\", void 0);\n__decorate$4([\n    Property(new Date(2099, 11, 31))\n], DateTimePicker.prototype, \"max\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n__decorate$4([\n    Property('Gregorian')\n], DateTimePicker.prototype, \"calendarMode\", void 0);\n__decorate$4([\n    Property('Month')\n], DateTimePicker.prototype, \"start\", void 0);\n__decorate$4([\n    Property('Month')\n], DateTimePicker.prototype, \"depth\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"weekNumber\", void 0);\n__decorate$4([\n    Property(true)\n], DateTimePicker.prototype, \"showTodayButton\", void 0);\n__decorate$4([\n    Property('Short')\n], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"openOnFocus\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"enableMask\", void 0);\n__decorate$4([\n    Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"open\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"close\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"cleared\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"blur\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"focus\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"created\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"destroyed\", void 0);\nDateTimePicker = __decorate$4([\n    NotifyPropertyChanges\n], DateTimePicker);\n\n/**\n * DateTimePicker modules\n */\n\nconst ARROWLEFT = 'ArrowLeft';\nconst ARROWRIGHT = 'ArrowRight';\nconst ARROWUP = 'ArrowUp';\nconst ARROWDOWN = 'ArrowDown';\nconst TAB = 'Tab';\nconst SHIFTTAB = 'shiftTab';\nconst END = 'End';\nconst HOME = 'Home';\nclass MaskedDateTime {\n    constructor(parent) {\n        this.mask = '';\n        this.defaultConstant = {\n            day: 'day',\n            month: 'month',\n            year: 'year',\n            hour: 'hour',\n            minute: 'minute',\n            second: 'second',\n            dayOfTheWeek: 'day of the week',\n        };\n        this.hiddenMask = '';\n        this.validCharacters = 'dMyhmHfasz';\n        this.isDayPart = false;\n        this.isMonthPart = false;\n        this.isYearPart = false;\n        this.isHourPart = false;\n        this.isMinutePart = false;\n        this.isSecondsPart = false;\n        this.isMilliSecondsPart = false;\n        this.monthCharacter = '';\n        this.periodCharacter = '';\n        this.isHiddenMask = false;\n        this.isComplete = false;\n        this.isNavigate = false;\n        this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n        this.isDeletion = false;\n        this.isShortYear = false;\n        this.isDeleteKey = false;\n        this.isDateZero = false;\n        this.isMonthZero = false;\n        this.isYearZero = false;\n        this.dayTypeCount = 0;\n        this.monthTypeCount = 0;\n        this.parent = parent;\n        this.dateformat = this.getCulturedFormat();\n        this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n        this.maskDateValue.setMonth(0);\n        this.maskDateValue.setHours(0);\n        this.maskDateValue.setMinutes(0);\n        this.maskDateValue.setSeconds(0);\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    getModuleName() {\n        return 'MaskedDateTime';\n    }\n    addEventListener() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('createMask', this.createMask, this);\n        this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n        this.parent.on('inputHandler', this.maskInputHandler, this);\n        this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n        this.parent.on('clearHandler', this.clearHandler, this);\n    }\n    removeEventListener() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('createMask', this.createMask);\n        this.parent.off('setMaskSelection', this.validCharacterCheck);\n        this.parent.off('inputHandler', this.maskInputHandler);\n        this.parent.off('keyDownHandler', this.maskKeydownHandler);\n        this.parent.off('clearHandler', this.clearHandler);\n    }\n    createMask(dateformat) {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.dateformat = this.getCulturedFormat();\n        if (this.parent.maskPlaceholder.day)\n            this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n        if (this.parent.maskPlaceholder.month)\n            this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n        if (this.parent.maskPlaceholder.year)\n            this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n        if (this.parent.maskPlaceholder.hour)\n            this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n        if (this.parent.maskPlaceholder.minute)\n            this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n        if (this.parent.maskPlaceholder.second)\n            this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n        if (this.parent.maskPlaceholder.dayOfTheWeek)\n            this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n        this.getCUltureMaskFormat();\n        let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.mask = this.previousValue = inputValue;\n        this.parent.maskedDateValue = this.mask;\n        if (this.parent.value) {\n            this.setDynamicValue();\n        }\n    }\n    getCUltureMaskFormat() {\n        this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n        this.objectString = Object.keys(this.defaultConstant);\n        for (let i = 0; i < this.objectString.length; i++) {\n            this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n        }\n    }\n    validCharacterCheck() {\n        let start = this.parent.inputElement.selectionStart;\n        for (let i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n            if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n                this.setSelection(this.hiddenMask[i]);\n                return;\n            }\n            if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n                this.setSelection(this.hiddenMask[j]);\n                return;\n            }\n        }\n    }\n    setDynamicValue() {\n        this.maskDateValue = this.parent.value;\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n        this.updateValue();\n        // this.parent.inputElement.selectionStart = start;\n        // this.validCharacterCheck();\n    }\n    setSelection(validChar) {\n        let start = -1;\n        let end = 0;\n        for (let i = 0; i < this.hiddenMask.length; i++) {\n            if (this.hiddenMask[i] === validChar) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        this.parent.inputElement.setSelectionRange(start, end);\n    }\n    maskKeydownHandler(args) {\n        if (args.e.key === 'Delete') {\n            this.isDeleteKey = true;\n            return;\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB ||\n            args.e.key === END || args.e.key === HOME)) {\n            let start = this.parent.inputElement.selectionStart;\n            let end = this.parent.inputElement.selectionEnd;\n            let length = this.parent.inputElement.value.length;\n            if ((start == 0 && end == length) && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n                let index = args.e.action === SHIFTTAB ? end : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n            }\n            if (args.e.key === END || args.e.key === HOME) {\n                let range = args.e.key === END ? length : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n            }\n            this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n            let start = this.parent.inputElement.selectionStart;\n            this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n            let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = true;\n            this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = false;\n            this.previousHiddenMask = this.hiddenMask;\n            this.previousValue = inputValue;\n            this.parent.inputElement.value = inputValue;\n            this.parent.inputElement.selectionStart = start;\n            this.validCharacterCheck();\n        }\n    }\n    differenceCheck() {\n        let start = this.parent.inputElement.selectionStart;\n        let inputValue = this.parent.inputElement.value;\n        let previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n        let newVal = inputValue.substring(0, start);\n        let newDateValue = this.maskDateValue;\n        let maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n        if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n            for (let i = newVal.length; i < previousVal.length; i++) {\n                if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n                    this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n                }\n            }\n            if (this.isDeletion) {\n                return;\n            }\n        }\n        switch (this.previousHiddenMask[start - 1]) {\n            case 'd':\n                let date = (this.isDayPart && newDateValue.getDate().toString().length < 2 ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.isDateZero = (newVal[start - 1] == '0');\n                if (isNaN(date)) {\n                    return;\n                }\n                for (let i = 0; date > maxDate; i++) {\n                    date = parseInt(date.toString().slice(1), 10);\n                }\n                if (date >= 1) {\n                    newDateValue.setDate(date);\n                    this.isNavigate = date.toString().length === 2;\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n                        return;\n                    }\n                    this.isDayPart = true;\n                    this.dayTypeCount = this.dayTypeCount + 1;\n                }\n                else {\n                    this.isDayPart = false;\n                    this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n                }\n                break;\n            case 'M':\n                let month;\n                if (newDateValue.getMonth().toString().length < 2) {\n                    month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                }\n                else {\n                    month = parseInt(newVal[start - 1], 10);\n                }\n                this.isMonthZero = (newVal[start - 1] == '0');\n                if (!isNaN(month)) {\n                    while (month > 12) {\n                        month = parseInt(month.toString().slice(1), 10);\n                    }\n                    if (month >= 1) {\n                        newDateValue.setMonth(month - 1);\n                        this.isNavigate = month.toString().length === 2;\n                        if (newDateValue.getMonth() !== month - 1) {\n                            newDateValue.setDate(1);\n                            newDateValue.setMonth(month - 1);\n                        }\n                        if (this.isDayPart) {\n                            let previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                            let currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                            if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                                newDateValue.setDate(currentMaxDate);\n                            }\n                        }\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        this.isMonthPart = true;\n                        this.monthTypeCount = this.monthTypeCount + 1;\n                    }\n                    else {\n                        newDateValue.setMonth(0);\n                        this.isMonthPart = false;\n                        this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n                    }\n                }\n                else { // let monthString: string[] = <string[]>(getValue('months[stand-alone].wide', getDefaultDateObject()));\n                    let monthString = (this.getCulturedValue('months[stand-alone].wide'));\n                    let monthValue = Object.keys(monthString);\n                    this.monthCharacter += newVal[start - 1].toLowerCase();\n                    while (this.monthCharacter.length > 0) {\n                        let i = 1;\n                        for (let months of monthValue) {\n                            if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                                newDateValue.setMonth(i - 1);\n                                this.isMonthPart = true;\n                                this.maskDateValue = newDateValue;\n                                return;\n                            }\n                            i++;\n                        }\n                        this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n                    }\n                }\n                break;\n            case 'y':\n                let year = (this.isYearPart && (newDateValue.getFullYear().toString().length < 4 && !this.isShortYear) ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.isShortYear = false;\n                this.isYearZero = (newVal[start - 1] == '0');\n                if (isNaN(year)) {\n                    return;\n                }\n                while (year > 9999) {\n                    year = parseInt(year.toString().slice(1), 10);\n                }\n                if (year < 1) {\n                    this.isYearPart = false;\n                }\n                else {\n                    newDateValue.setFullYear(year);\n                    if (year.toString().length === 4) {\n                        this.isNavigate = true;\n                    }\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    this.isYearPart = true;\n                }\n                break;\n            case 'h':\n                this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                while (this.hour > 12) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + (this.hour % 12));\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                break;\n            case 'H':\n                this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                for (let i = 0; this.hour > 23; i++) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(this.hour);\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                break;\n            case 'm':\n                let minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                if (isNaN(minutes)) {\n                    return;\n                }\n                for (let i = 0; minutes > 59; i++) {\n                    minutes = parseInt(minutes.toString().slice(1), 10);\n                }\n                newDateValue.setMinutes(minutes);\n                this.isNavigate = minutes.toString().length === 2;\n                this.isMinutePart = true;\n                break;\n            case 's':\n                let seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                if (isNaN(seconds)) {\n                    return;\n                }\n                for (let i = 0; seconds > 59; i++) {\n                    seconds = parseInt(seconds.toString().slice(1), 10);\n                }\n                newDateValue.setSeconds(seconds);\n                this.isNavigate = seconds.toString().length === 2;\n                this.isSecondsPart = true;\n                break;\n            case 'a':\n                this.periodCharacter += newVal[start - 1].toLowerCase();\n                // let periodString: string[] = <string[]>(getValue('dayPeriods.format.wide', getDefaultDateObject()));;\n                let periodString = (this.getCulturedValue('dayPeriods.format.wide'));\n                let periodkeys = Object.keys(periodString);\n                //periodString[periodkeys[0]] : periodString[periodkeys[1]] : periodString[periodkeys[0]];\n                for (let i = 0; this.periodCharacter.length > 0; i++) {\n                    if ((periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12) || (periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12)) {\n                        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                        this.maskDateValue = newDateValue;\n                    }\n                    this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n                    // Object.values()\n                }\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue;\n    }\n    formatCheck() {\n        const proxy = this;\n        function formatValueSpecifier(formattext) {\n            let result;\n            let daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n            let dayKeyAbbreviated = Object.keys(daysAbbreviated);\n            let daysWide = (proxy.getCulturedValue('days[stand-alone].wide'));\n            let dayKeyWide = Object.keys(daysWide);\n            let daysNarrow = (proxy.getCulturedValue('days[stand-alone].narrow'));\n            let dayKeyNarrow = Object.keys(daysNarrow);\n            let monthAbbreviated = (proxy.getCulturedValue('months[stand-alone].abbreviated'));\n            let monthWide = (proxy.getCulturedValue('months[stand-alone].wide'));\n            let periodString = (proxy.getCulturedValue('dayPeriods.format.wide'));\n            let periodkeys = Object.keys(periodString);\n            let milliseconds;\n            let dateOptions;\n            switch (formattext) {\n                case 'ddd':\n                case 'dddd':\n                case 'd':\n                    result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    break;\n                case 'dd':\n                    result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'E':\n                case 'EE':\n                case 'EEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'M':\n                    result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    break;\n                case 'MM':\n                    result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MMM':\n                    result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'MMMM':\n                    result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'yy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    if (proxy.isYearPart) {\n                        proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n                    }\n                    break;\n                case 'y':\n                case 'yyyy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    break;\n                case 'h':\n                    result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n                    break;\n                case 'hh':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n                    break;\n                case 'H':\n                    result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n                    break;\n                case 'HH':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n                    break;\n                case 'm':\n                    result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n                    break;\n                case 'mm':\n                    result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n                    break;\n                case 's':\n                    result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n                    break;\n                case 'ss':\n                    result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n                    break;\n                case 'f':\n                    result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n                    break;\n                case 'ff':\n                    milliseconds = proxy.maskDateValue.getMilliseconds();\n                    if (proxy.maskDateValue.getMilliseconds() > 99) {\n                        milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n                    }\n                    result = proxy.roundOff(milliseconds, 2);\n                    break;\n                case 'fff':\n                    result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n                    break;\n                case 'a':\n                case 'aa':\n                    result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n                    break;\n                case 'z':\n                case 'zz':\n                case 'zzz':\n                case 'zzzz':\n                    dateOptions = {\n                        format: formattext,\n                        type: 'dateTime', skeleton: 'yMd', calendar: proxy.parent.calendarMode\n                    };\n                    result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n                    break;\n            }\n            result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n            if (proxy.isHiddenMask) {\n                let hiddenChar = '';\n                for (let i = 0; i < result.length; i++) {\n                    hiddenChar += formattext[0];\n                }\n                return hiddenChar;\n            }\n            else {\n                return result;\n            }\n        }\n        return formatValueSpecifier;\n    }\n    maskInputHandler() {\n        let start = this.parent.inputElement.selectionStart;\n        let selectionChar = this.previousHiddenMask[start - 1];\n        let inputValue;\n        this.differenceCheck();\n        inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isDateZero = this.isMonthZero = this.isYearZero = false;\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.inputElement.value = inputValue;\n        this.parent.inputElement.selectionStart = start;\n        this.validCharacterCheck();\n        if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n            let isbackward = this.isNavigate ? false : true;\n            this.isNavigate = this.isDeletion = false;\n            this.navigateSelection(isbackward);\n        }\n        this.isDeleteKey = false;\n        // this.setSelection(selectionChar);\n        // this.navigateSelection(inputValue);\n    }\n    navigateSelection(isbackward) {\n        let start = this.parent.inputElement.selectionStart;\n        let end = this.parent.inputElement.selectionEnd;\n        let formatIndex = isbackward ? start - 1 : end + 1;\n        while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n            if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n                this.setSelection(this.hiddenMask[formatIndex]);\n                break;\n            }\n            formatIndex = formatIndex + (isbackward ? -1 : 1);\n        }\n    }\n    roundOff(val, count) {\n        let valueText = val.toString();\n        let length = count - valueText.length;\n        let result = '';\n        for (let i = 0; i < length; i++) {\n            result += '0';\n        }\n        return result + valueText;\n    }\n    zeroCheck(isZero, isDayPart, resultValue) {\n        let result = resultValue;\n        if (isZero && !isDayPart) {\n            result = '0';\n        }\n        return result;\n    }\n    handleDeletion(format, isSegment) {\n        switch (format) {\n            case 'd':\n                this.isDayPart = isSegment;\n                break;\n            case 'M':\n                this.isMonthPart = isSegment;\n                if (!isSegment) {\n                    this.maskDateValue.setMonth(0);\n                    this.monthCharacter = '';\n                }\n                break;\n            case 'y':\n                this.isYearPart = isSegment;\n                break;\n            case 'H':\n            case 'h':\n                this.isHourPart = isSegment;\n                if (!isSegment) {\n                    this.periodCharacter = '';\n                }\n                break;\n            case 'm':\n                this.isMinutePart = isSegment;\n                break;\n            case 's':\n                this.isSecondsPart = isSegment;\n                break;\n            default:\n                return false;\n        }\n        return true;\n    }\n    dateAlteration(isDecrement) {\n        let start = this.parent.inputElement.selectionStart;\n        let formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        else {\n            return;\n        }\n        let newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        let incrementValue = isDecrement ? -1 : 1;\n        switch (formatText) {\n            case 'd':\n                newDateValue.setDate(newDateValue.getDate() + incrementValue);\n                break;\n            case 'M':\n                let newMonth = newDateValue.getMonth() + incrementValue;\n                newDateValue.setDate(1);\n                newDateValue.setMonth(newMonth);\n                if (this.isDayPart) {\n                    let previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                    let currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                    if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                        newDateValue.setDate(currentMaxDate);\n                    }\n                    else {\n                        newDateValue.setDate(this.previousDate.getDate());\n                    }\n                }\n                else {\n                    newDateValue.setDate(this.previousDate.getDate());\n                }\n                this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                break;\n            case 'y':\n                newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n                break;\n            case 'H':\n            case 'h':\n                newDateValue.setHours(newDateValue.getHours() + incrementValue);\n                break;\n            case 'm':\n                newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n                break;\n            case 's':\n                newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n                break;\n            case 'a':\n                newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            this.handleDeletion(this.hiddenMask[start], true);\n        }\n    }\n    getCulturedValue(format) {\n        let locale = this.parent.locale;\n        let result;\n        if (locale === 'en' || locale === 'en-US') {\n            result = getValue(format, getDefaultDateObject());\n        }\n        else {\n            result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n        }\n        return result;\n    }\n    getCulturedFormat() {\n        let formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n        if (this.parent.moduleName == 'datepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.format && this.parent.formatString) {\n                formatString = this.parent.formatString;\n            }\n        }\n        if (this.parent.moduleName == 'datetimepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.dateTimeFormat) {\n                formatString = this.parent.dateTimeFormat;\n            }\n        }\n        if (this.parent.moduleName == 'timepicker') {\n            formatString = this.parent.cldrTimeFormat();\n        }\n        return formatString;\n    }\n    clearHandler() {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.updateValue();\n    }\n    updateValue() {\n        this.monthCharacter = this.periodCharacter = '';\n        let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.updateInputValue(inputValue);\n        //this.parent.inputElement.value = inputValue;\n    }\n    destroy() {\n        this.removeEventListener();\n    }\n}\n\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\nexport { MaskPlaceholder, CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };\n"]},"metadata":{},"sourceType":"module"}